var fv=Object.defineProperty;var pv=(et,$,_e)=>$ in et?fv(et,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):et[$]=_e;var ro=(et,$,_e)=>(pv(et,typeof $!="symbol"?$+"":$,_e),_e),Kp=(et,$,_e)=>{if(!$.has(et))throw TypeError("Cannot "+_e)};var an=(et,$,_e)=>(Kp(et,$,"read from private field"),_e?_e.call(et):$.get(et)),Zn=(et,$,_e)=>{if($.has(et))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(et):$.set(et,_e)},dr=(et,$,_e,tt)=>(Kp(et,$,"write to private field"),tt?tt.call(et,_e):$.set(et,_e),_e),Jp=(et,$,_e,tt)=>({set _(nt){dr(et,$,nt,_e)},get _(){return an(et,$,tt)}}),nr=(et,$,_e)=>(Kp(et,$,"access private method"),_e);function _mergeNamespaces(et,$){for(var _e=0;_e<$.length;_e++){const tt=$[_e];if(typeof tt!="string"&&!Array.isArray(tt)){for(const nt in tt)if(nt!=="default"&&!(nt in et)){const rt=Object.getOwnPropertyDescriptor(tt,nt);rt&&Object.defineProperty(et,nt,rt.get?rt:{enumerable:!0,get:()=>tt[nt]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function _e(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerPolicy&&(rt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?rt.credentials="include":nt.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=_e(nt);fetch(nt.href,rt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){if(et.__esModule)return et;var $=et.default;if(typeof $=="function"){var _e=function tt(){if(this instanceof tt){var nt=[null];nt.push.apply(nt,arguments);var rt=Function.bind.apply($,nt);return new rt}return $.apply(this,arguments)};_e.prototype=$.prototype}else _e={};return Object.defineProperty(_e,"__esModule",{value:!0}),Object.keys(et).forEach(function(tt){var nt=Object.getOwnPropertyDescriptor(et,tt);Object.defineProperty(_e,tt,nt.get?nt:{enumerable:!0,get:function(){return et[tt]}})}),_e}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(et){jsxRuntimeExports=et}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(et){reactExports=et}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$f=Symbol.for("react.element"),n$g=Symbol.for("react.portal"),p$a=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$f=Symbol.for("react.profiler"),t$f=Symbol.for("react.provider"),u$e=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$1(et){return et===null||typeof et!="object"?null:(et=z$2&&et[z$2]||et["@@iterator"],typeof et=="function"?et:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$6=Object.assign,D$2={};function E$7(et,$,_e){this.props=et,this.context=$,this.refs=D$2,this.updater=_e||B$1}E$7.prototype.isReactComponent={};E$7.prototype.setState=function(et,$){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,$,"setState")};E$7.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$1(){}F$1.prototype=E$7.prototype;function G$1(et,$,_e){this.props=et,this.context=$,this.refs=D$2,this.updater=_e||B$1}var H$1=G$1.prototype=new F$1;H$1.constructor=G$1;C$6(H$1,E$7.prototype);H$1.isPureReactComponent=!0;var I$4=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(et,$,_e){var tt,nt={},rt=null,it=null;if($!=null)for(tt in $.ref!==void 0&&(it=$.ref),$.key!==void 0&&(rt=""+$.key),$)J.call($,tt)&&!L$2.hasOwnProperty(tt)&&(nt[tt]=$[tt]);var st=arguments.length-2;if(st===1)nt.children=_e;else if(1<st){for(var ot=Array(st),at=0;at<st;at++)ot[at]=arguments[at+2];nt.children=ot}if(et&&et.defaultProps)for(tt in st=et.defaultProps,st)nt[tt]===void 0&&(nt[tt]=st[tt]);return{$$typeof:l$f,type:et,key:rt,ref:it,props:nt,_owner:K$1.current}}function N$2(et,$){return{$$typeof:l$f,type:et.type,key:$,ref:et.ref,props:et.props,_owner:et._owner}}function O$1(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$f}function escape$1(et){var $={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(_e){return $[_e]})}var P$4=/\/+/g;function Q$1(et,$){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):$.toString(36)}function R$1(et,$,_e,tt,nt){var rt=typeof et;(rt==="undefined"||rt==="boolean")&&(et=null);var it=!1;if(et===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch(et.$$typeof){case l$f:case n$g:it=!0}}if(it)return it=et,nt=nt(it),et=tt===""?"."+Q$1(it,0):tt,I$4(nt)?(_e="",et!=null&&(_e=et.replace(P$4,"$&/")+"/"),R$1(nt,$,_e,"",function(at){return at})):nt!=null&&(O$1(nt)&&(nt=N$2(nt,_e+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$4,"$&/")+"/")+et)),$.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$4(et))for(var st=0;st<et.length;st++){rt=et[st];var ot=tt+Q$1(rt,st);it+=R$1(rt,$,_e,ot,nt)}else if(ot=A$1(et),typeof ot=="function")for(et=ot.call(et),st=0;!(rt=et.next()).done;)rt=rt.value,ot=tt+Q$1(rt,st++),it+=R$1(rt,$,_e,ot,nt);else if(rt==="object")throw $=String(et),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return it}function S$6(et,$,_e){if(et==null)return et;var tt=[],nt=0;return R$1(et,tt,"","",function(rt){return $.call(_e,rt,nt++)}),tt}function T$2(et){if(et._status===-1){var $=et._result;$=$(),$.then(function(_e){(et._status===0||et._status===-1)&&(et._status=1,et._result=_e)},function(_e){(et._status===0||et._status===-1)&&(et._status=2,et._result=_e)}),et._status===-1&&(et._status=0,et._result=$)}if(et._status===1)return et._result.default;throw et._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$6,forEach:function(et,$,_e){S$6(et,function(){$.apply(this,arguments)},_e)},count:function(et){var $=0;return S$6(et,function(){$++}),$},toArray:function(et){return S$6(et,function($){return $})||[]},only:function(et){if(!O$1(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$7;react_production_min.Fragment=p$a;react_production_min.Profiler=r$f;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(et,$,_e){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var tt=C$6({},et.props),nt=et.key,rt=et.ref,it=et._owner;if($!=null){if($.ref!==void 0&&(rt=$.ref,it=K$1.current),$.key!==void 0&&(nt=""+$.key),et.type&&et.type.defaultProps)var st=et.type.defaultProps;for(ot in $)J.call($,ot)&&!L$2.hasOwnProperty(ot)&&(tt[ot]=$[ot]===void 0&&st!==void 0?st[ot]:$[ot])}var ot=arguments.length-2;if(ot===1)tt.children=_e;else if(1<ot){st=Array(ot);for(var at=0;at<ot;at++)st[at]=arguments[at+2];tt.children=st}return{$$typeof:l$f,type:et.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function(et){return et={$$typeof:u$e,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$f,_context:et},et.Consumer=et};react_production_min.createElement=M$4;react_production_min.createFactory=function(et){var $=M$4.bind(null,et);return $.type=et,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$7,render:et}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(et){return{$$typeof:y$2,_payload:{_status:-1,_result:et},_init:T$2}};react_production_min.memo=function(et,$){return{$$typeof:x$2,type:et,compare:$===void 0?null:$}};react_production_min.startTransition=function(et){var $=V$1.transition;V$1.transition={};try{et()}finally{V$1.transition=$}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,$){return U$1.current.useCallback(et,$)};react_production_min.useContext=function(et){return U$1.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$1.current.useDeferredValue(et)};react_production_min.useEffect=function(et,$){return U$1.current.useEffect(et,$)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(et,$,_e){return U$1.current.useImperativeHandle(et,$,_e)};react_production_min.useInsertionEffect=function(et,$){return U$1.current.useInsertionEffect(et,$)};react_production_min.useLayoutEffect=function(et,$){return U$1.current.useLayoutEffect(et,$)};react_production_min.useMemo=function(et,$){return U$1.current.useMemo(et,$)};react_production_min.useReducer=function(et,$,_e){return U$1.current.useReducer(et,$,_e)};react_production_min.useRef=function(et){return U$1.current.useRef(et)};react_production_min.useState=function(et){return U$1.current.useState(et)};react_production_min.useSyncExternalStore=function(et,$,_e){return U$1.current.useSyncExternalStore(et,$,_e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(et){et.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$a=reactExports,k$4=Symbol.for("react.element"),l$e=Symbol.for("react.fragment"),m$b=Object.prototype.hasOwnProperty,n$f=f$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$9={key:!0,ref:!0,__self:!0,__source:!0};function q(et,$,_e){var tt,nt={},rt=null,it=null;_e!==void 0&&(rt=""+_e),$.key!==void 0&&(rt=""+$.key),$.ref!==void 0&&(it=$.ref);for(tt in $)m$b.call($,tt)&&!p$9.hasOwnProperty(tt)&&(nt[tt]=$[tt]);if(et&&et.defaultProps)for(tt in $=et.defaultProps,$)nt[tt]===void 0&&(nt[tt]=$[tt]);return{$$typeof:k$4,type:et,key:rt,ref:it,props:nt,_owner:n$f.current}}reactJsxRuntime_production_min.Fragment=l$e;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;(function(et){et.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(et){reactDomExports=et}},reactDom_production_min={},schedulerExports$2={},scheduler$2={get exports(){return schedulerExports$2},set exports(et){schedulerExports$2=et}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function $(Dt,qt){var Jt=Dt.length;Dt.push(qt);e:for(;0<Jt;){var on=Jt-1>>>1,tn=Dt[on];if(0<nt(tn,qt))Dt[on]=qt,Dt[Jt]=tn,Jt=on;else break e}}function _e(Dt){return Dt.length===0?null:Dt[0]}function tt(Dt){if(Dt.length===0)return null;var qt=Dt[0],Jt=Dt.pop();if(Jt!==qt){Dt[0]=Jt;e:for(var on=0,tn=Dt.length,yn=tn>>>1;on<yn;){var Yt=2*(on+1)-1,kt=Dt[Yt],Bt=Yt+1,Ht=Dt[Bt];if(0>nt(kt,Jt))Bt<tn&&0>nt(Ht,kt)?(Dt[on]=Ht,Dt[Bt]=Jt,on=Bt):(Dt[on]=kt,Dt[Yt]=Jt,on=Yt);else if(Bt<tn&&0>nt(Ht,Jt))Dt[on]=Ht,Dt[Bt]=Jt,on=Bt;else break e}}return qt}function nt(Dt,qt){var Jt=Dt.sortIndex-qt.sortIndex;return Jt!==0?Jt:Dt.id-qt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;et.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();et.unstable_now=function(){return it.now()-st}}var ot=[],at=[],lt=1,dt=null,ct=3,pt=!1,mt=!1,ht=!1,gt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Dt){for(var qt=_e(at);qt!==null;){if(qt.callback===null)tt(at);else if(qt.startTime<=Dt)tt(at),qt.sortIndex=qt.expirationTime,$(ot,qt);else break;qt=_e(at)}}function xt(Dt){if(ht=!1,yt(Dt),!mt)if(_e(ot)!==null)mt=!0,Ut(At);else{var qt=_e(at);qt!==null&&Qt(xt,qt.startTime-Dt)}}function At(Dt,qt){mt=!1,ht&&(ht=!1,vt(bt),bt=-1),pt=!0;var Jt=ct;try{for(yt(qt),dt=_e(ot);dt!==null&&(!(dt.expirationTime>qt)||Dt&&!Ft());){var on=dt.callback;if(typeof on=="function"){dt.callback=null,ct=dt.priorityLevel;var tn=on(dt.expirationTime<=qt);qt=et.unstable_now(),typeof tn=="function"?dt.callback=tn:dt===_e(ot)&&tt(ot),yt(qt)}else tt(ot);dt=_e(ot)}if(dt!==null)var yn=!0;else{var Yt=_e(at);Yt!==null&&Qt(xt,Yt.startTime-qt),yn=!1}return yn}finally{dt=null,ct=Jt,pt=!1}}var Ct=!1,Pt=null,bt=-1,Mt=5,Tt=-1;function Ft(){return!(et.unstable_now()-Tt<Mt)}function Gt(){if(Pt!==null){var Dt=et.unstable_now();Tt=Dt;var qt=!0;try{qt=Pt(!0,Dt)}finally{qt?Wt():(Ct=!1,Pt=null)}}else Ct=!1}var Wt;if(typeof _t=="function")Wt=function(){_t(Gt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Kt=It.port2;It.port1.onmessage=Gt,Wt=function(){Kt.postMessage(null)}}else Wt=function(){gt(Gt,0)};function Ut(Dt){Pt=Dt,Ct||(Ct=!0,Wt())}function Qt(Dt,qt){bt=gt(function(){Dt(et.unstable_now())},qt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Dt){Dt.callback=null},et.unstable_continueExecution=function(){mt||pt||(mt=!0,Ut(At))},et.unstable_forceFrameRate=function(Dt){0>Dt||125<Dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mt=0<Dt?Math.floor(1e3/Dt):5},et.unstable_getCurrentPriorityLevel=function(){return ct},et.unstable_getFirstCallbackNode=function(){return _e(ot)},et.unstable_next=function(Dt){switch(ct){case 1:case 2:case 3:var qt=3;break;default:qt=ct}var Jt=ct;ct=qt;try{return Dt()}finally{ct=Jt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Dt,qt){switch(Dt){case 1:case 2:case 3:case 4:case 5:break;default:Dt=3}var Jt=ct;ct=Dt;try{return qt()}finally{ct=Jt}},et.unstable_scheduleCallback=function(Dt,qt,Jt){var on=et.unstable_now();switch(typeof Jt=="object"&&Jt!==null?(Jt=Jt.delay,Jt=typeof Jt=="number"&&0<Jt?on+Jt:on):Jt=on,Dt){case 1:var tn=-1;break;case 2:tn=250;break;case 5:tn=1073741823;break;case 4:tn=1e4;break;default:tn=5e3}return tn=Jt+tn,Dt={id:lt++,callback:qt,priorityLevel:Dt,startTime:Jt,expirationTime:tn,sortIndex:-1},Jt>on?(Dt.sortIndex=Jt,$(at,Dt),_e(ot)===null&&Dt===_e(at)&&(ht?(vt(bt),bt=-1):ht=!0,Qt(xt,Jt-on))):(Dt.sortIndex=tn,$(ot,Dt),mt||pt||(mt=!0,Ut(At))),Dt},et.unstable_shouldYield=Ft,et.unstable_wrapCallback=function(Dt){var qt=ct;return function(){var Jt=ct;ct=qt;try{return Dt.apply(this,arguments)}finally{ct=Jt}}}})(scheduler_production_min$2);(function(et){et.exports=scheduler_production_min$2})(scheduler$2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$2;function p$8(et){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+et,_e=1;_e<arguments.length;_e++)$+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+et+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,$){ha(et,$),ha(et+"Capture",$)}function ha(et,$){for(ea[et]=$,et=0;et<$.length;et++)da.add($[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,$,_e,tt){if(_e!==null&&_e.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return tt?!1:_e!==null?!_e.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,$,_e,tt){if($===null||typeof $>"u"||pa(et,$,_e,tt))return!0;if(tt)return!1;if(_e!==null)switch(_e.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$6(et,$,_e,tt,nt,rt,it){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=_e,this.propertyName=et,this.type=$,this.sanitizeURL=rt,this.removeEmptyString=it}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$1[et]=new v$6(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var $=et[0];z$1[$]=new v$6($,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$1[et]=new v$6(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$1[et]=new v$6(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$1[et]=new v$6(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$1[et]=new v$6(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$1[et]=new v$6(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$1[et]=new v$6(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$1[et]=new v$6(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var $=et.replace(ra,sa);z$1[$]=new v$6($,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var $=et.replace(ra,sa);z$1[$]=new v$6($,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var $=et.replace(ra,sa);z$1[$]=new v$6($,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$1[et]=new v$6(et,1,!1,et.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$1[et]=new v$6(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,$,_e,tt){var nt=z$1.hasOwnProperty($)?z$1[$]:null;(nt!==null?nt.type!==0:tt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,_e,nt,tt)&&(_e=null),tt||nt===null?oa($)&&(_e===null?et.removeAttribute($):et.setAttribute($,""+_e)):nt.mustUseProperty?et[nt.propertyName]=_e===null?nt.type===3?!1:"":_e:($=nt.attributeName,tt=nt.attributeNamespace,_e===null?et.removeAttribute($):(nt=nt.type,_e=nt===3||nt===4&&_e===!0?"":""+_e,tt?et.setAttributeNS(tt,$,_e):et.setAttribute($,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(_e){var $=_e.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+et}var Na=!1;function Oa(et,$){if(!et||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(at){var tt=at}Reflect.construct(et,[],$)}else{try{$.call()}catch(at){tt=at}et.call($.prototype)}else{try{throw Error()}catch(at){tt=at}et()}}catch(at){if(at&&tt&&typeof at.stack=="string"){for(var nt=at.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,st=rt.length-1;1<=it&&0<=st&&nt[it]!==rt[st];)st--;for(;1<=it&&0<=st;it--,st--)if(nt[it]!==rt[st]){if(it!==1||st!==1)do if(it--,st--,0>st||nt[it]!==rt[st]){var ot=`
`+nt[it].replace(" at new "," at ");return et.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",et.displayName)),ot}while(1<=it&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var $=et.render;return et=et.displayName,et||(et=$.displayName||$.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return $=et.displayName||null,$!==null?$:Qa(et.type)||"Memo";case Ha:$=et._payload,et=et._init;try{return Qa(et($))}catch{}}return null}function Ra(et){var $=et.type;switch(et.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=$.render,et=et.displayName||et.name||"",$.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var $=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(et){var $=Ta(et)?"checked":"value",_e=Object.getOwnPropertyDescriptor(et.constructor.prototype,$),tt=""+et[$];if(!et.hasOwnProperty($)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var nt=_e.get,rt=_e.set;return Object.defineProperty(et,$,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty(et,$,{enumerable:_e.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){et._valueTracker=null,delete et[$]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var $=et._valueTracker;if(!$)return!0;var _e=$.getValue(),tt="";return et&&(tt=Ta(et)?et.checked?"true":"false":et.value),et=tt,et!==_e?($.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,$){var _e=$.checked;return A({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e??et._wrapperState.initialChecked})}function Za(et,$){var _e=$.defaultValue==null?"":$.defaultValue,tt=$.checked!=null?$.checked:$.defaultChecked;_e=Sa($.value!=null?$.value:_e),et._wrapperState={initialChecked:tt,initialValue:_e,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(et,$){$=$.checked,$!=null&&ta(et,"checked",$,!1)}function bb(et,$){ab(et,$);var _e=Sa($.value),tt=$.type;if(_e!=null)tt==="number"?(_e===0&&et.value===""||et.value!=_e)&&(et.value=""+_e):et.value!==""+_e&&(et.value=""+_e);else if(tt==="submit"||tt==="reset"){et.removeAttribute("value");return}$.hasOwnProperty("value")?cb(et,$.type,_e):$.hasOwnProperty("defaultValue")&&cb(et,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(et.defaultChecked=!!$.defaultChecked)}function db(et,$,_e){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var tt=$.type;if(!(tt!=="submit"&&tt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+et._wrapperState.initialValue,_e||$===et.value||(et.value=$),et.defaultValue=$}_e=et.name,_e!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,_e!==""&&(et.name=_e)}function cb(et,$,_e){($!=="number"||Xa(et.ownerDocument)!==et)&&(_e==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+_e&&(et.defaultValue=""+_e))}var eb=Array.isArray;function fb(et,$,_e,tt){if(et=et.options,$){$={};for(var nt=0;nt<_e.length;nt++)$["$"+_e[nt]]=!0;for(_e=0;_e<et.length;_e++)nt=$.hasOwnProperty("$"+et[_e].value),et[_e].selected!==nt&&(et[_e].selected=nt),nt&&tt&&(et[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),$=null,nt=0;nt<et.length;nt++){if(et[nt].value===_e){et[nt].selected=!0,tt&&(et[nt].defaultSelected=!0);return}$!==null||et[nt].disabled||($=et[nt])}$!==null&&($.selected=!0)}}function gb(et,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$8(91));return A({},$,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,$){var _e=$.value;if(_e==null){if(_e=$.children,$=$.defaultValue,_e!=null){if($!=null)throw Error(p$8(92));if(eb(_e)){if(1<_e.length)throw Error(p$8(93));_e=_e[0]}$=_e}$==null&&($=""),_e=$}et._wrapperState={initialValue:Sa(_e)}}function ib(et,$){var _e=Sa($.value),tt=Sa($.defaultValue);_e!=null&&(_e=""+_e,_e!==et.value&&(et.value=_e),$.defaultValue==null&&et.defaultValue!==_e&&(et.defaultValue=_e)),tt!=null&&(et.defaultValue=""+tt)}function jb(et){var $=et.textContent;$===et._wrapperState.initialValue&&$!==""&&$!==null&&(et.value=$)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,$){return et==null||et==="http://www.w3.org/1999/xhtml"?kb($):et==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,_e,tt,nt){MSApp.execUnsafeLocalFunction(function(){return et($,_e,tt,nt)})}:et}(function(et,$){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;$.firstChild;)et.appendChild($.firstChild)}});function ob(et,$){if($){var _e=et.firstChild;if(_e&&_e===et.lastChild&&_e.nodeType===3){_e.nodeValue=$;return}}et.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function($){$=$+et.charAt(0).toUpperCase()+et.substring(1),pb[$]=pb[et]})});function rb(et,$,_e){return $==null||typeof $=="boolean"||$===""?"":_e||typeof $!="number"||$===0||pb.hasOwnProperty(et)&&pb[et]?(""+$).trim():$+"px"}function sb(et,$){et=et.style;for(var _e in $)if($.hasOwnProperty(_e)){var tt=_e.indexOf("--")===0,nt=rb(_e,$[_e],tt);_e==="float"&&(_e="cssFloat"),tt?et.setProperty(_e,nt):et[_e]=nt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,$){if($){if(tb[et]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$8(137,et));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$8(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$8(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$8(62))}}function vb(et,$){if(et.indexOf("-")===-1)return typeof $.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$8(280));var $=et.stateNode;$&&($=Db($),yb(et.stateNode,et.type,$))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,$=Ab;if(Ab=zb=null,Bb(et),$)for(et=0;et<$.length;et++)Bb($[et])}}function Gb(et,$){return et($)}function Hb(){}var Ib=!1;function Jb(et,$,_e){if(Ib)return et($,_e);Ib=!0;try{return Gb(et,$,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,$){var _e=et.stateNode;if(_e===null)return null;var tt=Db(_e);if(tt===null)return null;_e=tt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(et=et.type,tt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!tt;break e;default:et=!1}if(et)return null;if(_e&&typeof _e!="function")throw Error(p$8(231,$,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,$,_e,tt,nt,rt,it,st,ot){var at=Array.prototype.slice.call(arguments,3);try{$.apply(_e,at)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,$,_e,tt,nt,rt,it,st,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,$,_e,tt,nt,rt,it,st,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var at=Pb;Ob=!1,Pb=null}else throw Error(p$8(198));Qb||(Qb=!0,Rb=at)}}function Vb(et){var $=et,_e=et;if(et.alternate)for(;$.return;)$=$.return;else{et=$;do $=et,$.flags&4098&&(_e=$.return),et=$.return;while(et)}return $.tag===3?_e:null}function Wb(et){if(et.tag===13){var $=et.memoizedState;if($===null&&(et=et.alternate,et!==null&&($=et.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$8(188))}function Yb(et){var $=et.alternate;if(!$){if($=Vb(et),$===null)throw Error(p$8(188));return $!==et?null:et}for(var _e=et,tt=$;;){var nt=_e.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){_e=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===_e)return Xb(nt),et;if(rt===tt)return Xb(nt),$;rt=rt.sibling}throw Error(p$8(188))}if(_e.return!==tt.return)_e=nt,tt=rt;else{for(var it=!1,st=nt.child;st;){if(st===_e){it=!0,_e=nt,tt=rt;break}if(st===tt){it=!0,tt=nt,_e=rt;break}st=st.sibling}if(!it){for(st=rt.child;st;){if(st===_e){it=!0,_e=rt,tt=nt;break}if(st===tt){it=!0,tt=rt,_e=nt;break}st=st.sibling}if(!it)throw Error(p$8(189))}}if(_e.alternate!==tt)throw Error(p$8(190))}if(_e.tag!==3)throw Error(p$8(188));return _e.stateNode.current===_e?et:$}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var $=$b(et);if($!==null)return $;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,$){var _e=et.pendingLanes;if(_e===0)return 0;var tt=0,nt=et.suspendedLanes,rt=et.pingedLanes,it=_e&268435455;if(it!==0){var st=it&~nt;st!==0?tt=tc(st):(rt&=it,rt!==0&&(tt=tc(rt)))}else it=_e&~nt,it!==0?tt=tc(it):rt!==0&&(tt=tc(rt));if(tt===0)return 0;if($!==0&&$!==tt&&!($&nt)&&(nt=tt&-tt,rt=$&-$,nt>=rt||nt===16&&(rt&4194240)!==0))return $;if(tt&4&&(tt|=_e&16),$=et.entangledLanes,$!==0)for(et=et.entanglements,$&=tt;0<$;)_e=31-oc($),nt=1<<_e,tt|=et[_e],$&=~nt;return tt}function vc(et,$){switch(et){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,$){for(var _e=et.suspendedLanes,tt=et.pingedLanes,nt=et.expirationTimes,rt=et.pendingLanes;0<rt;){var it=31-oc(rt),st=1<<it,ot=nt[it];ot===-1?(!(st&_e)||st&tt)&&(nt[it]=vc(st,$)):ot<=$&&(et.expiredLanes|=st),rt&=~st}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var $=[],_e=0;31>_e;_e++)$.push(et);return $}function Ac(et,$,_e){et.pendingLanes|=$,$!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,$=31-oc($),et[$]=_e}function Bc(et,$){var _e=et.pendingLanes&~$;et.pendingLanes=$,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=$,et.mutableReadLanes&=$,et.entangledLanes&=$,$=et.entanglements;var tt=et.eventTimes;for(et=et.expirationTimes;0<_e;){var nt=31-oc(_e),rt=1<<nt;$[nt]=0,tt[nt]=-1,et[nt]=-1,_e&=~rt}}function Cc(et,$){var _e=et.entangledLanes|=$;for(et=et.entanglements;_e;){var tt=31-oc(_e),nt=1<<tt;nt&$|et[tt]&$&&(et[tt]|=$),_e&=~nt}}var C$5=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,$){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(et,$,_e,tt,nt,rt){return et===null||et.nativeEvent!==rt?(et={blockedOn:$,domEventName:_e,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},$!==null&&($=Cb($),$!==null&&Fc($)),et):(et.eventSystemFlags|=tt,$=et.targetContainers,nt!==null&&$.indexOf(nt)===-1&&$.push(nt),et)}function Uc(et,$,_e,tt,nt){switch($){case"focusin":return Lc=Tc(Lc,et,$,_e,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,et,$,_e,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,et,$,_e,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc.set(rt,Tc(Oc.get(rt)||null,et,$,_e,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc.set(rt,Tc(Pc.get(rt)||null,et,$,_e,tt,nt)),!0}return!1}function Vc(et){var $=Wc(et.target);if($!==null){var _e=Vb($);if(_e!==null){if($=_e.tag,$===13){if($=Wb(_e),$!==null){et.blockedOn=$,Ic(et.priority,function(){Gc(_e)});return}}else if($===3&&_e.stateNode.current.memoizedState.isDehydrated){et.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var $=et.targetContainers;0<$.length;){var _e=Yc(et.domEventName,et.eventSystemFlags,$[0],et.nativeEvent);if(_e===null){_e=et.nativeEvent;var tt=new _e.constructor(_e.type,_e);wb=tt,_e.target.dispatchEvent(tt),wb=null}else return $=Cb(_e),$!==null&&Fc($),et.blockedOn=_e,!1;$.shift()}return!0}function Zc(et,$,_e){Xc(et)&&_e.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,$){et.blockedOn===$&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function $(nt){return ad(nt,et)}if(0<Kc.length){ad(Kc[0],et);for(var _e=1;_e<Kc.length;_e++){var tt=Kc[_e];tt.blockedOn===et&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach($),Pc.forEach($),_e=0;_e<Qc.length;_e++)tt=Qc[_e],tt.blockedOn===et&&(tt.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,$,_e,tt){var nt=C$5,rt=cd.transition;cd.transition=null;try{C$5=1,fd(et,$,_e,tt)}finally{C$5=nt,cd.transition=rt}}function gd(et,$,_e,tt){var nt=C$5,rt=cd.transition;cd.transition=null;try{C$5=4,fd(et,$,_e,tt)}finally{C$5=nt,cd.transition=rt}}function fd(et,$,_e,tt){if(dd){var nt=Yc(et,$,_e,tt);if(nt===null)hd(et,$,tt,id$4,_e),Sc(et,tt);else if(Uc(nt,et,$,_e,tt))tt.stopPropagation();else if(Sc(et,tt),$&4&&-1<Rc.indexOf(et)){for(;nt!==null;){var rt=Cb(nt);if(rt!==null&&Ec(rt),rt=Yc(et,$,_e,tt),rt===null&&hd(et,$,tt,id$4,_e),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd(et,$,tt,null,_e)}}var id$4=null;function Yc(et,$,_e,tt){if(id$4=null,et=xb(tt),et=Wc(et),et!==null)if($=Vb(et),$===null)et=null;else if(_e=$.tag,_e===13){if(et=Wb($),et!==null)return et;et=null}else if(_e===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;et=null}else $!==et&&(et=null);return id$4=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,$=ld,_e=$.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for(et=0;et<_e&&$[et]===nt[et];et++);var it=_e-et;for(tt=1;tt<=it&&$[_e-tt]===nt[rt-tt];tt++);return md=nt.slice(et,1<tt?1-tt:void 0)}function od(et){var $=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&$===13&&(et=13)):et=$,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function $(_e,tt,nt,rt,it){this._reactName=_e,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var st in et)et.hasOwnProperty(st)&&(_e=et[st],this[st]=_e?_e(rt):rt[st]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(et):(et=Od[et])?!!$[et]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(et){if(et.key){var $=Md[et.key]||et.key;if($!=="Unidentified")return $}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(et,$){switch(et){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie=!1;function je(et,$){switch(et){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return et=$.data,et===ee&&fe?null:et;default:return null}}function ke(et,$){if(ie)return et==="compositionend"||!ae&&ge(et,$)?(et=nd(),md=ld=kd=null,ie=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var $=et&&et.nodeName&&et.nodeName.toLowerCase();return $==="input"?!!le[et.type]:$==="textarea"}function ne(et,$,_e,tt){Eb(tt),$=oe($,"onChange"),0<$.length&&(_e=new td("onChange","change",null,_e,tt),et.push({event:_e,listeners:$}))}var pe=null,qe=null;function re(et){se(et,0)}function te(et){var $=ue(et);if(Wa($))return et}function ve(et,$){if(et==="change")return $}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var $=[];ne($,qe,et,xb(et)),Jb(re,$)}}function Ce(et,$,_e){et==="focusin"?(Ae(),pe=$,qe=_e,pe.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae()}function De(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee(et,$){if(et==="click")return te($)}function Fe(et,$){if(et==="input"||et==="change")return te($)}function Ge(et,$){return et===$&&(et!==0||1/et===1/$)||et!==et&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(et,$){if(He(et,$))return!0;if(typeof et!="object"||et===null||typeof $!="object"||$===null)return!1;var _e=Object.keys(et),tt=Object.keys($);if(_e.length!==tt.length)return!1;for(tt=0;tt<_e.length;tt++){var nt=_e[tt];if(!ja.call($,nt)||!He(et[nt],$[nt]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,$){var _e=Je(et);et=0;for(var tt;_e;){if(_e.nodeType===3){if(tt=et+_e.textContent.length,et<=$&&tt>=$)return{node:_e,offset:$-et};et=tt}e:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break e}_e=_e.parentNode}_e=void 0}_e=Je(_e)}}function Le(et,$){return et&&$?et===$?!0:et&&et.nodeType===3?!1:$&&$.nodeType===3?Le(et,$.parentNode):"contains"in et?et.contains($):et.compareDocumentPosition?!!(et.compareDocumentPosition($)&16):!1:!1}function Me(){for(var et=window,$=Xa();$ instanceof et.HTMLIFrameElement;){try{var _e=typeof $.contentWindow.location.href=="string"}catch{_e=!1}if(_e)et=$.contentWindow;else break;$=Xa(et.document)}return $}function Ne(et){var $=et&&et.nodeName&&et.nodeName.toLowerCase();return $&&($==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||$==="textarea"||et.contentEditable==="true")}function Oe(et){var $=Me(),_e=et.focusedElem,tt=et.selectionRange;if($!==_e&&_e&&_e.ownerDocument&&Le(_e.ownerDocument.documentElement,_e)){if(tt!==null&&Ne(_e)){if($=tt.start,et=tt.end,et===void 0&&(et=$),"selectionStart"in _e)_e.selectionStart=$,_e.selectionEnd=Math.min(et,_e.value.length);else if(et=($=_e.ownerDocument||document)&&$.defaultView||window,et.getSelection){et=et.getSelection();var nt=_e.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!et.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(_e,rt);var it=Ke(_e,tt);nt&&it&&(et.rangeCount!==1||et.anchorNode!==nt.node||et.anchorOffset!==nt.offset||et.focusNode!==it.node||et.focusOffset!==it.offset)&&($=$.createRange(),$.setStart(nt.node,nt.offset),et.removeAllRanges(),rt>tt?(et.addRange($),et.extend(it.node,it.offset)):($.setEnd(it.node,it.offset),et.addRange($)))}}for($=[],et=_e;et=et.parentNode;)et.nodeType===1&&$.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<$.length;_e++)et=$[_e],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(et,$,_e){var tt=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&($=new td("onSelect","select",null,$,_e),et.push({event:$,listeners:tt}),$.target=Qe)))}function Ve(et,$){var _e={};return _e[et.toLowerCase()]=$.toLowerCase(),_e["Webkit"+et]="webkit"+$,_e["Moz"+et]="moz"+$,_e}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var $=We[et],_e;for(_e in $)if($.hasOwnProperty(_e)&&_e in Ye)return Xe[et]=$[_e];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,$){df.set(et,$),fa($,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,$,_e){var tt=et.type||"unknown-event";et.currentTarget=_e,Ub(tt,$,void 0,et),et.currentTarget=null}function se(et,$){$=($&4)!==0;for(var _e=0;_e<et.length;_e++){var tt=et[_e],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if($)for(var it=tt.length-1;0<=it;it--){var st=tt[it],ot=st.instance,at=st.currentTarget;if(st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}else for(it=0;it<tt.length;it++){if(st=tt[it],ot=st.instance,at=st.currentTarget,st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$1(et,$){var _e=$[of];_e===void 0&&(_e=$[of]=new Set);var tt=et+"__bubble";_e.has(tt)||(pf($,et,2,!1),_e.add(tt))}function qf(et,$,_e){var tt=0;$&&(tt|=4),pf(_e,et,tt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,et),qf(_e,!0,et))});var $=et.nodeType===9?et:et.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(et,$,_e,tt){switch(jd($)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}_e=nt.bind(null,$,_e,et),nt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(nt=!0),tt?nt!==void 0?et.addEventListener($,_e,{capture:!0,passive:nt}):et.addEventListener($,_e,!0):nt!==void 0?et.addEventListener($,_e,{passive:nt}):et.addEventListener($,_e,!1)}function hd(et,$,_e,tt,nt){var rt=tt;if(!($&1)&&!($&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var st=tt.stateNode.containerInfo;if(st===nt||st.nodeType===8&&st.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var ot=it.tag;if((ot===3||ot===4)&&(ot=it.stateNode.containerInfo,ot===nt||ot.nodeType===8&&ot.parentNode===nt))return;it=it.return}for(;st!==null;){if(it=Wc(st),it===null)return;if(ot=it.tag,ot===5||ot===6){tt=rt=it;continue e}st=st.parentNode}}tt=tt.return}Jb(function(){var at=rt,lt=xb(_e),dt=[];e:{var ct=df.get(et);if(ct!==void 0){var pt=td,mt=et;switch(et){case"keypress":if(od(_e)===0)break e;case"keydown":case"keyup":pt=Rd;break;case"focusin":mt="focus",pt=Fd;break;case"focusout":mt="blur",pt=Fd;break;case"beforeblur":case"afterblur":pt=Fd;break;case"click":if(_e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Vd;break;case $e:case af:case bf:pt=Hd;break;case cf:pt=Xd;break;case"scroll":pt=vd;break;case"wheel":pt=Zd;break;case"copy":case"cut":case"paste":pt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Td}var ht=($&4)!==0,gt=!ht&&et==="scroll",vt=ht?ct!==null?ct+"Capture":null:ct;ht=[];for(var _t=at,yt;_t!==null;){yt=_t;var xt=yt.stateNode;if(yt.tag===5&&xt!==null&&(yt=xt,vt!==null&&(xt=Kb(_t,vt),xt!=null&&ht.push(tf(_t,xt,yt)))),gt)break;_t=_t.return}0<ht.length&&(ct=new pt(ct,mt,null,_e,lt),dt.push({event:ct,listeners:ht}))}}if(!($&7)){e:{if(ct=et==="mouseover"||et==="pointerover",pt=et==="mouseout"||et==="pointerout",ct&&_e!==wb&&(mt=_e.relatedTarget||_e.fromElement)&&(Wc(mt)||mt[uf]))break e;if((pt||ct)&&(ct=lt.window===lt?lt:(ct=lt.ownerDocument)?ct.defaultView||ct.parentWindow:window,pt?(mt=_e.relatedTarget||_e.toElement,pt=at,mt=mt?Wc(mt):null,mt!==null&&(gt=Vb(mt),mt!==gt||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(pt=null,mt=at),pt!==mt)){if(ht=Bd,xt="onMouseLeave",vt="onMouseEnter",_t="mouse",(et==="pointerout"||et==="pointerover")&&(ht=Td,xt="onPointerLeave",vt="onPointerEnter",_t="pointer"),gt=pt==null?ct:ue(pt),yt=mt==null?ct:ue(mt),ct=new ht(xt,_t+"leave",pt,_e,lt),ct.target=gt,ct.relatedTarget=yt,xt=null,Wc(lt)===at&&(ht=new ht(vt,_t+"enter",mt,_e,lt),ht.target=yt,ht.relatedTarget=gt,xt=ht),gt=xt,pt&&mt)t:{for(ht=pt,vt=mt,_t=0,yt=ht;yt;yt=vf(yt))_t++;for(yt=0,xt=vt;xt;xt=vf(xt))yt++;for(;0<_t-yt;)ht=vf(ht),_t--;for(;0<yt-_t;)vt=vf(vt),yt--;for(;_t--;){if(ht===vt||vt!==null&&ht===vt.alternate)break t;ht=vf(ht),vt=vf(vt)}ht=null}else ht=null;pt!==null&&wf(dt,ct,pt,ht,!1),mt!==null&&gt!==null&&wf(dt,gt,mt,ht,!0)}}e:{if(ct=at?ue(at):window,pt=ct.nodeName&&ct.nodeName.toLowerCase(),pt==="select"||pt==="input"&&ct.type==="file")var At=ve;else if(me(ct))if(we)At=Fe;else{At=De;var Ct=Ce}else(pt=ct.nodeName)&&pt.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(At=Ee);if(At&&(At=At(et,at))){ne(dt,At,_e,lt);break e}Ct&&Ct(et,ct,at),et==="focusout"&&(Ct=ct._wrapperState)&&Ct.controlled&&ct.type==="number"&&cb(ct,"number",ct.value)}switch(Ct=at?ue(at):window,et){case"focusin":(me(Ct)||Ct.contentEditable==="true")&&(Qe=Ct,Re=at,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(dt,_e,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,_e,lt)}var Pt;if(ae)e:{switch(et){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else ie?ge(et,_e)&&(bt="onCompositionEnd"):et==="keydown"&&_e.keyCode===229&&(bt="onCompositionStart");bt&&(de&&_e.locale!=="ko"&&(ie||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&ie&&(Pt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ct=oe(at,bt),0<Ct.length&&(bt=new Ld(bt,et,null,_e,lt),dt.push({event:bt,listeners:Ct}),Pt?bt.data=Pt:(Pt=he(_e),Pt!==null&&(bt.data=Pt)))),(Pt=ce?je(et,_e):ke(et,_e))&&(at=oe(at,"onBeforeInput"),0<at.length&&(lt=new Ld("onBeforeInput","beforeinput",null,_e,lt),dt.push({event:lt,listeners:at}),lt.data=Pt))}se(dt,$)})}function tf(et,$,_e){return{instance:et,listener:$,currentTarget:_e}}function oe(et,$){for(var _e=$+"Capture",tt=[];et!==null;){var nt=et,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb(et,_e),rt!=null&&tt.unshift(tf(et,rt,nt)),rt=Kb(et,$),rt!=null&&tt.push(tf(et,rt,nt))),et=et.return}return tt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,$,_e,tt,nt){for(var rt=$._reactName,it=[];_e!==null&&_e!==tt;){var st=_e,ot=st.alternate,at=st.stateNode;if(ot!==null&&ot===tt)break;st.tag===5&&at!==null&&(st=at,nt?(ot=Kb(_e,rt),ot!=null&&it.unshift(tf(_e,ot,st))):nt||(ot=Kb(_e,rt),ot!=null&&it.push(tf(_e,ot,st)))),_e=_e.return}it.length!==0&&et.push({event:$,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,$,_e){if($=zf($),zf(et)!==$&&_e)throw Error(p$8(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,$){return et==="textarea"||et==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,$){var _e=$,tt=0;do{var nt=_e.nextSibling;if(et.removeChild(_e),nt&&nt.nodeType===8)if(_e=nt.data,_e==="/$"){if(tt===0){et.removeChild(nt),bd($);return}tt--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||tt++;_e=nt}while(_e);bd($)}function Lf(et){for(;et!=null;et=et.nextSibling){var $=et.nodeType;if($===1||$===3)break;if($===8){if($=et.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var $=0;et;){if(et.nodeType===8){var _e=et.data;if(_e==="$"||_e==="$!"||_e==="$?"){if($===0)return et;$--}else _e==="/$"&&$++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var $=et[Of];if($)return $;for(var _e=et.parentNode;_e;){if($=_e[uf]||_e[Of]){if(_e=$.alternate,$.child!==null||_e!==null&&_e.child!==null)for(et=Mf(et);et!==null;){if(_e=et[Of])return _e;et=Mf(et)}return $}et=_e,_e=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$8(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$6(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(et,$){Tf++,Sf[Tf]=et.current,et.current=$}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,$){var _e=et.type.contextTypes;if(!_e)return Vf;var tt=et.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===$)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in _e)nt[rt]=$[rt];return tt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=$,et.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$6(Wf),E$6(H)}function ag(et,$,_e){if(H.current!==Vf)throw Error(p$8(168));G(H,$),G(Wf,_e)}function bg(et,$,_e){var tt=et.stateNode;if($=$.childContextTypes,typeof tt.getChildContext!="function")return _e;tt=tt.getChildContext();for(var nt in tt)if(!(nt in $))throw Error(p$8(108,Ra(et)||"Unknown",nt));return A({},_e,tt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,et),G(Wf,Wf.current),!0}function dg(et,$,_e){var tt=et.stateNode;if(!tt)throw Error(p$8(169));_e?(et=bg(et,$,Xf),tt.__reactInternalMemoizedMergedChildContext=et,E$6(Wf),E$6(H),G(H,et)):E$6(Wf),G(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,$=C$5;try{var _e=eg;for(C$5=1;et<_e.length;et++){var tt=_e[et];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),nt}finally{C$5=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,$){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=$}function ug(et,$,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var tt=rg;et=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),_e+=1;var rt=32-oc($)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc($)+nt|_e<<nt|tt,sg=rt+et}else rg=1<<rt|_e<<nt|tt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(et,$){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=$,_e.return=et,$=et.deletions,$===null?(et.deletions=[_e],et.flags|=16):$.push(_e)}function Cg(et,$){switch(et.tag){case 5:var _e=et.type;return $=$.nodeType!==1||_e.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(et.stateNode=$,xg=et,yg=Lf($.firstChild),!0):!1;case 6:return $=et.pendingProps===""||$.nodeType!==3?null:$,$!==null?(et.stateNode=$,xg=et,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:$,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=$,_e.return=et,et.child=_e,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$3){var $=yg;if($){var _e=$;if(!Cg(et,$)){if(Dg(et))throw Error(p$8(418));$=Lf(_e.nextSibling);var tt=xg;$&&Cg(et,$)?Ag(tt,_e):(et.flags=et.flags&-4097|2,I$3=!1,xg=et)}}else{if(Dg(et))throw Error(p$8(418));et.flags=et.flags&-4097|2,I$3=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$3)return Fg(et),I$3=!0,!1;var $;if(($=et.tag!==3)&&!($=et.tag!==5)&&($=et.type,$=$!=="head"&&$!=="body"&&!Ef(et.type,et.memoizedProps)),$&&($=yg)){if(Dg(et))throw Hg(),Error(p$8(418));for(;$;)Ag(et,$),$=Lf($.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$8(317));e:{for(et=et.nextSibling,$=0;et;){if(et.nodeType===8){var _e=et.data;if(_e==="/$"){if($===0){yg=Lf(et.nextSibling);break e}$--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||$++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,$){if(et&&et.defaultProps){$=A({},$),et=et.defaultProps;for(var _e in et)$[_e]===void 0&&($[_e]=et[_e]);return $}return $}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var $=Mg.current;E$6(Mg),et._currentValue=$}function Sg(et,$,_e){for(;et!==null;){var tt=et.alternate;if((et.childLanes&$)!==$?(et.childLanes|=$,tt!==null&&(tt.childLanes|=$)):tt!==null&&(tt.childLanes&$)!==$&&(tt.childLanes|=$),et===_e)break;et=et.return}}function Tg(et,$){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&$&&(Ug=!0),et.firstContext=null)}function Vg(et){var $=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:$,next:null},Og===null){if(Ng===null)throw Error(p$8(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return $}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,$,_e,tt){var nt=$.interleaved;return nt===null?(_e.next=_e,Xg($)):(_e.next=nt.next,nt.next=_e),$.interleaved=_e,Zg(et,tt)}function Zg(et,$){et.lanes|=$;var _e=et.alternate;for(_e!==null&&(_e.lanes|=$),_e=et,et=et.return;et!==null;)et.childLanes|=$,_e=et.alternate,_e!==null&&(_e.childLanes|=$),_e=et,et=et.return;return _e.tag===3?_e.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,$){et=et.updateQueue,$.updateQueue===et&&($.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,$){return{eventTime:et,lane:$,tag:0,payload:null,callback:null,next:null}}function dh(et,$,_e){var tt=et.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var nt=tt.pending;return nt===null?$.next=$:($.next=nt.next,nt.next=$),tt.pending=$,Zg(et,_e)}return nt=tt.interleaved,nt===null?($.next=$,Xg(tt)):($.next=nt.next,nt.next=$),tt.interleaved=$,Zg(et,_e)}function eh(et,$,_e){if($=$.updateQueue,$!==null&&($=$.shared,(_e&4194240)!==0)){var tt=$.lanes;tt&=et.pendingLanes,_e|=tt,$.lanes=_e,Cc(et,_e)}}function fh(et,$){var _e=et.updateQueue,tt=et.alternate;if(tt!==null&&(tt=tt.updateQueue,_e===tt)){var nt=null,rt=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var it={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,_e=_e.next}while(_e!==null);rt===null?nt=rt=$:rt=rt.next=$}else nt=rt=$;_e={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},et.updateQueue=_e;return}et=_e.lastBaseUpdate,et===null?_e.firstBaseUpdate=$:et.next=$,_e.lastBaseUpdate=$}function gh(et,$,_e,tt){var nt=et.updateQueue;$g=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,st=nt.shared.pending;if(st!==null){nt.shared.pending=null;var ot=st,at=ot.next;ot.next=null,it===null?rt=at:it.next=at,it=ot;var lt=et.alternate;lt!==null&&(lt=lt.updateQueue,st=lt.lastBaseUpdate,st!==it&&(st===null?lt.firstBaseUpdate=at:st.next=at,lt.lastBaseUpdate=ot))}if(rt!==null){var dt=nt.baseState;it=0,lt=at=ot=null,st=rt;do{var ct=st.lane,pt=st.eventTime;if((tt&ct)===ct){lt!==null&&(lt=lt.next={eventTime:pt,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var mt=et,ht=st;switch(ct=$,pt=_e,ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){dt=mt.call(pt,dt,ct);break e}dt=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,ct=typeof mt=="function"?mt.call(pt,dt,ct):mt,ct==null)break e;dt=A({},dt,ct);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(et.flags|=64,ct=nt.effects,ct===null?nt.effects=[st]:ct.push(st))}else pt={eventTime:pt,lane:ct,tag:st.tag,payload:st.payload,callback:st.callback,next:null},lt===null?(at=lt=pt,ot=dt):lt=lt.next=pt,it|=ct;if(st=st.next,st===null){if(st=nt.shared.pending,st===null)break;ct=st,st=ct.next,ct.next=null,nt.lastBaseUpdate=ct,nt.shared.pending=null}}while(1);if(lt===null&&(ot=dt),nt.baseState=ot,nt.firstBaseUpdate=at,nt.lastBaseUpdate=lt,$=nt.shared.interleaved,$!==null){nt=$;do it|=nt.lane,nt=nt.next;while(nt!==$)}else rt===null&&(nt.shared.lanes=0);hh|=it,et.lanes=it,et.memoizedState=dt}}function ih(et,$,_e){if(et=$.effects,$.effects=null,et!==null)for($=0;$<et.length;$++){var tt=et[$],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=_e,typeof nt!="function")throw Error(p$8(191,nt));nt.call(tt)}}}var jh=new aa.Component().refs;function kh(et,$,_e,tt){$=et.memoizedState,_e=_e(tt,$),_e=_e==null?$:A({},$,_e),et.memoizedState=_e,et.lanes===0&&(et.updateQueue.baseState=_e)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,$,_e){et=et._reactInternals;var tt=L$1(),nt=lh(et),rt=ch(tt,nt);rt.payload=$,_e!=null&&(rt.callback=_e),$=dh(et,rt,nt),$!==null&&(mh($,et,nt,tt),eh($,et,nt))},enqueueReplaceState:function(et,$,_e){et=et._reactInternals;var tt=L$1(),nt=lh(et),rt=ch(tt,nt);rt.tag=1,rt.payload=$,_e!=null&&(rt.callback=_e),$=dh(et,rt,nt),$!==null&&(mh($,et,nt,tt),eh($,et,nt))},enqueueForceUpdate:function(et,$){et=et._reactInternals;var _e=L$1(),tt=lh(et),nt=ch(_e,tt);nt.tag=2,$!=null&&(nt.callback=$),$=dh(et,nt,tt),$!==null&&(mh($,et,tt,_e),eh($,et,tt))}};function oh(et,$,_e,tt,nt,rt,it){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(tt,rt,it):$.prototype&&$.prototype.isPureReactComponent?!Ie(_e,tt)||!Ie(nt,rt):!0}function ph(et,$,_e){var tt=!1,nt=Vf,rt=$.contextType;return typeof rt=="object"&&rt!==null?rt=Vg(rt):(nt=Zf($)?Xf:H.current,tt=$.contextTypes,rt=(tt=tt!=null)?Yf(et,nt):Vf),$=new $(_e,rt),et.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=nh,et.stateNode=$,$._reactInternals=et,tt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=nt,et.__reactInternalMemoizedMaskedChildContext=rt),$}function qh(et,$,_e,tt){et=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(_e,tt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(_e,tt),$.state!==et&&nh.enqueueReplaceState($,$.state,null)}function rh(et,$,_e,tt){var nt=et.stateNode;nt.props=_e,nt.state=et.memoizedState,nt.refs=jh,ah(et);var rt=$.contextType;typeof rt=="object"&&rt!==null?nt.context=Vg(rt):(rt=Zf($)?Xf:H.current,nt.context=Yf(et,rt)),nt.state=et.memoizedState,rt=$.getDerivedStateFromProps,typeof rt=="function"&&(kh(et,$,rt,_e),nt.state=et.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||($=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),$!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(et,_e,nt,tt),nt.state=et.memoizedState),typeof nt.componentDidMount=="function"&&(et.flags|=4194308)}function sh(et,$,_e){if(et=_e.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$8(309));var tt=_e.stateNode}if(!tt)throw Error(p$8(147,et));var nt=tt,rt=""+et;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===rt?$.ref:($=function(it){var st=nt.refs;st===jh&&(st=nt.refs={}),it===null?delete st[rt]:st[rt]=it},$._stringRef=rt,$)}if(typeof et!="string")throw Error(p$8(284));if(!_e._owner)throw Error(p$8(290,et))}return et}function th(et,$){throw et=Object.prototype.toString.call($),Error(p$8(31,et==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":et))}function uh(et){var $=et._init;return $(et._payload)}function vh$1(et){function $(vt,_t){if(et){var yt=vt.deletions;yt===null?(vt.deletions=[_t],vt.flags|=16):yt.push(_t)}}function _e(vt,_t){if(!et)return null;for(;_t!==null;)$(vt,_t),_t=_t.sibling;return null}function tt(vt,_t){for(vt=new Map;_t!==null;)_t.key!==null?vt.set(_t.key,_t):vt.set(_t.index,_t),_t=_t.sibling;return vt}function nt(vt,_t){return vt=wh(vt,_t),vt.index=0,vt.sibling=null,vt}function rt(vt,_t,yt){return vt.index=yt,et?(yt=vt.alternate,yt!==null?(yt=yt.index,yt<_t?(vt.flags|=2,_t):yt):(vt.flags|=2,_t)):(vt.flags|=1048576,_t)}function it(vt){return et&&vt.alternate===null&&(vt.flags|=2),vt}function st(vt,_t,yt,xt){return _t===null||_t.tag!==6?(_t=xh(yt,vt.mode,xt),_t.return=vt,_t):(_t=nt(_t,yt),_t.return=vt,_t)}function ot(vt,_t,yt,xt){var At=yt.type;return At===ya?lt(vt,_t,yt.props.children,xt,yt.key):_t!==null&&(_t.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&uh(At)===_t.type)?(xt=nt(_t,yt.props),xt.ref=sh(vt,_t,yt),xt.return=vt,xt):(xt=yh(yt.type,yt.key,yt.props,null,vt.mode,xt),xt.ref=sh(vt,_t,yt),xt.return=vt,xt)}function at(vt,_t,yt,xt){return _t===null||_t.tag!==4||_t.stateNode.containerInfo!==yt.containerInfo||_t.stateNode.implementation!==yt.implementation?(_t=zh(yt,vt.mode,xt),_t.return=vt,_t):(_t=nt(_t,yt.children||[]),_t.return=vt,_t)}function lt(vt,_t,yt,xt,At){return _t===null||_t.tag!==7?(_t=Ah(yt,vt.mode,xt,At),_t.return=vt,_t):(_t=nt(_t,yt),_t.return=vt,_t)}function dt(vt,_t,yt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return _t=xh(""+_t,vt.mode,yt),_t.return=vt,_t;if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return yt=yh(_t.type,_t.key,_t.props,null,vt.mode,yt),yt.ref=sh(vt,null,_t),yt.return=vt,yt;case wa:return _t=zh(_t,vt.mode,yt),_t.return=vt,_t;case Ha:var xt=_t._init;return dt(vt,xt(_t._payload),yt)}if(eb(_t)||Ka(_t))return _t=Ah(_t,vt.mode,yt,null),_t.return=vt,_t;th(vt,_t)}return null}function ct(vt,_t,yt,xt){var At=_t!==null?_t.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return At!==null?null:st(vt,_t,""+yt,xt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return yt.key===At?ot(vt,_t,yt,xt):null;case wa:return yt.key===At?at(vt,_t,yt,xt):null;case Ha:return At=yt._init,ct(vt,_t,At(yt._payload),xt)}if(eb(yt)||Ka(yt))return At!==null?null:lt(vt,_t,yt,xt,null);th(vt,yt)}return null}function pt(vt,_t,yt,xt,At){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return vt=vt.get(yt)||null,st(_t,vt,""+xt,At);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return vt=vt.get(xt.key===null?yt:xt.key)||null,ot(_t,vt,xt,At);case wa:return vt=vt.get(xt.key===null?yt:xt.key)||null,at(_t,vt,xt,At);case Ha:var Ct=xt._init;return pt(vt,_t,yt,Ct(xt._payload),At)}if(eb(xt)||Ka(xt))return vt=vt.get(yt)||null,lt(_t,vt,xt,At,null);th(_t,xt)}return null}function mt(vt,_t,yt,xt){for(var At=null,Ct=null,Pt=_t,bt=_t=0,Mt=null;Pt!==null&&bt<yt.length;bt++){Pt.index>bt?(Mt=Pt,Pt=null):Mt=Pt.sibling;var Tt=ct(vt,Pt,yt[bt],xt);if(Tt===null){Pt===null&&(Pt=Mt);break}et&&Pt&&Tt.alternate===null&&$(vt,Pt),_t=rt(Tt,_t,bt),Ct===null?At=Tt:Ct.sibling=Tt,Ct=Tt,Pt=Mt}if(bt===yt.length)return _e(vt,Pt),I$3&&tg(vt,bt),At;if(Pt===null){for(;bt<yt.length;bt++)Pt=dt(vt,yt[bt],xt),Pt!==null&&(_t=rt(Pt,_t,bt),Ct===null?At=Pt:Ct.sibling=Pt,Ct=Pt);return I$3&&tg(vt,bt),At}for(Pt=tt(vt,Pt);bt<yt.length;bt++)Mt=pt(Pt,vt,bt,yt[bt],xt),Mt!==null&&(et&&Mt.alternate!==null&&Pt.delete(Mt.key===null?bt:Mt.key),_t=rt(Mt,_t,bt),Ct===null?At=Mt:Ct.sibling=Mt,Ct=Mt);return et&&Pt.forEach(function(Ft){return $(vt,Ft)}),I$3&&tg(vt,bt),At}function ht(vt,_t,yt,xt){var At=Ka(yt);if(typeof At!="function")throw Error(p$8(150));if(yt=At.call(yt),yt==null)throw Error(p$8(151));for(var Ct=At=null,Pt=_t,bt=_t=0,Mt=null,Tt=yt.next();Pt!==null&&!Tt.done;bt++,Tt=yt.next()){Pt.index>bt?(Mt=Pt,Pt=null):Mt=Pt.sibling;var Ft=ct(vt,Pt,Tt.value,xt);if(Ft===null){Pt===null&&(Pt=Mt);break}et&&Pt&&Ft.alternate===null&&$(vt,Pt),_t=rt(Ft,_t,bt),Ct===null?At=Ft:Ct.sibling=Ft,Ct=Ft,Pt=Mt}if(Tt.done)return _e(vt,Pt),I$3&&tg(vt,bt),At;if(Pt===null){for(;!Tt.done;bt++,Tt=yt.next())Tt=dt(vt,Tt.value,xt),Tt!==null&&(_t=rt(Tt,_t,bt),Ct===null?At=Tt:Ct.sibling=Tt,Ct=Tt);return I$3&&tg(vt,bt),At}for(Pt=tt(vt,Pt);!Tt.done;bt++,Tt=yt.next())Tt=pt(Pt,vt,bt,Tt.value,xt),Tt!==null&&(et&&Tt.alternate!==null&&Pt.delete(Tt.key===null?bt:Tt.key),_t=rt(Tt,_t,bt),Ct===null?At=Tt:Ct.sibling=Tt,Ct=Tt);return et&&Pt.forEach(function(Gt){return $(vt,Gt)}),I$3&&tg(vt,bt),At}function gt(vt,_t,yt,xt){if(typeof yt=="object"&&yt!==null&&yt.type===ya&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:e:{for(var At=yt.key,Ct=_t;Ct!==null;){if(Ct.key===At){if(At=yt.type,At===ya){if(Ct.tag===7){_e(vt,Ct.sibling),_t=nt(Ct,yt.props.children),_t.return=vt,vt=_t;break e}}else if(Ct.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&uh(At)===Ct.type){_e(vt,Ct.sibling),_t=nt(Ct,yt.props),_t.ref=sh(vt,Ct,yt),_t.return=vt,vt=_t;break e}_e(vt,Ct);break}else $(vt,Ct);Ct=Ct.sibling}yt.type===ya?(_t=Ah(yt.props.children,vt.mode,xt,yt.key),_t.return=vt,vt=_t):(xt=yh(yt.type,yt.key,yt.props,null,vt.mode,xt),xt.ref=sh(vt,_t,yt),xt.return=vt,vt=xt)}return it(vt);case wa:e:{for(Ct=yt.key;_t!==null;){if(_t.key===Ct)if(_t.tag===4&&_t.stateNode.containerInfo===yt.containerInfo&&_t.stateNode.implementation===yt.implementation){_e(vt,_t.sibling),_t=nt(_t,yt.children||[]),_t.return=vt,vt=_t;break e}else{_e(vt,_t);break}else $(vt,_t);_t=_t.sibling}_t=zh(yt,vt.mode,xt),_t.return=vt,vt=_t}return it(vt);case Ha:return Ct=yt._init,gt(vt,_t,Ct(yt._payload),xt)}if(eb(yt))return mt(vt,_t,yt,xt);if(Ka(yt))return ht(vt,_t,yt,xt);th(vt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?(yt=""+yt,_t!==null&&_t.tag===6?(_e(vt,_t.sibling),_t=nt(_t,yt),_t.return=vt,vt=_t):(_e(vt,_t),_t=xh(yt,vt.mode,xt),_t.return=vt,vt=_t),it(vt)):_e(vt,_t)}return gt}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$8(174));return et}function Ih(et,$){switch(G(Gh,$),G(Fh,et),G(Eh,Dh),et=$.nodeType,et){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:et=et===8?$.parentNode:$,$=et.namespaceURI||null,et=et.tagName,$=lb($,et)}E$6(Eh),G(Eh,$)}function Jh(){E$6(Eh),E$6(Fh),E$6(Gh)}function Kh(et){Hh(Gh.current);var $=Hh(Eh.current),_e=lb($,et.type);$!==_e&&(G(Fh,et),G(Eh,_e))}function Lh(et){Fh.current===et&&(E$6(Eh),E$6(Fh))}var M$3=Uf(0);function Mh(et){for(var $=et;$!==null;){if($.tag===13){var _e=$.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===et)break;for(;$.sibling===null;){if($.return===null||$.return===et)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O=null,P$3=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$8(321))}function Wh(et,$){if($===null)return!1;for(var _e=0;_e<$.length&&_e<et.length;_e++)if(!He(et[_e],$[_e]))return!1;return!0}function Xh(et,$,_e,tt,nt,rt){if(Rh=rt,N$1=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=_e(tt,nt),Th){rt=0;do{if(Th=!1,Uh=0,25<=rt)throw Error(p$8(301));rt+=1,P$3=O=null,$.updateQueue=null,Ph.current=$h,et=_e(tt,nt)}while(Th)}if(Ph.current=ai,$=O!==null&&O.next!==null,Rh=0,P$3=O=N$1=null,Sh=!1,$)throw Error(p$8(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$1.memoizedState=P$3=et:P$3=P$3.next=et,P$3}function di(){if(O===null){var et=N$1.alternate;et=et!==null?et.memoizedState:null}else et=O.next;var $=P$3===null?N$1.memoizedState:P$3.next;if($!==null)P$3=$,O=et;else{if(et===null)throw Error(p$8(310));O=et,et={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P$3===null?N$1.memoizedState=P$3=et:P$3=P$3.next=et}return P$3}function ei(et,$){return typeof $=="function"?$(et):$}function fi(et){var $=di(),_e=$.queue;if(_e===null)throw Error(p$8(311));_e.lastRenderedReducer=et;var tt=O,nt=tt.baseQueue,rt=_e.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,_e.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var st=it=null,ot=null,at=rt;do{var lt=at.lane;if((Rh&lt)===lt)ot!==null&&(ot=ot.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),tt=at.hasEagerState?at.eagerState:et(tt,at.action);else{var dt={lane:lt,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};ot===null?(st=ot=dt,it=tt):ot=ot.next=dt,N$1.lanes|=lt,hh|=lt}at=at.next}while(at!==null&&at!==rt);ot===null?it=tt:ot.next=st,He(tt,$.memoizedState)||(Ug=!0),$.memoizedState=tt,$.baseState=it,$.baseQueue=ot,_e.lastRenderedState=tt}if(et=_e.interleaved,et!==null){nt=et;do rt=nt.lane,N$1.lanes|=rt,hh|=rt,nt=nt.next;while(nt!==et)}else nt===null&&(_e.lanes=0);return[$.memoizedState,_e.dispatch]}function gi(et){var $=di(),_e=$.queue;if(_e===null)throw Error(p$8(311));_e.lastRenderedReducer=et;var tt=_e.dispatch,nt=_e.pending,rt=$.memoizedState;if(nt!==null){_e.pending=null;var it=nt=nt.next;do rt=et(rt,it.action),it=it.next;while(it!==nt);He(rt,$.memoizedState)||(Ug=!0),$.memoizedState=rt,$.baseQueue===null&&($.baseState=rt),_e.lastRenderedState=rt}return[rt,tt]}function hi(){}function ii(et,$){var _e=N$1,tt=di(),nt=$(),rt=!He(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,Ug=!0),tt=tt.queue,ji(ki.bind(null,_e,tt,et),[et]),tt.getSnapshot!==$||rt||P$3!==null&&P$3.memoizedState.tag&1){if(_e.flags|=2048,li(9,mi.bind(null,_e,tt,nt,$),void 0,null),R===null)throw Error(p$8(349));Rh&30||ni(_e,$,nt)}return nt}function ni(et,$,_e){et.flags|=16384,et={getSnapshot:$,value:_e},$=N$1.updateQueue,$===null?($={lastEffect:null,stores:null},N$1.updateQueue=$,$.stores=[et]):(_e=$.stores,_e===null?$.stores=[et]:_e.push(et))}function mi(et,$,_e,tt){$.value=_e,$.getSnapshot=tt,oi($)&&pi(et)}function ki(et,$,_e){return _e(function(){oi($)&&pi(et)})}function oi(et){var $=et.getSnapshot;et=et.value;try{var _e=$();return!He(et,_e)}catch{return!0}}function pi(et){var $=Zg(et,1);$!==null&&mh($,et,1,-1)}function qi(et){var $=ci();return typeof et=="function"&&(et=et()),$.memoizedState=$.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},$.queue=et,et=et.dispatch=ri.bind(null,N$1,et),[$.memoizedState,et]}function li(et,$,_e,tt){return et={tag:et,create:$,destroy:_e,deps:tt,next:null},$=N$1.updateQueue,$===null?($={lastEffect:null,stores:null},N$1.updateQueue=$,$.lastEffect=et.next=et):(_e=$.lastEffect,_e===null?$.lastEffect=et.next=et:(tt=_e.next,_e.next=et,et.next=tt,$.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,$,_e,tt){var nt=ci();N$1.flags|=et,nt.memoizedState=li(1|$,_e,void 0,tt===void 0?null:tt)}function ui(et,$,_e,tt){var nt=di();tt=tt===void 0?null:tt;var rt=void 0;if(O!==null){var it=O.memoizedState;if(rt=it.destroy,tt!==null&&Wh(tt,it.deps)){nt.memoizedState=li($,_e,rt,tt);return}}N$1.flags|=et,nt.memoizedState=li(1|$,_e,rt,tt)}function vi(et,$){return ti(8390656,8,et,$)}function ji(et,$){return ui(2048,8,et,$)}function wi(et,$){return ui(4,2,et,$)}function xi(et,$){return ui(4,4,et,$)}function yi(et,$){if(typeof $=="function")return et=et(),$(et),function(){$(null)};if($!=null)return et=et(),$.current=et,function(){$.current=null}}function zi(et,$,_e){return _e=_e!=null?_e.concat([et]):null,ui(4,4,yi.bind(null,$,et),_e)}function Ai(){}function Bi(et,$){var _e=di();$=$===void 0?null:$;var tt=_e.memoizedState;return tt!==null&&$!==null&&Wh($,tt[1])?tt[0]:(_e.memoizedState=[et,$],et)}function Ci(et,$){var _e=di();$=$===void 0?null:$;var tt=_e.memoizedState;return tt!==null&&$!==null&&Wh($,tt[1])?tt[0]:(et=et(),_e.memoizedState=[et,$],et)}function Di(et,$,_e){return Rh&21?(He(_e,$)||(_e=yc(),N$1.lanes|=_e,hh|=_e,et.baseState=!0),$):(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=_e)}function Ei(et,$){var _e=C$5;C$5=_e!==0&&4>_e?_e:4,et(!0);var tt=Qh.transition;Qh.transition={};try{et(!1),$()}finally{C$5=_e,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi(et,$,_e){var tt=lh(et);if(_e={lane:tt,action:_e,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii($,_e);else if(_e=Yg(et,$,_e,tt),_e!==null){var nt=L$1();mh(_e,et,tt,nt),Ji(_e,$,tt)}}function ri(et,$,_e){var tt=lh(et),nt={lane:tt,action:_e,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii($,nt);else{var rt=et.alternate;if(et.lanes===0&&(rt===null||rt.lanes===0)&&(rt=$.lastRenderedReducer,rt!==null))try{var it=$.lastRenderedState,st=rt(it,_e);if(nt.hasEagerState=!0,nt.eagerState=st,He(st,it)){var ot=$.interleaved;ot===null?(nt.next=nt,Xg($)):(nt.next=ot.next,ot.next=nt),$.interleaved=nt;return}}catch{}finally{}_e=Yg(et,$,nt,tt),_e!==null&&(nt=L$1(),mh(_e,et,tt,nt),Ji(_e,$,tt))}}function Hi(et){var $=et.alternate;return et===N$1||$!==null&&$===N$1}function Ii(et,$){Th=Sh=!0;var _e=et.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),et.pending=$}function Ji(et,$,_e){if(_e&4194240){var tt=$.lanes;tt&=et.pendingLanes,_e|=tt,$.lanes=_e,Cc(et,_e)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,$){return ci().memoizedState=[et,$===void 0?null:$],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,$,_e){return _e=_e!=null?_e.concat([et]):null,ti(4194308,4,yi.bind(null,$,et),_e)},useLayoutEffect:function(et,$){return ti(4194308,4,et,$)},useInsertionEffect:function(et,$){return ti(4,2,et,$)},useMemo:function(et,$){var _e=ci();return $=$===void 0?null:$,et=et(),_e.memoizedState=[et,$],et},useReducer:function(et,$,_e){var tt=ci();return $=_e!==void 0?_e($):$,tt.memoizedState=tt.baseState=$,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:$},tt.queue=et,et=et.dispatch=Gi.bind(null,N$1,et),[tt.memoizedState,et]},useRef:function(et){var $=ci();return et={current:et},$.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),$=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[$,et]},useMutableSource:function(){},useSyncExternalStore:function(et,$,_e){var tt=N$1,nt=ci();if(I$3){if(_e===void 0)throw Error(p$8(407));_e=_e()}else{if(_e=$(),R===null)throw Error(p$8(349));Rh&30||ni(tt,$,_e)}nt.memoizedState=_e;var rt={value:_e,getSnapshot:$};return nt.queue=rt,vi(ki.bind(null,tt,rt,et),[et]),tt.flags|=2048,li(9,mi.bind(null,tt,rt,_e,$),void 0,null),_e},useId:function(){var et=ci(),$=R.identifierPrefix;if(I$3){var _e=sg,tt=rg;_e=(tt&~(1<<32-oc(tt)-1)).toString(32)+_e,$=":"+$+"R"+_e,_e=Uh++,0<_e&&($+="H"+_e.toString(32)),$+=":"}else _e=Vh++,$=":"+$+"r"+_e.toString(32)+":";return et.memoizedState=$},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var $=di();return Di($,O.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],$=di().memoizedState;return[et,$]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var $=di();return O===null?$.memoizedState=et:Di($,O.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],$=di().memoizedState;return[et,$]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,$){try{var _e="",tt=$;do _e+=Pa(tt),tt=tt.return;while(tt);var nt=_e}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:et,source:$,stack:nt,digest:null}}function Li(et,$,_e){return{value:et,source:null,stack:_e??null,digest:$??null}}function Mi(et,$){try{console.error($.value)}catch(_e){setTimeout(function(){throw _e})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,$,_e){_e=ch(-1,_e),_e.tag=3,_e.payload={element:null};var tt=$.value;return _e.callback=function(){Pi||(Pi=!0,Qi=tt),Mi(et,$)},_e}function Ri(et,$,_e){_e=ch(-1,_e),_e.tag=3;var tt=et.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=$.value;_e.payload=function(){return tt(nt)},_e.callback=function(){Mi(et,$)}}var rt=et.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(_e.callback=function(){Mi(et,$),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var it=$.stack;this.componentDidCatch($.value,{componentStack:it!==null?it:""})}),_e}function Ti(et,$,_e){var tt=et.pingCache;if(tt===null){tt=et.pingCache=new Ni;var nt=new Set;tt.set($,nt)}else nt=tt.get($),nt===void 0&&(nt=new Set,tt.set($,nt));nt.has(_e)||(nt.add(_e),et=Ui.bind(null,et,$,_e),$.then(et,et))}function Vi(et){do{var $;if(($=et.tag===13)&&($=et.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return et;et=et.return}while(et!==null);return null}function Wi(et,$,_e,tt,nt){return et.mode&1?(et.flags|=65536,et.lanes=nt,et):(et===$?et.flags|=65536:(et.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:($=ch(-1,1),$.tag=2,dh(_e,$,1))),_e.lanes|=1),et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,$,_e,tt){$.child=et===null?Ch($,null,_e,tt):Bh($,et.child,_e,tt)}function Zi(et,$,_e,tt,nt){_e=_e.render;var rt=$.ref;return Tg($,nt),tt=Xh(et,$,_e,tt,rt,nt),_e=bi(),et!==null&&!Ug?($.updateQueue=et.updateQueue,$.flags&=-2053,et.lanes&=~nt,$i(et,$,nt)):(I$3&&_e&&vg($),$.flags|=1,Yi(et,$,tt,nt),$.child)}function aj(et,$,_e,tt,nt){if(et===null){var rt=_e.type;return typeof rt=="function"&&!bj(rt)&&rt.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?($.tag=15,$.type=rt,cj(et,$,rt,tt,nt)):(et=yh(_e.type,null,tt,$,$.mode,nt),et.ref=$.ref,et.return=$,$.child=et)}if(rt=et.child,!(et.lanes&nt)){var it=rt.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(it,tt)&&et.ref===$.ref)return $i(et,$,nt)}return $.flags|=1,et=wh(rt,tt),et.ref=$.ref,et.return=$,$.child=et}function cj(et,$,_e,tt,nt){if(et!==null){var rt=et.memoizedProps;if(Ie(rt,tt)&&et.ref===$.ref)if(Ug=!1,$.pendingProps=tt=rt,(et.lanes&nt)!==0)et.flags&131072&&(Ug=!0);else return $.lanes=et.lanes,$i(et,$,nt)}return dj(et,$,_e,tt,nt)}function ej(et,$,_e){var tt=$.pendingProps,nt=tt.children,rt=et!==null?et.memoizedState:null;if(tt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=_e;else{if(!(_e&1073741824))return et=rt!==null?rt.baseLanes|_e:_e,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:et,cachePool:null,transitions:null},$.updateQueue=null,G(fj,gj),gj|=et,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:_e,G(fj,gj),gj|=tt}else rt!==null?(tt=rt.baseLanes|_e,$.memoizedState=null):tt=_e,G(fj,gj),gj|=tt;return Yi(et,$,nt,_e),$.child}function hj(et,$){var _e=$.ref;(et===null&&_e!==null||et!==null&&et.ref!==_e)&&($.flags|=512,$.flags|=2097152)}function dj(et,$,_e,tt,nt){var rt=Zf(_e)?Xf:H.current;return rt=Yf($,rt),Tg($,nt),_e=Xh(et,$,_e,tt,rt,nt),tt=bi(),et!==null&&!Ug?($.updateQueue=et.updateQueue,$.flags&=-2053,et.lanes&=~nt,$i(et,$,nt)):(I$3&&tt&&vg($),$.flags|=1,Yi(et,$,_e,nt),$.child)}function ij(et,$,_e,tt,nt){if(Zf(_e)){var rt=!0;cg($)}else rt=!1;if(Tg($,nt),$.stateNode===null)jj(et,$),ph($,_e,tt),rh($,_e,tt,nt),tt=!0;else if(et===null){var it=$.stateNode,st=$.memoizedProps;it.props=st;var ot=it.context,at=_e.contextType;typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(_e)?Xf:H.current,at=Yf($,at));var lt=_e.getDerivedStateFromProps,dt=typeof lt=="function"||typeof it.getSnapshotBeforeUpdate=="function";dt||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==tt||ot!==at)&&qh($,it,tt,at),$g=!1;var ct=$.memoizedState;it.state=ct,gh($,tt,it,nt),ot=$.memoizedState,st!==tt||ct!==ot||Wf.current||$g?(typeof lt=="function"&&(kh($,_e,lt,tt),ot=$.memoizedState),(st=$g||oh($,_e,st,tt,ct,ot,at))?(dt||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&($.flags|=4194308)):(typeof it.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=tt,$.memoizedState=ot),it.props=tt,it.state=ot,it.context=at,tt=st):(typeof it.componentDidMount=="function"&&($.flags|=4194308),tt=!1)}else{it=$.stateNode,bh(et,$),st=$.memoizedProps,at=$.type===$.elementType?st:Lg($.type,st),it.props=at,dt=$.pendingProps,ct=it.context,ot=_e.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(_e)?Xf:H.current,ot=Yf($,ot));var pt=_e.getDerivedStateFromProps;(lt=typeof pt=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==dt||ct!==ot)&&qh($,it,tt,ot),$g=!1,ct=$.memoizedState,it.state=ct,gh($,tt,it,nt);var mt=$.memoizedState;st!==dt||ct!==mt||Wf.current||$g?(typeof pt=="function"&&(kh($,_e,pt,tt),mt=$.memoizedState),(at=$g||oh($,_e,at,tt,ct,mt,ot)||!1)?(lt||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,mt,ot),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,mt,ot)),typeof it.componentDidUpdate=="function"&&($.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof it.componentDidUpdate!="function"||st===et.memoizedProps&&ct===et.memoizedState||($.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===et.memoizedProps&&ct===et.memoizedState||($.flags|=1024),$.memoizedProps=tt,$.memoizedState=mt),it.props=tt,it.state=mt,it.context=ot,tt=at):(typeof it.componentDidUpdate!="function"||st===et.memoizedProps&&ct===et.memoizedState||($.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===et.memoizedProps&&ct===et.memoizedState||($.flags|=1024),tt=!1)}return kj(et,$,_e,tt,rt,nt)}function kj(et,$,_e,tt,nt,rt){hj(et,$);var it=($.flags&128)!==0;if(!tt&&!it)return nt&&dg($,_e,!1),$i(et,$,rt);tt=$.stateNode,Xi.current=$;var st=it&&typeof _e.getDerivedStateFromError!="function"?null:tt.render();return $.flags|=1,et!==null&&it?($.child=Bh($,et.child,null,rt),$.child=Bh($,null,st,rt)):Yi(et,$,st,rt),$.memoizedState=tt.state,nt&&dg($,_e,!0),$.child}function lj(et){var $=et.stateNode;$.pendingContext?ag(et,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(et,$.context,!1),Ih(et,$.containerInfo)}function mj(et,$,_e,tt,nt){return Ig(),Jg(nt),$.flags|=256,Yi(et,$,_e,tt),$.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,$,_e){var tt=$.pendingProps,nt=M$3.current,rt=!1,it=($.flags&128)!==0,st;if((st=it)||(st=et!==null&&et.memoizedState===null?!1:(nt&2)!==0),st?(rt=!0,$.flags&=-129):(et===null||et.memoizedState!==null)&&(nt|=1),G(M$3,nt&1),et===null)return Eg($),et=$.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?($.mode&1?et.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(it=tt.children,et=tt.fallback,rt?(tt=$.mode,rt=$.child,it={mode:"hidden",children:it},!(tt&1)&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=qj(it,tt,0,null),et=Ah(et,tt,_e,null),rt.return=$,et.return=$,rt.sibling=et,$.child=rt,$.child.memoizedState=oj(_e),$.memoizedState=nj,et):rj($,it));if(nt=et.memoizedState,nt!==null&&(st=nt.dehydrated,st!==null))return sj(et,$,it,tt,st,nt,_e);if(rt){rt=tt.fallback,it=$.mode,nt=et.child,st=nt.sibling;var ot={mode:"hidden",children:tt.children};return!(it&1)&&$.child!==nt?(tt=$.child,tt.childLanes=0,tt.pendingProps=ot,$.deletions=null):(tt=wh(nt,ot),tt.subtreeFlags=nt.subtreeFlags&14680064),st!==null?rt=wh(st,rt):(rt=Ah(rt,it,_e,null),rt.flags|=2),rt.return=$,tt.return=$,tt.sibling=rt,$.child=tt,tt=rt,rt=$.child,it=et.child.memoizedState,it=it===null?oj(_e):{baseLanes:it.baseLanes|_e,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=et.childLanes&~_e,$.memoizedState=nj,tt}return rt=et.child,et=rt.sibling,tt=wh(rt,{mode:"visible",children:tt.children}),!($.mode&1)&&(tt.lanes=_e),tt.return=$,tt.sibling=null,et!==null&&(_e=$.deletions,_e===null?($.deletions=[et],$.flags|=16):_e.push(et)),$.child=tt,$.memoizedState=null,tt}function rj(et,$){return $=qj({mode:"visible",children:$},et.mode,0,null),$.return=et,et.child=$}function tj(et,$,_e,tt){return tt!==null&&Jg(tt),Bh($,et.child,null,_e),et=rj($,$.pendingProps.children),et.flags|=2,$.memoizedState=null,et}function sj(et,$,_e,tt,nt,rt,it){if(_e)return $.flags&256?($.flags&=-257,tt=Li(Error(p$8(422))),tj(et,$,it,tt)):$.memoizedState!==null?($.child=et.child,$.flags|=128,null):(rt=tt.fallback,nt=$.mode,tt=qj({mode:"visible",children:tt.children},nt,0,null),rt=Ah(rt,nt,it,null),rt.flags|=2,tt.return=$,rt.return=$,tt.sibling=rt,$.child=tt,$.mode&1&&Bh($,et.child,null,it),$.child.memoizedState=oj(it),$.memoizedState=nj,rt);if(!($.mode&1))return tj(et,$,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var st=tt.dgst;return tt=st,rt=Error(p$8(419)),tt=Li(rt,tt,void 0),tj(et,$,it,tt)}if(st=(it&et.childLanes)!==0,Ug||st){if(tt=R,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|it)?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,Zg(et,nt),mh(tt,et,nt,-1))}return uj(),tt=Li(Error(p$8(421))),tj(et,$,it,tt)}return nt.data==="$?"?($.flags|=128,$.child=et.child,$=vj.bind(null,et),nt._reactRetry=$,null):(et=rt.treeContext,yg=Lf(nt.nextSibling),xg=$,I$3=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=$),$=rj($,tt.children),$.flags|=4096,$)}function wj(et,$,_e){et.lanes|=$;var tt=et.alternate;tt!==null&&(tt.lanes|=$),Sg(et.return,$,_e)}function xj(et,$,_e,tt,nt){var rt=et.memoizedState;rt===null?et.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:tt,tail:_e,tailMode:nt}:(rt.isBackwards=$,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=_e,rt.tailMode=nt)}function yj(et,$,_e){var tt=$.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Yi(et,$,tt.children,_e),tt=M$3.current,tt&2)tt=tt&1|2,$.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=$.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,_e,$);else if(et.tag===19)wj(et,_e,$);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===$)break e;for(;et.sibling===null;){if(et.return===null||et.return===$)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}tt&=1}if(G(M$3,tt),!($.mode&1))$.memoizedState=null;else switch(nt){case"forwards":for(_e=$.child,nt=null;_e!==null;)et=_e.alternate,et!==null&&Mh(et)===null&&(nt=_e),_e=_e.sibling;_e=nt,_e===null?(nt=$.child,$.child=null):(nt=_e.sibling,_e.sibling=null),xj($,!1,nt,_e,rt);break;case"backwards":for(_e=null,nt=$.child,$.child=null;nt!==null;){if(et=nt.alternate,et!==null&&Mh(et)===null){$.child=nt;break}et=nt.sibling,nt.sibling=_e,_e=nt,nt=et}xj($,!0,_e,null,rt);break;case"together":xj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function jj(et,$){!($.mode&1)&&et!==null&&(et.alternate=null,$.alternate=null,$.flags|=2)}function $i(et,$,_e){if(et!==null&&($.dependencies=et.dependencies),hh|=$.lanes,!(_e&$.childLanes))return null;if(et!==null&&$.child!==et.child)throw Error(p$8(153));if($.child!==null){for(et=$.child,_e=wh(et,et.pendingProps),$.child=_e,_e.return=$;et.sibling!==null;)et=et.sibling,_e=_e.sibling=wh(et,et.pendingProps),_e.return=$;_e.sibling=null}return $.child}function zj(et,$,_e){switch($.tag){case 3:lj($),Ig();break;case 5:Kh($);break;case 1:Zf($.type)&&cg($);break;case 4:Ih($,$.stateNode.containerInfo);break;case 10:var tt=$.type._context,nt=$.memoizedProps.value;G(Mg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=$.memoizedState,tt!==null)return tt.dehydrated!==null?(G(M$3,M$3.current&1),$.flags|=128,null):_e&$.child.childLanes?pj(et,$,_e):(G(M$3,M$3.current&1),et=$i(et,$,_e),et!==null?et.sibling:null);G(M$3,M$3.current&1);break;case 19:if(tt=(_e&$.childLanes)!==0,et.flags&128){if(tt)return yj(et,$,_e);$.flags|=128}if(nt=$.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G(M$3,M$3.current),tt)break;return null;case 22:case 23:return $.lanes=0,ej(et,$,_e)}return $i(et,$,_e)}var Aj,Bj,Cj,Dj;Aj=function(et,$){for(var _e=$.child;_e!==null;){if(_e.tag===5||_e.tag===6)et.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}};Bj=function(){};Cj=function(et,$,_e,tt){var nt=et.memoizedProps;if(nt!==tt){et=$.stateNode,Hh(Eh.current);var rt=null;switch(_e){case"input":nt=Ya(et,nt),tt=Ya(et,tt),rt=[];break;case"select":nt=A({},nt,{value:void 0}),tt=A({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb(et,nt),tt=gb(et,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&(et.onclick=Bf)}ub(_e,tt);var it;_e=null;for(at in nt)if(!tt.hasOwnProperty(at)&&nt.hasOwnProperty(at)&&nt[at]!=null)if(at==="style"){var st=nt[at];for(it in st)st.hasOwnProperty(it)&&(_e||(_e={}),_e[it]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?rt||(rt=[]):(rt=rt||[]).push(at,null));for(at in tt){var ot=tt[at];if(st=nt!=null?nt[at]:void 0,tt.hasOwnProperty(at)&&ot!==st&&(ot!=null||st!=null))if(at==="style")if(st){for(it in st)!st.hasOwnProperty(it)||ot&&ot.hasOwnProperty(it)||(_e||(_e={}),_e[it]="");for(it in ot)ot.hasOwnProperty(it)&&st[it]!==ot[it]&&(_e||(_e={}),_e[it]=ot[it])}else _e||(rt||(rt=[]),rt.push(at,_e)),_e=ot;else at==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,st=st?st.__html:void 0,ot!=null&&st!==ot&&(rt=rt||[]).push(at,ot)):at==="children"?typeof ot!="string"&&typeof ot!="number"||(rt=rt||[]).push(at,""+ot):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(ea.hasOwnProperty(at)?(ot!=null&&at==="onScroll"&&D$1("scroll",et),rt||st===ot||(rt=[])):(rt=rt||[]).push(at,ot))}_e&&(rt=rt||[]).push("style",_e);var at=rt;($.updateQueue=at)&&($.flags|=4)}};Dj=function(et,$,_e,tt){_e!==tt&&($.flags|=4)};function Ej(et,$){if(!I$3)switch(et.tailMode){case"hidden":$=et.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?et.tail=null:_e.sibling=null;break;case"collapsed":_e=et.tail;for(var tt=null;_e!==null;)_e.alternate!==null&&(tt=_e),_e=_e.sibling;tt===null?$||et.tail===null?et.tail=null:et.tail.sibling=null:tt.sibling=null}}function S$5(et){var $=et.alternate!==null&&et.alternate.child===et.child,_e=0,tt=0;if($)for(var nt=et.child;nt!==null;)_e|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=et,nt=nt.sibling;else for(nt=et.child;nt!==null;)_e|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=et,nt=nt.sibling;return et.subtreeFlags|=tt,et.childLanes=_e,$}function Fj(et,$,_e){var tt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$5($),null;case 1:return Zf($.type)&&$f(),S$5($),null;case 3:return tt=$.stateNode,Jh(),E$6(Wf),E$6(H),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(et===null||et.child===null)&&(Gg($)?$.flags|=4:et===null||et.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,$),S$5($),null;case 5:Lh($);var nt=Hh(Gh.current);if(_e=$.type,et!==null&&$.stateNode!=null)Cj(et,$,_e,tt,nt),et.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!tt){if($.stateNode===null)throw Error(p$8(166));return S$5($),null}if(et=Hh(Eh.current),Gg($)){tt=$.stateNode,_e=$.type;var rt=$.memoizedProps;switch(tt[Of]=$,tt[Pf]=rt,et=($.mode&1)!==0,_e){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,rt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,rt),D$1("invalid",tt)}ub(_e,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var st=rt[it];it==="children"?typeof st=="string"?tt.textContent!==st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,et),nt=["children",st]):typeof st=="number"&&tt.textContent!==""+st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,et),nt=["children",""+st]):ea.hasOwnProperty(it)&&st!=null&&it==="onScroll"&&D$1("scroll",tt)}switch(_e){case"input":Va(tt),db(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,$.updateQueue=tt,tt!==null&&($.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(_e)),et==="http://www.w3.org/1999/xhtml"?_e==="script"?(et=it.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof tt.is=="string"?et=it.createElement(_e,{is:tt.is}):(et=it.createElement(_e),_e==="select"&&(it=et,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):et=it.createElementNS(et,_e),et[Of]=$,et[Pf]=tt,Aj(et,$,!1,!1),$.stateNode=et;e:{switch(it=vb(_e,tt),_e){case"dialog":D$1("cancel",et),D$1("close",et),nt=tt;break;case"iframe":case"object":case"embed":D$1("load",et),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],et);nt=tt;break;case"source":D$1("error",et),nt=tt;break;case"img":case"image":case"link":D$1("error",et),D$1("load",et),nt=tt;break;case"details":D$1("toggle",et),nt=tt;break;case"input":Za(et,tt),nt=Ya(et,tt),D$1("invalid",et);break;case"option":nt=tt;break;case"select":et._wrapperState={wasMultiple:!!tt.multiple},nt=A({},tt,{value:void 0}),D$1("invalid",et);break;case"textarea":hb(et,tt),nt=gb(et,tt),D$1("invalid",et);break;default:nt=tt}ub(_e,nt),st=nt;for(rt in st)if(st.hasOwnProperty(rt)){var ot=st[rt];rt==="style"?sb(et,ot):rt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(et,ot)):rt==="children"?typeof ot=="string"?(_e!=="textarea"||ot!=="")&&ob(et,ot):typeof ot=="number"&&ob(et,""+ot):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?ot!=null&&rt==="onScroll"&&D$1("scroll",et):ot!=null&&ta(et,rt,ot,it))}switch(_e){case"input":Va(et),db(et,tt,!1);break;case"textarea":Va(et),jb(et);break;case"option":tt.value!=null&&et.setAttribute("value",""+Sa(tt.value));break;case"select":et.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb(et,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb(et,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$5($),null;case 6:if(et&&$.stateNode!=null)Dj(et,$,et.memoizedProps,tt);else{if(typeof tt!="string"&&$.stateNode===null)throw Error(p$8(166));if(_e=Hh(Gh.current),Hh(Eh.current),Gg($)){if(tt=$.stateNode,_e=$.memoizedProps,tt[Of]=$,(rt=tt.nodeValue!==_e)&&(et=xg,et!==null))switch(et.tag){case 3:Af(tt.nodeValue,_e,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,_e,(et.mode&1)!==0)}rt&&($.flags|=4)}else tt=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(tt),tt[Of]=$,$.stateNode=tt}return S$5($),null;case 13:if(E$6(M$3),tt=$.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,rt=!1;else if(rt=Gg($),tt!==null&&tt.dehydrated!==null){if(et===null){if(!rt)throw Error(p$8(318));if(rt=$.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$8(317));rt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$5($),rt=!1}else zg!==null&&(Gj(zg),zg=null),rt=!0;if(!rt)return $.flags&65536?$:null}return $.flags&128?($.lanes=_e,$):(tt=tt!==null,tt!==(et!==null&&et.memoizedState!==null)&&tt&&($.child.flags|=8192,$.mode&1&&(et===null||M$3.current&1?T$1===0&&(T$1=3):uj())),$.updateQueue!==null&&($.flags|=4),S$5($),null);case 4:return Jh(),Bj(et,$),et===null&&sf($.stateNode.containerInfo),S$5($),null;case 10:return Rg($.type._context),S$5($),null;case 17:return Zf($.type)&&$f(),S$5($),null;case 19:if(E$6(M$3),rt=$.memoizedState,rt===null)return S$5($),null;if(tt=($.flags&128)!==0,it=rt.rendering,it===null)if(tt)Ej(rt,!1);else{if(T$1!==0||et!==null&&et.flags&128)for(et=$.child;et!==null;){if(it=Mh(et),it!==null){for($.flags|=128,Ej(rt,!1),tt=it.updateQueue,tt!==null&&($.updateQueue=tt,$.flags|=4),$.subtreeFlags=0,tt=_e,_e=$.child;_e!==null;)rt=_e,et=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=et,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,et=it.dependencies,rt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),_e=_e.sibling;return G(M$3,M$3.current&1|2),$.child}et=et.sibling}rt.tail!==null&&B()>Hj&&($.flags|=128,tt=!0,Ej(rt,!1),$.lanes=4194304)}else{if(!tt)if(et=Mh(it),et!==null){if($.flags|=128,tt=!0,_e=et.updateQueue,_e!==null&&($.updateQueue=_e,$.flags|=4),Ej(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I$3)return S$5($),null}else 2*B()-rt.renderingStartTime>Hj&&_e!==1073741824&&($.flags|=128,tt=!0,Ej(rt,!1),$.lanes=4194304);rt.isBackwards?(it.sibling=$.child,$.child=it):(_e=rt.last,_e!==null?_e.sibling=it:$.child=it,rt.last=it)}return rt.tail!==null?($=rt.tail,rt.rendering=$,rt.tail=$.sibling,rt.renderingStartTime=B(),$.sibling=null,_e=M$3.current,G(M$3,tt?_e&1|2:_e&1),$):(S$5($),null);case 22:case 23:return Ij(),tt=$.memoizedState!==null,et!==null&&et.memoizedState!==null!==tt&&($.flags|=8192),tt&&$.mode&1?gj&1073741824&&(S$5($),$.subtreeFlags&6&&($.flags|=8192)):S$5($),null;case 24:return null;case 25:return null}throw Error(p$8(156,$.tag))}function Jj(et,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),et=$.flags,et&65536?($.flags=et&-65537|128,$):null;case 3:return Jh(),E$6(Wf),E$6(H),Oh(),et=$.flags,et&65536&&!(et&128)?($.flags=et&-65537|128,$):null;case 5:return Lh($),null;case 13:if(E$6(M$3),et=$.memoizedState,et!==null&&et.dehydrated!==null){if($.alternate===null)throw Error(p$8(340));Ig()}return et=$.flags,et&65536?($.flags=et&-65537|128,$):null;case 19:return E$6(M$3),null;case 4:return Jh(),null;case 10:return Rg($.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(et,$){var _e=et.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(tt){W(et,$,tt)}else _e.current=null}function Nj(et,$,_e){try{_e()}catch(tt){W(et,$,tt)}}var Oj=!1;function Pj(et,$){if(Cf=dd,et=Me(),Ne(et)){if("selectionStart"in et)var _e={start:et.selectionStart,end:et.selectionEnd};else e:{_e=(_e=et.ownerDocument)&&_e.defaultView||window;var tt=_e.getSelection&&_e.getSelection();if(tt&&tt.rangeCount!==0){_e=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{_e.nodeType,rt.nodeType}catch{_e=null;break e}var it=0,st=-1,ot=-1,at=0,lt=0,dt=et,ct=null;t:for(;;){for(var pt;dt!==_e||nt!==0&&dt.nodeType!==3||(st=it+nt),dt!==rt||tt!==0&&dt.nodeType!==3||(ot=it+tt),dt.nodeType===3&&(it+=dt.nodeValue.length),(pt=dt.firstChild)!==null;)ct=dt,dt=pt;for(;;){if(dt===et)break t;if(ct===_e&&++at===nt&&(st=it),ct===rt&&++lt===tt&&(ot=it),(pt=dt.nextSibling)!==null)break;dt=ct,ct=dt.parentNode}dt=pt}_e=st===-1||ot===-1?null:{start:st,end:ot}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:et,selectionRange:_e},dd=!1,V=$;V!==null;)if($=V,et=$.child,($.subtreeFlags&1028)!==0&&et!==null)et.return=$,V=et;else for(;V!==null;){$=V;try{var mt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var ht=mt.memoizedProps,gt=mt.memoizedState,vt=$.stateNode,_t=vt.getSnapshotBeforeUpdate($.elementType===$.type?ht:Lg($.type,ht),gt);vt.__reactInternalSnapshotBeforeUpdate=_t}break;case 3:var yt=$.stateNode.containerInfo;yt.nodeType===1?yt.textContent="":yt.nodeType===9&&yt.documentElement&&yt.removeChild(yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$8(163))}}catch(xt){W($,$.return,xt)}if(et=$.sibling,et!==null){et.return=$.return,V=et;break}V=$.return}return mt=Oj,Oj=!1,mt}function Qj(et,$,_e){var tt=$.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&et)===et){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Nj($,_e,rt)}nt=nt.next}while(nt!==tt)}}function Rj(et,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var _e=$=$.next;do{if((_e.tag&et)===et){var tt=_e.create;_e.destroy=tt()}_e=_e.next}while(_e!==$)}}function Sj(et){var $=et.ref;if($!==null){var _e=et.stateNode;switch(et.tag){case 5:et=_e;break;default:et=_e}typeof $=="function"?$(et):$.current=et}}function Tj(et){var $=et.alternate;$!==null&&(et.alternate=null,Tj($)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&($=et.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,$,_e){var tt=et.tag;if(tt===5||tt===6)et=et.stateNode,$?_e.nodeType===8?_e.parentNode.insertBefore(et,$):_e.insertBefore(et,$):(_e.nodeType===8?($=_e.parentNode,$.insertBefore(et,_e)):($=_e,$.appendChild(et)),_e=_e._reactRootContainer,_e!=null||$.onclick!==null||($.onclick=Bf));else if(tt!==4&&(et=et.child,et!==null))for(Wj(et,$,_e),et=et.sibling;et!==null;)Wj(et,$,_e),et=et.sibling}function Xj(et,$,_e){var tt=et.tag;if(tt===5||tt===6)et=et.stateNode,$?_e.insertBefore(et,$):_e.appendChild(et);else if(tt!==4&&(et=et.child,et!==null))for(Xj(et,$,_e),et=et.sibling;et!==null;)Xj(et,$,_e),et=et.sibling}var X=null,Yj=!1;function Zj(et,$,_e){for(_e=_e.child;_e!==null;)ak(et,$,_e),_e=_e.sibling}function ak(et,$,_e){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U||Mj(_e,$);case 6:var tt=X,nt=Yj;X=null,Zj(et,$,_e),X=tt,Yj=nt,X!==null&&(Yj?(et=X,_e=_e.stateNode,et.nodeType===8?et.parentNode.removeChild(_e):et.removeChild(_e)):X.removeChild(_e.stateNode));break;case 18:X!==null&&(Yj?(et=X,_e=_e.stateNode,et.nodeType===8?Kf(et.parentNode,_e):et.nodeType===1&&Kf(et,_e),bd(et)):Kf(X,_e.stateNode));break;case 4:tt=X,nt=Yj,X=_e.stateNode.containerInfo,Yj=!0,Zj(et,$,_e),X=tt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U&&(tt=_e.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&(rt&2||rt&4)&&Nj(_e,$,it),nt=nt.next}while(nt!==tt)}Zj(et,$,_e);break;case 1:if(!U&&(Mj(_e,$),tt=_e.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=_e.memoizedProps,tt.state=_e.memoizedState,tt.componentWillUnmount()}catch(st){W(_e,$,st)}Zj(et,$,_e);break;case 21:Zj(et,$,_e);break;case 22:_e.mode&1?(U=(tt=U)||_e.memoizedState!==null,Zj(et,$,_e),U=tt):Zj(et,$,_e);break;default:Zj(et,$,_e)}}function bk(et){var $=et.updateQueue;if($!==null){et.updateQueue=null;var _e=et.stateNode;_e===null&&(_e=et.stateNode=new Lj),$.forEach(function(tt){var nt=ck.bind(null,et,tt);_e.has(tt)||(_e.add(tt),tt.then(nt,nt))})}}function dk(et,$){var _e=$.deletions;if(_e!==null)for(var tt=0;tt<_e.length;tt++){var nt=_e[tt];try{var rt=et,it=$,st=it;e:for(;st!==null;){switch(st.tag){case 5:X=st.stateNode,Yj=!1;break e;case 3:X=st.stateNode.containerInfo,Yj=!0;break e;case 4:X=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X===null)throw Error(p$8(160));ak(rt,it,nt),X=null,Yj=!1;var ot=nt.alternate;ot!==null&&(ot.return=null),nt.return=null}catch(at){W(nt,$,at)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)ek($,et),$=$.sibling}function ek(et,$){var _e=et.alternate,tt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk($,et),fk(et),tt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(ht){W(et,et.return,ht)}try{Qj(5,et,et.return)}catch(ht){W(et,et.return,ht)}}break;case 1:dk($,et),fk(et),tt&512&&_e!==null&&Mj(_e,_e.return);break;case 5:if(dk($,et),fk(et),tt&512&&_e!==null&&Mj(_e,_e.return),et.flags&32){var nt=et.stateNode;try{ob(nt,"")}catch(ht){W(et,et.return,ht)}}if(tt&4&&(nt=et.stateNode,nt!=null)){var rt=et.memoizedProps,it=_e!==null?_e.memoizedProps:rt,st=et.type,ot=et.updateQueue;if(et.updateQueue=null,ot!==null)try{st==="input"&&rt.type==="radio"&&rt.name!=null&&ab(nt,rt),vb(st,it);var at=vb(st,rt);for(it=0;it<ot.length;it+=2){var lt=ot[it],dt=ot[it+1];lt==="style"?sb(nt,dt):lt==="dangerouslySetInnerHTML"?nb(nt,dt):lt==="children"?ob(nt,dt):ta(nt,lt,dt,at)}switch(st){case"input":bb(nt,rt);break;case"textarea":ib(nt,rt);break;case"select":var ct=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var pt=rt.value;pt!=null?fb(nt,!!rt.multiple,pt,!1):ct!==!!rt.multiple&&(rt.defaultValue!=null?fb(nt,!!rt.multiple,rt.defaultValue,!0):fb(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(ht){W(et,et.return,ht)}}break;case 6:if(dk($,et),fk(et),tt&4){if(et.stateNode===null)throw Error(p$8(162));nt=et.stateNode,rt=et.memoizedProps;try{nt.nodeValue=rt}catch(ht){W(et,et.return,ht)}}break;case 3:if(dk($,et),fk(et),tt&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(ht){W(et,et.return,ht)}break;case 4:dk($,et),fk(et);break;case 13:dk($,et),fk(et),nt=et.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B())),tt&4&&bk(et);break;case 22:if(lt=_e!==null&&_e.memoizedState!==null,et.mode&1?(U=(at=U)||lt,dk($,et),U=at):dk($,et),fk(et),tt&8192){if(at=et.memoizedState!==null,(et.stateNode.isHidden=at)&&!lt&&et.mode&1)for(V=et,lt=et.child;lt!==null;){for(dt=V=lt;V!==null;){switch(ct=V,pt=ct.child,ct.tag){case 0:case 11:case 14:case 15:Qj(4,ct,ct.return);break;case 1:Mj(ct,ct.return);var mt=ct.stateNode;if(typeof mt.componentWillUnmount=="function"){tt=ct,_e=ct.return;try{$=tt,mt.props=$.memoizedProps,mt.state=$.memoizedState,mt.componentWillUnmount()}catch(ht){W(tt,_e,ht)}}break;case 5:Mj(ct,ct.return);break;case 22:if(ct.memoizedState!==null){hk(dt);continue}}pt!==null?(pt.return=ct,V=pt):hk(dt)}lt=lt.sibling}e:for(lt=null,dt=et;;){if(dt.tag===5){if(lt===null){lt=dt;try{nt=dt.stateNode,at?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(st=dt.stateNode,ot=dt.memoizedProps.style,it=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,st.style.display=rb("display",it))}catch(ht){W(et,et.return,ht)}}}else if(dt.tag===6){if(lt===null)try{dt.stateNode.nodeValue=at?"":dt.memoizedProps}catch(ht){W(et,et.return,ht)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===et)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===et)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===et)break e;lt===dt&&(lt=null),dt=dt.return}lt===dt&&(lt=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk($,et),fk(et),tt&4&&bk(et);break;case 21:break;default:dk($,et),fk(et)}}function fk(et){var $=et.flags;if($&2){try{e:{for(var _e=et.return;_e!==null;){if(Uj(_e)){var tt=_e;break e}_e=_e.return}throw Error(p$8(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var rt=Vj(et);Xj(et,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,st=Vj(et);Wj(et,st,it);break;default:throw Error(p$8(161))}}catch(ot){W(et,et.return,ot)}et.flags&=-3}$&4096&&(et.flags&=-4097)}function ik(et,$,_e){V=et,jk(et)}function jk(et,$,_e){for(var tt=(et.mode&1)!==0;V!==null;){var nt=V,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Kj;if(!it){var st=nt.alternate,ot=st!==null&&st.memoizedState!==null||U;st=Kj;var at=U;if(Kj=it,(U=ot)&&!at)for(V=nt;V!==null;)it=V,ot=it.child,it.tag===22&&it.memoizedState!==null?kk(nt):ot!==null?(ot.return=it,V=ot):kk(nt);for(;rt!==null;)V=rt,jk(rt),rt=rt.sibling;V=nt,Kj=st,U=at}lk(et)}else nt.subtreeFlags&8772&&rt!==null?(rt.return=nt,V=rt):lk(et)}}function lk(et){for(;V!==null;){var $=V;if($.flags&8772){var _e=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U||Rj(5,$);break;case 1:var tt=$.stateNode;if($.flags&4&&!U)if(_e===null)tt.componentDidMount();else{var nt=$.elementType===$.type?_e.memoizedProps:Lg($.type,_e.memoizedProps);tt.componentDidUpdate(nt,_e.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=$.updateQueue;rt!==null&&ih($,rt,tt);break;case 3:var it=$.updateQueue;if(it!==null){if(_e=null,$.child!==null)switch($.child.tag){case 5:_e=$.child.stateNode;break;case 1:_e=$.child.stateNode}ih($,it,_e)}break;case 5:var st=$.stateNode;if(_e===null&&$.flags&4){_e=st;var ot=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&_e.focus();break;case"img":ot.src&&(_e.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var at=$.alternate;if(at!==null){var lt=at.memoizedState;if(lt!==null){var dt=lt.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$8(163))}U||$.flags&512&&Sj($)}catch(ct){W($,$.return,ct)}}if($===et){V=null;break}if(_e=$.sibling,_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function hk(et){for(;V!==null;){var $=V;if($===et){V=null;break}var _e=$.sibling;if(_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function kk(et){for(;V!==null;){var $=V;try{switch($.tag){case 0:case 11:case 15:var _e=$.return;try{Rj(4,$)}catch(ot){W($,_e,ot)}break;case 1:var tt=$.stateNode;if(typeof tt.componentDidMount=="function"){var nt=$.return;try{tt.componentDidMount()}catch(ot){W($,nt,ot)}}var rt=$.return;try{Sj($)}catch(ot){W($,rt,ot)}break;case 5:var it=$.return;try{Sj($)}catch(ot){W($,it,ot)}}}catch(ot){W($,$.return,ot)}if($===et){V=null;break}var st=$.sibling;if(st!==null){st.return=$.return,V=st;break}V=$.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(et){return et.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$5,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function mh(et,$,_e,tt){if(50<zk)throw zk=0,Ak=null,Error(p$8(185));Ac(et,_e,tt),(!(K&2)||et!==R)&&(et===R&&(!(K&2)&&(rk|=_e),T$1===4&&Dk(et,Z$1)),Ek(et,tt),_e===1&&K===0&&!($.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(et,$){var _e=et.callbackNode;wc(et,$);var tt=uc(et,et===R?Z$1:0);if(tt===0)_e!==null&&bc(_e),et.callbackNode=null,et.callbackPriority=0;else if($=tt&-tt,et.callbackPriority!==$){if(_e!=null&&bc(_e),$===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){!(K&6)&&jg()}),_e=null;else{switch(Dc(tt)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Gk(_e,Hk.bind(null,et))}et.callbackPriority=$,et.callbackNode=_e}}function Hk(et,$){if(Bk=-1,Ck=0,K&6)throw Error(p$8(327));var _e=et.callbackNode;if(Ik()&&et.callbackNode!==_e)return null;var tt=uc(et,et===R?Z$1:0);if(tt===0)return null;if(tt&30||tt&et.expiredLanes||$)$=Jk(et,tt);else{$=tt;var nt=K;K|=2;var rt=Kk();(R!==et||Z$1!==$)&&(vk=null,Hj=B()+500,Lk(et,$));do try{Mk();break}catch(st){Nk(et,st)}while(1);Qg(),nk.current=rt,K=nt,Y!==null?$=0:(R=null,Z$1=0,$=T$1)}if($!==0){if($===2&&(nt=xc(et),nt!==0&&(tt=nt,$=Ok(et,nt))),$===1)throw _e=qk,Lk(et,0),Dk(et,tt),Ek(et,B()),_e;if($===6)Dk(et,tt);else{if(nt=et.current.alternate,!(tt&30)&&!Pk(nt)&&($=Jk(et,tt),$===2&&(rt=xc(et),rt!==0&&(tt=rt,$=Ok(et,rt))),$===1))throw _e=qk,Lk(et,0),Dk(et,tt),Ek(et,B()),_e;switch(et.finishedWork=nt,et.finishedLanes=tt,$){case 0:case 1:throw Error(p$8(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,tt),(tt&130023424)===tt&&($=gk+500-B(),10<$)){if(uc(et,0)!==0)break;if(nt=et.suspendedLanes,(nt&tt)!==tt){L$1(),et.pingedLanes|=et.suspendedLanes&nt;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),$);break}Qk(et,uk,vk);break;case 4:if(Dk(et,tt),(tt&4194240)===tt)break;for($=et.eventTimes,nt=-1;0<tt;){var it=31-oc(tt);rt=1<<it,it=$[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),tt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$8(329))}}}return Ek(et,B()),et.callbackNode===_e?Hk.bind(null,et):null}function Ok(et,$){var _e=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,$).flags|=256),et=Jk(et,$),et!==2&&($=uk,uk=_e,$!==null&&Gj($)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var $=et;;){if($.flags&16384){var _e=$.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var tt=0;tt<_e.length;tt++){var nt=_e[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He(rt(),nt))return!1}catch{return!1}}}if(_e=$.child,$.subtreeFlags&16384&&_e!==null)_e.return=$,$=_e;else{if($===et)break;for(;$.sibling===null;){if($.return===null||$.return===et)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Dk(et,$){for($&=~sk,$&=~rk,et.suspendedLanes|=$,et.pingedLanes&=~$,et=et.expirationTimes;0<$;){var _e=31-oc($),tt=1<<_e;et[_e]=-1,$&=~tt}}function Fk(et){if(K&6)throw Error(p$8(327));Ik();var $=uc(et,0);if(!($&1))return Ek(et,B()),null;var _e=Jk(et,$);if(et.tag!==0&&_e===2){var tt=xc(et);tt!==0&&($=tt,_e=Ok(et,tt))}if(_e===1)throw _e=qk,Lk(et,0),Dk(et,$),Ek(et,B()),_e;if(_e===6)throw Error(p$8(345));return et.finishedWork=et.current.alternate,et.finishedLanes=$,Qk(et,uk,vk),Ek(et,B()),null}function Rk(et,$){var _e=K;K|=1;try{return et($)}finally{K=_e,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var $=K;K|=1;var _e=pk.transition,tt=C$5;try{if(pk.transition=null,C$5=1,et)return et()}finally{C$5=tt,pk.transition=_e,K=$,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$6(fj)}function Lk(et,$){et.finishedWork=null,et.finishedLanes=0;var _e=et.timeoutHandle;if(_e!==-1&&(et.timeoutHandle=-1,Gf(_e)),Y!==null)for(_e=Y.return;_e!==null;){var tt=_e;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$6(Wf),E$6(H),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$6(M$3);break;case 19:E$6(M$3);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}_e=_e.return}if(R=et,Y=et=wh(et.current,null),Z$1=gj=$,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for($=0;$<Wg.length;$++)if(_e=Wg[$],tt=_e.interleaved,tt!==null){_e.interleaved=null;var nt=tt.next,rt=_e.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}_e.pending=tt}Wg=null}return et}function Nk(et,$){do{var _e=Y;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$1.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$3=O=N$1=null,Th=!1,Uh=0,ok.current=null,_e===null||_e.return===null){T$1=1,qk=$,Y=null;break}e:{var rt=et,it=_e.return,st=_e,ot=$;if($=Z$1,st.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var at=ot,lt=st,dt=lt.tag;if(!(lt.mode&1)&&(dt===0||dt===11||dt===15)){var ct=lt.alternate;ct?(lt.updateQueue=ct.updateQueue,lt.memoizedState=ct.memoizedState,lt.lanes=ct.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var pt=Vi(it);if(pt!==null){pt.flags&=-257,Wi(pt,it,st,rt,$),pt.mode&1&&Ti(rt,at,$),$=pt,ot=at;var mt=$.updateQueue;if(mt===null){var ht=new Set;ht.add(ot),$.updateQueue=ht}else mt.add(ot);break e}else{if(!($&1)){Ti(rt,at,$),uj();break e}ot=Error(p$8(426))}}else if(I$3&&st.mode&1){var gt=Vi(it);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Wi(gt,it,st,rt,$),Jg(Ki(ot,st));break e}}rt=ot=Ki(ot,st),T$1!==4&&(T$1=2),tk===null?tk=[rt]:tk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,$&=-$,rt.lanes|=$;var vt=Oi(rt,ot,$);fh(rt,vt);break e;case 1:st=ot;var _t=rt.type,yt=rt.stateNode;if(!(rt.flags&128)&&(typeof _t.getDerivedStateFromError=="function"||yt!==null&&typeof yt.componentDidCatch=="function"&&(Si===null||!Si.has(yt)))){rt.flags|=65536,$&=-$,rt.lanes|=$;var xt=Ri(rt,st,$);fh(rt,xt);break e}}rt=rt.return}while(rt!==null)}Tk(_e)}catch(At){$=At,Y===_e&&_e!==null&&(Y=_e=_e.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z$1)}function Jk(et,$){var _e=K;K|=2;var tt=Kk();(R!==et||Z$1!==$)&&(vk=null,Lk(et,$));do try{Uk();break}catch(nt){Nk(et,nt)}while(1);if(Qg(),K=_e,nk.current=tt,Y!==null)throw Error(p$8(261));return R=null,Z$1=0,T$1}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(et){var $=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,$===null?Tk(et):Y=$,ok.current=null}function Tk(et){var $=et;do{var _e=$.alternate;if(et=$.return,$.flags&32768){if(_e=Jj(_e,$),_e!==null){_e.flags&=32767,Y=_e;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$1=6,Y=null;return}}else if(_e=Fj(_e,$,gj),_e!==null){Y=_e;return}if($=$.sibling,$!==null){Y=$;return}Y=$=et}while($!==null);T$1===0&&(T$1=5)}function Qk(et,$,_e){var tt=C$5,nt=pk.transition;try{pk.transition=null,C$5=1,Xk(et,$,_e,tt)}finally{pk.transition=nt,C$5=tt}return null}function Xk(et,$,_e,tt){do Ik();while(xk!==null);if(K&6)throw Error(p$8(327));_e=et.finishedWork;var nt=et.finishedLanes;if(_e===null)return null;if(et.finishedWork=null,et.finishedLanes=0,_e===et.current)throw Error(p$8(177));et.callbackNode=null,et.callbackPriority=0;var rt=_e.lanes|_e.childLanes;if(Bc(et,rt),et===R&&(Y=R=null,Z$1=0),!(_e.subtreeFlags&2064)&&!(_e.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),rt=(_e.flags&15990)!==0,_e.subtreeFlags&15990||rt){rt=pk.transition,pk.transition=null;var it=C$5;C$5=1;var st=K;K|=4,ok.current=null,Pj(et,_e),ek(_e,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=_e,ik(_e),dc(),K=st,C$5=it,pk.transition=rt}else et.current=_e;if(wk&&(wk=!1,xk=et,yk=nt),rt=et.pendingLanes,rt===0&&(Si=null),mc(_e.stateNode),Ek(et,B()),$!==null)for(tt=et.onRecoverableError,_e=0;_e<$.length;_e++)nt=$[_e],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return yk&1&&et.tag!==0&&Ik(),rt=et.pendingLanes,rt&1?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),$=pk.transition,_e=C$5;try{if(pk.transition=null,C$5=16>et?16:et,xk===null)var tt=!1;else{if(et=xk,xk=null,yk=0,K&6)throw Error(p$8(331));var nt=K;for(K|=4,V=et.current;V!==null;){var rt=V,it=rt.child;if(V.flags&16){var st=rt.deletions;if(st!==null){for(var ot=0;ot<st.length;ot++){var at=st[ot];for(V=at;V!==null;){var lt=V;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,rt)}var dt=lt.child;if(dt!==null)dt.return=lt,V=dt;else for(;V!==null;){lt=V;var ct=lt.sibling,pt=lt.return;if(Tj(lt),lt===at){V=null;break}if(ct!==null){ct.return=pt,V=ct;break}V=pt}}}var mt=rt.alternate;if(mt!==null){var ht=mt.child;if(ht!==null){mt.child=null;do{var gt=ht.sibling;ht.sibling=null,ht=gt}while(ht!==null)}}V=rt}}if(rt.subtreeFlags&2064&&it!==null)it.return=rt,V=it;else e:for(;V!==null;){if(rt=V,rt.flags&2048)switch(rt.tag){case 0:case 11:case 15:Qj(9,rt,rt.return)}var vt=rt.sibling;if(vt!==null){vt.return=rt.return,V=vt;break e}V=rt.return}}var _t=et.current;for(V=_t;V!==null;){it=V;var yt=it.child;if(it.subtreeFlags&2064&&yt!==null)yt.return=it,V=yt;else e:for(it=_t;V!==null;){if(st=V,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(At){W(st,st.return,At)}if(st===it){V=null;break e}var xt=st.sibling;if(xt!==null){xt.return=st.return,V=xt;break e}V=st.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}tt=!0}return tt}finally{C$5=_e,pk.transition=$}}return!1}function Yk(et,$,_e){$=Ki(_e,$),$=Oi(et,$,1),et=dh(et,$,1),$=L$1(),et!==null&&(Ac(et,1,$),Ek(et,$))}function W(et,$,_e){if(et.tag===3)Yk(et,et,_e);else for(;$!==null;){if($.tag===3){Yk($,et,_e);break}else if($.tag===1){var tt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){et=Ki(_e,et),et=Ri($,et,1),$=dh($,et,1),et=L$1(),$!==null&&(Ac($,1,et),Ek($,et));break}}$=$.return}}function Ui(et,$,_e){var tt=et.pingCache;tt!==null&&tt.delete($),$=L$1(),et.pingedLanes|=et.suspendedLanes&_e,R===et&&(Z$1&_e)===_e&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B()-gk?Lk(et,0):sk|=_e),Ek(et,$)}function Zk(et,$){$===0&&(et.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var _e=L$1();et=Zg(et,$),et!==null&&(Ac(et,$,_e),Ek(et,_e))}function vj(et){var $=et.memoizedState,_e=0;$!==null&&(_e=$.retryLane),Zk(et,_e)}function ck(et,$){var _e=0;switch(et.tag){case 13:var tt=et.stateNode,nt=et.memoizedState;nt!==null&&(_e=nt.retryLane);break;case 19:tt=et.stateNode;break;default:throw Error(p$8(314))}tt!==null&&tt.delete($),Zk(et,_e)}var Wk;Wk=function(et,$,_e){if(et!==null)if(et.memoizedProps!==$.pendingProps||Wf.current)Ug=!0;else{if(!(et.lanes&_e)&&!($.flags&128))return Ug=!1,zj(et,$,_e);Ug=!!(et.flags&131072)}else Ug=!1,I$3&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var tt=$.type;jj(et,$),et=$.pendingProps;var nt=Yf($,H.current);Tg($,_e),nt=Xh(null,$,tt,et,nt,_e);var rt=bi();return $.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(tt)?(rt=!0,cg($)):rt=!1,$.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah($),nt.updater=nh,$.stateNode=nt,nt._reactInternals=$,rh($,tt,et,_e),$=kj(null,$,tt,!0,rt,_e)):($.tag=0,I$3&&rt&&vg($),Yi(null,$,nt,_e),$=$.child),$;case 16:tt=$.elementType;e:{switch(jj(et,$),et=$.pendingProps,nt=tt._init,tt=nt(tt._payload),$.type=tt,nt=$.tag=$k(tt),et=Lg(tt,et),nt){case 0:$=dj(null,$,tt,et,_e);break e;case 1:$=ij(null,$,tt,et,_e);break e;case 11:$=Zi(null,$,tt,et,_e);break e;case 14:$=aj(null,$,tt,Lg(tt.type,et),_e);break e}throw Error(p$8(306,tt,""))}return $;case 0:return tt=$.type,nt=$.pendingProps,nt=$.elementType===tt?nt:Lg(tt,nt),dj(et,$,tt,nt,_e);case 1:return tt=$.type,nt=$.pendingProps,nt=$.elementType===tt?nt:Lg(tt,nt),ij(et,$,tt,nt,_e);case 3:e:{if(lj($),et===null)throw Error(p$8(387));tt=$.pendingProps,rt=$.memoizedState,nt=rt.element,bh(et,$),gh($,tt,null,_e);var it=$.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},$.updateQueue.baseState=rt,$.memoizedState=rt,$.flags&256){nt=Ki(Error(p$8(423)),$),$=mj(et,$,tt,_e,nt);break e}else if(tt!==nt){nt=Ki(Error(p$8(424)),$),$=mj(et,$,tt,_e,nt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$3=!0,zg=null,_e=Ch($,null,tt,_e),$.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),tt===nt){$=$i(et,$,_e);break e}Yi(et,$,tt,_e)}$=$.child}return $;case 5:return Kh($),et===null&&Eg($),tt=$.type,nt=$.pendingProps,rt=et!==null?et.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&($.flags|=32),hj(et,$),Yi(et,$,it,_e),$.child;case 6:return et===null&&Eg($),null;case 13:return pj(et,$,_e);case 4:return Ih($,$.stateNode.containerInfo),tt=$.pendingProps,et===null?$.child=Bh($,null,tt,_e):Yi(et,$,tt,_e),$.child;case 11:return tt=$.type,nt=$.pendingProps,nt=$.elementType===tt?nt:Lg(tt,nt),Zi(et,$,tt,nt,_e);case 7:return Yi(et,$,$.pendingProps,_e),$.child;case 8:return Yi(et,$,$.pendingProps.children,_e),$.child;case 12:return Yi(et,$,$.pendingProps.children,_e),$.child;case 10:e:{if(tt=$.type._context,nt=$.pendingProps,rt=$.memoizedProps,it=nt.value,G(Mg,tt._currentValue),tt._currentValue=it,rt!==null)if(He(rt.value,it)){if(rt.children===nt.children&&!Wf.current){$=$i(et,$,_e);break e}}else for(rt=$.child,rt!==null&&(rt.return=$);rt!==null;){var st=rt.dependencies;if(st!==null){it=rt.child;for(var ot=st.firstContext;ot!==null;){if(ot.context===tt){if(rt.tag===1){ot=ch(-1,_e&-_e),ot.tag=2;var at=rt.updateQueue;if(at!==null){at=at.shared;var lt=at.pending;lt===null?ot.next=ot:(ot.next=lt.next,lt.next=ot),at.pending=ot}}rt.lanes|=_e,ot=rt.alternate,ot!==null&&(ot.lanes|=_e),Sg(rt.return,_e,$),st.lanes|=_e;break}ot=ot.next}}else if(rt.tag===10)it=rt.type===$.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$8(341));it.lanes|=_e,st=it.alternate,st!==null&&(st.lanes|=_e),Sg(it,_e,$),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===$){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Yi(et,$,nt.children,_e),$=$.child}return $;case 9:return nt=$.type,tt=$.pendingProps.children,Tg($,_e),nt=Vg(nt),tt=tt(nt),$.flags|=1,Yi(et,$,tt,_e),$.child;case 14:return tt=$.type,nt=Lg(tt,$.pendingProps),nt=Lg(tt.type,nt),aj(et,$,tt,nt,_e);case 15:return cj(et,$,$.type,$.pendingProps,_e);case 17:return tt=$.type,nt=$.pendingProps,nt=$.elementType===tt?nt:Lg(tt,nt),jj(et,$),$.tag=1,Zf(tt)?(et=!0,cg($)):et=!1,Tg($,_e),ph($,tt,nt),rh($,tt,nt,_e),kj(null,$,tt,!0,et,_e);case 19:return yj(et,$,_e);case 22:return ej(et,$,_e)}throw Error(p$8(156,$.tag))};function Gk(et,$){return ac(et,$)}function al(et,$,_e,tt){this.tag=et,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,$,_e,tt){return new al(et,$,_e,tt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,$){var _e=et.alternate;return _e===null?(_e=Bg(et.tag,$,et.key,et.mode),_e.elementType=et.elementType,_e.type=et.type,_e.stateNode=et.stateNode,_e.alternate=et,et.alternate=_e):(_e.pendingProps=$,_e.type=et.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=et.flags&14680064,_e.childLanes=et.childLanes,_e.lanes=et.lanes,_e.child=et.child,_e.memoizedProps=et.memoizedProps,_e.memoizedState=et.memoizedState,_e.updateQueue=et.updateQueue,$=et.dependencies,_e.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},_e.sibling=et.sibling,_e.index=et.index,_e.ref=et.ref,_e}function yh(et,$,_e,tt,nt,rt){var it=2;if(tt=et,typeof et=="function")bj(et)&&(it=1);else if(typeof et=="string")it=5;else e:switch(et){case ya:return Ah(_e.children,nt,rt,$);case za:it=8,nt|=8;break;case Aa:return et=Bg(12,_e,$,nt|2),et.elementType=Aa,et.lanes=rt,et;case Ea:return et=Bg(13,_e,$,nt),et.elementType=Ea,et.lanes=rt,et;case Fa:return et=Bg(19,_e,$,nt),et.elementType=Fa,et.lanes=rt,et;case Ia:return qj(_e,nt,rt,$);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$8(130,et==null?et:typeof et,""))}return $=Bg(it,_e,$,nt),$.elementType=et,$.type=tt,$.lanes=rt,$}function Ah(et,$,_e,tt){return et=Bg(7,et,tt,$),et.lanes=_e,et}function qj(et,$,_e,tt){return et=Bg(22,et,tt,$),et.elementType=Ia,et.lanes=_e,et.stateNode={isHidden:!1},et}function xh(et,$,_e){return et=Bg(6,et,null,$),et.lanes=_e,et}function zh(et,$,_e){return $=Bg(4,et.children!==null?et.children:[],et.key,$),$.lanes=_e,$.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},$}function bl(et,$,_e,tt,nt){this.tag=$,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(et,$,_e,tt,nt,rt,it,st,ot){return et=new bl(et,$,_e,st,ot),$===1?($=1,rt===!0&&($|=8)):$=0,rt=Bg(3,null,null,$),et.current=rt,rt.stateNode=et,rt.memoizedState={element:tt,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(rt),et}function dl(et,$,_e){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:et,containerInfo:$,implementation:_e}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$8(170));var $=et;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$8(171))}if(et.tag===1){var _e=et.type;if(Zf(_e))return bg(et,_e,$)}return $}function fl(et,$,_e,tt,nt,rt,it,st,ot){return et=cl(_e,tt,!0,et,nt,rt,it,st,ot),et.context=el(null),_e=et.current,tt=L$1(),nt=lh(_e),rt=ch(tt,nt),rt.callback=$??null,dh(_e,rt,nt),et.current.lanes=nt,Ac(et,nt,tt),Ek(et,tt),et}function gl(et,$,_e,tt){var nt=$.current,rt=L$1(),it=lh(nt);return _e=el(_e),$.context===null?$.context=_e:$.pendingContext=_e,$=ch(rt,it),$.payload={element:et},tt=tt===void 0?null:tt,tt!==null&&($.callback=tt),et=dh(nt,$,it),et!==null&&(mh(et,nt,it,rt),eh(et,nt,it)),it}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,$){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var _e=et.retryLane;et.retryLane=_e!==0&&_e<$?_e:$}}function jl(et,$){il(et,$),(et=et.alternate)&&il(et,$)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var $=this._internalRoot;if($===null)throw Error(p$8(409));gl(et,$,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var $=et.containerInfo;Sk(function(){gl(null,et,null,null)}),$[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var $=Hc();et={blockedOn:null,target:et,priority:$};for(var _e=0;_e<Qc.length&&$!==0&&$<Qc[_e].priority;_e++);Qc.splice(_e,0,et),_e===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,$,_e,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var at=hl(it);rt.call(at)}}var it=fl($,tt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=it,et[uf]=it.current,sf(et.nodeType===8?et.parentNode:et),Sk(),it}for(;nt=et.lastChild;)et.removeChild(nt);if(typeof tt=="function"){var st=tt;tt=function(){var at=hl(ot);st.call(at)}}var ot=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=ot,et[uf]=ot.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl($,ot,_e,tt)}),ot}function sl(et,$,_e,tt,nt){var rt=_e._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var st=nt;nt=function(){var ot=hl(it);st.call(ot)}}gl($,it,et,nt)}else it=rl(_e,$,et,nt,tt);return hl(it)}Ec=function(et){switch(et.tag){case 3:var $=et.stateNode;if($.current.memoizedState.isDehydrated){var _e=tc($.pendingLanes);_e!==0&&(Cc($,_e|1),Ek($,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var tt=Zg(et,1);if(tt!==null){var nt=L$1();mh(tt,et,1,nt)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var $=Zg(et,134217728);if($!==null){var _e=L$1();mh($,et,134217728,_e)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var $=lh(et),_e=Zg(et,$);if(_e!==null){var tt=L$1();mh(_e,et,$,tt)}jl(et,$)}};Hc=function(){return C$5};Ic=function(et,$){var _e=C$5;try{return C$5=et,$()}finally{C$5=_e}};yb=function(et,$,_e){switch($){case"input":if(bb(et,_e),$=_e.name,_e.type==="radio"&&$!=null){for(_e=et;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<_e.length;$++){var tt=_e[$];if(tt!==et&&tt.form===et.form){var nt=Db(tt);if(!nt)throw Error(p$8(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib(et,_e);break;case"select":$=_e.value,$!=null&&fb(et,!!_e.multiple,$,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,$){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol($))throw Error(p$8(200));return dl(et,$,null,_e)};reactDom_production_min.createRoot=function(et,$){if(!ol(et))throw Error(p$8(299));var _e=!1,tt="",nt=ll;return $!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(tt=$.identifierPrefix),$.onRecoverableError!==void 0&&(nt=$.onRecoverableError)),$=cl(et,1,!1,null,null,_e,!1,tt,nt),et[uf]=$.current,sf(et.nodeType===8?et.parentNode:et),new ml($)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var $=et._reactInternals;if($===void 0)throw typeof et.render=="function"?Error(p$8(188)):(et=Object.keys(et).join(","),Error(p$8(268,et)));return et=Zb($),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,$,_e){if(!pl($))throw Error(p$8(200));return sl(null,et,$,!0,_e)};reactDom_production_min.hydrateRoot=function(et,$,_e){if(!ol(et))throw Error(p$8(405));var tt=_e!=null&&_e.hydratedSources||null,nt=!1,rt="",it=ll;if(_e!=null&&(_e.unstable_strictMode===!0&&(nt=!0),_e.identifierPrefix!==void 0&&(rt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(it=_e.onRecoverableError)),$=fl($,null,et,1,_e??null,nt,!1,rt,it),et[uf]=$.current,sf(et),tt)for(et=0;et<tt.length;et++)_e=tt[et],nt=_e._getVersion,nt=nt(_e._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[_e,nt]:$.mutableSourceEagerHydrationData.push(_e,nt);return new nl($)};reactDom_production_min.render=function(et,$,_e){if(!pl($))throw Error(p$8(200));return sl(null,et,$,!1,_e)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$8(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,$,_e,tt){if(!pl(_e))throw Error(p$8(200));if(et==null||et._reactInternals===void 0)throw Error(p$8(38));return sl(et,$,_e,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(et){function $(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($)}catch(_e){console.error(_e)}}$(),et.exports=reactDom_production_min})(reactDom);var createRoot$1,m$a=reactDomExports;createRoot$1=client.createRoot=m$a.createRoot,client.hydrateRoot=m$a.hydrateRoot;/**
 * @remix-run/router v1.3.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(et){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=_e[tt])}return et},_extends$4.apply(this,arguments)}var Action;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function $(tt,nt){let{pathname:rt,search:it,hash:st}=tt.location;return createLocation("",{pathname:rt,search:it,hash:st},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function _e(tt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory($,_e,null,et)}function invariant$1(et,$){if(et===!1||et===null||typeof et>"u")throw new Error($)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,$){return{usr:et.state,key:et.key,idx:$}}function createLocation(et,$,_e,tt){return _e===void 0&&(_e=null),_extends$4({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:_e,key:$&&$.key||tt||createKey()})}function createPath(et){let{pathname:$="/",search:_e="",hash:tt=""}=et;return _e&&_e!=="?"&&($+=_e.charAt(0)==="?"?_e:"?"+_e),tt&&tt!=="#"&&($+=tt.charAt(0)==="#"?tt:"#"+tt),$}function parsePath(et){let $={};if(et){let _e=et.indexOf("#");_e>=0&&($.hash=et.substr(_e),et=et.substr(0,_e));let tt=et.indexOf("?");tt>=0&&($.search=et.substr(tt),et=et.substr(0,tt)),et&&($.pathname=et)}return $}function getUrlBasedHistory(et,$,_e,tt){tt===void 0&&(tt={});let{window:nt=document.defaultView,v5Compat:rt=!1}=tt,it=nt.history,st=Action.Pop,ot=null,at=lt();at==null&&(at=0,it.replaceState(_extends$4({},it.state,{idx:at}),""));function lt(){return(it.state||{idx:null}).idx}function dt(){st=Action.Pop;let gt=lt(),vt=gt==null?null:gt-at;at=gt,ot&&ot({action:st,location:ht.location,delta:vt})}function ct(gt,vt){st=Action.Push;let _t=createLocation(ht.location,gt,vt);_e&&_e(_t,gt),at=lt()+1;let yt=getHistoryState(_t,at),xt=ht.createHref(_t);try{it.pushState(yt,"",xt)}catch{nt.location.assign(xt)}rt&&ot&&ot({action:st,location:ht.location,delta:1})}function pt(gt,vt){st=Action.Replace;let _t=createLocation(ht.location,gt,vt);_e&&_e(_t,gt),at=lt();let yt=getHistoryState(_t,at),xt=ht.createHref(_t);it.replaceState(yt,"",xt),rt&&ot&&ot({action:st,location:ht.location,delta:0})}function mt(gt){let vt=nt.location.origin!=="null"?nt.location.origin:nt.location.href,_t=typeof gt=="string"?gt:createPath(gt);return invariant$1(vt,"No window.location.(origin|href) available to create URL for href: "+_t),new URL(_t,vt)}let ht={get action(){return st},get location(){return et(nt,it)},listen(gt){if(ot)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,dt),ot=gt,()=>{nt.removeEventListener(PopStateEventType,dt),ot=null}},createHref(gt){return $(nt,gt)},createURL:mt,encodeLocation(gt){let vt=mt(gt);return{pathname:vt.pathname,search:vt.search,hash:vt.hash}},push:ct,replace:pt,go(gt){return it.go(gt)}};return ht}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));function stripBasename(et,$){if($==="/")return et;if(!et.toLowerCase().startsWith($.toLowerCase()))return null;let _e=$.endsWith("/")?$.length-1:$.length,tt=et.charAt(_e);return tt&&tt!=="/"?null:et.slice(_e)||"/"}function resolvePath(et,$){$===void 0&&($="/");let{pathname:_e,search:tt="",hash:nt=""}=typeof et=="string"?parsePath(et):et;return{pathname:_e?_e.startsWith("/")?_e:resolvePathname(_e,$):$,search:normalizeSearch(tt),hash:normalizeHash(nt)}}function resolvePathname(et,$){let _e=$.replace(/\/+$/,"").split("/");return et.split("/").forEach(nt=>{nt===".."?_e.length>1&&_e.pop():nt!=="."&&_e.push(nt)}),_e.length>1?_e.join("/"):"/"}function getInvalidPathError(et,$,_e,tt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(tt)+"].  Please separate it out to the ")+("`to."+_e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter(($,_e)=>_e===0||$.route.path&&$.route.path.length>0)}function resolveTo(et,$,_e,tt){tt===void 0&&(tt=!1);let nt;typeof et=="string"?nt=parsePath(et):(nt=_extends$4({},et),invariant$1(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant$1(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant$1(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let rt=et===""||nt.pathname==="",it=rt?"/":nt.pathname,st;if(tt||it==null)st=_e;else{let dt=$.length-1;if(it.startsWith("..")){let ct=it.split("/");for(;ct[0]==="..";)ct.shift(),dt-=1;nt.pathname=ct.join("/")}st=dt>=0?$[dt]:"/"}let ot=resolvePath(nt,st),at=it&&it!=="/"&&it.endsWith("/"),lt=(rt||it===".")&&_e.endsWith("/");return!ot.pathname.endsWith("/")&&(at||lt)&&(ot.pathname+="/"),ot}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et,validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];/**
 * React Router v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function isPolyfill(et,$){return et===$&&(et!==0||1/et===1/$)||et!==et&&$!==$}const is$1=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2(et,$,_e){const tt=$(),[{inst:nt},rt]=useState({inst:{value:tt,getSnapshot:$}});return useLayoutEffect(()=>{nt.value=tt,nt.getSnapshot=$,checkIfSnapshotChanged(nt)&&rt({inst:nt})},[et,tt,$]),useEffect(()=>(checkIfSnapshotChanged(nt)&&rt({inst:nt}),et(()=>{checkIfSnapshotChanged(nt)&&rt({inst:nt})})),[et]),useDebugValue(tt),tt}function checkIfSnapshotChanged(et){const $=et.getSnapshot,_e=et.value;try{const tt=$();return!is$1(_e,tt)}catch{return!0}}function useSyncExternalStore$1(et,$,_e){return $()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&(et=>et.useSyncExternalStore)(React$1);const NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]});function useHref(et,$){let{relative:_e}=$===void 0?{}:$;useInRouterContext()||invariant$1(!1);let{basename:tt,navigator:nt}=reactExports.useContext(NavigationContext),{hash:rt,pathname:it,search:st}=useResolvedPath(et,{relative:_e}),ot=it;return tt!=="/"&&(ot=it==="/"?tt:joinPaths([tt,it])),nt.createHref({pathname:ot,search:st,hash:rt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$1(!1);let{basename:et,navigator:$}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),nt=JSON.stringify(getPathContributingMatches(_e).map(st=>st.pathnameBase)),rt=reactExports.useRef(!1);return reactExports.useEffect(()=>{rt.current=!0}),reactExports.useCallback(function(st,ot){if(ot===void 0&&(ot={}),!rt.current)return;if(typeof st=="number"){$.go(st);return}let at=resolveTo(st,JSON.parse(nt),tt,ot.relative==="path");et!=="/"&&(at.pathname=at.pathname==="/"?et:joinPaths([et,at.pathname])),(ot.replace?$.replace:$.push)(at,ot.state,ot)},[et,$,nt,tt])}function useResolvedPath(et,$){let{relative:_e}=$===void 0?{}:$,{matches:tt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getPathContributingMatches(tt).map(it=>it.pathnameBase));return reactExports.useMemo(()=>resolveTo(et,JSON.parse(rt),nt,_e==="path"),[et,rt,nt,_e])}var DataRouterHook$1;(function(et){et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(et){et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function Router(et){let{basename:$="/",children:_e=null,location:tt,navigationType:nt=Action.Pop,navigator:rt,static:it=!1}=et;useInRouterContext()&&invariant$1(!1);let st=$.replace(/^\/*/,"/"),ot=reactExports.useMemo(()=>({basename:st,navigator:rt,static:it}),[st,rt,it]);typeof tt=="string"&&(tt=parsePath(tt));let{pathname:at="/",search:lt="",hash:dt="",state:ct=null,key:pt="default"}=tt,mt=reactExports.useMemo(()=>{let ht=stripBasename(at,st);return ht==null?null:{pathname:ht,search:lt,hash:dt,state:ct,key:pt}},[st,at,lt,dt,ct,pt]);return mt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ot},reactExports.createElement(LocationContext.Provider,{children:_e,value:{location:mt,navigationType:nt}}))}var AwaitRenderStatus;(function(et){et[et.pending=0]="pending",et[et.success=1]="success",et[et.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});/**
 * React Router DOM v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(et){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=_e[tt])}return et},_extends$3.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(et,$){if(et==null)return{};var _e={},tt=Object.keys(et),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!($.indexOf(nt)>=0)&&(_e[nt]=et[nt]);return _e}function isModifiedEvent(et){return!!(et.metaKey||et.altKey||et.ctrlKey||et.shiftKey)}function shouldProcessLinkClick(et,$){return et.button===0&&(!$||$==="_self")&&!isModifiedEvent(et)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter(et){let{basename:$,children:_e,window:tt}=et,nt=reactExports.useRef();nt.current==null&&(nt.current=createBrowserHistory({window:tt,v5Compat:!0}));let rt=nt.current,[it,st]=reactExports.useState({action:rt.action,location:rt.location});return reactExports.useLayoutEffect(()=>rt.listen(st),[rt]),reactExports.createElement(Router,{basename:$,children:_e,location:it.location,navigationType:it.action,navigator:rt})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function($,_e){let{onClick:tt,relative:nt,reloadDocument:rt,replace:it,state:st,target:ot,to:at,preventScrollReset:lt}=$,dt=_objectWithoutPropertiesLoose$1($,_excluded$1),{basename:ct}=reactExports.useContext(NavigationContext),pt,mt=!1;if(typeof at=="string"&&ABSOLUTE_URL_REGEX.test(at)&&(pt=at,isBrowser$1)){let _t=new URL(window.location.href),yt=at.startsWith("//")?new URL(_t.protocol+at):new URL(at),xt=stripBasename(yt.pathname,ct);yt.origin===_t.origin&&xt!=null?at=xt+yt.search+yt.hash:mt=!0}let ht=useHref(at,{relative:nt}),gt=useLinkClickHandler(at,{replace:it,state:st,target:ot,preventScrollReset:lt,relative:nt});function vt(_t){tt&&tt(_t),_t.defaultPrevented||gt(_t)}return reactExports.createElement("a",_extends$3({},dt,{href:pt||ht,onClick:mt||rt?tt:vt,ref:_e,target:ot}))});var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmitImpl="useSubmitImpl",et.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(et,$){let{target:_e,replace:tt,state:nt,preventScrollReset:rt,relative:it}=$===void 0?{}:$,st=useNavigate(),ot=useLocation(),at=useResolvedPath(et,{relative:it});return reactExports.useCallback(lt=>{if(shouldProcessLinkClick(lt,_e)){lt.preventDefault();let dt=tt!==void 0?tt:createPath(ot)===createPath(at);st(et,{replace:dt,state:nt,preventScrollReset:rt,relative:it})}},[ot,st,at,tt,nt,_e,et,rt,it])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="150",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener($,_e){this._listeners===void 0&&(this._listeners={});const tt=this._listeners;tt[$]===void 0&&(tt[$]=[]),tt[$].indexOf(_e)===-1&&tt[$].push(_e)}hasEventListener($,_e){if(this._listeners===void 0)return!1;const tt=this._listeners;return tt[$]!==void 0&&tt[$].indexOf(_e)!==-1}removeEventListener($,_e){if(this._listeners===void 0)return;const nt=this._listeners[$];if(nt!==void 0){const rt=nt.indexOf(_e);rt!==-1&&nt.splice(rt,1)}}dispatchEvent($){if(this._listeners===void 0)return;const tt=this._listeners[$.type];if(tt!==void 0){$.target=this;const nt=tt.slice(0);for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].call(this,$);$.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const et=Math.random()*4294967295|0,$=Math.random()*4294967295|0,_e=Math.random()*4294967295|0,tt=Math.random()*4294967295|0;return(_lut[et&255]+_lut[et>>8&255]+_lut[et>>16&255]+_lut[et>>24&255]+"-"+_lut[$&255]+_lut[$>>8&255]+"-"+_lut[$>>16&15|64]+_lut[$>>24&255]+"-"+_lut[_e&63|128]+_lut[_e>>8&255]+"-"+_lut[_e>>16&255]+_lut[_e>>24&255]+_lut[tt&255]+_lut[tt>>8&255]+_lut[tt>>16&255]+_lut[tt>>24&255]).toLowerCase()}function clamp$1(et,$,_e){return Math.max($,Math.min(_e,et))}function euclideanModulo(et,$){return(et%$+$)%$}function mapLinear(et,$,_e,tt,nt){return tt+(et-$)*(nt-tt)/(_e-$)}function inverseLerp(et,$,_e){return et!==$?(_e-et)/($-et):0}function lerp(et,$,_e){return(1-_e)*et+_e*$}function damp(et,$,_e,tt){return lerp(et,$,1-Math.exp(-_e*tt))}function pingpong(et,$=1){return $-Math.abs(euclideanModulo(et,$*2)-$)}function smoothstep(et,$,_e){return et<=$?0:et>=_e?1:(et=(et-$)/(_e-$),et*et*(3-2*et))}function smootherstep(et,$,_e){return et<=$?0:et>=_e?1:(et=(et-$)/(_e-$),et*et*et*(et*(et*6-15)+10))}function randInt(et,$){return et+Math.floor(Math.random()*($-et+1))}function randFloat(et,$){return et+Math.random()*($-et)}function randFloatSpread(et){return et*(.5-Math.random())}function seededRandom(et){et!==void 0&&(_seed=et);let $=_seed+=1831565813;return $=Math.imul($^$>>>15,$|1),$^=$+Math.imul($^$>>>7,$|61),(($^$>>>14)>>>0)/4294967296}function degToRad(et){return et*DEG2RAD}function radToDeg(et){return et*RAD2DEG}function isPowerOfTwo(et){return(et&et-1)===0&&et!==0}function ceilPowerOfTwo(et){return Math.pow(2,Math.ceil(Math.log(et)/Math.LN2))}function floorPowerOfTwo(et){return Math.pow(2,Math.floor(Math.log(et)/Math.LN2))}function setQuaternionFromProperEuler(et,$,_e,tt,nt){const rt=Math.cos,it=Math.sin,st=rt(_e/2),ot=it(_e/2),at=rt(($+tt)/2),lt=it(($+tt)/2),dt=rt(($-tt)/2),ct=it(($-tt)/2),pt=rt((tt-$)/2),mt=it((tt-$)/2);switch(nt){case"XYX":et.set(st*lt,ot*dt,ot*ct,st*at);break;case"YZY":et.set(ot*ct,st*lt,ot*dt,st*at);break;case"ZXZ":et.set(ot*dt,ot*ct,st*lt,st*at);break;case"XZX":et.set(st*lt,ot*mt,ot*pt,st*at);break;case"YXY":et.set(ot*pt,st*lt,ot*mt,st*at);break;case"ZYZ":et.set(ot*mt,ot*pt,st*lt,st*at);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+nt)}}function denormalize(et,$){switch($.constructor){case Float32Array:return et;case Uint16Array:return et/65535;case Uint8Array:return et/255;case Int16Array:return Math.max(et/32767,-1);case Int8Array:return Math.max(et/127,-1);default:throw new Error("Invalid component type.")}}function normalize(et,$){switch($.constructor){case Float32Array:return et;case Uint16Array:return Math.round(et*65535);case Uint8Array:return Math.round(et*255);case Int16Array:return Math.round(et*32767);case Int8Array:return Math.round(et*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$1,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor($=0,_e=0){Vector2.prototype.isVector2=!0,this.x=$,this.y=_e}get width(){return this.x}set width($){this.x=$}get height(){return this.y}set height($){this.y=$}set($,_e){return this.x=$,this.y=_e,this}setScalar($){return this.x=$,this.y=$,this}setX($){return this.x=$,this}setY($){return this.y=$,this}setComponent($,_e){switch($){case 0:this.x=_e;break;case 1:this.y=_e;break;default:throw new Error("index is out of range: "+$)}return this}getComponent($){switch($){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+$)}}clone(){return new this.constructor(this.x,this.y)}copy($){return this.x=$.x,this.y=$.y,this}add($){return this.x+=$.x,this.y+=$.y,this}addScalar($){return this.x+=$,this.y+=$,this}addVectors($,_e){return this.x=$.x+_e.x,this.y=$.y+_e.y,this}addScaledVector($,_e){return this.x+=$.x*_e,this.y+=$.y*_e,this}sub($){return this.x-=$.x,this.y-=$.y,this}subScalar($){return this.x-=$,this.y-=$,this}subVectors($,_e){return this.x=$.x-_e.x,this.y=$.y-_e.y,this}multiply($){return this.x*=$.x,this.y*=$.y,this}multiplyScalar($){return this.x*=$,this.y*=$,this}divide($){return this.x/=$.x,this.y/=$.y,this}divideScalar($){return this.multiplyScalar(1/$)}applyMatrix3($){const _e=this.x,tt=this.y,nt=$.elements;return this.x=nt[0]*_e+nt[3]*tt+nt[6],this.y=nt[1]*_e+nt[4]*tt+nt[7],this}min($){return this.x=Math.min(this.x,$.x),this.y=Math.min(this.y,$.y),this}max($){return this.x=Math.max(this.x,$.x),this.y=Math.max(this.y,$.y),this}clamp($,_e){return this.x=Math.max($.x,Math.min(_e.x,this.x)),this.y=Math.max($.y,Math.min(_e.y,this.y)),this}clampScalar($,_e){return this.x=Math.max($,Math.min(_e,this.x)),this.y=Math.max($,Math.min(_e,this.y)),this}clampLength($,_e){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max($,Math.min(_e,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot($){return this.x*$.x+this.y*$.y}cross($){return this.x*$.y-this.y*$.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo($){return Math.sqrt(this.distanceToSquared($))}distanceToSquared($){const _e=this.x-$.x,tt=this.y-$.y;return _e*_e+tt*tt}manhattanDistanceTo($){return Math.abs(this.x-$.x)+Math.abs(this.y-$.y)}setLength($){return this.normalize().multiplyScalar($)}lerp($,_e){return this.x+=($.x-this.x)*_e,this.y+=($.y-this.y)*_e,this}lerpVectors($,_e,tt){return this.x=$.x+(_e.x-$.x)*tt,this.y=$.y+(_e.y-$.y)*tt,this}equals($){return $.x===this.x&&$.y===this.y}fromArray($,_e=0){return this.x=$[_e],this.y=$[_e+1],this}toArray($=[],_e=0){return $[_e]=this.x,$[_e+1]=this.y,$}fromBufferAttribute($,_e){return this.x=$.getX(_e),this.y=$.getY(_e),this}rotateAround($,_e){const tt=Math.cos(_e),nt=Math.sin(_e),rt=this.x-$.x,it=this.y-$.y;return this.x=rt*tt-it*nt+$.x,this.y=rt*nt+it*tt+$.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set($,_e,tt,nt,rt,it,st,ot,at){const lt=this.elements;return lt[0]=$,lt[1]=nt,lt[2]=st,lt[3]=_e,lt[4]=rt,lt[5]=ot,lt[6]=tt,lt[7]=it,lt[8]=at,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy($){const _e=this.elements,tt=$.elements;return _e[0]=tt[0],_e[1]=tt[1],_e[2]=tt[2],_e[3]=tt[3],_e[4]=tt[4],_e[5]=tt[5],_e[6]=tt[6],_e[7]=tt[7],_e[8]=tt[8],this}extractBasis($,_e,tt){return $.setFromMatrix3Column(this,0),_e.setFromMatrix3Column(this,1),tt.setFromMatrix3Column(this,2),this}setFromMatrix4($){const _e=$.elements;return this.set(_e[0],_e[4],_e[8],_e[1],_e[5],_e[9],_e[2],_e[6],_e[10]),this}multiply($){return this.multiplyMatrices(this,$)}premultiply($){return this.multiplyMatrices($,this)}multiplyMatrices($,_e){const tt=$.elements,nt=_e.elements,rt=this.elements,it=tt[0],st=tt[3],ot=tt[6],at=tt[1],lt=tt[4],dt=tt[7],ct=tt[2],pt=tt[5],mt=tt[8],ht=nt[0],gt=nt[3],vt=nt[6],_t=nt[1],yt=nt[4],xt=nt[7],At=nt[2],Ct=nt[5],Pt=nt[8];return rt[0]=it*ht+st*_t+ot*At,rt[3]=it*gt+st*yt+ot*Ct,rt[6]=it*vt+st*xt+ot*Pt,rt[1]=at*ht+lt*_t+dt*At,rt[4]=at*gt+lt*yt+dt*Ct,rt[7]=at*vt+lt*xt+dt*Pt,rt[2]=ct*ht+pt*_t+mt*At,rt[5]=ct*gt+pt*yt+mt*Ct,rt[8]=ct*vt+pt*xt+mt*Pt,this}multiplyScalar($){const _e=this.elements;return _e[0]*=$,_e[3]*=$,_e[6]*=$,_e[1]*=$,_e[4]*=$,_e[7]*=$,_e[2]*=$,_e[5]*=$,_e[8]*=$,this}determinant(){const $=this.elements,_e=$[0],tt=$[1],nt=$[2],rt=$[3],it=$[4],st=$[5],ot=$[6],at=$[7],lt=$[8];return _e*it*lt-_e*st*at-tt*rt*lt+tt*st*ot+nt*rt*at-nt*it*ot}invert(){const $=this.elements,_e=$[0],tt=$[1],nt=$[2],rt=$[3],it=$[4],st=$[5],ot=$[6],at=$[7],lt=$[8],dt=lt*it-st*at,ct=st*ot-lt*rt,pt=at*rt-it*ot,mt=_e*dt+tt*ct+nt*pt;if(mt===0)return this.set(0,0,0,0,0,0,0,0,0);const ht=1/mt;return $[0]=dt*ht,$[1]=(nt*at-lt*tt)*ht,$[2]=(st*tt-nt*it)*ht,$[3]=ct*ht,$[4]=(lt*_e-nt*ot)*ht,$[5]=(nt*rt-st*_e)*ht,$[6]=pt*ht,$[7]=(tt*ot-at*_e)*ht,$[8]=(it*_e-tt*rt)*ht,this}transpose(){let $;const _e=this.elements;return $=_e[1],_e[1]=_e[3],_e[3]=$,$=_e[2],_e[2]=_e[6],_e[6]=$,$=_e[5],_e[5]=_e[7],_e[7]=$,this}getNormalMatrix($){return this.setFromMatrix4($).invert().transpose()}transposeIntoArray($){const _e=this.elements;return $[0]=_e[0],$[1]=_e[3],$[2]=_e[6],$[3]=_e[1],$[4]=_e[4],$[5]=_e[7],$[6]=_e[2],$[7]=_e[5],$[8]=_e[8],this}setUvTransform($,_e,tt,nt,rt,it,st){const ot=Math.cos(rt),at=Math.sin(rt);return this.set(tt*ot,tt*at,-tt*(ot*it+at*st)+it+$,-nt*at,nt*ot,-nt*(-at*it+ot*st)+st+_e,0,0,1),this}scale($,_e){return this.premultiply(_m3.makeScale($,_e)),this}rotate($){return this.premultiply(_m3.makeRotation(-$)),this}translate($,_e){return this.premultiply(_m3.makeTranslation($,_e)),this}makeTranslation($,_e){return this.set(1,0,$,0,1,_e,0,0,1),this}makeRotation($){const _e=Math.cos($),tt=Math.sin($);return this.set(_e,-tt,0,tt,_e,0,0,0,1),this}makeScale($,_e){return this.set($,0,0,0,_e,0,0,0,1),this}equals($){const _e=this.elements,tt=$.elements;for(let nt=0;nt<9;nt++)if(_e[nt]!==tt[nt])return!1;return!0}fromArray($,_e=0){for(let tt=0;tt<9;tt++)this.elements[tt]=$[tt+_e];return this}toArray($=[],_e=0){const tt=this.elements;return $[_e]=tt[0],$[_e+1]=tt[1],$[_e+2]=tt[2],$[_e+3]=tt[3],$[_e+4]=tt[4],$[_e+5]=tt[5],$[_e+6]=tt[6],$[_e+7]=tt[7],$[_e+8]=tt[8],$}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(et){for(let $=et.length-1;$>=0;--$)if(et[$]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(et,$){return new TYPED_ARRAYS[et]($)}function createElementNS(et){return document.createElementNS("http://www.w3.org/1999/xhtml",et)}class Quaternion{constructor($=0,_e=0,tt=0,nt=1){this.isQuaternion=!0,this._x=$,this._y=_e,this._z=tt,this._w=nt}static slerpFlat($,_e,tt,nt,rt,it,st){let ot=tt[nt+0],at=tt[nt+1],lt=tt[nt+2],dt=tt[nt+3];const ct=rt[it+0],pt=rt[it+1],mt=rt[it+2],ht=rt[it+3];if(st===0){$[_e+0]=ot,$[_e+1]=at,$[_e+2]=lt,$[_e+3]=dt;return}if(st===1){$[_e+0]=ct,$[_e+1]=pt,$[_e+2]=mt,$[_e+3]=ht;return}if(dt!==ht||ot!==ct||at!==pt||lt!==mt){let gt=1-st;const vt=ot*ct+at*pt+lt*mt+dt*ht,_t=vt>=0?1:-1,yt=1-vt*vt;if(yt>Number.EPSILON){const At=Math.sqrt(yt),Ct=Math.atan2(At,vt*_t);gt=Math.sin(gt*Ct)/At,st=Math.sin(st*Ct)/At}const xt=st*_t;if(ot=ot*gt+ct*xt,at=at*gt+pt*xt,lt=lt*gt+mt*xt,dt=dt*gt+ht*xt,gt===1-st){const At=1/Math.sqrt(ot*ot+at*at+lt*lt+dt*dt);ot*=At,at*=At,lt*=At,dt*=At}}$[_e]=ot,$[_e+1]=at,$[_e+2]=lt,$[_e+3]=dt}static multiplyQuaternionsFlat($,_e,tt,nt,rt,it){const st=tt[nt],ot=tt[nt+1],at=tt[nt+2],lt=tt[nt+3],dt=rt[it],ct=rt[it+1],pt=rt[it+2],mt=rt[it+3];return $[_e]=st*mt+lt*dt+ot*pt-at*ct,$[_e+1]=ot*mt+lt*ct+at*dt-st*pt,$[_e+2]=at*mt+lt*pt+st*ct-ot*dt,$[_e+3]=lt*mt-st*dt-ot*ct-at*pt,$}get x(){return this._x}set x($){this._x=$,this._onChangeCallback()}get y(){return this._y}set y($){this._y=$,this._onChangeCallback()}get z(){return this._z}set z($){this._z=$,this._onChangeCallback()}get w(){return this._w}set w($){this._w=$,this._onChangeCallback()}set($,_e,tt,nt){return this._x=$,this._y=_e,this._z=tt,this._w=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy($){return this._x=$.x,this._y=$.y,this._z=$.z,this._w=$.w,this._onChangeCallback(),this}setFromEuler($,_e){const tt=$._x,nt=$._y,rt=$._z,it=$._order,st=Math.cos,ot=Math.sin,at=st(tt/2),lt=st(nt/2),dt=st(rt/2),ct=ot(tt/2),pt=ot(nt/2),mt=ot(rt/2);switch(it){case"XYZ":this._x=ct*lt*dt+at*pt*mt,this._y=at*pt*dt-ct*lt*mt,this._z=at*lt*mt+ct*pt*dt,this._w=at*lt*dt-ct*pt*mt;break;case"YXZ":this._x=ct*lt*dt+at*pt*mt,this._y=at*pt*dt-ct*lt*mt,this._z=at*lt*mt-ct*pt*dt,this._w=at*lt*dt+ct*pt*mt;break;case"ZXY":this._x=ct*lt*dt-at*pt*mt,this._y=at*pt*dt+ct*lt*mt,this._z=at*lt*mt+ct*pt*dt,this._w=at*lt*dt-ct*pt*mt;break;case"ZYX":this._x=ct*lt*dt-at*pt*mt,this._y=at*pt*dt+ct*lt*mt,this._z=at*lt*mt-ct*pt*dt,this._w=at*lt*dt+ct*pt*mt;break;case"YZX":this._x=ct*lt*dt+at*pt*mt,this._y=at*pt*dt+ct*lt*mt,this._z=at*lt*mt-ct*pt*dt,this._w=at*lt*dt-ct*pt*mt;break;case"XZY":this._x=ct*lt*dt-at*pt*mt,this._y=at*pt*dt-ct*lt*mt,this._z=at*lt*mt+ct*pt*dt,this._w=at*lt*dt+ct*pt*mt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+it)}return _e!==!1&&this._onChangeCallback(),this}setFromAxisAngle($,_e){const tt=_e/2,nt=Math.sin(tt);return this._x=$.x*nt,this._y=$.y*nt,this._z=$.z*nt,this._w=Math.cos(tt),this._onChangeCallback(),this}setFromRotationMatrix($){const _e=$.elements,tt=_e[0],nt=_e[4],rt=_e[8],it=_e[1],st=_e[5],ot=_e[9],at=_e[2],lt=_e[6],dt=_e[10],ct=tt+st+dt;if(ct>0){const pt=.5/Math.sqrt(ct+1);this._w=.25/pt,this._x=(lt-ot)*pt,this._y=(rt-at)*pt,this._z=(it-nt)*pt}else if(tt>st&&tt>dt){const pt=2*Math.sqrt(1+tt-st-dt);this._w=(lt-ot)/pt,this._x=.25*pt,this._y=(nt+it)/pt,this._z=(rt+at)/pt}else if(st>dt){const pt=2*Math.sqrt(1+st-tt-dt);this._w=(rt-at)/pt,this._x=(nt+it)/pt,this._y=.25*pt,this._z=(ot+lt)/pt}else{const pt=2*Math.sqrt(1+dt-tt-st);this._w=(it-nt)/pt,this._x=(rt+at)/pt,this._y=(ot+lt)/pt,this._z=.25*pt}return this._onChangeCallback(),this}setFromUnitVectors($,_e){let tt=$.dot(_e)+1;return tt<Number.EPSILON?(tt=0,Math.abs($.x)>Math.abs($.z)?(this._x=-$.y,this._y=$.x,this._z=0,this._w=tt):(this._x=0,this._y=-$.z,this._z=$.y,this._w=tt)):(this._x=$.y*_e.z-$.z*_e.y,this._y=$.z*_e.x-$.x*_e.z,this._z=$.x*_e.y-$.y*_e.x,this._w=tt),this.normalize()}angleTo($){return 2*Math.acos(Math.abs(clamp$1(this.dot($),-1,1)))}rotateTowards($,_e){const tt=this.angleTo($);if(tt===0)return this;const nt=Math.min(1,_e/tt);return this.slerp($,nt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot($){return this._x*$._x+this._y*$._y+this._z*$._z+this._w*$._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let $=this.length();return $===0?(this._x=0,this._y=0,this._z=0,this._w=1):($=1/$,this._x=this._x*$,this._y=this._y*$,this._z=this._z*$,this._w=this._w*$),this._onChangeCallback(),this}multiply($){return this.multiplyQuaternions(this,$)}premultiply($){return this.multiplyQuaternions($,this)}multiplyQuaternions($,_e){const tt=$._x,nt=$._y,rt=$._z,it=$._w,st=_e._x,ot=_e._y,at=_e._z,lt=_e._w;return this._x=tt*lt+it*st+nt*at-rt*ot,this._y=nt*lt+it*ot+rt*st-tt*at,this._z=rt*lt+it*at+tt*ot-nt*st,this._w=it*lt-tt*st-nt*ot-rt*at,this._onChangeCallback(),this}slerp($,_e){if(_e===0)return this;if(_e===1)return this.copy($);const tt=this._x,nt=this._y,rt=this._z,it=this._w;let st=it*$._w+tt*$._x+nt*$._y+rt*$._z;if(st<0?(this._w=-$._w,this._x=-$._x,this._y=-$._y,this._z=-$._z,st=-st):this.copy($),st>=1)return this._w=it,this._x=tt,this._y=nt,this._z=rt,this;const ot=1-st*st;if(ot<=Number.EPSILON){const pt=1-_e;return this._w=pt*it+_e*this._w,this._x=pt*tt+_e*this._x,this._y=pt*nt+_e*this._y,this._z=pt*rt+_e*this._z,this.normalize(),this._onChangeCallback(),this}const at=Math.sqrt(ot),lt=Math.atan2(at,st),dt=Math.sin((1-_e)*lt)/at,ct=Math.sin(_e*lt)/at;return this._w=it*dt+this._w*ct,this._x=tt*dt+this._x*ct,this._y=nt*dt+this._y*ct,this._z=rt*dt+this._z*ct,this._onChangeCallback(),this}slerpQuaternions($,_e,tt){return this.copy($).slerp(_e,tt)}random(){const $=Math.random(),_e=Math.sqrt(1-$),tt=Math.sqrt($),nt=2*Math.PI*Math.random(),rt=2*Math.PI*Math.random();return this.set(_e*Math.cos(nt),tt*Math.sin(rt),tt*Math.cos(rt),_e*Math.sin(nt))}equals($){return $._x===this._x&&$._y===this._y&&$._z===this._z&&$._w===this._w}fromArray($,_e=0){return this._x=$[_e],this._y=$[_e+1],this._z=$[_e+2],this._w=$[_e+3],this._onChangeCallback(),this}toArray($=[],_e=0){return $[_e]=this._x,$[_e+1]=this._y,$[_e+2]=this._z,$[_e+3]=this._w,$}fromBufferAttribute($,_e){return this._x=$.getX(_e),this._y=$.getY(_e),this._z=$.getZ(_e),this._w=$.getW(_e),this}_onChange($){return this._onChangeCallback=$,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor($=0,_e=0,tt=0){Vector3.prototype.isVector3=!0,this.x=$,this.y=_e,this.z=tt}set($,_e,tt){return tt===void 0&&(tt=this.z),this.x=$,this.y=_e,this.z=tt,this}setScalar($){return this.x=$,this.y=$,this.z=$,this}setX($){return this.x=$,this}setY($){return this.y=$,this}setZ($){return this.z=$,this}setComponent($,_e){switch($){case 0:this.x=_e;break;case 1:this.y=_e;break;case 2:this.z=_e;break;default:throw new Error("index is out of range: "+$)}return this}getComponent($){switch($){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+$)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy($){return this.x=$.x,this.y=$.y,this.z=$.z,this}add($){return this.x+=$.x,this.y+=$.y,this.z+=$.z,this}addScalar($){return this.x+=$,this.y+=$,this.z+=$,this}addVectors($,_e){return this.x=$.x+_e.x,this.y=$.y+_e.y,this.z=$.z+_e.z,this}addScaledVector($,_e){return this.x+=$.x*_e,this.y+=$.y*_e,this.z+=$.z*_e,this}sub($){return this.x-=$.x,this.y-=$.y,this.z-=$.z,this}subScalar($){return this.x-=$,this.y-=$,this.z-=$,this}subVectors($,_e){return this.x=$.x-_e.x,this.y=$.y-_e.y,this.z=$.z-_e.z,this}multiply($){return this.x*=$.x,this.y*=$.y,this.z*=$.z,this}multiplyScalar($){return this.x*=$,this.y*=$,this.z*=$,this}multiplyVectors($,_e){return this.x=$.x*_e.x,this.y=$.y*_e.y,this.z=$.z*_e.z,this}applyEuler($){return this.applyQuaternion(_quaternion$4.setFromEuler($))}applyAxisAngle($,_e){return this.applyQuaternion(_quaternion$4.setFromAxisAngle($,_e))}applyMatrix3($){const _e=this.x,tt=this.y,nt=this.z,rt=$.elements;return this.x=rt[0]*_e+rt[3]*tt+rt[6]*nt,this.y=rt[1]*_e+rt[4]*tt+rt[7]*nt,this.z=rt[2]*_e+rt[5]*tt+rt[8]*nt,this}applyNormalMatrix($){return this.applyMatrix3($).normalize()}applyMatrix4($){const _e=this.x,tt=this.y,nt=this.z,rt=$.elements,it=1/(rt[3]*_e+rt[7]*tt+rt[11]*nt+rt[15]);return this.x=(rt[0]*_e+rt[4]*tt+rt[8]*nt+rt[12])*it,this.y=(rt[1]*_e+rt[5]*tt+rt[9]*nt+rt[13])*it,this.z=(rt[2]*_e+rt[6]*tt+rt[10]*nt+rt[14])*it,this}applyQuaternion($){const _e=this.x,tt=this.y,nt=this.z,rt=$.x,it=$.y,st=$.z,ot=$.w,at=ot*_e+it*nt-st*tt,lt=ot*tt+st*_e-rt*nt,dt=ot*nt+rt*tt-it*_e,ct=-rt*_e-it*tt-st*nt;return this.x=at*ot+ct*-rt+lt*-st-dt*-it,this.y=lt*ot+ct*-it+dt*-rt-at*-st,this.z=dt*ot+ct*-st+at*-it-lt*-rt,this}project($){return this.applyMatrix4($.matrixWorldInverse).applyMatrix4($.projectionMatrix)}unproject($){return this.applyMatrix4($.projectionMatrixInverse).applyMatrix4($.matrixWorld)}transformDirection($){const _e=this.x,tt=this.y,nt=this.z,rt=$.elements;return this.x=rt[0]*_e+rt[4]*tt+rt[8]*nt,this.y=rt[1]*_e+rt[5]*tt+rt[9]*nt,this.z=rt[2]*_e+rt[6]*tt+rt[10]*nt,this.normalize()}divide($){return this.x/=$.x,this.y/=$.y,this.z/=$.z,this}divideScalar($){return this.multiplyScalar(1/$)}min($){return this.x=Math.min(this.x,$.x),this.y=Math.min(this.y,$.y),this.z=Math.min(this.z,$.z),this}max($){return this.x=Math.max(this.x,$.x),this.y=Math.max(this.y,$.y),this.z=Math.max(this.z,$.z),this}clamp($,_e){return this.x=Math.max($.x,Math.min(_e.x,this.x)),this.y=Math.max($.y,Math.min(_e.y,this.y)),this.z=Math.max($.z,Math.min(_e.z,this.z)),this}clampScalar($,_e){return this.x=Math.max($,Math.min(_e,this.x)),this.y=Math.max($,Math.min(_e,this.y)),this.z=Math.max($,Math.min(_e,this.z)),this}clampLength($,_e){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max($,Math.min(_e,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot($){return this.x*$.x+this.y*$.y+this.z*$.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength($){return this.normalize().multiplyScalar($)}lerp($,_e){return this.x+=($.x-this.x)*_e,this.y+=($.y-this.y)*_e,this.z+=($.z-this.z)*_e,this}lerpVectors($,_e,tt){return this.x=$.x+(_e.x-$.x)*tt,this.y=$.y+(_e.y-$.y)*tt,this.z=$.z+(_e.z-$.z)*tt,this}cross($){return this.crossVectors(this,$)}crossVectors($,_e){const tt=$.x,nt=$.y,rt=$.z,it=_e.x,st=_e.y,ot=_e.z;return this.x=nt*ot-rt*st,this.y=rt*it-tt*ot,this.z=tt*st-nt*it,this}projectOnVector($){const _e=$.lengthSq();if(_e===0)return this.set(0,0,0);const tt=$.dot(this)/_e;return this.copy($).multiplyScalar(tt)}projectOnPlane($){return _vector$d.copy(this).projectOnVector($),this.sub(_vector$d)}reflect($){return this.sub(_vector$d.copy($).multiplyScalar(2*this.dot($)))}angleTo($){const _e=Math.sqrt(this.lengthSq()*$.lengthSq());if(_e===0)return Math.PI/2;const tt=this.dot($)/_e;return Math.acos(clamp$1(tt,-1,1))}distanceTo($){return Math.sqrt(this.distanceToSquared($))}distanceToSquared($){const _e=this.x-$.x,tt=this.y-$.y,nt=this.z-$.z;return _e*_e+tt*tt+nt*nt}manhattanDistanceTo($){return Math.abs(this.x-$.x)+Math.abs(this.y-$.y)+Math.abs(this.z-$.z)}setFromSpherical($){return this.setFromSphericalCoords($.radius,$.phi,$.theta)}setFromSphericalCoords($,_e,tt){const nt=Math.sin(_e)*$;return this.x=nt*Math.sin(tt),this.y=Math.cos(_e)*$,this.z=nt*Math.cos(tt),this}setFromCylindrical($){return this.setFromCylindricalCoords($.radius,$.theta,$.y)}setFromCylindricalCoords($,_e,tt){return this.x=$*Math.sin(_e),this.y=tt,this.z=$*Math.cos(_e),this}setFromMatrixPosition($){const _e=$.elements;return this.x=_e[12],this.y=_e[13],this.z=_e[14],this}setFromMatrixScale($){const _e=this.setFromMatrixColumn($,0).length(),tt=this.setFromMatrixColumn($,1).length(),nt=this.setFromMatrixColumn($,2).length();return this.x=_e,this.y=tt,this.z=nt,this}setFromMatrixColumn($,_e){return this.fromArray($.elements,_e*4)}setFromMatrix3Column($,_e){return this.fromArray($.elements,_e*3)}setFromEuler($){return this.x=$._x,this.y=$._y,this.z=$._z,this}equals($){return $.x===this.x&&$.y===this.y&&$.z===this.z}fromArray($,_e=0){return this.x=$[_e],this.y=$[_e+1],this.z=$[_e+2],this}toArray($=[],_e=0){return $[_e]=this.x,$[_e+1]=this.y,$[_e+2]=this.z,$}fromBufferAttribute($,_e){return this.x=$.getX(_e),this.y=$.getY(_e),this.z=$.getZ(_e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const $=(Math.random()-.5)*2,_e=Math.random()*Math.PI*2,tt=Math.sqrt(1-$**2);return this.x=tt*Math.cos(_e),this.y=tt*Math.sin(_e),this.z=$,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$d=new Vector3,_quaternion$4=new Quaternion;function SRGBToLinear(et){return et<.04045?et*.0773993808:Math.pow(et*.9478672986+.0521327014,2.4)}function LinearToSRGB(et){return et<.0031308?et*12.92:1.055*Math.pow(et,.41666)-.055}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),_vector$c=new Vector3;function DisplayP3ToLinearSRGB(et){return et.convertSRGBToLinear(),_vector$c.set(et.r,et.g,et.b).applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),et.setRGB(_vector$c.x,_vector$c.y,_vector$c.z)}function LinearSRGBToDisplayP3(et){return _vector$c.set(et.r,et.g,et.b).applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3),et.setRGB(_vector$c.x,_vector$c.y,_vector$c.z).convertLinearToSRGB()}const TO_LINEAR={[LinearSRGBColorSpace]:et=>et,[SRGBColorSpace]:et=>et.convertSRGBToLinear(),[DisplayP3ColorSpace]:DisplayP3ToLinearSRGB},FROM_LINEAR={[LinearSRGBColorSpace]:et=>et,[SRGBColorSpace]:et=>et.convertLinearToSRGB(),[DisplayP3ColorSpace]:LinearSRGBToDisplayP3},ColorManagement$1={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(et){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!et},get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(et){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(et,$,_e){if(this.enabled===!1||$===_e||!$||!_e)return et;const tt=TO_LINEAR[$],nt=FROM_LINEAR[_e];if(tt===void 0||nt===void 0)throw new Error(`Unsupported color space conversion, "${$}" to "${_e}".`);return nt(tt(et))},fromWorkingColorSpace:function(et,$){return this.convert(et,this.workingColorSpace,$)},toWorkingColorSpace:function(et,$){return this.convert(et,$,this.workingColorSpace)}};let _canvas;class ImageUtils{static getDataURL($){if(/^data:/i.test($.src)||typeof HTMLCanvasElement>"u")return $.src;let _e;if($ instanceof HTMLCanvasElement)_e=$;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=$.width,_canvas.height=$.height;const tt=_canvas.getContext("2d");$ instanceof ImageData?tt.putImageData($,0,0):tt.drawImage($,0,0,$.width,$.height),_e=_canvas}return _e.width>2048||_e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",$),_e.toDataURL("image/jpeg",.6)):_e.toDataURL("image/png")}static sRGBToLinear($){if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const _e=createElementNS("canvas");_e.width=$.width,_e.height=$.height;const tt=_e.getContext("2d");tt.drawImage($,0,0,$.width,$.height);const nt=tt.getImageData(0,0,$.width,$.height),rt=nt.data;for(let it=0;it<rt.length;it++)rt[it]=SRGBToLinear(rt[it]/255)*255;return tt.putImageData(nt,0,0),_e}else if($.data){const _e=$.data.slice(0);for(let tt=0;tt<_e.length;tt++)_e instanceof Uint8Array||_e instanceof Uint8ClampedArray?_e[tt]=Math.floor(SRGBToLinear(_e[tt]/255)*255):_e[tt]=SRGBToLinear(_e[tt]);return{data:_e,width:$.width,height:$.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),$}}class Source{constructor($=null){this.isSource=!0,this.uuid=generateUUID(),this.data=$,this.version=0}set needsUpdate($){$===!0&&this.version++}toJSON($){const _e=$===void 0||typeof $=="string";if(!_e&&$.images[this.uuid]!==void 0)return $.images[this.uuid];const tt={uuid:this.uuid,url:""},nt=this.data;if(nt!==null){let rt;if(Array.isArray(nt)){rt=[];for(let it=0,st=nt.length;it<st;it++)nt[it].isDataTexture?rt.push(serializeImage(nt[it].image)):rt.push(serializeImage(nt[it]))}else rt=serializeImage(nt);tt.url=rt}return _e||($.images[this.uuid]=tt),tt}}function serializeImage(et){return typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&et instanceof ImageBitmap?ImageUtils.getDataURL(et):et.data?{data:Array.from(et.data),width:et.width,height:et.height,type:et.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor($=Texture.DEFAULT_IMAGE,_e=Texture.DEFAULT_MAPPING,tt=ClampToEdgeWrapping,nt=ClampToEdgeWrapping,rt=LinearFilter,it=LinearMipmapLinearFilter,st=RGBAFormat,ot=UnsignedByteType,at=Texture.DEFAULT_ANISOTROPY,lt=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source($),this.mipmaps=[],this.mapping=_e,this.wrapS=tt,this.wrapT=nt,this.magFilter=rt,this.minFilter=it,this.anisotropy=at,this.format=st,this.internalFormat=null,this.type=ot,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=lt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image($=null){this.source.data=$}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy($){return this.name=$.name,this.source=$.source,this.mipmaps=$.mipmaps.slice(0),this.mapping=$.mapping,this.wrapS=$.wrapS,this.wrapT=$.wrapT,this.magFilter=$.magFilter,this.minFilter=$.minFilter,this.anisotropy=$.anisotropy,this.format=$.format,this.internalFormat=$.internalFormat,this.type=$.type,this.offset.copy($.offset),this.repeat.copy($.repeat),this.center.copy($.center),this.rotation=$.rotation,this.matrixAutoUpdate=$.matrixAutoUpdate,this.matrix.copy($.matrix),this.generateMipmaps=$.generateMipmaps,this.premultiplyAlpha=$.premultiplyAlpha,this.flipY=$.flipY,this.unpackAlignment=$.unpackAlignment,this.encoding=$.encoding,this.userData=JSON.parse(JSON.stringify($.userData)),this.needsUpdate=!0,this}toJSON($){const _e=$===void 0||typeof $=="string";if(!_e&&$.textures[this.uuid]!==void 0)return $.textures[this.uuid];const tt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON($).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(tt.userData=this.userData),_e||($.textures[this.uuid]=tt),tt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv($){if(this.mapping!==UVMapping)return $;if($.applyMatrix3(this.matrix),$.x<0||$.x>1)switch(this.wrapS){case RepeatWrapping:$.x=$.x-Math.floor($.x);break;case ClampToEdgeWrapping:$.x=$.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor($.x)%2)===1?$.x=Math.ceil($.x)-$.x:$.x=$.x-Math.floor($.x);break}if($.y<0||$.y>1)switch(this.wrapT){case RepeatWrapping:$.y=$.y-Math.floor($.y);break;case ClampToEdgeWrapping:$.y=$.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor($.y)%2)===1?$.y=Math.ceil($.y)-$.y:$.y=$.y-Math.floor($.y);break}return this.flipY&&($.y=1-$.y),$}set needsUpdate($){$===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor($=0,_e=0,tt=0,nt=1){Vector4.prototype.isVector4=!0,this.x=$,this.y=_e,this.z=tt,this.w=nt}get width(){return this.z}set width($){this.z=$}get height(){return this.w}set height($){this.w=$}set($,_e,tt,nt){return this.x=$,this.y=_e,this.z=tt,this.w=nt,this}setScalar($){return this.x=$,this.y=$,this.z=$,this.w=$,this}setX($){return this.x=$,this}setY($){return this.y=$,this}setZ($){return this.z=$,this}setW($){return this.w=$,this}setComponent($,_e){switch($){case 0:this.x=_e;break;case 1:this.y=_e;break;case 2:this.z=_e;break;case 3:this.w=_e;break;default:throw new Error("index is out of range: "+$)}return this}getComponent($){switch($){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+$)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy($){return this.x=$.x,this.y=$.y,this.z=$.z,this.w=$.w!==void 0?$.w:1,this}add($){return this.x+=$.x,this.y+=$.y,this.z+=$.z,this.w+=$.w,this}addScalar($){return this.x+=$,this.y+=$,this.z+=$,this.w+=$,this}addVectors($,_e){return this.x=$.x+_e.x,this.y=$.y+_e.y,this.z=$.z+_e.z,this.w=$.w+_e.w,this}addScaledVector($,_e){return this.x+=$.x*_e,this.y+=$.y*_e,this.z+=$.z*_e,this.w+=$.w*_e,this}sub($){return this.x-=$.x,this.y-=$.y,this.z-=$.z,this.w-=$.w,this}subScalar($){return this.x-=$,this.y-=$,this.z-=$,this.w-=$,this}subVectors($,_e){return this.x=$.x-_e.x,this.y=$.y-_e.y,this.z=$.z-_e.z,this.w=$.w-_e.w,this}multiply($){return this.x*=$.x,this.y*=$.y,this.z*=$.z,this.w*=$.w,this}multiplyScalar($){return this.x*=$,this.y*=$,this.z*=$,this.w*=$,this}applyMatrix4($){const _e=this.x,tt=this.y,nt=this.z,rt=this.w,it=$.elements;return this.x=it[0]*_e+it[4]*tt+it[8]*nt+it[12]*rt,this.y=it[1]*_e+it[5]*tt+it[9]*nt+it[13]*rt,this.z=it[2]*_e+it[6]*tt+it[10]*nt+it[14]*rt,this.w=it[3]*_e+it[7]*tt+it[11]*nt+it[15]*rt,this}divideScalar($){return this.multiplyScalar(1/$)}setAxisAngleFromQuaternion($){this.w=2*Math.acos($.w);const _e=Math.sqrt(1-$.w*$.w);return _e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=$.x/_e,this.y=$.y/_e,this.z=$.z/_e),this}setAxisAngleFromRotationMatrix($){let _e,tt,nt,rt;const ot=$.elements,at=ot[0],lt=ot[4],dt=ot[8],ct=ot[1],pt=ot[5],mt=ot[9],ht=ot[2],gt=ot[6],vt=ot[10];if(Math.abs(lt-ct)<.01&&Math.abs(dt-ht)<.01&&Math.abs(mt-gt)<.01){if(Math.abs(lt+ct)<.1&&Math.abs(dt+ht)<.1&&Math.abs(mt+gt)<.1&&Math.abs(at+pt+vt-3)<.1)return this.set(1,0,0,0),this;_e=Math.PI;const yt=(at+1)/2,xt=(pt+1)/2,At=(vt+1)/2,Ct=(lt+ct)/4,Pt=(dt+ht)/4,bt=(mt+gt)/4;return yt>xt&&yt>At?yt<.01?(tt=0,nt=.707106781,rt=.707106781):(tt=Math.sqrt(yt),nt=Ct/tt,rt=Pt/tt):xt>At?xt<.01?(tt=.707106781,nt=0,rt=.707106781):(nt=Math.sqrt(xt),tt=Ct/nt,rt=bt/nt):At<.01?(tt=.707106781,nt=.707106781,rt=0):(rt=Math.sqrt(At),tt=Pt/rt,nt=bt/rt),this.set(tt,nt,rt,_e),this}let _t=Math.sqrt((gt-mt)*(gt-mt)+(dt-ht)*(dt-ht)+(ct-lt)*(ct-lt));return Math.abs(_t)<.001&&(_t=1),this.x=(gt-mt)/_t,this.y=(dt-ht)/_t,this.z=(ct-lt)/_t,this.w=Math.acos((at+pt+vt-1)/2),this}min($){return this.x=Math.min(this.x,$.x),this.y=Math.min(this.y,$.y),this.z=Math.min(this.z,$.z),this.w=Math.min(this.w,$.w),this}max($){return this.x=Math.max(this.x,$.x),this.y=Math.max(this.y,$.y),this.z=Math.max(this.z,$.z),this.w=Math.max(this.w,$.w),this}clamp($,_e){return this.x=Math.max($.x,Math.min(_e.x,this.x)),this.y=Math.max($.y,Math.min(_e.y,this.y)),this.z=Math.max($.z,Math.min(_e.z,this.z)),this.w=Math.max($.w,Math.min(_e.w,this.w)),this}clampScalar($,_e){return this.x=Math.max($,Math.min(_e,this.x)),this.y=Math.max($,Math.min(_e,this.y)),this.z=Math.max($,Math.min(_e,this.z)),this.w=Math.max($,Math.min(_e,this.w)),this}clampLength($,_e){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max($,Math.min(_e,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot($){return this.x*$.x+this.y*$.y+this.z*$.z+this.w*$.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength($){return this.normalize().multiplyScalar($)}lerp($,_e){return this.x+=($.x-this.x)*_e,this.y+=($.y-this.y)*_e,this.z+=($.z-this.z)*_e,this.w+=($.w-this.w)*_e,this}lerpVectors($,_e,tt){return this.x=$.x+(_e.x-$.x)*tt,this.y=$.y+(_e.y-$.y)*tt,this.z=$.z+(_e.z-$.z)*tt,this.w=$.w+(_e.w-$.w)*tt,this}equals($){return $.x===this.x&&$.y===this.y&&$.z===this.z&&$.w===this.w}fromArray($,_e=0){return this.x=$[_e],this.y=$[_e+1],this.z=$[_e+2],this.w=$[_e+3],this}toArray($=[],_e=0){return $[_e]=this.x,$[_e+1]=this.y,$[_e+2]=this.z,$[_e+3]=this.w,$}fromBufferAttribute($,_e){return this.x=$.getX(_e),this.y=$.getY(_e),this.z=$.getZ(_e),this.w=$.getW(_e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor($=1,_e=1,tt={}){super(),this.isWebGLRenderTarget=!0,this.width=$,this.height=_e,this.depth=1,this.scissor=new Vector4(0,0,$,_e),this.scissorTest=!1,this.viewport=new Vector4(0,0,$,_e);const nt={width:$,height:_e,depth:1};this.texture=new Texture(nt,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=tt.generateMipmaps!==void 0?tt.generateMipmaps:!1,this.texture.internalFormat=tt.internalFormat!==void 0?tt.internalFormat:null,this.texture.minFilter=tt.minFilter!==void 0?tt.minFilter:LinearFilter,this.depthBuffer=tt.depthBuffer!==void 0?tt.depthBuffer:!0,this.stencilBuffer=tt.stencilBuffer!==void 0?tt.stencilBuffer:!1,this.depthTexture=tt.depthTexture!==void 0?tt.depthTexture:null,this.samples=tt.samples!==void 0?tt.samples:0}setSize($,_e,tt=1){(this.width!==$||this.height!==_e||this.depth!==tt)&&(this.width=$,this.height=_e,this.depth=tt,this.texture.image.width=$,this.texture.image.height=_e,this.texture.image.depth=tt,this.dispose()),this.viewport.set(0,0,$,_e),this.scissor.set(0,0,$,_e)}clone(){return new this.constructor().copy(this)}copy($){this.width=$.width,this.height=$.height,this.depth=$.depth,this.viewport.copy($.viewport),this.texture=$.texture.clone(),this.texture.isRenderTargetTexture=!0;const _e=Object.assign({},$.texture.image);return this.texture.source=new Source(_e),this.depthBuffer=$.depthBuffer,this.stencilBuffer=$.stencilBuffer,$.depthTexture!==null&&(this.depthTexture=$.depthTexture.clone()),this.samples=$.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor($=null,_e=1,tt=1,nt=1){super(null),this.isDataArrayTexture=!0,this.image={data:$,width:_e,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor($=1,_e=1,tt=1){super($,_e),this.isWebGLArrayRenderTarget=!0,this.depth=tt,this.texture=new DataArrayTexture(null,$,_e,tt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor($=null,_e=1,tt=1,nt=1){super(null),this.isData3DTexture=!0,this.image={data:$,width:_e,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor($=1,_e=1,tt=1){super($,_e),this.isWebGL3DRenderTarget=!0,this.depth=tt,this.texture=new Data3DTexture(null,$,_e,tt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor($=1,_e=1,tt=1,nt={}){super($,_e,nt),this.isWebGLMultipleRenderTargets=!0;const rt=this.texture;this.texture=[];for(let it=0;it<tt;it++)this.texture[it]=rt.clone(),this.texture[it].isRenderTargetTexture=!0}setSize($,_e,tt=1){if(this.width!==$||this.height!==_e||this.depth!==tt){this.width=$,this.height=_e,this.depth=tt;for(let nt=0,rt=this.texture.length;nt<rt;nt++)this.texture[nt].image.width=$,this.texture[nt].image.height=_e,this.texture[nt].image.depth=tt;this.dispose()}return this.viewport.set(0,0,$,_e),this.scissor.set(0,0,$,_e),this}copy($){this.dispose(),this.width=$.width,this.height=$.height,this.depth=$.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=$.depthBuffer,this.stencilBuffer=$.stencilBuffer,$.depthTexture!==null&&(this.depthTexture=$.depthTexture.clone()),this.texture.length=0;for(let _e=0,tt=$.texture.length;_e<tt;_e++)this.texture[_e]=$.texture[_e].clone(),this.texture[_e].isRenderTargetTexture=!0;return this}}class Box3{constructor($=new Vector3(1/0,1/0,1/0),_e=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=$,this.max=_e}set($,_e){return this.min.copy($),this.max.copy(_e),this}setFromArray($){let _e=1/0,tt=1/0,nt=1/0,rt=-1/0,it=-1/0,st=-1/0;for(let ot=0,at=$.length;ot<at;ot+=3){const lt=$[ot],dt=$[ot+1],ct=$[ot+2];lt<_e&&(_e=lt),dt<tt&&(tt=dt),ct<nt&&(nt=ct),lt>rt&&(rt=lt),dt>it&&(it=dt),ct>st&&(st=ct)}return this.min.set(_e,tt,nt),this.max.set(rt,it,st),this}setFromBufferAttribute($){let _e=1/0,tt=1/0,nt=1/0,rt=-1/0,it=-1/0,st=-1/0;for(let ot=0,at=$.count;ot<at;ot++){const lt=$.getX(ot),dt=$.getY(ot),ct=$.getZ(ot);lt<_e&&(_e=lt),dt<tt&&(tt=dt),ct<nt&&(nt=ct),lt>rt&&(rt=lt),dt>it&&(it=dt),ct>st&&(st=ct)}return this.min.set(_e,tt,nt),this.max.set(rt,it,st),this}setFromPoints($){this.makeEmpty();for(let _e=0,tt=$.length;_e<tt;_e++)this.expandByPoint($[_e]);return this}setFromCenterAndSize($,_e){const tt=_vector$b.copy(_e).multiplyScalar(.5);return this.min.copy($).sub(tt),this.max.copy($).add(tt),this}setFromObject($,_e=!1){return this.makeEmpty(),this.expandByObject($,_e)}clone(){return new this.constructor().copy(this)}copy($){return this.min.copy($.min),this.max.copy($.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter($){return this.isEmpty()?$.set(0,0,0):$.addVectors(this.min,this.max).multiplyScalar(.5)}getSize($){return this.isEmpty()?$.set(0,0,0):$.subVectors(this.max,this.min)}expandByPoint($){return this.min.min($),this.max.max($),this}expandByVector($){return this.min.sub($),this.max.add($),this}expandByScalar($){return this.min.addScalar(-$),this.max.addScalar($),this}expandByObject($,_e=!1){$.updateWorldMatrix(!1,!1);const tt=$.geometry;if(tt!==void 0)if(_e&&tt.attributes!=null&&tt.attributes.position!==void 0){const rt=tt.attributes.position;for(let it=0,st=rt.count;it<st;it++)_vector$b.fromBufferAttribute(rt,it).applyMatrix4($.matrixWorld),this.expandByPoint(_vector$b)}else tt.boundingBox===null&&tt.computeBoundingBox(),_box$3.copy(tt.boundingBox),_box$3.applyMatrix4($.matrixWorld),this.union(_box$3);const nt=$.children;for(let rt=0,it=nt.length;rt<it;rt++)this.expandByObject(nt[rt],_e);return this}containsPoint($){return!($.x<this.min.x||$.x>this.max.x||$.y<this.min.y||$.y>this.max.y||$.z<this.min.z||$.z>this.max.z)}containsBox($){return this.min.x<=$.min.x&&$.max.x<=this.max.x&&this.min.y<=$.min.y&&$.max.y<=this.max.y&&this.min.z<=$.min.z&&$.max.z<=this.max.z}getParameter($,_e){return _e.set(($.x-this.min.x)/(this.max.x-this.min.x),($.y-this.min.y)/(this.max.y-this.min.y),($.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox($){return!($.max.x<this.min.x||$.min.x>this.max.x||$.max.y<this.min.y||$.min.y>this.max.y||$.max.z<this.min.z||$.min.z>this.max.z)}intersectsSphere($){return this.clampPoint($.center,_vector$b),_vector$b.distanceToSquared($.center)<=$.radius*$.radius}intersectsPlane($){let _e,tt;return $.normal.x>0?(_e=$.normal.x*this.min.x,tt=$.normal.x*this.max.x):(_e=$.normal.x*this.max.x,tt=$.normal.x*this.min.x),$.normal.y>0?(_e+=$.normal.y*this.min.y,tt+=$.normal.y*this.max.y):(_e+=$.normal.y*this.max.y,tt+=$.normal.y*this.min.y),$.normal.z>0?(_e+=$.normal.z*this.min.z,tt+=$.normal.z*this.max.z):(_e+=$.normal.z*this.max.z,tt+=$.normal.z*this.min.z),_e<=-$.constant&&tt>=-$.constant}intersectsTriangle($){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors($.a,_center),_v1$7.subVectors($.b,_center),_v2$4.subVectors($.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let _e=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(_e,_v0$2,_v1$7,_v2$4,_extents)||(_e=[1,0,0,0,1,0,0,0,1],!satForAxes(_e,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),_e=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(_e,_v0$2,_v1$7,_v2$4,_extents))}clampPoint($,_e){return _e.copy($).clamp(this.min,this.max)}distanceToPoint($){return this.clampPoint($,_vector$b).distanceTo($)}getBoundingSphere($){return this.isEmpty()?$.makeEmpty():(this.getCenter($.center),$.radius=this.getSize(_vector$b).length()*.5),$}intersect($){return this.min.max($.min),this.max.min($.max),this.isEmpty()&&this.makeEmpty(),this}union($){return this.min.min($.min),this.max.max($.max),this}applyMatrix4($){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4($),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4($),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4($),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4($),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4($),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4($),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4($),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4($),this.setFromPoints(_points),this)}translate($){return this.min.add($),this.max.add($),this}equals($){return $.min.equals(this.min)&&$.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(et,$,_e,tt,nt){for(let rt=0,it=et.length-3;rt<=it;rt+=3){_testAxis.fromArray(et,rt);const st=nt.x*Math.abs(_testAxis.x)+nt.y*Math.abs(_testAxis.y)+nt.z*Math.abs(_testAxis.z),ot=$.dot(_testAxis),at=_e.dot(_testAxis),lt=tt.dot(_testAxis);if(Math.max(-Math.max(ot,at,lt),Math.min(ot,at,lt))>st)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor($=new Vector3,_e=-1){this.center=$,this.radius=_e}set($,_e){return this.center.copy($),this.radius=_e,this}setFromPoints($,_e){const tt=this.center;_e!==void 0?tt.copy(_e):_box$2.setFromPoints($).getCenter(tt);let nt=0;for(let rt=0,it=$.length;rt<it;rt++)nt=Math.max(nt,tt.distanceToSquared($[rt]));return this.radius=Math.sqrt(nt),this}copy($){return this.center.copy($.center),this.radius=$.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint($){return $.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint($){return $.distanceTo(this.center)-this.radius}intersectsSphere($){const _e=this.radius+$.radius;return $.center.distanceToSquared(this.center)<=_e*_e}intersectsBox($){return $.intersectsSphere(this)}intersectsPlane($){return Math.abs($.distanceToPoint(this.center))<=this.radius}clampPoint($,_e){const tt=this.center.distanceToSquared($);return _e.copy($),tt>this.radius*this.radius&&(_e.sub(this.center).normalize(),_e.multiplyScalar(this.radius).add(this.center)),_e}getBoundingBox($){return this.isEmpty()?($.makeEmpty(),$):($.set(this.center,this.center),$.expandByScalar(this.radius),$)}applyMatrix4($){return this.center.applyMatrix4($),this.radius=this.radius*$.getMaxScaleOnAxis(),this}translate($){return this.center.add($),this}expandByPoint($){if(this.isEmpty())return this.center.copy($),this.radius=0,this;_v1$6.subVectors($,this.center);const _e=_v1$6.lengthSq();if(_e>this.radius*this.radius){const tt=Math.sqrt(_e),nt=(tt-this.radius)*.5;this.center.addScaledVector(_v1$6,nt/tt),this.radius+=nt}return this}union($){return $.isEmpty()?this:this.isEmpty()?(this.copy($),this):(this.center.equals($.center)===!0?this.radius=Math.max(this.radius,$.radius):(_v2$3.subVectors($.center,this.center).setLength($.radius),this.expandByPoint(_v1$6.copy($.center).add(_v2$3)),this.expandByPoint(_v1$6.copy($.center).sub(_v2$3))),this)}equals($){return $.center.equals(this.center)&&$.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor($=new Vector3,_e=new Vector3(0,0,-1)){this.origin=$,this.direction=_e}set($,_e){return this.origin.copy($),this.direction.copy(_e),this}copy($){return this.origin.copy($.origin),this.direction.copy($.direction),this}at($,_e){return _e.copy(this.origin).addScaledVector(this.direction,$)}lookAt($){return this.direction.copy($).sub(this.origin).normalize(),this}recast($){return this.origin.copy(this.at($,_vector$a)),this}closestPointToPoint($,_e){_e.subVectors($,this.origin);const tt=_e.dot(this.direction);return tt<0?_e.copy(this.origin):_e.copy(this.origin).addScaledVector(this.direction,tt)}distanceToPoint($){return Math.sqrt(this.distanceSqToPoint($))}distanceSqToPoint($){const _e=_vector$a.subVectors($,this.origin).dot(this.direction);return _e<0?this.origin.distanceToSquared($):(_vector$a.copy(this.origin).addScaledVector(this.direction,_e),_vector$a.distanceToSquared($))}distanceSqToSegment($,_e,tt,nt){_segCenter.copy($).add(_e).multiplyScalar(.5),_segDir.copy(_e).sub($).normalize(),_diff.copy(this.origin).sub(_segCenter);const rt=$.distanceTo(_e)*.5,it=-this.direction.dot(_segDir),st=_diff.dot(this.direction),ot=-_diff.dot(_segDir),at=_diff.lengthSq(),lt=Math.abs(1-it*it);let dt,ct,pt,mt;if(lt>0)if(dt=it*ot-st,ct=it*st-ot,mt=rt*lt,dt>=0)if(ct>=-mt)if(ct<=mt){const ht=1/lt;dt*=ht,ct*=ht,pt=dt*(dt+it*ct+2*st)+ct*(it*dt+ct+2*ot)+at}else ct=rt,dt=Math.max(0,-(it*ct+st)),pt=-dt*dt+ct*(ct+2*ot)+at;else ct=-rt,dt=Math.max(0,-(it*ct+st)),pt=-dt*dt+ct*(ct+2*ot)+at;else ct<=-mt?(dt=Math.max(0,-(-it*rt+st)),ct=dt>0?-rt:Math.min(Math.max(-rt,-ot),rt),pt=-dt*dt+ct*(ct+2*ot)+at):ct<=mt?(dt=0,ct=Math.min(Math.max(-rt,-ot),rt),pt=ct*(ct+2*ot)+at):(dt=Math.max(0,-(it*rt+st)),ct=dt>0?rt:Math.min(Math.max(-rt,-ot),rt),pt=-dt*dt+ct*(ct+2*ot)+at);else ct=it>0?-rt:rt,dt=Math.max(0,-(it*ct+st)),pt=-dt*dt+ct*(ct+2*ot)+at;return tt&&tt.copy(this.origin).addScaledVector(this.direction,dt),nt&&nt.copy(_segCenter).addScaledVector(_segDir,ct),pt}intersectSphere($,_e){_vector$a.subVectors($.center,this.origin);const tt=_vector$a.dot(this.direction),nt=_vector$a.dot(_vector$a)-tt*tt,rt=$.radius*$.radius;if(nt>rt)return null;const it=Math.sqrt(rt-nt),st=tt-it,ot=tt+it;return ot<0?null:st<0?this.at(ot,_e):this.at(st,_e)}intersectsSphere($){return this.distanceSqToPoint($.center)<=$.radius*$.radius}distanceToPlane($){const _e=$.normal.dot(this.direction);if(_e===0)return $.distanceToPoint(this.origin)===0?0:null;const tt=-(this.origin.dot($.normal)+$.constant)/_e;return tt>=0?tt:null}intersectPlane($,_e){const tt=this.distanceToPlane($);return tt===null?null:this.at(tt,_e)}intersectsPlane($){const _e=$.distanceToPoint(this.origin);return _e===0||$.normal.dot(this.direction)*_e<0}intersectBox($,_e){let tt,nt,rt,it,st,ot;const at=1/this.direction.x,lt=1/this.direction.y,dt=1/this.direction.z,ct=this.origin;return at>=0?(tt=($.min.x-ct.x)*at,nt=($.max.x-ct.x)*at):(tt=($.max.x-ct.x)*at,nt=($.min.x-ct.x)*at),lt>=0?(rt=($.min.y-ct.y)*lt,it=($.max.y-ct.y)*lt):(rt=($.max.y-ct.y)*lt,it=($.min.y-ct.y)*lt),tt>it||rt>nt||((rt>tt||isNaN(tt))&&(tt=rt),(it<nt||isNaN(nt))&&(nt=it),dt>=0?(st=($.min.z-ct.z)*dt,ot=($.max.z-ct.z)*dt):(st=($.max.z-ct.z)*dt,ot=($.min.z-ct.z)*dt),tt>ot||st>nt)||((st>tt||tt!==tt)&&(tt=st),(ot<nt||nt!==nt)&&(nt=ot),nt<0)?null:this.at(tt>=0?tt:nt,_e)}intersectsBox($){return this.intersectBox($,_vector$a)!==null}intersectTriangle($,_e,tt,nt,rt){_edge1.subVectors(_e,$),_edge2.subVectors(tt,$),_normal$1.crossVectors(_edge1,_edge2);let it=this.direction.dot(_normal$1),st;if(it>0){if(nt)return null;st=1}else if(it<0)st=-1,it=-it;else return null;_diff.subVectors(this.origin,$);const ot=st*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(ot<0)return null;const at=st*this.direction.dot(_edge1.cross(_diff));if(at<0||ot+at>it)return null;const lt=-st*_diff.dot(_normal$1);return lt<0?null:this.at(lt/it,rt)}applyMatrix4($){return this.origin.applyMatrix4($),this.direction.transformDirection($),this}equals($){return $.origin.equals(this.origin)&&$.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set($,_e,tt,nt,rt,it,st,ot,at,lt,dt,ct,pt,mt,ht,gt){const vt=this.elements;return vt[0]=$,vt[4]=_e,vt[8]=tt,vt[12]=nt,vt[1]=rt,vt[5]=it,vt[9]=st,vt[13]=ot,vt[2]=at,vt[6]=lt,vt[10]=dt,vt[14]=ct,vt[3]=pt,vt[7]=mt,vt[11]=ht,vt[15]=gt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy($){const _e=this.elements,tt=$.elements;return _e[0]=tt[0],_e[1]=tt[1],_e[2]=tt[2],_e[3]=tt[3],_e[4]=tt[4],_e[5]=tt[5],_e[6]=tt[6],_e[7]=tt[7],_e[8]=tt[8],_e[9]=tt[9],_e[10]=tt[10],_e[11]=tt[11],_e[12]=tt[12],_e[13]=tt[13],_e[14]=tt[14],_e[15]=tt[15],this}copyPosition($){const _e=this.elements,tt=$.elements;return _e[12]=tt[12],_e[13]=tt[13],_e[14]=tt[14],this}setFromMatrix3($){const _e=$.elements;return this.set(_e[0],_e[3],_e[6],0,_e[1],_e[4],_e[7],0,_e[2],_e[5],_e[8],0,0,0,0,1),this}extractBasis($,_e,tt){return $.setFromMatrixColumn(this,0),_e.setFromMatrixColumn(this,1),tt.setFromMatrixColumn(this,2),this}makeBasis($,_e,tt){return this.set($.x,_e.x,tt.x,0,$.y,_e.y,tt.y,0,$.z,_e.z,tt.z,0,0,0,0,1),this}extractRotation($){const _e=this.elements,tt=$.elements,nt=1/_v1$5.setFromMatrixColumn($,0).length(),rt=1/_v1$5.setFromMatrixColumn($,1).length(),it=1/_v1$5.setFromMatrixColumn($,2).length();return _e[0]=tt[0]*nt,_e[1]=tt[1]*nt,_e[2]=tt[2]*nt,_e[3]=0,_e[4]=tt[4]*rt,_e[5]=tt[5]*rt,_e[6]=tt[6]*rt,_e[7]=0,_e[8]=tt[8]*it,_e[9]=tt[9]*it,_e[10]=tt[10]*it,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,this}makeRotationFromEuler($){const _e=this.elements,tt=$.x,nt=$.y,rt=$.z,it=Math.cos(tt),st=Math.sin(tt),ot=Math.cos(nt),at=Math.sin(nt),lt=Math.cos(rt),dt=Math.sin(rt);if($.order==="XYZ"){const ct=it*lt,pt=it*dt,mt=st*lt,ht=st*dt;_e[0]=ot*lt,_e[4]=-ot*dt,_e[8]=at,_e[1]=pt+mt*at,_e[5]=ct-ht*at,_e[9]=-st*ot,_e[2]=ht-ct*at,_e[6]=mt+pt*at,_e[10]=it*ot}else if($.order==="YXZ"){const ct=ot*lt,pt=ot*dt,mt=at*lt,ht=at*dt;_e[0]=ct+ht*st,_e[4]=mt*st-pt,_e[8]=it*at,_e[1]=it*dt,_e[5]=it*lt,_e[9]=-st,_e[2]=pt*st-mt,_e[6]=ht+ct*st,_e[10]=it*ot}else if($.order==="ZXY"){const ct=ot*lt,pt=ot*dt,mt=at*lt,ht=at*dt;_e[0]=ct-ht*st,_e[4]=-it*dt,_e[8]=mt+pt*st,_e[1]=pt+mt*st,_e[5]=it*lt,_e[9]=ht-ct*st,_e[2]=-it*at,_e[6]=st,_e[10]=it*ot}else if($.order==="ZYX"){const ct=it*lt,pt=it*dt,mt=st*lt,ht=st*dt;_e[0]=ot*lt,_e[4]=mt*at-pt,_e[8]=ct*at+ht,_e[1]=ot*dt,_e[5]=ht*at+ct,_e[9]=pt*at-mt,_e[2]=-at,_e[6]=st*ot,_e[10]=it*ot}else if($.order==="YZX"){const ct=it*ot,pt=it*at,mt=st*ot,ht=st*at;_e[0]=ot*lt,_e[4]=ht-ct*dt,_e[8]=mt*dt+pt,_e[1]=dt,_e[5]=it*lt,_e[9]=-st*lt,_e[2]=-at*lt,_e[6]=pt*dt+mt,_e[10]=ct-ht*dt}else if($.order==="XZY"){const ct=it*ot,pt=it*at,mt=st*ot,ht=st*at;_e[0]=ot*lt,_e[4]=-dt,_e[8]=at*lt,_e[1]=ct*dt+ht,_e[5]=it*lt,_e[9]=pt*dt-mt,_e[2]=mt*dt-pt,_e[6]=st*lt,_e[10]=ht*dt+ct}return _e[3]=0,_e[7]=0,_e[11]=0,_e[12]=0,_e[13]=0,_e[14]=0,_e[15]=1,this}makeRotationFromQuaternion($){return this.compose(_zero,$,_one)}lookAt($,_e,tt){const nt=this.elements;return _z.subVectors($,_e),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(tt,_z),_x.lengthSq()===0&&(Math.abs(tt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(tt,_z)),_x.normalize(),_y.crossVectors(_z,_x),nt[0]=_x.x,nt[4]=_y.x,nt[8]=_z.x,nt[1]=_x.y,nt[5]=_y.y,nt[9]=_z.y,nt[2]=_x.z,nt[6]=_y.z,nt[10]=_z.z,this}multiply($){return this.multiplyMatrices(this,$)}premultiply($){return this.multiplyMatrices($,this)}multiplyMatrices($,_e){const tt=$.elements,nt=_e.elements,rt=this.elements,it=tt[0],st=tt[4],ot=tt[8],at=tt[12],lt=tt[1],dt=tt[5],ct=tt[9],pt=tt[13],mt=tt[2],ht=tt[6],gt=tt[10],vt=tt[14],_t=tt[3],yt=tt[7],xt=tt[11],At=tt[15],Ct=nt[0],Pt=nt[4],bt=nt[8],Mt=nt[12],Tt=nt[1],Ft=nt[5],Gt=nt[9],Wt=nt[13],It=nt[2],Kt=nt[6],Ut=nt[10],Qt=nt[14],Dt=nt[3],qt=nt[7],Jt=nt[11],on=nt[15];return rt[0]=it*Ct+st*Tt+ot*It+at*Dt,rt[4]=it*Pt+st*Ft+ot*Kt+at*qt,rt[8]=it*bt+st*Gt+ot*Ut+at*Jt,rt[12]=it*Mt+st*Wt+ot*Qt+at*on,rt[1]=lt*Ct+dt*Tt+ct*It+pt*Dt,rt[5]=lt*Pt+dt*Ft+ct*Kt+pt*qt,rt[9]=lt*bt+dt*Gt+ct*Ut+pt*Jt,rt[13]=lt*Mt+dt*Wt+ct*Qt+pt*on,rt[2]=mt*Ct+ht*Tt+gt*It+vt*Dt,rt[6]=mt*Pt+ht*Ft+gt*Kt+vt*qt,rt[10]=mt*bt+ht*Gt+gt*Ut+vt*Jt,rt[14]=mt*Mt+ht*Wt+gt*Qt+vt*on,rt[3]=_t*Ct+yt*Tt+xt*It+At*Dt,rt[7]=_t*Pt+yt*Ft+xt*Kt+At*qt,rt[11]=_t*bt+yt*Gt+xt*Ut+At*Jt,rt[15]=_t*Mt+yt*Wt+xt*Qt+At*on,this}multiplyScalar($){const _e=this.elements;return _e[0]*=$,_e[4]*=$,_e[8]*=$,_e[12]*=$,_e[1]*=$,_e[5]*=$,_e[9]*=$,_e[13]*=$,_e[2]*=$,_e[6]*=$,_e[10]*=$,_e[14]*=$,_e[3]*=$,_e[7]*=$,_e[11]*=$,_e[15]*=$,this}determinant(){const $=this.elements,_e=$[0],tt=$[4],nt=$[8],rt=$[12],it=$[1],st=$[5],ot=$[9],at=$[13],lt=$[2],dt=$[6],ct=$[10],pt=$[14],mt=$[3],ht=$[7],gt=$[11],vt=$[15];return mt*(+rt*ot*dt-nt*at*dt-rt*st*ct+tt*at*ct+nt*st*pt-tt*ot*pt)+ht*(+_e*ot*pt-_e*at*ct+rt*it*ct-nt*it*pt+nt*at*lt-rt*ot*lt)+gt*(+_e*at*dt-_e*st*pt-rt*it*dt+tt*it*pt+rt*st*lt-tt*at*lt)+vt*(-nt*st*lt-_e*ot*dt+_e*st*ct+nt*it*dt-tt*it*ct+tt*ot*lt)}transpose(){const $=this.elements;let _e;return _e=$[1],$[1]=$[4],$[4]=_e,_e=$[2],$[2]=$[8],$[8]=_e,_e=$[6],$[6]=$[9],$[9]=_e,_e=$[3],$[3]=$[12],$[12]=_e,_e=$[7],$[7]=$[13],$[13]=_e,_e=$[11],$[11]=$[14],$[14]=_e,this}setPosition($,_e,tt){const nt=this.elements;return $.isVector3?(nt[12]=$.x,nt[13]=$.y,nt[14]=$.z):(nt[12]=$,nt[13]=_e,nt[14]=tt),this}invert(){const $=this.elements,_e=$[0],tt=$[1],nt=$[2],rt=$[3],it=$[4],st=$[5],ot=$[6],at=$[7],lt=$[8],dt=$[9],ct=$[10],pt=$[11],mt=$[12],ht=$[13],gt=$[14],vt=$[15],_t=dt*gt*at-ht*ct*at+ht*ot*pt-st*gt*pt-dt*ot*vt+st*ct*vt,yt=mt*ct*at-lt*gt*at-mt*ot*pt+it*gt*pt+lt*ot*vt-it*ct*vt,xt=lt*ht*at-mt*dt*at+mt*st*pt-it*ht*pt-lt*st*vt+it*dt*vt,At=mt*dt*ot-lt*ht*ot-mt*st*ct+it*ht*ct+lt*st*gt-it*dt*gt,Ct=_e*_t+tt*yt+nt*xt+rt*At;if(Ct===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Pt=1/Ct;return $[0]=_t*Pt,$[1]=(ht*ct*rt-dt*gt*rt-ht*nt*pt+tt*gt*pt+dt*nt*vt-tt*ct*vt)*Pt,$[2]=(st*gt*rt-ht*ot*rt+ht*nt*at-tt*gt*at-st*nt*vt+tt*ot*vt)*Pt,$[3]=(dt*ot*rt-st*ct*rt-dt*nt*at+tt*ct*at+st*nt*pt-tt*ot*pt)*Pt,$[4]=yt*Pt,$[5]=(lt*gt*rt-mt*ct*rt+mt*nt*pt-_e*gt*pt-lt*nt*vt+_e*ct*vt)*Pt,$[6]=(mt*ot*rt-it*gt*rt-mt*nt*at+_e*gt*at+it*nt*vt-_e*ot*vt)*Pt,$[7]=(it*ct*rt-lt*ot*rt+lt*nt*at-_e*ct*at-it*nt*pt+_e*ot*pt)*Pt,$[8]=xt*Pt,$[9]=(mt*dt*rt-lt*ht*rt-mt*tt*pt+_e*ht*pt+lt*tt*vt-_e*dt*vt)*Pt,$[10]=(it*ht*rt-mt*st*rt+mt*tt*at-_e*ht*at-it*tt*vt+_e*st*vt)*Pt,$[11]=(lt*st*rt-it*dt*rt-lt*tt*at+_e*dt*at+it*tt*pt-_e*st*pt)*Pt,$[12]=At*Pt,$[13]=(lt*ht*nt-mt*dt*nt+mt*tt*ct-_e*ht*ct-lt*tt*gt+_e*dt*gt)*Pt,$[14]=(mt*st*nt-it*ht*nt-mt*tt*ot+_e*ht*ot+it*tt*gt-_e*st*gt)*Pt,$[15]=(it*dt*nt-lt*st*nt+lt*tt*ot-_e*dt*ot-it*tt*ct+_e*st*ct)*Pt,this}scale($){const _e=this.elements,tt=$.x,nt=$.y,rt=$.z;return _e[0]*=tt,_e[4]*=nt,_e[8]*=rt,_e[1]*=tt,_e[5]*=nt,_e[9]*=rt,_e[2]*=tt,_e[6]*=nt,_e[10]*=rt,_e[3]*=tt,_e[7]*=nt,_e[11]*=rt,this}getMaxScaleOnAxis(){const $=this.elements,_e=$[0]*$[0]+$[1]*$[1]+$[2]*$[2],tt=$[4]*$[4]+$[5]*$[5]+$[6]*$[6],nt=$[8]*$[8]+$[9]*$[9]+$[10]*$[10];return Math.sqrt(Math.max(_e,tt,nt))}makeTranslation($,_e,tt){return this.set(1,0,0,$,0,1,0,_e,0,0,1,tt,0,0,0,1),this}makeRotationX($){const _e=Math.cos($),tt=Math.sin($);return this.set(1,0,0,0,0,_e,-tt,0,0,tt,_e,0,0,0,0,1),this}makeRotationY($){const _e=Math.cos($),tt=Math.sin($);return this.set(_e,0,tt,0,0,1,0,0,-tt,0,_e,0,0,0,0,1),this}makeRotationZ($){const _e=Math.cos($),tt=Math.sin($);return this.set(_e,-tt,0,0,tt,_e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis($,_e){const tt=Math.cos(_e),nt=Math.sin(_e),rt=1-tt,it=$.x,st=$.y,ot=$.z,at=rt*it,lt=rt*st;return this.set(at*it+tt,at*st-nt*ot,at*ot+nt*st,0,at*st+nt*ot,lt*st+tt,lt*ot-nt*it,0,at*ot-nt*st,lt*ot+nt*it,rt*ot*ot+tt,0,0,0,0,1),this}makeScale($,_e,tt){return this.set($,0,0,0,0,_e,0,0,0,0,tt,0,0,0,0,1),this}makeShear($,_e,tt,nt,rt,it){return this.set(1,tt,rt,0,$,1,it,0,_e,nt,1,0,0,0,0,1),this}compose($,_e,tt){const nt=this.elements,rt=_e._x,it=_e._y,st=_e._z,ot=_e._w,at=rt+rt,lt=it+it,dt=st+st,ct=rt*at,pt=rt*lt,mt=rt*dt,ht=it*lt,gt=it*dt,vt=st*dt,_t=ot*at,yt=ot*lt,xt=ot*dt,At=tt.x,Ct=tt.y,Pt=tt.z;return nt[0]=(1-(ht+vt))*At,nt[1]=(pt+xt)*At,nt[2]=(mt-yt)*At,nt[3]=0,nt[4]=(pt-xt)*Ct,nt[5]=(1-(ct+vt))*Ct,nt[6]=(gt+_t)*Ct,nt[7]=0,nt[8]=(mt+yt)*Pt,nt[9]=(gt-_t)*Pt,nt[10]=(1-(ct+ht))*Pt,nt[11]=0,nt[12]=$.x,nt[13]=$.y,nt[14]=$.z,nt[15]=1,this}decompose($,_e,tt){const nt=this.elements;let rt=_v1$5.set(nt[0],nt[1],nt[2]).length();const it=_v1$5.set(nt[4],nt[5],nt[6]).length(),st=_v1$5.set(nt[8],nt[9],nt[10]).length();this.determinant()<0&&(rt=-rt),$.x=nt[12],$.y=nt[13],$.z=nt[14],_m1$2.copy(this);const at=1/rt,lt=1/it,dt=1/st;return _m1$2.elements[0]*=at,_m1$2.elements[1]*=at,_m1$2.elements[2]*=at,_m1$2.elements[4]*=lt,_m1$2.elements[5]*=lt,_m1$2.elements[6]*=lt,_m1$2.elements[8]*=dt,_m1$2.elements[9]*=dt,_m1$2.elements[10]*=dt,_e.setFromRotationMatrix(_m1$2),tt.x=rt,tt.y=it,tt.z=st,this}makePerspective($,_e,tt,nt,rt,it){const st=this.elements,ot=2*rt/(_e-$),at=2*rt/(tt-nt),lt=(_e+$)/(_e-$),dt=(tt+nt)/(tt-nt),ct=-(it+rt)/(it-rt),pt=-2*it*rt/(it-rt);return st[0]=ot,st[4]=0,st[8]=lt,st[12]=0,st[1]=0,st[5]=at,st[9]=dt,st[13]=0,st[2]=0,st[6]=0,st[10]=ct,st[14]=pt,st[3]=0,st[7]=0,st[11]=-1,st[15]=0,this}makeOrthographic($,_e,tt,nt,rt,it){const st=this.elements,ot=1/(_e-$),at=1/(tt-nt),lt=1/(it-rt),dt=(_e+$)*ot,ct=(tt+nt)*at,pt=(it+rt)*lt;return st[0]=2*ot,st[4]=0,st[8]=0,st[12]=-dt,st[1]=0,st[5]=2*at,st[9]=0,st[13]=-ct,st[2]=0,st[6]=0,st[10]=-2*lt,st[14]=-pt,st[3]=0,st[7]=0,st[11]=0,st[15]=1,this}equals($){const _e=this.elements,tt=$.elements;for(let nt=0;nt<16;nt++)if(_e[nt]!==tt[nt])return!1;return!0}fromArray($,_e=0){for(let tt=0;tt<16;tt++)this.elements[tt]=$[tt+_e];return this}toArray($=[],_e=0){const tt=this.elements;return $[_e]=tt[0],$[_e+1]=tt[1],$[_e+2]=tt[2],$[_e+3]=tt[3],$[_e+4]=tt[4],$[_e+5]=tt[5],$[_e+6]=tt[6],$[_e+7]=tt[7],$[_e+8]=tt[8],$[_e+9]=tt[9],$[_e+10]=tt[10],$[_e+11]=tt[11],$[_e+12]=tt[12],$[_e+13]=tt[13],$[_e+14]=tt[14],$[_e+15]=tt[15],$}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor($=0,_e=0,tt=0,nt=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=$,this._y=_e,this._z=tt,this._order=nt}get x(){return this._x}set x($){this._x=$,this._onChangeCallback()}get y(){return this._y}set y($){this._y=$,this._onChangeCallback()}get z(){return this._z}set z($){this._z=$,this._onChangeCallback()}get order(){return this._order}set order($){this._order=$,this._onChangeCallback()}set($,_e,tt,nt=this._order){return this._x=$,this._y=_e,this._z=tt,this._order=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy($){return this._x=$._x,this._y=$._y,this._z=$._z,this._order=$._order,this._onChangeCallback(),this}setFromRotationMatrix($,_e=this._order,tt=!0){const nt=$.elements,rt=nt[0],it=nt[4],st=nt[8],ot=nt[1],at=nt[5],lt=nt[9],dt=nt[2],ct=nt[6],pt=nt[10];switch(_e){case"XYZ":this._y=Math.asin(clamp$1(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-lt,pt),this._z=Math.atan2(-it,rt)):(this._x=Math.atan2(ct,at),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$1(lt,-1,1)),Math.abs(lt)<.9999999?(this._y=Math.atan2(st,pt),this._z=Math.atan2(ot,at)):(this._y=Math.atan2(-dt,rt),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$1(ct,-1,1)),Math.abs(ct)<.9999999?(this._y=Math.atan2(-dt,pt),this._z=Math.atan2(-it,at)):(this._y=0,this._z=Math.atan2(ot,rt));break;case"ZYX":this._y=Math.asin(-clamp$1(dt,-1,1)),Math.abs(dt)<.9999999?(this._x=Math.atan2(ct,pt),this._z=Math.atan2(ot,rt)):(this._x=0,this._z=Math.atan2(-it,at));break;case"YZX":this._z=Math.asin(clamp$1(ot,-1,1)),Math.abs(ot)<.9999999?(this._x=Math.atan2(-lt,at),this._y=Math.atan2(-dt,rt)):(this._x=0,this._y=Math.atan2(st,pt));break;case"XZY":this._z=Math.asin(-clamp$1(it,-1,1)),Math.abs(it)<.9999999?(this._x=Math.atan2(ct,at),this._y=Math.atan2(st,rt)):(this._x=Math.atan2(-lt,pt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+_e)}return this._order=_e,tt===!0&&this._onChangeCallback(),this}setFromQuaternion($,_e,tt){return _matrix$1.makeRotationFromQuaternion($),this.setFromRotationMatrix(_matrix$1,_e,tt)}setFromVector3($,_e=this._order){return this.set($.x,$.y,$.z,_e)}reorder($){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,$)}equals($){return $._x===this._x&&$._y===this._y&&$._z===this._z&&$._order===this._order}fromArray($){return this._x=$[0],this._y=$[1],this._z=$[2],$[3]!==void 0&&(this._order=$[3]),this._onChangeCallback(),this}toArray($=[],_e=0){return $[_e]=this._x,$[_e+1]=this._y,$[_e+2]=this._z,$[_e+3]=this._order,$}_onChange($){return this._onChangeCallback=$,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set($){this.mask=(1<<$|0)>>>0}enable($){this.mask|=1<<$|0}enableAll(){this.mask=-1}toggle($){this.mask^=1<<$|0}disable($){this.mask&=~(1<<$|0)}disableAll(){this.mask=0}test($){return(this.mask&$.mask)!==0}isEnabled($){return(this.mask&(1<<$|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const $=new Vector3,_e=new Euler,tt=new Quaternion,nt=new Vector3(1,1,1);function rt(){tt.setFromEuler(_e,!1)}function it(){_e.setFromQuaternion(tt,void 0,!1)}_e._onChange(rt),tt._onChange(it),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:$},rotation:{configurable:!0,enumerable:!0,value:_e},quaternion:{configurable:!0,enumerable:!0,value:tt},scale:{configurable:!0,enumerable:!0,value:nt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4($){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply($),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion($){return this.quaternion.premultiply($),this}setRotationFromAxisAngle($,_e){this.quaternion.setFromAxisAngle($,_e)}setRotationFromEuler($){this.quaternion.setFromEuler($,!0)}setRotationFromMatrix($){this.quaternion.setFromRotationMatrix($)}setRotationFromQuaternion($){this.quaternion.copy($)}rotateOnAxis($,_e){return _q1.setFromAxisAngle($,_e),this.quaternion.multiply(_q1),this}rotateOnWorldAxis($,_e){return _q1.setFromAxisAngle($,_e),this.quaternion.premultiply(_q1),this}rotateX($){return this.rotateOnAxis(_xAxis,$)}rotateY($){return this.rotateOnAxis(_yAxis,$)}rotateZ($){return this.rotateOnAxis(_zAxis,$)}translateOnAxis($,_e){return _v1$4.copy($).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(_e)),this}translateX($){return this.translateOnAxis(_xAxis,$)}translateY($){return this.translateOnAxis(_yAxis,$)}translateZ($){return this.translateOnAxis(_zAxis,$)}localToWorld($){return this.updateWorldMatrix(!0,!1),$.applyMatrix4(this.matrixWorld)}worldToLocal($){return this.updateWorldMatrix(!0,!1),$.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt($,_e,tt){$.isVector3?_target.copy($):_target.set($,_e,tt);const nt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),nt&&(_m1$1.extractRotation(nt.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add($){if(arguments.length>1){for(let _e=0;_e<arguments.length;_e++)this.add(arguments[_e]);return this}return $===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",$),this):($&&$.isObject3D?($.parent!==null&&$.parent.remove($),$.parent=this,this.children.push($),$.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",$),this)}remove($){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.remove(arguments[tt]);return this}const _e=this.children.indexOf($);return _e!==-1&&($.parent=null,this.children.splice(_e,1),$.dispatchEvent(_removedEvent)),this}removeFromParent(){const $=this.parent;return $!==null&&$.remove(this),this}clear(){for(let $=0;$<this.children.length;$++){const _e=this.children[$];_e.parent=null,_e.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach($){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),$.parent!==null&&($.parent.updateWorldMatrix(!0,!1),_m1$1.multiply($.parent.matrixWorld)),$.applyMatrix4(_m1$1),this.add($),$.updateWorldMatrix(!1,!0),this}getObjectById($){return this.getObjectByProperty("id",$)}getObjectByName($){return this.getObjectByProperty("name",$)}getObjectByProperty($,_e){if(this[$]===_e)return this;for(let tt=0,nt=this.children.length;tt<nt;tt++){const it=this.children[tt].getObjectByProperty($,_e);if(it!==void 0)return it}}getObjectsByProperty($,_e){let tt=[];this[$]===_e&&tt.push(this);for(let nt=0,rt=this.children.length;nt<rt;nt++){const it=this.children[nt].getObjectsByProperty($,_e);it.length>0&&(tt=tt.concat(it))}return tt}getWorldPosition($){return this.updateWorldMatrix(!0,!1),$.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion($){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,$,_scale$2),$}getWorldScale($){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,$),$}getWorldDirection($){this.updateWorldMatrix(!0,!1);const _e=this.matrixWorld.elements;return $.set(_e[8],_e[9],_e[10]).normalize()}raycast(){}traverse($){$(this);const _e=this.children;for(let tt=0,nt=_e.length;tt<nt;tt++)_e[tt].traverse($)}traverseVisible($){if(this.visible===!1)return;$(this);const _e=this.children;for(let tt=0,nt=_e.length;tt<nt;tt++)_e[tt].traverseVisible($)}traverseAncestors($){const _e=this.parent;_e!==null&&($(_e),_e.traverseAncestors($))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld($){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||$)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,$=!0);const _e=this.children;for(let tt=0,nt=_e.length;tt<nt;tt++){const rt=_e[tt];(rt.matrixWorldAutoUpdate===!0||$===!0)&&rt.updateMatrixWorld($)}}updateWorldMatrix($,_e){const tt=this.parent;if($===!0&&tt!==null&&tt.matrixWorldAutoUpdate===!0&&tt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),_e===!0){const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt];st.matrixWorldAutoUpdate===!0&&st.updateWorldMatrix(!1,!0)}}}toJSON($){const _e=$===void 0||typeof $=="string",tt={};_e&&($={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},tt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const nt={};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.castShadow===!0&&(nt.castShadow=!0),this.receiveShadow===!0&&(nt.receiveShadow=!0),this.visible===!1&&(nt.visible=!1),this.frustumCulled===!1&&(nt.frustumCulled=!1),this.renderOrder!==0&&(nt.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(nt.userData=this.userData),nt.layers=this.layers.mask,nt.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(nt.matrixAutoUpdate=!1),this.isInstancedMesh&&(nt.type="InstancedMesh",nt.count=this.count,nt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(nt.instanceColor=this.instanceColor.toJSON()));function rt(st,ot){return st[ot.uuid]===void 0&&(st[ot.uuid]=ot.toJSON($)),ot.uuid}if(this.isScene)this.background&&(this.background.isColor?nt.background=this.background.toJSON():this.background.isTexture&&(nt.background=this.background.toJSON($).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(nt.environment=this.environment.toJSON($).uuid);else if(this.isMesh||this.isLine||this.isPoints){nt.geometry=rt($.geometries,this.geometry);const st=this.geometry.parameters;if(st!==void 0&&st.shapes!==void 0){const ot=st.shapes;if(Array.isArray(ot))for(let at=0,lt=ot.length;at<lt;at++){const dt=ot[at];rt($.shapes,dt)}else rt($.shapes,ot)}}if(this.isSkinnedMesh&&(nt.bindMode=this.bindMode,nt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(rt($.skeletons,this.skeleton),nt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const st=[];for(let ot=0,at=this.material.length;ot<at;ot++)st.push(rt($.materials,this.material[ot]));nt.material=st}else nt.material=rt($.materials,this.material);if(this.children.length>0){nt.children=[];for(let st=0;st<this.children.length;st++)nt.children.push(this.children[st].toJSON($).object)}if(this.animations.length>0){nt.animations=[];for(let st=0;st<this.animations.length;st++){const ot=this.animations[st];nt.animations.push(rt($.animations,ot))}}if(_e){const st=it($.geometries),ot=it($.materials),at=it($.textures),lt=it($.images),dt=it($.shapes),ct=it($.skeletons),pt=it($.animations),mt=it($.nodes);st.length>0&&(tt.geometries=st),ot.length>0&&(tt.materials=ot),at.length>0&&(tt.textures=at),lt.length>0&&(tt.images=lt),dt.length>0&&(tt.shapes=dt),ct.length>0&&(tt.skeletons=ct),pt.length>0&&(tt.animations=pt),mt.length>0&&(tt.nodes=mt)}return tt.object=nt,tt;function it(st){const ot=[];for(const at in st){const lt=st[at];delete lt.metadata,ot.push(lt)}return ot}}clone($){return new this.constructor().copy(this,$)}copy($,_e=!0){if(this.name=$.name,this.up.copy($.up),this.position.copy($.position),this.rotation.order=$.rotation.order,this.quaternion.copy($.quaternion),this.scale.copy($.scale),this.matrix.copy($.matrix),this.matrixWorld.copy($.matrixWorld),this.matrixAutoUpdate=$.matrixAutoUpdate,this.matrixWorldNeedsUpdate=$.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=$.matrixWorldAutoUpdate,this.layers.mask=$.layers.mask,this.visible=$.visible,this.castShadow=$.castShadow,this.receiveShadow=$.receiveShadow,this.frustumCulled=$.frustumCulled,this.renderOrder=$.renderOrder,this.userData=JSON.parse(JSON.stringify($.userData)),_e===!0)for(let tt=0;tt<$.children.length;tt++){const nt=$.children[tt];this.add(nt.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor($=new Vector3,_e=new Vector3,tt=new Vector3){this.a=$,this.b=_e,this.c=tt}static getNormal($,_e,tt,nt){nt.subVectors(tt,_e),_v0$1.subVectors($,_e),nt.cross(_v0$1);const rt=nt.lengthSq();return rt>0?nt.multiplyScalar(1/Math.sqrt(rt)):nt.set(0,0,0)}static getBarycoord($,_e,tt,nt,rt){_v0$1.subVectors(nt,_e),_v1$3.subVectors(tt,_e),_v2$2.subVectors($,_e);const it=_v0$1.dot(_v0$1),st=_v0$1.dot(_v1$3),ot=_v0$1.dot(_v2$2),at=_v1$3.dot(_v1$3),lt=_v1$3.dot(_v2$2),dt=it*at-st*st;if(dt===0)return rt.set(-2,-1,-1);const ct=1/dt,pt=(at*ot-st*lt)*ct,mt=(it*lt-st*ot)*ct;return rt.set(1-pt-mt,mt,pt)}static containsPoint($,_e,tt,nt){return this.getBarycoord($,_e,tt,nt,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV($,_e,tt,nt,rt,it,st,ot){return this.getBarycoord($,_e,tt,nt,_v3$1),ot.set(0,0),ot.addScaledVector(rt,_v3$1.x),ot.addScaledVector(it,_v3$1.y),ot.addScaledVector(st,_v3$1.z),ot}static isFrontFacing($,_e,tt,nt){return _v0$1.subVectors(tt,_e),_v1$3.subVectors($,_e),_v0$1.cross(_v1$3).dot(nt)<0}set($,_e,tt){return this.a.copy($),this.b.copy(_e),this.c.copy(tt),this}setFromPointsAndIndices($,_e,tt,nt){return this.a.copy($[_e]),this.b.copy($[tt]),this.c.copy($[nt]),this}setFromAttributeAndIndices($,_e,tt,nt){return this.a.fromBufferAttribute($,_e),this.b.fromBufferAttribute($,tt),this.c.fromBufferAttribute($,nt),this}clone(){return new this.constructor().copy(this)}copy($){return this.a.copy($.a),this.b.copy($.b),this.c.copy($.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint($){return $.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal($){return Triangle.getNormal(this.a,this.b,this.c,$)}getPlane($){return $.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord($,_e){return Triangle.getBarycoord($,this.a,this.b,this.c,_e)}getUV($,_e,tt,nt,rt){return Triangle.getUV($,this.a,this.b,this.c,_e,tt,nt,rt)}containsPoint($){return Triangle.containsPoint($,this.a,this.b,this.c)}isFrontFacing($){return Triangle.isFrontFacing(this.a,this.b,this.c,$)}intersectsBox($){return $.intersectsTriangle(this)}closestPointToPoint($,_e){const tt=this.a,nt=this.b,rt=this.c;let it,st;_vab.subVectors(nt,tt),_vac.subVectors(rt,tt),_vap.subVectors($,tt);const ot=_vab.dot(_vap),at=_vac.dot(_vap);if(ot<=0&&at<=0)return _e.copy(tt);_vbp.subVectors($,nt);const lt=_vab.dot(_vbp),dt=_vac.dot(_vbp);if(lt>=0&&dt<=lt)return _e.copy(nt);const ct=ot*dt-lt*at;if(ct<=0&&ot>=0&&lt<=0)return it=ot/(ot-lt),_e.copy(tt).addScaledVector(_vab,it);_vcp.subVectors($,rt);const pt=_vab.dot(_vcp),mt=_vac.dot(_vcp);if(mt>=0&&pt<=mt)return _e.copy(rt);const ht=pt*at-ot*mt;if(ht<=0&&at>=0&&mt<=0)return st=at/(at-mt),_e.copy(tt).addScaledVector(_vac,st);const gt=lt*mt-pt*dt;if(gt<=0&&dt-lt>=0&&pt-mt>=0)return _vbc.subVectors(rt,nt),st=(dt-lt)/(dt-lt+(pt-mt)),_e.copy(nt).addScaledVector(_vbc,st);const vt=1/(gt+ht+ct);return it=ht*vt,st=ct*vt,_e.copy(tt).addScaledVector(_vab,it).addScaledVector(_vac,st)}equals($){return $.a.equals(this.a)&&$.b.equals(this.b)&&$.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest($){this._alphaTest>0!=$>0&&this.version++,this._alphaTest=$}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues($){if($!==void 0)for(const _e in $){const tt=$[_e];if(tt===void 0){console.warn("THREE.Material: '"+_e+"' parameter is undefined.");continue}const nt=this[_e];if(nt===void 0){console.warn("THREE."+this.type+": '"+_e+"' is not a property of this material.");continue}nt&&nt.isColor?nt.set(tt):nt&&nt.isVector3&&tt&&tt.isVector3?nt.copy(tt):this[_e]=tt}}toJSON($){const _e=$===void 0||typeof $=="string";_e&&($={textures:{},images:{}});const tt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};tt.uuid=this.uuid,tt.type=this.type,this.name!==""&&(tt.name=this.name),this.color&&this.color.isColor&&(tt.color=this.color.getHex()),this.roughness!==void 0&&(tt.roughness=this.roughness),this.metalness!==void 0&&(tt.metalness=this.metalness),this.sheen!==void 0&&(tt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(tt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(tt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(tt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(tt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(tt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(tt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(tt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(tt.shininess=this.shininess),this.clearcoat!==void 0&&(tt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(tt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(tt.clearcoatMap=this.clearcoatMap.toJSON($).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(tt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON($).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(tt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON($).uuid,tt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(tt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(tt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(tt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(tt.iridescenceMap=this.iridescenceMap.toJSON($).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(tt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON($).uuid),this.map&&this.map.isTexture&&(tt.map=this.map.toJSON($).uuid),this.matcap&&this.matcap.isTexture&&(tt.matcap=this.matcap.toJSON($).uuid),this.alphaMap&&this.alphaMap.isTexture&&(tt.alphaMap=this.alphaMap.toJSON($).uuid),this.lightMap&&this.lightMap.isTexture&&(tt.lightMap=this.lightMap.toJSON($).uuid,tt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(tt.aoMap=this.aoMap.toJSON($).uuid,tt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(tt.bumpMap=this.bumpMap.toJSON($).uuid,tt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(tt.normalMap=this.normalMap.toJSON($).uuid,tt.normalMapType=this.normalMapType,tt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(tt.displacementMap=this.displacementMap.toJSON($).uuid,tt.displacementScale=this.displacementScale,tt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(tt.roughnessMap=this.roughnessMap.toJSON($).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(tt.metalnessMap=this.metalnessMap.toJSON($).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(tt.emissiveMap=this.emissiveMap.toJSON($).uuid),this.specularMap&&this.specularMap.isTexture&&(tt.specularMap=this.specularMap.toJSON($).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(tt.specularIntensityMap=this.specularIntensityMap.toJSON($).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(tt.specularColorMap=this.specularColorMap.toJSON($).uuid),this.envMap&&this.envMap.isTexture&&(tt.envMap=this.envMap.toJSON($).uuid,this.combine!==void 0&&(tt.combine=this.combine)),this.envMapIntensity!==void 0&&(tt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(tt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(tt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(tt.gradientMap=this.gradientMap.toJSON($).uuid),this.transmission!==void 0&&(tt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(tt.transmissionMap=this.transmissionMap.toJSON($).uuid),this.thickness!==void 0&&(tt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(tt.thicknessMap=this.thicknessMap.toJSON($).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(tt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(tt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(tt.size=this.size),this.shadowSide!==null&&(tt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(tt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(tt.blending=this.blending),this.side!==FrontSide&&(tt.side=this.side),this.vertexColors&&(tt.vertexColors=!0),this.opacity<1&&(tt.opacity=this.opacity),this.transparent===!0&&(tt.transparent=this.transparent),tt.depthFunc=this.depthFunc,tt.depthTest=this.depthTest,tt.depthWrite=this.depthWrite,tt.colorWrite=this.colorWrite,tt.stencilWrite=this.stencilWrite,tt.stencilWriteMask=this.stencilWriteMask,tt.stencilFunc=this.stencilFunc,tt.stencilRef=this.stencilRef,tt.stencilFuncMask=this.stencilFuncMask,tt.stencilFail=this.stencilFail,tt.stencilZFail=this.stencilZFail,tt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(tt.rotation=this.rotation),this.polygonOffset===!0&&(tt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(tt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(tt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(tt.linewidth=this.linewidth),this.dashSize!==void 0&&(tt.dashSize=this.dashSize),this.gapSize!==void 0&&(tt.gapSize=this.gapSize),this.scale!==void 0&&(tt.scale=this.scale),this.dithering===!0&&(tt.dithering=!0),this.alphaTest>0&&(tt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(tt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(tt.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(tt.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(tt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(tt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(tt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(tt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(tt.flatShading=this.flatShading),this.visible===!1&&(tt.visible=!1),this.toneMapped===!1&&(tt.toneMapped=!1),this.fog===!1&&(tt.fog=!1),Object.keys(this.userData).length>0&&(tt.userData=this.userData);function nt(rt){const it=[];for(const st in rt){const ot=rt[st];delete ot.metadata,it.push(ot)}return it}if(_e){const rt=nt($.textures),it=nt($.images);rt.length>0&&(tt.textures=rt),it.length>0&&(tt.images=it)}return tt}clone(){return new this.constructor().copy(this)}copy($){this.name=$.name,this.blending=$.blending,this.side=$.side,this.vertexColors=$.vertexColors,this.opacity=$.opacity,this.transparent=$.transparent,this.blendSrc=$.blendSrc,this.blendDst=$.blendDst,this.blendEquation=$.blendEquation,this.blendSrcAlpha=$.blendSrcAlpha,this.blendDstAlpha=$.blendDstAlpha,this.blendEquationAlpha=$.blendEquationAlpha,this.depthFunc=$.depthFunc,this.depthTest=$.depthTest,this.depthWrite=$.depthWrite,this.stencilWriteMask=$.stencilWriteMask,this.stencilFunc=$.stencilFunc,this.stencilRef=$.stencilRef,this.stencilFuncMask=$.stencilFuncMask,this.stencilFail=$.stencilFail,this.stencilZFail=$.stencilZFail,this.stencilZPass=$.stencilZPass,this.stencilWrite=$.stencilWrite;const _e=$.clippingPlanes;let tt=null;if(_e!==null){const nt=_e.length;tt=new Array(nt);for(let rt=0;rt!==nt;++rt)tt[rt]=_e[rt].clone()}return this.clippingPlanes=tt,this.clipIntersection=$.clipIntersection,this.clipShadows=$.clipShadows,this.shadowSide=$.shadowSide,this.colorWrite=$.colorWrite,this.precision=$.precision,this.polygonOffset=$.polygonOffset,this.polygonOffsetFactor=$.polygonOffsetFactor,this.polygonOffsetUnits=$.polygonOffsetUnits,this.dithering=$.dithering,this.alphaTest=$.alphaTest,this.alphaToCoverage=$.alphaToCoverage,this.premultipliedAlpha=$.premultipliedAlpha,this.forceSinglePass=$.forceSinglePass,this.visible=$.visible,this.toneMapped=$.toneMapped,this.userData=JSON.parse(JSON.stringify($.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate($){$===!0&&this.version++}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(et,$,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?et+($-et)*6*_e:_e<1/2?$:_e<2/3?et+($-et)*6*(2/3-_e):et}class Color{constructor($,_e,tt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,_e===void 0&&tt===void 0?this.set($):this.setRGB($,_e,tt)}set($){return $&&$.isColor?this.copy($):typeof $=="number"?this.setHex($):typeof $=="string"&&this.setStyle($),this}setScalar($){return this.r=$,this.g=$,this.b=$,this}setHex($,_e=SRGBColorSpace){return $=Math.floor($),this.r=($>>16&255)/255,this.g=($>>8&255)/255,this.b=($&255)/255,ColorManagement$1.toWorkingColorSpace(this,_e),this}setRGB($,_e,tt,nt=ColorManagement$1.workingColorSpace){return this.r=$,this.g=_e,this.b=tt,ColorManagement$1.toWorkingColorSpace(this,nt),this}setHSL($,_e,tt,nt=ColorManagement$1.workingColorSpace){if($=euclideanModulo($,1),_e=clamp$1(_e,0,1),tt=clamp$1(tt,0,1),_e===0)this.r=this.g=this.b=tt;else{const rt=tt<=.5?tt*(1+_e):tt+_e-tt*_e,it=2*tt-rt;this.r=hue2rgb(it,rt,$+1/3),this.g=hue2rgb(it,rt,$),this.b=hue2rgb(it,rt,$-1/3)}return ColorManagement$1.toWorkingColorSpace(this,nt),this}setStyle($,_e=SRGBColorSpace){function tt(rt){rt!==void 0&&parseFloat(rt)<1&&console.warn("THREE.Color: Alpha component of "+$+" will be ignored.")}let nt;if(nt=/^(\w+)\(([^\)]*)\)/.exec($)){let rt;const it=nt[1],st=nt[2];switch(it){case"rgb":case"rgba":if(rt=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(255,parseInt(rt[1],10))/255,this.g=Math.min(255,parseInt(rt[2],10))/255,this.b=Math.min(255,parseInt(rt[3],10))/255,ColorManagement$1.toWorkingColorSpace(this,_e),tt(rt[4]),this;if(rt=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(100,parseInt(rt[1],10))/100,this.g=Math.min(100,parseInt(rt[2],10))/100,this.b=Math.min(100,parseInt(rt[3],10))/100,ColorManagement$1.toWorkingColorSpace(this,_e),tt(rt[4]),this;break;case"hsl":case"hsla":if(rt=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st)){const ot=parseFloat(rt[1])/360,at=parseFloat(rt[2])/100,lt=parseFloat(rt[3])/100;return tt(rt[4]),this.setHSL(ot,at,lt,_e)}break;default:console.warn("THREE.Color: Unknown color model "+$)}}else if(nt=/^\#([A-Fa-f\d]+)$/.exec($)){const rt=nt[1],it=rt.length;if(it===3)return this.r=parseInt(rt.charAt(0)+rt.charAt(0),16)/255,this.g=parseInt(rt.charAt(1)+rt.charAt(1),16)/255,this.b=parseInt(rt.charAt(2)+rt.charAt(2),16)/255,ColorManagement$1.toWorkingColorSpace(this,_e),this;if(it===6)return this.r=parseInt(rt.charAt(0)+rt.charAt(1),16)/255,this.g=parseInt(rt.charAt(2)+rt.charAt(3),16)/255,this.b=parseInt(rt.charAt(4)+rt.charAt(5),16)/255,ColorManagement$1.toWorkingColorSpace(this,_e),this;console.warn("THREE.Color: Invalid hex color "+$)}else if($&&$.length>0)return this.setColorName($,_e);return this}setColorName($,_e=SRGBColorSpace){const tt=_colorKeywords[$.toLowerCase()];return tt!==void 0?this.setHex(tt,_e):console.warn("THREE.Color: Unknown color "+$),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy($){return this.r=$.r,this.g=$.g,this.b=$.b,this}copySRGBToLinear($){return this.r=SRGBToLinear($.r),this.g=SRGBToLinear($.g),this.b=SRGBToLinear($.b),this}copyLinearToSRGB($){return this.r=LinearToSRGB($.r),this.g=LinearToSRGB($.g),this.b=LinearToSRGB($.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex($=SRGBColorSpace){return ColorManagement$1.fromWorkingColorSpace(_color.copy(this),$),clamp$1(_color.r*255,0,255)<<16^clamp$1(_color.g*255,0,255)<<8^clamp$1(_color.b*255,0,255)<<0}getHexString($=SRGBColorSpace){return("000000"+this.getHex($).toString(16)).slice(-6)}getHSL($,_e=ColorManagement$1.workingColorSpace){ColorManagement$1.fromWorkingColorSpace(_color.copy(this),_e);const tt=_color.r,nt=_color.g,rt=_color.b,it=Math.max(tt,nt,rt),st=Math.min(tt,nt,rt);let ot,at;const lt=(st+it)/2;if(st===it)ot=0,at=0;else{const dt=it-st;switch(at=lt<=.5?dt/(it+st):dt/(2-it-st),it){case tt:ot=(nt-rt)/dt+(nt<rt?6:0);break;case nt:ot=(rt-tt)/dt+2;break;case rt:ot=(tt-nt)/dt+4;break}ot/=6}return $.h=ot,$.s=at,$.l=lt,$}getRGB($,_e=ColorManagement$1.workingColorSpace){return ColorManagement$1.fromWorkingColorSpace(_color.copy(this),_e),$.r=_color.r,$.g=_color.g,$.b=_color.b,$}getStyle($=SRGBColorSpace){ColorManagement$1.fromWorkingColorSpace(_color.copy(this),$);const _e=_color.r,tt=_color.g,nt=_color.b;return $!==SRGBColorSpace?`color(${$} ${_e.toFixed(3)} ${tt.toFixed(3)} ${nt.toFixed(3)})`:`rgb(${_e*255|0},${tt*255|0},${nt*255|0})`}offsetHSL($,_e,tt){return this.getHSL(_hslA),_hslA.h+=$,_hslA.s+=_e,_hslA.l+=tt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add($){return this.r+=$.r,this.g+=$.g,this.b+=$.b,this}addColors($,_e){return this.r=$.r+_e.r,this.g=$.g+_e.g,this.b=$.b+_e.b,this}addScalar($){return this.r+=$,this.g+=$,this.b+=$,this}sub($){return this.r=Math.max(0,this.r-$.r),this.g=Math.max(0,this.g-$.g),this.b=Math.max(0,this.b-$.b),this}multiply($){return this.r*=$.r,this.g*=$.g,this.b*=$.b,this}multiplyScalar($){return this.r*=$,this.g*=$,this.b*=$,this}lerp($,_e){return this.r+=($.r-this.r)*_e,this.g+=($.g-this.g)*_e,this.b+=($.b-this.b)*_e,this}lerpColors($,_e,tt){return this.r=$.r+(_e.r-$.r)*tt,this.g=$.g+(_e.g-$.g)*tt,this.b=$.b+(_e.b-$.b)*tt,this}lerpHSL($,_e){this.getHSL(_hslA),$.getHSL(_hslB);const tt=lerp(_hslA.h,_hslB.h,_e),nt=lerp(_hslA.s,_hslB.s,_e),rt=lerp(_hslA.l,_hslB.l,_e);return this.setHSL(tt,nt,rt),this}equals($){return $.r===this.r&&$.g===this.g&&$.b===this.b}fromArray($,_e=0){return this.r=$[_e],this.g=$[_e+1],this.b=$[_e+2],this}toArray($=[],_e=0){return $[_e]=this.r,$[_e+1]=this.g,$[_e+2]=this.b,$}fromBufferAttribute($,_e){return this.r=$.getX(_e),this.g=$.getY(_e),this.b=$.getZ(_e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;class MeshBasicMaterial extends Material{constructor($){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.specularMap=$.specularMap,this.alphaMap=$.alphaMap,this.envMap=$.envMap,this.combine=$.combine,this.reflectivity=$.reflectivity,this.refractionRatio=$.refractionRatio,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.fog=$.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor($,_e,tt=!1){if(Array.isArray($))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=$,this.itemSize=_e,this.count=$!==void 0?$.length/_e:0,this.normalized=tt,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate($){$===!0&&this.version++}setUsage($){return this.usage=$,this}copy($){return this.name=$.name,this.array=new $.array.constructor($.array),this.itemSize=$.itemSize,this.count=$.count,this.normalized=$.normalized,this.usage=$.usage,this}copyAt($,_e,tt){$*=this.itemSize,tt*=_e.itemSize;for(let nt=0,rt=this.itemSize;nt<rt;nt++)this.array[$+nt]=_e.array[tt+nt];return this}copyArray($){return this.array.set($),this}applyMatrix3($){if(this.itemSize===2)for(let _e=0,tt=this.count;_e<tt;_e++)_vector2$1.fromBufferAttribute(this,_e),_vector2$1.applyMatrix3($),this.setXY(_e,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let _e=0,tt=this.count;_e<tt;_e++)_vector$9.fromBufferAttribute(this,_e),_vector$9.applyMatrix3($),this.setXYZ(_e,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4($){for(let _e=0,tt=this.count;_e<tt;_e++)_vector$9.fromBufferAttribute(this,_e),_vector$9.applyMatrix4($),this.setXYZ(_e,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix($){for(let _e=0,tt=this.count;_e<tt;_e++)_vector$9.fromBufferAttribute(this,_e),_vector$9.applyNormalMatrix($),this.setXYZ(_e,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection($){for(let _e=0,tt=this.count;_e<tt;_e++)_vector$9.fromBufferAttribute(this,_e),_vector$9.transformDirection($),this.setXYZ(_e,_vector$9.x,_vector$9.y,_vector$9.z);return this}set($,_e=0){return this.array.set($,_e),this}getX($){let _e=this.array[$*this.itemSize];return this.normalized&&(_e=denormalize(_e,this.array)),_e}setX($,_e){return this.normalized&&(_e=normalize(_e,this.array)),this.array[$*this.itemSize]=_e,this}getY($){let _e=this.array[$*this.itemSize+1];return this.normalized&&(_e=denormalize(_e,this.array)),_e}setY($,_e){return this.normalized&&(_e=normalize(_e,this.array)),this.array[$*this.itemSize+1]=_e,this}getZ($){let _e=this.array[$*this.itemSize+2];return this.normalized&&(_e=denormalize(_e,this.array)),_e}setZ($,_e){return this.normalized&&(_e=normalize(_e,this.array)),this.array[$*this.itemSize+2]=_e,this}getW($){let _e=this.array[$*this.itemSize+3];return this.normalized&&(_e=denormalize(_e,this.array)),_e}setW($,_e){return this.normalized&&(_e=normalize(_e,this.array)),this.array[$*this.itemSize+3]=_e,this}setXY($,_e,tt){return $*=this.itemSize,this.normalized&&(_e=normalize(_e,this.array),tt=normalize(tt,this.array)),this.array[$+0]=_e,this.array[$+1]=tt,this}setXYZ($,_e,tt,nt){return $*=this.itemSize,this.normalized&&(_e=normalize(_e,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.array[$+0]=_e,this.array[$+1]=tt,this.array[$+2]=nt,this}setXYZW($,_e,tt,nt,rt){return $*=this.itemSize,this.normalized&&(_e=normalize(_e,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.array[$+0]=_e,this.array[$+1]=tt,this.array[$+2]=nt,this.array[$+3]=rt,this}onUpload($){return this.onUploadCallback=$,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const $={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&($.name=this.name),this.usage!==StaticDrawUsage&&($.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&($.updateRange=this.updateRange),$}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Int8Array($),_e,tt)}}class Uint8BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Uint8Array($),_e,tt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Uint8ClampedArray($),_e,tt)}}class Int16BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Int16Array($),_e,tt)}}class Uint16BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Uint16Array($),_e,tt)}}class Int32BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Int32Array($),_e,tt)}}class Uint32BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Uint32Array($),_e,tt)}}class Float16BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Uint16Array($),_e,tt),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Float32Array($),_e,tt)}}class Float64BufferAttribute extends BufferAttribute{constructor($,_e,tt){super(new Float64Array($),_e,tt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex($){return Array.isArray($)?this.index=new(arrayNeedsUint32($)?Uint32BufferAttribute:Uint16BufferAttribute)($,1):this.index=$,this}getAttribute($){return this.attributes[$]}setAttribute($,_e){return this.attributes[$]=_e,this}deleteAttribute($){return delete this.attributes[$],this}hasAttribute($){return this.attributes[$]!==void 0}addGroup($,_e,tt=0){this.groups.push({start:$,count:_e,materialIndex:tt})}clearGroups(){this.groups=[]}setDrawRange($,_e){this.drawRange.start=$,this.drawRange.count=_e}applyMatrix4($){const _e=this.attributes.position;_e!==void 0&&(_e.applyMatrix4($),_e.needsUpdate=!0);const tt=this.attributes.normal;if(tt!==void 0){const rt=new Matrix3().getNormalMatrix($);tt.applyNormalMatrix(rt),tt.needsUpdate=!0}const nt=this.attributes.tangent;return nt!==void 0&&(nt.transformDirection($),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion($){return _m1.makeRotationFromQuaternion($),this.applyMatrix4(_m1),this}rotateX($){return _m1.makeRotationX($),this.applyMatrix4(_m1),this}rotateY($){return _m1.makeRotationY($),this.applyMatrix4(_m1),this}rotateZ($){return _m1.makeRotationZ($),this.applyMatrix4(_m1),this}translate($,_e,tt){return _m1.makeTranslation($,_e,tt),this.applyMatrix4(_m1),this}scale($,_e,tt){return _m1.makeScale($,_e,tt),this.applyMatrix4(_m1),this}lookAt($){return _obj.lookAt($),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints($){const _e=[];for(let tt=0,nt=$.length;tt<nt;tt++){const rt=$[tt];_e.push(rt.x,rt.y,rt.z||0)}return this.setAttribute("position",new Float32BufferAttribute(_e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const $=this.attributes.position,_e=this.morphAttributes.position;if($&&$.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if($!==void 0){if(this.boundingBox.setFromBufferAttribute($),_e)for(let tt=0,nt=_e.length;tt<nt;tt++){const rt=_e[tt];_box$1.setFromBufferAttribute(rt),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const $=this.attributes.position,_e=this.morphAttributes.position;if($&&$.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if($){const tt=this.boundingSphere.center;if(_box$1.setFromBufferAttribute($),_e)for(let rt=0,it=_e.length;rt<it;rt++){const st=_e[rt];_boxMorphTargets.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(tt);let nt=0;for(let rt=0,it=$.count;rt<it;rt++)_vector$8.fromBufferAttribute($,rt),nt=Math.max(nt,tt.distanceToSquared(_vector$8));if(_e)for(let rt=0,it=_e.length;rt<it;rt++){const st=_e[rt],ot=this.morphTargetsRelative;for(let at=0,lt=st.count;at<lt;at++)_vector$8.fromBufferAttribute(st,at),ot&&(_offset.fromBufferAttribute($,at),_vector$8.add(_offset)),nt=Math.max(nt,tt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const $=this.index,_e=this.attributes;if($===null||_e.position===void 0||_e.normal===void 0||_e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const tt=$.array,nt=_e.position.array,rt=_e.normal.array,it=_e.uv.array,st=nt.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*st),4));const ot=this.getAttribute("tangent").array,at=[],lt=[];for(let Tt=0;Tt<st;Tt++)at[Tt]=new Vector3,lt[Tt]=new Vector3;const dt=new Vector3,ct=new Vector3,pt=new Vector3,mt=new Vector2,ht=new Vector2,gt=new Vector2,vt=new Vector3,_t=new Vector3;function yt(Tt,Ft,Gt){dt.fromArray(nt,Tt*3),ct.fromArray(nt,Ft*3),pt.fromArray(nt,Gt*3),mt.fromArray(it,Tt*2),ht.fromArray(it,Ft*2),gt.fromArray(it,Gt*2),ct.sub(dt),pt.sub(dt),ht.sub(mt),gt.sub(mt);const Wt=1/(ht.x*gt.y-gt.x*ht.y);isFinite(Wt)&&(vt.copy(ct).multiplyScalar(gt.y).addScaledVector(pt,-ht.y).multiplyScalar(Wt),_t.copy(pt).multiplyScalar(ht.x).addScaledVector(ct,-gt.x).multiplyScalar(Wt),at[Tt].add(vt),at[Ft].add(vt),at[Gt].add(vt),lt[Tt].add(_t),lt[Ft].add(_t),lt[Gt].add(_t))}let xt=this.groups;xt.length===0&&(xt=[{start:0,count:tt.length}]);for(let Tt=0,Ft=xt.length;Tt<Ft;++Tt){const Gt=xt[Tt],Wt=Gt.start,It=Gt.count;for(let Kt=Wt,Ut=Wt+It;Kt<Ut;Kt+=3)yt(tt[Kt+0],tt[Kt+1],tt[Kt+2])}const At=new Vector3,Ct=new Vector3,Pt=new Vector3,bt=new Vector3;function Mt(Tt){Pt.fromArray(rt,Tt*3),bt.copy(Pt);const Ft=at[Tt];At.copy(Ft),At.sub(Pt.multiplyScalar(Pt.dot(Ft))).normalize(),Ct.crossVectors(bt,Ft);const Wt=Ct.dot(lt[Tt])<0?-1:1;ot[Tt*4]=At.x,ot[Tt*4+1]=At.y,ot[Tt*4+2]=At.z,ot[Tt*4+3]=Wt}for(let Tt=0,Ft=xt.length;Tt<Ft;++Tt){const Gt=xt[Tt],Wt=Gt.start,It=Gt.count;for(let Kt=Wt,Ut=Wt+It;Kt<Ut;Kt+=3)Mt(tt[Kt+0]),Mt(tt[Kt+1]),Mt(tt[Kt+2])}}computeVertexNormals(){const $=this.index,_e=this.getAttribute("position");if(_e!==void 0){let tt=this.getAttribute("normal");if(tt===void 0)tt=new BufferAttribute(new Float32Array(_e.count*3),3),this.setAttribute("normal",tt);else for(let ct=0,pt=tt.count;ct<pt;ct++)tt.setXYZ(ct,0,0,0);const nt=new Vector3,rt=new Vector3,it=new Vector3,st=new Vector3,ot=new Vector3,at=new Vector3,lt=new Vector3,dt=new Vector3;if($)for(let ct=0,pt=$.count;ct<pt;ct+=3){const mt=$.getX(ct+0),ht=$.getX(ct+1),gt=$.getX(ct+2);nt.fromBufferAttribute(_e,mt),rt.fromBufferAttribute(_e,ht),it.fromBufferAttribute(_e,gt),lt.subVectors(it,rt),dt.subVectors(nt,rt),lt.cross(dt),st.fromBufferAttribute(tt,mt),ot.fromBufferAttribute(tt,ht),at.fromBufferAttribute(tt,gt),st.add(lt),ot.add(lt),at.add(lt),tt.setXYZ(mt,st.x,st.y,st.z),tt.setXYZ(ht,ot.x,ot.y,ot.z),tt.setXYZ(gt,at.x,at.y,at.z)}else for(let ct=0,pt=_e.count;ct<pt;ct+=3)nt.fromBufferAttribute(_e,ct+0),rt.fromBufferAttribute(_e,ct+1),it.fromBufferAttribute(_e,ct+2),lt.subVectors(it,rt),dt.subVectors(nt,rt),lt.cross(dt),tt.setXYZ(ct+0,lt.x,lt.y,lt.z),tt.setXYZ(ct+1,lt.x,lt.y,lt.z),tt.setXYZ(ct+2,lt.x,lt.y,lt.z);this.normalizeNormals(),tt.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const $=this.attributes.normal;for(let _e=0,tt=$.count;_e<tt;_e++)_vector$8.fromBufferAttribute($,_e),_vector$8.normalize(),$.setXYZ(_e,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function $(st,ot){const at=st.array,lt=st.itemSize,dt=st.normalized,ct=new at.constructor(ot.length*lt);let pt=0,mt=0;for(let ht=0,gt=ot.length;ht<gt;ht++){st.isInterleavedBufferAttribute?pt=ot[ht]*st.data.stride+st.offset:pt=ot[ht]*lt;for(let vt=0;vt<lt;vt++)ct[mt++]=at[pt++]}return new BufferAttribute(ct,lt,dt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const _e=new BufferGeometry,tt=this.index.array,nt=this.attributes;for(const st in nt){const ot=nt[st],at=$(ot,tt);_e.setAttribute(st,at)}const rt=this.morphAttributes;for(const st in rt){const ot=[],at=rt[st];for(let lt=0,dt=at.length;lt<dt;lt++){const ct=at[lt],pt=$(ct,tt);ot.push(pt)}_e.morphAttributes[st]=ot}_e.morphTargetsRelative=this.morphTargetsRelative;const it=this.groups;for(let st=0,ot=it.length;st<ot;st++){const at=it[st];_e.addGroup(at.start,at.count,at.materialIndex)}return _e}toJSON(){const $={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if($.uuid=this.uuid,$.type=this.type,this.name!==""&&($.name=this.name),Object.keys(this.userData).length>0&&($.userData=this.userData),this.parameters!==void 0){const ot=this.parameters;for(const at in ot)ot[at]!==void 0&&($[at]=ot[at]);return $}$.data={attributes:{}};const _e=this.index;_e!==null&&($.data.index={type:_e.array.constructor.name,array:Array.prototype.slice.call(_e.array)});const tt=this.attributes;for(const ot in tt){const at=tt[ot];$.data.attributes[ot]=at.toJSON($.data)}const nt={};let rt=!1;for(const ot in this.morphAttributes){const at=this.morphAttributes[ot],lt=[];for(let dt=0,ct=at.length;dt<ct;dt++){const pt=at[dt];lt.push(pt.toJSON($.data))}lt.length>0&&(nt[ot]=lt,rt=!0)}rt&&($.data.morphAttributes=nt,$.data.morphTargetsRelative=this.morphTargetsRelative);const it=this.groups;it.length>0&&($.data.groups=JSON.parse(JSON.stringify(it)));const st=this.boundingSphere;return st!==null&&($.data.boundingSphere={center:st.center.toArray(),radius:st.radius}),$}clone(){return new this.constructor().copy(this)}copy($){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const _e={};this.name=$.name;const tt=$.index;tt!==null&&this.setIndex(tt.clone(_e));const nt=$.attributes;for(const at in nt){const lt=nt[at];this.setAttribute(at,lt.clone(_e))}const rt=$.morphAttributes;for(const at in rt){const lt=[],dt=rt[at];for(let ct=0,pt=dt.length;ct<pt;ct++)lt.push(dt[ct].clone(_e));this.morphAttributes[at]=lt}this.morphTargetsRelative=$.morphTargetsRelative;const it=$.groups;for(let at=0,lt=it.length;at<lt;at++){const dt=it[at];this.addGroup(dt.start,dt.count,dt.materialIndex)}const st=$.boundingBox;st!==null&&(this.boundingBox=st.clone());const ot=$.boundingSphere;return ot!==null&&(this.boundingSphere=ot.clone()),this.drawRange.start=$.drawRange.start,this.drawRange.count=$.drawRange.count,this.userData=$.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor($=new BufferGeometry,_e=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=$,this.material=_e,this.updateMorphTargets()}copy($,_e){return super.copy($,_e),$.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=$.morphTargetInfluences.slice()),$.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},$.morphTargetDictionary)),this.material=$.material,this.geometry=$.geometry,this}updateMorphTargets(){const _e=this.geometry.morphAttributes,tt=Object.keys(_e);if(tt.length>0){const nt=_e[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}getVertexPosition($,_e){const tt=this.geometry,nt=tt.attributes.position,rt=tt.morphAttributes.position,it=tt.morphTargetsRelative;_e.fromBufferAttribute(nt,$);const st=this.morphTargetInfluences;if(rt&&st){_morphA.set(0,0,0);for(let ot=0,at=rt.length;ot<at;ot++){const lt=st[ot],dt=rt[ot];lt!==0&&(_tempA.fromBufferAttribute(dt,$),it?_morphA.addScaledVector(_tempA,lt):_morphA.addScaledVector(_tempA.sub(_e),lt))}_e.add(_morphA)}return this.isSkinnedMesh&&this.boneTransform($,_e),_e}raycast($,_e){const tt=this.geometry,nt=this.material,rt=this.matrixWorld;if(nt===void 0||(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$3.copy(tt.boundingSphere),_sphere$3.applyMatrix4(rt),_ray$2.copy($.ray).recast($.near),_sphere$3.containsPoint(_ray$2.origin)===!1&&(_ray$2.intersectSphere(_sphere$3,_sphereHitAt)===null||_ray$2.origin.distanceToSquared(_sphereHitAt)>($.far-$.near)**2))||(_inverseMatrix$2.copy(rt).invert(),_ray$2.copy($.ray).applyMatrix4(_inverseMatrix$2),tt.boundingBox!==null&&_ray$2.intersectsBox(tt.boundingBox)===!1))return;let it;const st=tt.index,ot=tt.attributes.position,at=tt.attributes.uv,lt=tt.attributes.uv2,dt=tt.groups,ct=tt.drawRange;if(st!==null)if(Array.isArray(nt))for(let pt=0,mt=dt.length;pt<mt;pt++){const ht=dt[pt],gt=nt[ht.materialIndex],vt=Math.max(ht.start,ct.start),_t=Math.min(st.count,Math.min(ht.start+ht.count,ct.start+ct.count));for(let yt=vt,xt=_t;yt<xt;yt+=3){const At=st.getX(yt),Ct=st.getX(yt+1),Pt=st.getX(yt+2);it=checkBufferGeometryIntersection(this,gt,$,_ray$2,at,lt,At,Ct,Pt),it&&(it.faceIndex=Math.floor(yt/3),it.face.materialIndex=ht.materialIndex,_e.push(it))}}else{const pt=Math.max(0,ct.start),mt=Math.min(st.count,ct.start+ct.count);for(let ht=pt,gt=mt;ht<gt;ht+=3){const vt=st.getX(ht),_t=st.getX(ht+1),yt=st.getX(ht+2);it=checkBufferGeometryIntersection(this,nt,$,_ray$2,at,lt,vt,_t,yt),it&&(it.faceIndex=Math.floor(ht/3),_e.push(it))}}else if(ot!==void 0)if(Array.isArray(nt))for(let pt=0,mt=dt.length;pt<mt;pt++){const ht=dt[pt],gt=nt[ht.materialIndex],vt=Math.max(ht.start,ct.start),_t=Math.min(ot.count,Math.min(ht.start+ht.count,ct.start+ct.count));for(let yt=vt,xt=_t;yt<xt;yt+=3){const At=yt,Ct=yt+1,Pt=yt+2;it=checkBufferGeometryIntersection(this,gt,$,_ray$2,at,lt,At,Ct,Pt),it&&(it.faceIndex=Math.floor(yt/3),it.face.materialIndex=ht.materialIndex,_e.push(it))}}else{const pt=Math.max(0,ct.start),mt=Math.min(ot.count,ct.start+ct.count);for(let ht=pt,gt=mt;ht<gt;ht+=3){const vt=ht,_t=ht+1,yt=ht+2;it=checkBufferGeometryIntersection(this,nt,$,_ray$2,at,lt,vt,_t,yt),it&&(it.faceIndex=Math.floor(ht/3),_e.push(it))}}}}function checkIntersection(et,$,_e,tt,nt,rt,it,st){let ot;if($.side===BackSide?ot=tt.intersectTriangle(it,rt,nt,!0,st):ot=tt.intersectTriangle(nt,rt,it,$.side===FrontSide,st),ot===null)return null;_intersectionPointWorld.copy(st),_intersectionPointWorld.applyMatrix4(et.matrixWorld);const at=_e.ray.origin.distanceTo(_intersectionPointWorld);return at<_e.near||at>_e.far?null:{distance:at,point:_intersectionPointWorld.clone(),object:et}}function checkBufferGeometryIntersection(et,$,_e,tt,nt,rt,it,st,ot){et.getVertexPosition(it,_vA$1),et.getVertexPosition(st,_vB$1),et.getVertexPosition(ot,_vC$1);const at=checkIntersection(et,$,_e,tt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(at){nt&&(_uvA$1.fromBufferAttribute(nt,it),_uvB$1.fromBufferAttribute(nt,st),_uvC$1.fromBufferAttribute(nt,ot),at.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),rt&&(_uvA$1.fromBufferAttribute(rt,it),_uvB$1.fromBufferAttribute(rt,st),_uvC$1.fromBufferAttribute(rt,ot),at.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const lt={a:it,b:st,c:ot,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,lt.normal),at.face=lt}return at}class BoxGeometry extends BufferGeometry{constructor($=1,_e=1,tt=1,nt=1,rt=1,it=1){super(),this.type="BoxGeometry",this.parameters={width:$,height:_e,depth:tt,widthSegments:nt,heightSegments:rt,depthSegments:it};const st=this;nt=Math.floor(nt),rt=Math.floor(rt),it=Math.floor(it);const ot=[],at=[],lt=[],dt=[];let ct=0,pt=0;mt("z","y","x",-1,-1,tt,_e,$,it,rt,0),mt("z","y","x",1,-1,tt,_e,-$,it,rt,1),mt("x","z","y",1,1,$,tt,_e,nt,it,2),mt("x","z","y",1,-1,$,tt,-_e,nt,it,3),mt("x","y","z",1,-1,$,_e,tt,nt,rt,4),mt("x","y","z",-1,-1,$,_e,-tt,nt,rt,5),this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2));function mt(ht,gt,vt,_t,yt,xt,At,Ct,Pt,bt,Mt){const Tt=xt/Pt,Ft=At/bt,Gt=xt/2,Wt=At/2,It=Ct/2,Kt=Pt+1,Ut=bt+1;let Qt=0,Dt=0;const qt=new Vector3;for(let Jt=0;Jt<Ut;Jt++){const on=Jt*Ft-Wt;for(let tn=0;tn<Kt;tn++){const yn=tn*Tt-Gt;qt[ht]=yn*_t,qt[gt]=on*yt,qt[vt]=It,at.push(qt.x,qt.y,qt.z),qt[ht]=0,qt[gt]=0,qt[vt]=Ct>0?1:-1,lt.push(qt.x,qt.y,qt.z),dt.push(tn/Pt),dt.push(1-Jt/bt),Qt+=1}}for(let Jt=0;Jt<bt;Jt++)for(let on=0;on<Pt;on++){const tn=ct+on+Kt*Jt,yn=ct+on+Kt*(Jt+1),Yt=ct+(on+1)+Kt*(Jt+1),kt=ct+(on+1)+Kt*Jt;ot.push(tn,yn,kt),ot.push(yn,Yt,kt),Dt+=6}st.addGroup(pt,Dt,Mt),pt+=Dt,ct+=Qt}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new BoxGeometry($.width,$.height,$.depth,$.widthSegments,$.heightSegments,$.depthSegments)}}function cloneUniforms(et){const $={};for(const _e in et){$[_e]={};for(const tt in et[_e]){const nt=et[_e][tt];nt&&(nt.isColor||nt.isMatrix3||nt.isMatrix4||nt.isVector2||nt.isVector3||nt.isVector4||nt.isTexture||nt.isQuaternion)?$[_e][tt]=nt.clone():Array.isArray(nt)?$[_e][tt]=nt.slice():$[_e][tt]=nt}}return $}function mergeUniforms(et){const $={};for(let _e=0;_e<et.length;_e++){const tt=cloneUniforms(et[_e]);for(const nt in tt)$[nt]=tt[nt]}return $}function cloneUniformsGroups(et){const $=[];for(let _e=0;_e<et.length;_e++)$.push(et[_e].clone());return $}function getUnlitUniformColorSpace(et){return et.getRenderTarget()===null&&et.outputEncoding===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor($){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,$!==void 0&&this.setValues($)}copy($){return super.copy($),this.fragmentShader=$.fragmentShader,this.vertexShader=$.vertexShader,this.uniforms=cloneUniforms($.uniforms),this.uniformsGroups=cloneUniformsGroups($.uniformsGroups),this.defines=Object.assign({},$.defines),this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.fog=$.fog,this.lights=$.lights,this.clipping=$.clipping,this.extensions=Object.assign({},$.extensions),this.glslVersion=$.glslVersion,this}toJSON($){const _e=super.toJSON($);_e.glslVersion=this.glslVersion,_e.uniforms={};for(const nt in this.uniforms){const it=this.uniforms[nt].value;it&&it.isTexture?_e.uniforms[nt]={type:"t",value:it.toJSON($).uuid}:it&&it.isColor?_e.uniforms[nt]={type:"c",value:it.getHex()}:it&&it.isVector2?_e.uniforms[nt]={type:"v2",value:it.toArray()}:it&&it.isVector3?_e.uniforms[nt]={type:"v3",value:it.toArray()}:it&&it.isVector4?_e.uniforms[nt]={type:"v4",value:it.toArray()}:it&&it.isMatrix3?_e.uniforms[nt]={type:"m3",value:it.toArray()}:it&&it.isMatrix4?_e.uniforms[nt]={type:"m4",value:it.toArray()}:_e.uniforms[nt]={value:it}}Object.keys(this.defines).length>0&&(_e.defines=this.defines),_e.vertexShader=this.vertexShader,_e.fragmentShader=this.fragmentShader;const tt={};for(const nt in this.extensions)this.extensions[nt]===!0&&(tt[nt]=!0);return Object.keys(tt).length>0&&(_e.extensions=tt),_e}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy($,_e){return super.copy($,_e),this.matrixWorldInverse.copy($.matrixWorldInverse),this.projectionMatrix.copy($.projectionMatrix),this.projectionMatrixInverse.copy($.projectionMatrixInverse),this}getWorldDirection($){this.updateWorldMatrix(!0,!1);const _e=this.matrixWorld.elements;return $.set(-_e[8],-_e[9],-_e[10]).normalize()}updateMatrixWorld($){super.updateMatrixWorld($),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix($,_e){super.updateWorldMatrix($,_e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor($=50,_e=1,tt=.1,nt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=$,this.zoom=1,this.near=tt,this.far=nt,this.focus=10,this.aspect=_e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy($,_e){return super.copy($,_e),this.fov=$.fov,this.zoom=$.zoom,this.near=$.near,this.far=$.far,this.focus=$.focus,this.aspect=$.aspect,this.view=$.view===null?null:Object.assign({},$.view),this.filmGauge=$.filmGauge,this.filmOffset=$.filmOffset,this}setFocalLength($){const _e=.5*this.getFilmHeight()/$;this.fov=RAD2DEG*2*Math.atan(_e),this.updateProjectionMatrix()}getFocalLength(){const $=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/$}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset($,_e,tt,nt,rt,it){this.aspect=$/_e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=$,this.view.fullHeight=_e,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const $=this.near;let _e=$*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,tt=2*_e,nt=this.aspect*tt,rt=-.5*nt;const it=this.view;if(this.view!==null&&this.view.enabled){const ot=it.fullWidth,at=it.fullHeight;rt+=it.offsetX*nt/ot,_e-=it.offsetY*tt/at,nt*=it.width/ot,tt*=it.height/at}const st=this.filmOffset;st!==0&&(rt+=$*st/this.getFilmWidth()),this.projectionMatrix.makePerspective(rt,rt+nt,_e,_e-tt,$,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON($){const _e=super.toJSON($);return _e.object.fov=this.fov,_e.object.zoom=this.zoom,_e.object.near=this.near,_e.object.far=this.far,_e.object.focus=this.focus,_e.object.aspect=this.aspect,this.view!==null&&(_e.object.view=Object.assign({},this.view)),_e.object.filmGauge=this.filmGauge,_e.object.filmOffset=this.filmOffset,_e}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor($,_e,tt){super(),this.type="CubeCamera",this.renderTarget=tt;const nt=new PerspectiveCamera(fov,aspect,$,_e);nt.layers=this.layers,nt.up.set(0,1,0),nt.lookAt(1,0,0),this.add(nt);const rt=new PerspectiveCamera(fov,aspect,$,_e);rt.layers=this.layers,rt.up.set(0,1,0),rt.lookAt(-1,0,0),this.add(rt);const it=new PerspectiveCamera(fov,aspect,$,_e);it.layers=this.layers,it.up.set(0,0,-1),it.lookAt(0,1,0),this.add(it);const st=new PerspectiveCamera(fov,aspect,$,_e);st.layers=this.layers,st.up.set(0,0,1),st.lookAt(0,-1,0),this.add(st);const ot=new PerspectiveCamera(fov,aspect,$,_e);ot.layers=this.layers,ot.up.set(0,1,0),ot.lookAt(0,0,1),this.add(ot);const at=new PerspectiveCamera(fov,aspect,$,_e);at.layers=this.layers,at.up.set(0,1,0),at.lookAt(0,0,-1),this.add(at)}update($,_e){this.parent===null&&this.updateMatrixWorld();const tt=this.renderTarget,[nt,rt,it,st,ot,at]=this.children,lt=$.getRenderTarget(),dt=$.toneMapping,ct=$.xr.enabled;$.toneMapping=NoToneMapping,$.xr.enabled=!1;const pt=tt.texture.generateMipmaps;tt.texture.generateMipmaps=!1,$.setRenderTarget(tt,0),$.render(_e,nt),$.setRenderTarget(tt,1),$.render(_e,rt),$.setRenderTarget(tt,2),$.render(_e,it),$.setRenderTarget(tt,3),$.render(_e,st),$.setRenderTarget(tt,4),$.render(_e,ot),tt.texture.generateMipmaps=pt,$.setRenderTarget(tt,5),$.render(_e,at),$.setRenderTarget(lt),$.toneMapping=dt,$.xr.enabled=ct,tt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor($,_e,tt,nt,rt,it,st,ot,at,lt){$=$!==void 0?$:[],_e=_e!==void 0?_e:CubeReflectionMapping,super($,_e,tt,nt,rt,it,st,ot,at,lt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images($){this.image=$}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor($=1,_e={}){super($,$,_e),this.isWebGLCubeRenderTarget=!0;const tt={width:$,height:$,depth:1},nt=[tt,tt,tt,tt,tt,tt];this.texture=new CubeTexture(nt,_e.mapping,_e.wrapS,_e.wrapT,_e.magFilter,_e.minFilter,_e.format,_e.type,_e.anisotropy,_e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=_e.generateMipmaps!==void 0?_e.generateMipmaps:!1,this.texture.minFilter=_e.minFilter!==void 0?_e.minFilter:LinearFilter}fromEquirectangularTexture($,_e){this.texture.type=_e.type,this.texture.encoding=_e.encoding,this.texture.generateMipmaps=_e.generateMipmaps,this.texture.minFilter=_e.minFilter,this.texture.magFilter=_e.magFilter;const tt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},nt=new BoxGeometry(5,5,5),rt=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(tt.uniforms),vertexShader:tt.vertexShader,fragmentShader:tt.fragmentShader,side:BackSide,blending:NoBlending});rt.uniforms.tEquirect.value=_e;const it=new Mesh(nt,rt),st=_e.minFilter;return _e.minFilter===LinearMipmapLinearFilter&&(_e.minFilter=LinearFilter),new CubeCamera(1,10,this).update($,it),_e.minFilter=st,it.geometry.dispose(),it.material.dispose(),this}clear($,_e,tt,nt){const rt=$.getRenderTarget();for(let it=0;it<6;it++)$.setRenderTarget(this,it),$.clear(_e,tt,nt);$.setRenderTarget(rt)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor($=new Vector3(1,0,0),_e=0){this.isPlane=!0,this.normal=$,this.constant=_e}set($,_e){return this.normal.copy($),this.constant=_e,this}setComponents($,_e,tt,nt){return this.normal.set($,_e,tt),this.constant=nt,this}setFromNormalAndCoplanarPoint($,_e){return this.normal.copy($),this.constant=-_e.dot(this.normal),this}setFromCoplanarPoints($,_e,tt){const nt=_vector1.subVectors(tt,_e).cross(_vector2.subVectors($,_e)).normalize();return this.setFromNormalAndCoplanarPoint(nt,$),this}copy($){return this.normal.copy($.normal),this.constant=$.constant,this}normalize(){const $=1/this.normal.length();return this.normal.multiplyScalar($),this.constant*=$,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint($){return this.normal.dot($)+this.constant}distanceToSphere($){return this.distanceToPoint($.center)-$.radius}projectPoint($,_e){return _e.copy($).addScaledVector(this.normal,-this.distanceToPoint($))}intersectLine($,_e){const tt=$.delta(_vector1),nt=this.normal.dot(tt);if(nt===0)return this.distanceToPoint($.start)===0?_e.copy($.start):null;const rt=-($.start.dot(this.normal)+this.constant)/nt;return rt<0||rt>1?null:_e.copy($.start).addScaledVector(tt,rt)}intersectsLine($){const _e=this.distanceToPoint($.start),tt=this.distanceToPoint($.end);return _e<0&&tt>0||tt<0&&_e>0}intersectsBox($){return $.intersectsPlane(this)}intersectsSphere($){return $.intersectsPlane(this)}coplanarPoint($){return $.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4($,_e){const tt=_e||_normalMatrix.getNormalMatrix($),nt=this.coplanarPoint(_vector1).applyMatrix4($),rt=this.normal.applyMatrix3(tt).normalize();return this.constant=-nt.dot(rt),this}translate($){return this.constant-=$.dot(this.normal),this}equals($){return $.normal.equals(this.normal)&&$.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor($=new Plane,_e=new Plane,tt=new Plane,nt=new Plane,rt=new Plane,it=new Plane){this.planes=[$,_e,tt,nt,rt,it]}set($,_e,tt,nt,rt,it){const st=this.planes;return st[0].copy($),st[1].copy(_e),st[2].copy(tt),st[3].copy(nt),st[4].copy(rt),st[5].copy(it),this}copy($){const _e=this.planes;for(let tt=0;tt<6;tt++)_e[tt].copy($.planes[tt]);return this}setFromProjectionMatrix($){const _e=this.planes,tt=$.elements,nt=tt[0],rt=tt[1],it=tt[2],st=tt[3],ot=tt[4],at=tt[5],lt=tt[6],dt=tt[7],ct=tt[8],pt=tt[9],mt=tt[10],ht=tt[11],gt=tt[12],vt=tt[13],_t=tt[14],yt=tt[15];return _e[0].setComponents(st-nt,dt-ot,ht-ct,yt-gt).normalize(),_e[1].setComponents(st+nt,dt+ot,ht+ct,yt+gt).normalize(),_e[2].setComponents(st+rt,dt+at,ht+pt,yt+vt).normalize(),_e[3].setComponents(st-rt,dt-at,ht-pt,yt-vt).normalize(),_e[4].setComponents(st-it,dt-lt,ht-mt,yt-_t).normalize(),_e[5].setComponents(st+it,dt+lt,ht+mt,yt+_t).normalize(),this}intersectsObject($){const _e=$.geometry;return _e.boundingSphere===null&&_e.computeBoundingSphere(),_sphere$2.copy(_e.boundingSphere).applyMatrix4($.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite($){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4($.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere($){const _e=this.planes,tt=$.center,nt=-$.radius;for(let rt=0;rt<6;rt++)if(_e[rt].distanceToPoint(tt)<nt)return!1;return!0}intersectsBox($){const _e=this.planes;for(let tt=0;tt<6;tt++){const nt=_e[tt];if(_vector$7.x=nt.normal.x>0?$.max.x:$.min.x,_vector$7.y=nt.normal.y>0?$.max.y:$.min.y,_vector$7.z=nt.normal.z>0?$.max.z:$.min.z,nt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint($){const _e=this.planes;for(let tt=0;tt<6;tt++)if(_e[tt].distanceToPoint($)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let et=null,$=!1,_e=null,tt=null;function nt(rt,it){_e(rt,it),tt=et.requestAnimationFrame(nt)}return{start:function(){$!==!0&&_e!==null&&(tt=et.requestAnimationFrame(nt),$=!0)},stop:function(){et.cancelAnimationFrame(tt),$=!1},setAnimationLoop:function(rt){_e=rt},setContext:function(rt){et=rt}}}function WebGLAttributes(et,$){const _e=$.isWebGL2,tt=new WeakMap;function nt(at,lt){const dt=at.array,ct=at.usage,pt=et.createBuffer();et.bindBuffer(lt,pt),et.bufferData(lt,dt,ct),at.onUploadCallback();let mt;if(dt instanceof Float32Array)mt=5126;else if(dt instanceof Uint16Array)if(at.isFloat16BufferAttribute)if(_e)mt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else mt=5123;else if(dt instanceof Int16Array)mt=5122;else if(dt instanceof Uint32Array)mt=5125;else if(dt instanceof Int32Array)mt=5124;else if(dt instanceof Int8Array)mt=5120;else if(dt instanceof Uint8Array)mt=5121;else if(dt instanceof Uint8ClampedArray)mt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+dt);return{buffer:pt,type:mt,bytesPerElement:dt.BYTES_PER_ELEMENT,version:at.version}}function rt(at,lt,dt){const ct=lt.array,pt=lt.updateRange;et.bindBuffer(dt,at),pt.count===-1?et.bufferSubData(dt,0,ct):(_e?et.bufferSubData(dt,pt.offset*ct.BYTES_PER_ELEMENT,ct,pt.offset,pt.count):et.bufferSubData(dt,pt.offset*ct.BYTES_PER_ELEMENT,ct.subarray(pt.offset,pt.offset+pt.count)),pt.count=-1),lt.onUploadCallback()}function it(at){return at.isInterleavedBufferAttribute&&(at=at.data),tt.get(at)}function st(at){at.isInterleavedBufferAttribute&&(at=at.data);const lt=tt.get(at);lt&&(et.deleteBuffer(lt.buffer),tt.delete(at))}function ot(at,lt){if(at.isGLBufferAttribute){const ct=tt.get(at);(!ct||ct.version<at.version)&&tt.set(at,{buffer:at.buffer,type:at.type,bytesPerElement:at.elementSize,version:at.version});return}at.isInterleavedBufferAttribute&&(at=at.data);const dt=tt.get(at);dt===void 0?tt.set(at,nt(at,lt)):dt.version<at.version&&(rt(dt.buffer,at,lt),dt.version=at.version)}return{get:it,remove:st,update:ot}}class PlaneGeometry extends BufferGeometry{constructor($=1,_e=1,tt=1,nt=1){super(),this.type="PlaneGeometry",this.parameters={width:$,height:_e,widthSegments:tt,heightSegments:nt};const rt=$/2,it=_e/2,st=Math.floor(tt),ot=Math.floor(nt),at=st+1,lt=ot+1,dt=$/st,ct=_e/ot,pt=[],mt=[],ht=[],gt=[];for(let vt=0;vt<lt;vt++){const _t=vt*ct-it;for(let yt=0;yt<at;yt++){const xt=yt*dt-rt;mt.push(xt,-_t,0),ht.push(0,0,1),gt.push(yt/st),gt.push(1-vt/ot)}}for(let vt=0;vt<ot;vt++)for(let _t=0;_t<st;_t++){const yt=_t+at*vt,xt=_t+at*(vt+1),At=_t+1+at*(vt+1),Ct=_t+1+at*vt;pt.push(yt,xt,Ct),pt.push(xt,At,Ct)}this.setIndex(pt),this.setAttribute("position",new Float32BufferAttribute(mt,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(gt,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new PlaneGeometry($.width,$.height,$.widthSegments,$.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(et,$,_e,tt,nt,rt,it){const st=new Color(0);let ot=rt===!0?0:1,at,lt,dt=null,ct=0,pt=null;function mt(gt,vt){let _t=!1,yt=vt.isScene===!0?vt.background:null;yt&&yt.isTexture&&(yt=(vt.backgroundBlurriness>0?_e:$).get(yt));const xt=et.xr,At=xt.getSession&&xt.getSession();At&&At.environmentBlendMode==="additive"&&(yt=null),yt===null?ht(st,ot):yt&&yt.isColor&&(ht(yt,1),_t=!0),(et.autoClear||_t)&&et.clear(et.autoClearColor,et.autoClearDepth,et.autoClearStencil),yt&&(yt.isCubeTexture||yt.mapping===CubeUVReflectionMapping)?(lt===void 0&&(lt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),lt.geometry.deleteAttribute("normal"),lt.geometry.deleteAttribute("uv"),lt.onBeforeRender=function(Ct,Pt,bt){this.matrixWorld.copyPosition(bt.matrixWorld)},Object.defineProperty(lt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),nt.update(lt)),lt.material.uniforms.envMap.value=yt,lt.material.uniforms.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1,lt.material.uniforms.backgroundBlurriness.value=vt.backgroundBlurriness,lt.material.uniforms.backgroundIntensity.value=vt.backgroundIntensity,lt.material.toneMapped=yt.encoding!==sRGBEncoding,(dt!==yt||ct!==yt.version||pt!==et.toneMapping)&&(lt.material.needsUpdate=!0,dt=yt,ct=yt.version,pt=et.toneMapping),lt.layers.enableAll(),gt.unshift(lt,lt.geometry,lt.material,0,0,null)):yt&&yt.isTexture&&(at===void 0&&(at=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),at.geometry.deleteAttribute("normal"),Object.defineProperty(at.material,"map",{get:function(){return this.uniforms.t2D.value}}),nt.update(at)),at.material.uniforms.t2D.value=yt,at.material.uniforms.backgroundIntensity.value=vt.backgroundIntensity,at.material.toneMapped=yt.encoding!==sRGBEncoding,yt.matrixAutoUpdate===!0&&yt.updateMatrix(),at.material.uniforms.uvTransform.value.copy(yt.matrix),(dt!==yt||ct!==yt.version||pt!==et.toneMapping)&&(at.material.needsUpdate=!0,dt=yt,ct=yt.version,pt=et.toneMapping),at.layers.enableAll(),gt.unshift(at,at.geometry,at.material,0,0,null))}function ht(gt,vt){gt.getRGB(_rgb,getUnlitUniformColorSpace(et)),tt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,vt,it)}return{getClearColor:function(){return st},setClearColor:function(gt,vt=1){st.set(gt),ot=vt,ht(st,ot)},getClearAlpha:function(){return ot},setClearAlpha:function(gt){ot=gt,ht(st,ot)},render:mt}}function WebGLBindingStates(et,$,_e,tt){const nt=et.getParameter(34921),rt=tt.isWebGL2?null:$.get("OES_vertex_array_object"),it=tt.isWebGL2||rt!==null,st={},ot=gt(null);let at=ot,lt=!1;function dt(It,Kt,Ut,Qt,Dt){let qt=!1;if(it){const Jt=ht(Qt,Ut,Kt);at!==Jt&&(at=Jt,pt(at.object)),qt=vt(It,Qt,Ut,Dt),qt&&_t(It,Qt,Ut,Dt)}else{const Jt=Kt.wireframe===!0;(at.geometry!==Qt.id||at.program!==Ut.id||at.wireframe!==Jt)&&(at.geometry=Qt.id,at.program=Ut.id,at.wireframe=Jt,qt=!0)}Dt!==null&&_e.update(Dt,34963),(qt||lt)&&(lt=!1,bt(It,Kt,Ut,Qt),Dt!==null&&et.bindBuffer(34963,_e.get(Dt).buffer))}function ct(){return tt.isWebGL2?et.createVertexArray():rt.createVertexArrayOES()}function pt(It){return tt.isWebGL2?et.bindVertexArray(It):rt.bindVertexArrayOES(It)}function mt(It){return tt.isWebGL2?et.deleteVertexArray(It):rt.deleteVertexArrayOES(It)}function ht(It,Kt,Ut){const Qt=Ut.wireframe===!0;let Dt=st[It.id];Dt===void 0&&(Dt={},st[It.id]=Dt);let qt=Dt[Kt.id];qt===void 0&&(qt={},Dt[Kt.id]=qt);let Jt=qt[Qt];return Jt===void 0&&(Jt=gt(ct()),qt[Qt]=Jt),Jt}function gt(It){const Kt=[],Ut=[],Qt=[];for(let Dt=0;Dt<nt;Dt++)Kt[Dt]=0,Ut[Dt]=0,Qt[Dt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Kt,enabledAttributes:Ut,attributeDivisors:Qt,object:It,attributes:{},index:null}}function vt(It,Kt,Ut,Qt){const Dt=at.attributes,qt=Kt.attributes;let Jt=0;const on=Ut.getAttributes();for(const tn in on)if(on[tn].location>=0){const Yt=Dt[tn];let kt=qt[tn];if(kt===void 0&&(tn==="instanceMatrix"&&It.instanceMatrix&&(kt=It.instanceMatrix),tn==="instanceColor"&&It.instanceColor&&(kt=It.instanceColor)),Yt===void 0||Yt.attribute!==kt||kt&&Yt.data!==kt.data)return!0;Jt++}return at.attributesNum!==Jt||at.index!==Qt}function _t(It,Kt,Ut,Qt){const Dt={},qt=Kt.attributes;let Jt=0;const on=Ut.getAttributes();for(const tn in on)if(on[tn].location>=0){let Yt=qt[tn];Yt===void 0&&(tn==="instanceMatrix"&&It.instanceMatrix&&(Yt=It.instanceMatrix),tn==="instanceColor"&&It.instanceColor&&(Yt=It.instanceColor));const kt={};kt.attribute=Yt,Yt&&Yt.data&&(kt.data=Yt.data),Dt[tn]=kt,Jt++}at.attributes=Dt,at.attributesNum=Jt,at.index=Qt}function yt(){const It=at.newAttributes;for(let Kt=0,Ut=It.length;Kt<Ut;Kt++)It[Kt]=0}function xt(It){At(It,0)}function At(It,Kt){const Ut=at.newAttributes,Qt=at.enabledAttributes,Dt=at.attributeDivisors;Ut[It]=1,Qt[It]===0&&(et.enableVertexAttribArray(It),Qt[It]=1),Dt[It]!==Kt&&((tt.isWebGL2?et:$.get("ANGLE_instanced_arrays"))[tt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](It,Kt),Dt[It]=Kt)}function Ct(){const It=at.newAttributes,Kt=at.enabledAttributes;for(let Ut=0,Qt=Kt.length;Ut<Qt;Ut++)Kt[Ut]!==It[Ut]&&(et.disableVertexAttribArray(Ut),Kt[Ut]=0)}function Pt(It,Kt,Ut,Qt,Dt,qt){tt.isWebGL2===!0&&(Ut===5124||Ut===5125)?et.vertexAttribIPointer(It,Kt,Ut,Dt,qt):et.vertexAttribPointer(It,Kt,Ut,Qt,Dt,qt)}function bt(It,Kt,Ut,Qt){if(tt.isWebGL2===!1&&(It.isInstancedMesh||Qt.isInstancedBufferGeometry)&&$.get("ANGLE_instanced_arrays")===null)return;yt();const Dt=Qt.attributes,qt=Ut.getAttributes(),Jt=Kt.defaultAttributeValues;for(const on in qt){const tn=qt[on];if(tn.location>=0){let yn=Dt[on];if(yn===void 0&&(on==="instanceMatrix"&&It.instanceMatrix&&(yn=It.instanceMatrix),on==="instanceColor"&&It.instanceColor&&(yn=It.instanceColor)),yn!==void 0){const Yt=yn.normalized,kt=yn.itemSize,Bt=_e.get(yn);if(Bt===void 0)continue;const Ht=Bt.buffer,wt=Bt.type,Lt=Bt.bytesPerElement;if(yn.isInterleavedBufferAttribute){const Ot=yn.data,$t=Ot.stride,Vt=yn.offset;if(Ot.isInstancedInterleavedBuffer){for(let Zt=0;Zt<tn.locationSize;Zt++)At(tn.location+Zt,Ot.meshPerAttribute);It.isInstancedMesh!==!0&&Qt._maxInstanceCount===void 0&&(Qt._maxInstanceCount=Ot.meshPerAttribute*Ot.count)}else for(let Zt=0;Zt<tn.locationSize;Zt++)xt(tn.location+Zt);et.bindBuffer(34962,Ht);for(let Zt=0;Zt<tn.locationSize;Zt++)Pt(tn.location+Zt,kt/tn.locationSize,wt,Yt,$t*Lt,(Vt+kt/tn.locationSize*Zt)*Lt)}else{if(yn.isInstancedBufferAttribute){for(let Ot=0;Ot<tn.locationSize;Ot++)At(tn.location+Ot,yn.meshPerAttribute);It.isInstancedMesh!==!0&&Qt._maxInstanceCount===void 0&&(Qt._maxInstanceCount=yn.meshPerAttribute*yn.count)}else for(let Ot=0;Ot<tn.locationSize;Ot++)xt(tn.location+Ot);et.bindBuffer(34962,Ht);for(let Ot=0;Ot<tn.locationSize;Ot++)Pt(tn.location+Ot,kt/tn.locationSize,wt,Yt,kt*Lt,kt/tn.locationSize*Ot*Lt)}}else if(Jt!==void 0){const Yt=Jt[on];if(Yt!==void 0)switch(Yt.length){case 2:et.vertexAttrib2fv(tn.location,Yt);break;case 3:et.vertexAttrib3fv(tn.location,Yt);break;case 4:et.vertexAttrib4fv(tn.location,Yt);break;default:et.vertexAttrib1fv(tn.location,Yt)}}}}Ct()}function Mt(){Gt();for(const It in st){const Kt=st[It];for(const Ut in Kt){const Qt=Kt[Ut];for(const Dt in Qt)mt(Qt[Dt].object),delete Qt[Dt];delete Kt[Ut]}delete st[It]}}function Tt(It){if(st[It.id]===void 0)return;const Kt=st[It.id];for(const Ut in Kt){const Qt=Kt[Ut];for(const Dt in Qt)mt(Qt[Dt].object),delete Qt[Dt];delete Kt[Ut]}delete st[It.id]}function Ft(It){for(const Kt in st){const Ut=st[Kt];if(Ut[It.id]===void 0)continue;const Qt=Ut[It.id];for(const Dt in Qt)mt(Qt[Dt].object),delete Qt[Dt];delete Ut[It.id]}}function Gt(){Wt(),lt=!0,at!==ot&&(at=ot,pt(at.object))}function Wt(){ot.geometry=null,ot.program=null,ot.wireframe=!1}return{setup:dt,reset:Gt,resetDefaultState:Wt,dispose:Mt,releaseStatesOfGeometry:Tt,releaseStatesOfProgram:Ft,initAttributes:yt,enableAttribute:xt,disableUnusedAttributes:Ct}}function WebGLBufferRenderer(et,$,_e,tt){const nt=tt.isWebGL2;let rt;function it(at){rt=at}function st(at,lt){et.drawArrays(rt,at,lt),_e.update(lt,rt,1)}function ot(at,lt,dt){if(dt===0)return;let ct,pt;if(nt)ct=et,pt="drawArraysInstanced";else if(ct=$.get("ANGLE_instanced_arrays"),pt="drawArraysInstancedANGLE",ct===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ct[pt](rt,at,lt,dt),_e.update(lt,rt,dt)}this.setMode=it,this.render=st,this.renderInstances=ot}function WebGLCapabilities(et,$,_e){let tt;function nt(){if(tt!==void 0)return tt;if($.has("EXT_texture_filter_anisotropic")===!0){const Pt=$.get("EXT_texture_filter_anisotropic");tt=et.getParameter(Pt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else tt=0;return tt}function rt(Pt){if(Pt==="highp"){if(et.getShaderPrecisionFormat(35633,36338).precision>0&&et.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Pt="mediump"}return Pt==="mediump"&&et.getShaderPrecisionFormat(35633,36337).precision>0&&et.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const it=typeof WebGL2RenderingContext<"u"&&et instanceof WebGL2RenderingContext;let st=_e.precision!==void 0?_e.precision:"highp";const ot=rt(st);ot!==st&&(console.warn("THREE.WebGLRenderer:",st,"not supported, using",ot,"instead."),st=ot);const at=it||$.has("WEBGL_draw_buffers"),lt=_e.logarithmicDepthBuffer===!0,dt=et.getParameter(34930),ct=et.getParameter(35660),pt=et.getParameter(3379),mt=et.getParameter(34076),ht=et.getParameter(34921),gt=et.getParameter(36347),vt=et.getParameter(36348),_t=et.getParameter(36349),yt=ct>0,xt=it||$.has("OES_texture_float"),At=yt&&xt,Ct=it?et.getParameter(36183):0;return{isWebGL2:it,drawBuffers:at,getMaxAnisotropy:nt,getMaxPrecision:rt,precision:st,logarithmicDepthBuffer:lt,maxTextures:dt,maxVertexTextures:ct,maxTextureSize:pt,maxCubemapSize:mt,maxAttributes:ht,maxVertexUniforms:gt,maxVaryings:vt,maxFragmentUniforms:_t,vertexTextures:yt,floatFragmentTextures:xt,floatVertexTextures:At,maxSamples:Ct}}function WebGLClipping(et){const $=this;let _e=null,tt=0,nt=!1,rt=!1;const it=new Plane,st=new Matrix3,ot={value:null,needsUpdate:!1};this.uniform=ot,this.numPlanes=0,this.numIntersection=0,this.init=function(dt,ct){const pt=dt.length!==0||ct||tt!==0||nt;return nt=ct,tt=dt.length,pt},this.beginShadows=function(){rt=!0,lt(null)},this.endShadows=function(){rt=!1},this.setGlobalState=function(dt,ct){_e=lt(dt,ct,0)},this.setState=function(dt,ct,pt){const mt=dt.clippingPlanes,ht=dt.clipIntersection,gt=dt.clipShadows,vt=et.get(dt);if(!nt||mt===null||mt.length===0||rt&&!gt)rt?lt(null):at();else{const _t=rt?0:tt,yt=_t*4;let xt=vt.clippingState||null;ot.value=xt,xt=lt(mt,ct,yt,pt);for(let At=0;At!==yt;++At)xt[At]=_e[At];vt.clippingState=xt,this.numIntersection=ht?this.numPlanes:0,this.numPlanes+=_t}};function at(){ot.value!==_e&&(ot.value=_e,ot.needsUpdate=tt>0),$.numPlanes=tt,$.numIntersection=0}function lt(dt,ct,pt,mt){const ht=dt!==null?dt.length:0;let gt=null;if(ht!==0){if(gt=ot.value,mt!==!0||gt===null){const vt=pt+ht*4,_t=ct.matrixWorldInverse;st.getNormalMatrix(_t),(gt===null||gt.length<vt)&&(gt=new Float32Array(vt));for(let yt=0,xt=pt;yt!==ht;++yt,xt+=4)it.copy(dt[yt]).applyMatrix4(_t,st),it.normal.toArray(gt,xt),gt[xt+3]=it.constant}ot.value=gt,ot.needsUpdate=!0}return $.numPlanes=ht,$.numIntersection=0,gt}}function WebGLCubeMaps(et){let $=new WeakMap;function _e(it,st){return st===EquirectangularReflectionMapping?it.mapping=CubeReflectionMapping:st===EquirectangularRefractionMapping&&(it.mapping=CubeRefractionMapping),it}function tt(it){if(it&&it.isTexture&&it.isRenderTargetTexture===!1){const st=it.mapping;if(st===EquirectangularReflectionMapping||st===EquirectangularRefractionMapping)if($.has(it)){const ot=$.get(it).texture;return _e(ot,it.mapping)}else{const ot=it.image;if(ot&&ot.height>0){const at=new WebGLCubeRenderTarget(ot.height/2);return at.fromEquirectangularTexture(et,it),$.set(it,at),it.addEventListener("dispose",nt),_e(at.texture,it.mapping)}else return null}}return it}function nt(it){const st=it.target;st.removeEventListener("dispose",nt);const ot=$.get(st);ot!==void 0&&($.delete(st),ot.dispose())}function rt(){$=new WeakMap}return{get:tt,dispose:rt}}class OrthographicCamera extends Camera{constructor($=-1,_e=1,tt=1,nt=-1,rt=.1,it=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=$,this.right=_e,this.top=tt,this.bottom=nt,this.near=rt,this.far=it,this.updateProjectionMatrix()}copy($,_e){return super.copy($,_e),this.left=$.left,this.right=$.right,this.top=$.top,this.bottom=$.bottom,this.near=$.near,this.far=$.far,this.zoom=$.zoom,this.view=$.view===null?null:Object.assign({},$.view),this}setViewOffset($,_e,tt,nt,rt,it){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=$,this.view.fullHeight=_e,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const $=(this.right-this.left)/(2*this.zoom),_e=(this.top-this.bottom)/(2*this.zoom),tt=(this.right+this.left)/2,nt=(this.top+this.bottom)/2;let rt=tt-$,it=tt+$,st=nt+_e,ot=nt-_e;if(this.view!==null&&this.view.enabled){const at=(this.right-this.left)/this.view.fullWidth/this.zoom,lt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;rt+=at*this.view.offsetX,it=rt+at*this.view.width,st-=lt*this.view.offsetY,ot=st-lt*this.view.height}this.projectionMatrix.makeOrthographic(rt,it,st,ot,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON($){const _e=super.toJSON($);return _e.object.zoom=this.zoom,_e.object.left=this.left,_e.object.right=this.right,_e.object.top=this.top,_e.object.bottom=this.bottom,_e.object.near=this.near,_e.object.far=this.far,this.view!==null&&(_e.object.view=Object.assign({},this.view)),_e}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor($){this._renderer=$,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene($,_e=0,tt=.1,nt=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const rt=this._allocateTargets();return rt.depthBuffer=!0,this._sceneToCubeUV($,tt,nt,rt),_e>0&&this._blur(rt,0,0,_e),this._applyPMREM(rt),this._cleanup(rt),rt}fromEquirectangular($,_e=null){return this._fromTexture($,_e)}fromCubemap($,_e=null){return this._fromTexture($,_e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize($){this._lodMax=Math.floor(Math.log2($)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let $=0;$<this._lodPlanes.length;$++)this._lodPlanes[$].dispose()}_cleanup($){this._renderer.setRenderTarget(_oldTarget),$.scissorTest=!1,_setViewport($,0,0,$.width,$.height)}_fromTexture($,_e){$.mapping===CubeReflectionMapping||$.mapping===CubeRefractionMapping?this._setSize($.image.length===0?16:$.image[0].width||$.image[0].image.width):this._setSize($.image.width/4),_oldTarget=this._renderer.getRenderTarget();const tt=_e||this._allocateTargets();return this._textureToCubeUV($,tt),this._applyPMREM(tt),this._cleanup(tt),tt}_allocateTargets(){const $=3*Math.max(this._cubeSize,112),_e=4*this._cubeSize,tt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},nt=_createRenderTarget($,_e,tt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==$||this._pingPongRenderTarget.height!==_e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget($,_e,tt);const{_lodMax:rt}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(rt)),this._blurMaterial=_getBlurShader(rt,$,_e)}return nt}_compileMaterial($){const _e=new Mesh(this._lodPlanes[0],$);this._renderer.compile(_e,_flatCamera)}_sceneToCubeUV($,_e,tt,nt){const st=new PerspectiveCamera(90,1,_e,tt),ot=[1,-1,1,1,1,1],at=[1,1,1,-1,-1,-1],lt=this._renderer,dt=lt.autoClear,ct=lt.toneMapping;lt.getClearColor(_clearColor),lt.toneMapping=NoToneMapping,lt.autoClear=!1;const pt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),mt=new Mesh(new BoxGeometry,pt);let ht=!1;const gt=$.background;gt?gt.isColor&&(pt.color.copy(gt),$.background=null,ht=!0):(pt.color.copy(_clearColor),ht=!0);for(let vt=0;vt<6;vt++){const _t=vt%3;_t===0?(st.up.set(0,ot[vt],0),st.lookAt(at[vt],0,0)):_t===1?(st.up.set(0,0,ot[vt]),st.lookAt(0,at[vt],0)):(st.up.set(0,ot[vt],0),st.lookAt(0,0,at[vt]));const yt=this._cubeSize;_setViewport(nt,_t*yt,vt>2?yt:0,yt,yt),lt.setRenderTarget(nt),ht&&lt.render(mt,st),lt.render($,st)}mt.geometry.dispose(),mt.material.dispose(),lt.toneMapping=ct,lt.autoClear=dt,$.background=gt}_textureToCubeUV($,_e){const tt=this._renderer,nt=$.mapping===CubeReflectionMapping||$.mapping===CubeRefractionMapping;nt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=$.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const rt=nt?this._cubemapMaterial:this._equirectMaterial,it=new Mesh(this._lodPlanes[0],rt),st=rt.uniforms;st.envMap.value=$;const ot=this._cubeSize;_setViewport(_e,0,0,3*ot,2*ot),tt.setRenderTarget(_e),tt.render(it,_flatCamera)}_applyPMREM($){const _e=this._renderer,tt=_e.autoClear;_e.autoClear=!1;for(let nt=1;nt<this._lodPlanes.length;nt++){const rt=Math.sqrt(this._sigmas[nt]*this._sigmas[nt]-this._sigmas[nt-1]*this._sigmas[nt-1]),it=_axisDirections[(nt-1)%_axisDirections.length];this._blur($,nt-1,nt,rt,it)}_e.autoClear=tt}_blur($,_e,tt,nt,rt){const it=this._pingPongRenderTarget;this._halfBlur($,it,_e,tt,nt,"latitudinal",rt),this._halfBlur(it,$,tt,tt,nt,"longitudinal",rt)}_halfBlur($,_e,tt,nt,rt,it,st){const ot=this._renderer,at=this._blurMaterial;it!=="latitudinal"&&it!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const lt=3,dt=new Mesh(this._lodPlanes[nt],at),ct=at.uniforms,pt=this._sizeLods[tt]-1,mt=isFinite(rt)?Math.PI/(2*pt):2*Math.PI/(2*MAX_SAMPLES-1),ht=rt/mt,gt=isFinite(rt)?1+Math.floor(lt*ht):MAX_SAMPLES;gt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${rt}, is too large and will clip, as it requested ${gt} samples when the maximum is set to ${MAX_SAMPLES}`);const vt=[];let _t=0;for(let Pt=0;Pt<MAX_SAMPLES;++Pt){const bt=Pt/ht,Mt=Math.exp(-bt*bt/2);vt.push(Mt),Pt===0?_t+=Mt:Pt<gt&&(_t+=2*Mt)}for(let Pt=0;Pt<vt.length;Pt++)vt[Pt]=vt[Pt]/_t;ct.envMap.value=$.texture,ct.samples.value=gt,ct.weights.value=vt,ct.latitudinal.value=it==="latitudinal",st&&(ct.poleAxis.value=st);const{_lodMax:yt}=this;ct.dTheta.value=mt,ct.mipInt.value=yt-tt;const xt=this._sizeLods[nt],At=3*xt*(nt>yt-LOD_MIN?nt-yt+LOD_MIN:0),Ct=4*(this._cubeSize-xt);_setViewport(_e,At,Ct,3*xt,2*xt),ot.setRenderTarget(_e),ot.render(dt,_flatCamera)}}function _createPlanes(et){const $=[],_e=[],tt=[];let nt=et;const rt=et-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let it=0;it<rt;it++){const st=Math.pow(2,nt);_e.push(st);let ot=1/st;it>et-LOD_MIN?ot=EXTRA_LOD_SIGMA[it-et+LOD_MIN-1]:it===0&&(ot=0),tt.push(ot);const at=1/(st-2),lt=-at,dt=1+at,ct=[lt,lt,dt,lt,dt,dt,lt,lt,dt,dt,lt,dt],pt=6,mt=6,ht=3,gt=2,vt=1,_t=new Float32Array(ht*mt*pt),yt=new Float32Array(gt*mt*pt),xt=new Float32Array(vt*mt*pt);for(let Ct=0;Ct<pt;Ct++){const Pt=Ct%3*2/3-1,bt=Ct>2?0:-1,Mt=[Pt,bt,0,Pt+2/3,bt,0,Pt+2/3,bt+1,0,Pt,bt,0,Pt+2/3,bt+1,0,Pt,bt+1,0];_t.set(Mt,ht*mt*Ct),yt.set(ct,gt*mt*Ct);const Tt=[Ct,Ct,Ct,Ct,Ct,Ct];xt.set(Tt,vt*mt*Ct)}const At=new BufferGeometry;At.setAttribute("position",new BufferAttribute(_t,ht)),At.setAttribute("uv",new BufferAttribute(yt,gt)),At.setAttribute("faceIndex",new BufferAttribute(xt,vt)),$.push(At),nt>LOD_MIN&&nt--}return{lodPlanes:$,sizeLods:_e,sigmas:tt}}function _createRenderTarget(et,$,_e){const tt=new WebGLRenderTarget(et,$,_e);return tt.texture.mapping=CubeUVReflectionMapping,tt.texture.name="PMREM.cubeUv",tt.scissorTest=!0,tt}function _setViewport(et,$,_e,tt,nt){et.viewport.set($,_e,tt,nt),et.scissor.set($,_e,tt,nt)}function _getBlurShader(et,$,_e){const tt=new Float32Array(MAX_SAMPLES),nt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/$,CUBEUV_TEXEL_HEIGHT:1/_e,CUBEUV_MAX_MIP:`${et}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:tt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:nt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(et){let $=new WeakMap,_e=null;function tt(st){if(st&&st.isTexture){const ot=st.mapping,at=ot===EquirectangularReflectionMapping||ot===EquirectangularRefractionMapping,lt=ot===CubeReflectionMapping||ot===CubeRefractionMapping;if(at||lt)if(st.isRenderTargetTexture&&st.needsPMREMUpdate===!0){st.needsPMREMUpdate=!1;let dt=$.get(st);return _e===null&&(_e=new PMREMGenerator(et)),dt=at?_e.fromEquirectangular(st,dt):_e.fromCubemap(st,dt),$.set(st,dt),dt.texture}else{if($.has(st))return $.get(st).texture;{const dt=st.image;if(at&&dt&&dt.height>0||lt&&dt&&nt(dt)){_e===null&&(_e=new PMREMGenerator(et));const ct=at?_e.fromEquirectangular(st):_e.fromCubemap(st);return $.set(st,ct),st.addEventListener("dispose",rt),ct.texture}else return null}}}return st}function nt(st){let ot=0;const at=6;for(let lt=0;lt<at;lt++)st[lt]!==void 0&&ot++;return ot===at}function rt(st){const ot=st.target;ot.removeEventListener("dispose",rt);const at=$.get(ot);at!==void 0&&($.delete(ot),at.dispose())}function it(){$=new WeakMap,_e!==null&&(_e.dispose(),_e=null)}return{get:tt,dispose:it}}function WebGLExtensions(et){const $={};function _e(tt){if($[tt]!==void 0)return $[tt];let nt;switch(tt){case"WEBGL_depth_texture":nt=et.getExtension("WEBGL_depth_texture")||et.getExtension("MOZ_WEBGL_depth_texture")||et.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nt=et.getExtension("EXT_texture_filter_anisotropic")||et.getExtension("MOZ_EXT_texture_filter_anisotropic")||et.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nt=et.getExtension("WEBGL_compressed_texture_s3tc")||et.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nt=et.getExtension("WEBGL_compressed_texture_pvrtc")||et.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nt=et.getExtension(tt)}return $[tt]=nt,nt}return{has:function(tt){return _e(tt)!==null},init:function(tt){tt.isWebGL2?_e("EXT_color_buffer_float"):(_e("WEBGL_depth_texture"),_e("OES_texture_float"),_e("OES_texture_half_float"),_e("OES_texture_half_float_linear"),_e("OES_standard_derivatives"),_e("OES_element_index_uint"),_e("OES_vertex_array_object"),_e("ANGLE_instanced_arrays")),_e("OES_texture_float_linear"),_e("EXT_color_buffer_half_float"),_e("WEBGL_multisampled_render_to_texture")},get:function(tt){const nt=_e(tt);return nt===null&&console.warn("THREE.WebGLRenderer: "+tt+" extension not supported."),nt}}}function WebGLGeometries(et,$,_e,tt){const nt={},rt=new WeakMap;function it(dt){const ct=dt.target;ct.index!==null&&$.remove(ct.index);for(const mt in ct.attributes)$.remove(ct.attributes[mt]);ct.removeEventListener("dispose",it),delete nt[ct.id];const pt=rt.get(ct);pt&&($.remove(pt),rt.delete(ct)),tt.releaseStatesOfGeometry(ct),ct.isInstancedBufferGeometry===!0&&delete ct._maxInstanceCount,_e.memory.geometries--}function st(dt,ct){return nt[ct.id]===!0||(ct.addEventListener("dispose",it),nt[ct.id]=!0,_e.memory.geometries++),ct}function ot(dt){const ct=dt.attributes;for(const mt in ct)$.update(ct[mt],34962);const pt=dt.morphAttributes;for(const mt in pt){const ht=pt[mt];for(let gt=0,vt=ht.length;gt<vt;gt++)$.update(ht[gt],34962)}}function at(dt){const ct=[],pt=dt.index,mt=dt.attributes.position;let ht=0;if(pt!==null){const _t=pt.array;ht=pt.version;for(let yt=0,xt=_t.length;yt<xt;yt+=3){const At=_t[yt+0],Ct=_t[yt+1],Pt=_t[yt+2];ct.push(At,Ct,Ct,Pt,Pt,At)}}else{const _t=mt.array;ht=mt.version;for(let yt=0,xt=_t.length/3-1;yt<xt;yt+=3){const At=yt+0,Ct=yt+1,Pt=yt+2;ct.push(At,Ct,Ct,Pt,Pt,At)}}const gt=new(arrayNeedsUint32(ct)?Uint32BufferAttribute:Uint16BufferAttribute)(ct,1);gt.version=ht;const vt=rt.get(dt);vt&&$.remove(vt),rt.set(dt,gt)}function lt(dt){const ct=rt.get(dt);if(ct){const pt=dt.index;pt!==null&&ct.version<pt.version&&at(dt)}else at(dt);return rt.get(dt)}return{get:st,update:ot,getWireframeAttribute:lt}}function WebGLIndexedBufferRenderer(et,$,_e,tt){const nt=tt.isWebGL2;let rt;function it(ct){rt=ct}let st,ot;function at(ct){st=ct.type,ot=ct.bytesPerElement}function lt(ct,pt){et.drawElements(rt,pt,st,ct*ot),_e.update(pt,rt,1)}function dt(ct,pt,mt){if(mt===0)return;let ht,gt;if(nt)ht=et,gt="drawElementsInstanced";else if(ht=$.get("ANGLE_instanced_arrays"),gt="drawElementsInstancedANGLE",ht===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ht[gt](rt,pt,st,ct*ot,mt),_e.update(pt,rt,mt)}this.setMode=it,this.setIndex=at,this.render=lt,this.renderInstances=dt}function WebGLInfo(et){const $={geometries:0,textures:0},_e={frame:0,calls:0,triangles:0,points:0,lines:0};function tt(rt,it,st){switch(_e.calls++,it){case 4:_e.triangles+=st*(rt/3);break;case 1:_e.lines+=st*(rt/2);break;case 3:_e.lines+=st*(rt-1);break;case 2:_e.lines+=st*rt;break;case 0:_e.points+=st*rt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",it);break}}function nt(){_e.frame++,_e.calls=0,_e.triangles=0,_e.points=0,_e.lines=0}return{memory:$,render:_e,programs:null,autoReset:!0,reset:nt,update:tt}}function numericalSort(et,$){return et[0]-$[0]}function absNumericalSort(et,$){return Math.abs($[1])-Math.abs(et[1])}function WebGLMorphtargets(et,$,_e){const tt={},nt=new Float32Array(8),rt=new WeakMap,it=new Vector4,st=[];for(let at=0;at<8;at++)st[at]=[at,0];function ot(at,lt,dt){const ct=at.morphTargetInfluences;if($.isWebGL2===!0){const mt=lt.morphAttributes.position||lt.morphAttributes.normal||lt.morphAttributes.color,ht=mt!==void 0?mt.length:0;let gt=rt.get(lt);if(gt===void 0||gt.count!==ht){let Kt=function(){Wt.dispose(),rt.delete(lt),lt.removeEventListener("dispose",Kt)};var pt=Kt;gt!==void 0&&gt.texture.dispose();const yt=lt.morphAttributes.position!==void 0,xt=lt.morphAttributes.normal!==void 0,At=lt.morphAttributes.color!==void 0,Ct=lt.morphAttributes.position||[],Pt=lt.morphAttributes.normal||[],bt=lt.morphAttributes.color||[];let Mt=0;yt===!0&&(Mt=1),xt===!0&&(Mt=2),At===!0&&(Mt=3);let Tt=lt.attributes.position.count*Mt,Ft=1;Tt>$.maxTextureSize&&(Ft=Math.ceil(Tt/$.maxTextureSize),Tt=$.maxTextureSize);const Gt=new Float32Array(Tt*Ft*4*ht),Wt=new DataArrayTexture(Gt,Tt,Ft,ht);Wt.type=FloatType,Wt.needsUpdate=!0;const It=Mt*4;for(let Ut=0;Ut<ht;Ut++){const Qt=Ct[Ut],Dt=Pt[Ut],qt=bt[Ut],Jt=Tt*Ft*4*Ut;for(let on=0;on<Qt.count;on++){const tn=on*It;yt===!0&&(it.fromBufferAttribute(Qt,on),Gt[Jt+tn+0]=it.x,Gt[Jt+tn+1]=it.y,Gt[Jt+tn+2]=it.z,Gt[Jt+tn+3]=0),xt===!0&&(it.fromBufferAttribute(Dt,on),Gt[Jt+tn+4]=it.x,Gt[Jt+tn+5]=it.y,Gt[Jt+tn+6]=it.z,Gt[Jt+tn+7]=0),At===!0&&(it.fromBufferAttribute(qt,on),Gt[Jt+tn+8]=it.x,Gt[Jt+tn+9]=it.y,Gt[Jt+tn+10]=it.z,Gt[Jt+tn+11]=qt.itemSize===4?it.w:1)}}gt={count:ht,texture:Wt,size:new Vector2(Tt,Ft)},rt.set(lt,gt),lt.addEventListener("dispose",Kt)}let vt=0;for(let yt=0;yt<ct.length;yt++)vt+=ct[yt];const _t=lt.morphTargetsRelative?1:1-vt;dt.getUniforms().setValue(et,"morphTargetBaseInfluence",_t),dt.getUniforms().setValue(et,"morphTargetInfluences",ct),dt.getUniforms().setValue(et,"morphTargetsTexture",gt.texture,_e),dt.getUniforms().setValue(et,"morphTargetsTextureSize",gt.size)}else{const mt=ct===void 0?0:ct.length;let ht=tt[lt.id];if(ht===void 0||ht.length!==mt){ht=[];for(let xt=0;xt<mt;xt++)ht[xt]=[xt,0];tt[lt.id]=ht}for(let xt=0;xt<mt;xt++){const At=ht[xt];At[0]=xt,At[1]=ct[xt]}ht.sort(absNumericalSort);for(let xt=0;xt<8;xt++)xt<mt&&ht[xt][1]?(st[xt][0]=ht[xt][0],st[xt][1]=ht[xt][1]):(st[xt][0]=Number.MAX_SAFE_INTEGER,st[xt][1]=0);st.sort(numericalSort);const gt=lt.morphAttributes.position,vt=lt.morphAttributes.normal;let _t=0;for(let xt=0;xt<8;xt++){const At=st[xt],Ct=At[0],Pt=At[1];Ct!==Number.MAX_SAFE_INTEGER&&Pt?(gt&&lt.getAttribute("morphTarget"+xt)!==gt[Ct]&&lt.setAttribute("morphTarget"+xt,gt[Ct]),vt&&lt.getAttribute("morphNormal"+xt)!==vt[Ct]&&lt.setAttribute("morphNormal"+xt,vt[Ct]),nt[xt]=Pt,_t+=Pt):(gt&&lt.hasAttribute("morphTarget"+xt)===!0&&lt.deleteAttribute("morphTarget"+xt),vt&&lt.hasAttribute("morphNormal"+xt)===!0&&lt.deleteAttribute("morphNormal"+xt),nt[xt]=0)}const yt=lt.morphTargetsRelative?1:1-_t;dt.getUniforms().setValue(et,"morphTargetBaseInfluence",yt),dt.getUniforms().setValue(et,"morphTargetInfluences",nt)}}return{update:ot}}function WebGLObjects(et,$,_e,tt){let nt=new WeakMap;function rt(ot){const at=tt.render.frame,lt=ot.geometry,dt=$.get(ot,lt);return nt.get(dt)!==at&&($.update(dt),nt.set(dt,at)),ot.isInstancedMesh&&(ot.hasEventListener("dispose",st)===!1&&ot.addEventListener("dispose",st),_e.update(ot.instanceMatrix,34962),ot.instanceColor!==null&&_e.update(ot.instanceColor,34962)),dt}function it(){nt=new WeakMap}function st(ot){const at=ot.target;at.removeEventListener("dispose",st),_e.remove(at.instanceMatrix),at.instanceColor!==null&&_e.remove(at.instanceColor)}return{update:rt,dispose:it}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(et,$,_e){const tt=et[0];if(tt<=0||tt>0)return et;const nt=$*_e;let rt=arrayCacheF32[nt];if(rt===void 0&&(rt=new Float32Array(nt),arrayCacheF32[nt]=rt),$!==0){tt.toArray(rt,0);for(let it=1,st=0;it!==$;++it)st+=_e,et[it].toArray(rt,st)}return rt}function arraysEqual(et,$){if(et.length!==$.length)return!1;for(let _e=0,tt=et.length;_e<tt;_e++)if(et[_e]!==$[_e])return!1;return!0}function copyArray(et,$){for(let _e=0,tt=$.length;_e<tt;_e++)et[_e]=$[_e]}function allocTexUnits(et,$){let _e=arrayCacheI32[$];_e===void 0&&(_e=new Int32Array($),arrayCacheI32[$]=_e);for(let tt=0;tt!==$;++tt)_e[tt]=et.allocateTextureUnit();return _e}function setValueV1f(et,$){const _e=this.cache;_e[0]!==$&&(et.uniform1f(this.addr,$),_e[0]=$)}function setValueV2f(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y)&&(et.uniform2f(this.addr,$.x,$.y),_e[0]=$.x,_e[1]=$.y);else{if(arraysEqual(_e,$))return;et.uniform2fv(this.addr,$),copyArray(_e,$)}}function setValueV3f(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y||_e[2]!==$.z)&&(et.uniform3f(this.addr,$.x,$.y,$.z),_e[0]=$.x,_e[1]=$.y,_e[2]=$.z);else if($.r!==void 0)(_e[0]!==$.r||_e[1]!==$.g||_e[2]!==$.b)&&(et.uniform3f(this.addr,$.r,$.g,$.b),_e[0]=$.r,_e[1]=$.g,_e[2]=$.b);else{if(arraysEqual(_e,$))return;et.uniform3fv(this.addr,$),copyArray(_e,$)}}function setValueV4f(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y||_e[2]!==$.z||_e[3]!==$.w)&&(et.uniform4f(this.addr,$.x,$.y,$.z,$.w),_e[0]=$.x,_e[1]=$.y,_e[2]=$.z,_e[3]=$.w);else{if(arraysEqual(_e,$))return;et.uniform4fv(this.addr,$),copyArray(_e,$)}}function setValueM2(et,$){const _e=this.cache,tt=$.elements;if(tt===void 0){if(arraysEqual(_e,$))return;et.uniformMatrix2fv(this.addr,!1,$),copyArray(_e,$)}else{if(arraysEqual(_e,tt))return;mat2array.set(tt),et.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(_e,tt)}}function setValueM3(et,$){const _e=this.cache,tt=$.elements;if(tt===void 0){if(arraysEqual(_e,$))return;et.uniformMatrix3fv(this.addr,!1,$),copyArray(_e,$)}else{if(arraysEqual(_e,tt))return;mat3array.set(tt),et.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(_e,tt)}}function setValueM4(et,$){const _e=this.cache,tt=$.elements;if(tt===void 0){if(arraysEqual(_e,$))return;et.uniformMatrix4fv(this.addr,!1,$),copyArray(_e,$)}else{if(arraysEqual(_e,tt))return;mat4array.set(tt),et.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(_e,tt)}}function setValueV1i(et,$){const _e=this.cache;_e[0]!==$&&(et.uniform1i(this.addr,$),_e[0]=$)}function setValueV2i(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y)&&(et.uniform2i(this.addr,$.x,$.y),_e[0]=$.x,_e[1]=$.y);else{if(arraysEqual(_e,$))return;et.uniform2iv(this.addr,$),copyArray(_e,$)}}function setValueV3i(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y||_e[2]!==$.z)&&(et.uniform3i(this.addr,$.x,$.y,$.z),_e[0]=$.x,_e[1]=$.y,_e[2]=$.z);else{if(arraysEqual(_e,$))return;et.uniform3iv(this.addr,$),copyArray(_e,$)}}function setValueV4i(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y||_e[2]!==$.z||_e[3]!==$.w)&&(et.uniform4i(this.addr,$.x,$.y,$.z,$.w),_e[0]=$.x,_e[1]=$.y,_e[2]=$.z,_e[3]=$.w);else{if(arraysEqual(_e,$))return;et.uniform4iv(this.addr,$),copyArray(_e,$)}}function setValueV1ui(et,$){const _e=this.cache;_e[0]!==$&&(et.uniform1ui(this.addr,$),_e[0]=$)}function setValueV2ui(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y)&&(et.uniform2ui(this.addr,$.x,$.y),_e[0]=$.x,_e[1]=$.y);else{if(arraysEqual(_e,$))return;et.uniform2uiv(this.addr,$),copyArray(_e,$)}}function setValueV3ui(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y||_e[2]!==$.z)&&(et.uniform3ui(this.addr,$.x,$.y,$.z),_e[0]=$.x,_e[1]=$.y,_e[2]=$.z);else{if(arraysEqual(_e,$))return;et.uniform3uiv(this.addr,$),copyArray(_e,$)}}function setValueV4ui(et,$){const _e=this.cache;if($.x!==void 0)(_e[0]!==$.x||_e[1]!==$.y||_e[2]!==$.z||_e[3]!==$.w)&&(et.uniform4ui(this.addr,$.x,$.y,$.z,$.w),_e[0]=$.x,_e[1]=$.y,_e[2]=$.z,_e[3]=$.w);else{if(arraysEqual(_e,$))return;et.uniform4uiv(this.addr,$),copyArray(_e,$)}}function setValueT1(et,$,_e){const tt=this.cache,nt=_e.allocateTextureUnit();tt[0]!==nt&&(et.uniform1i(this.addr,nt),tt[0]=nt),_e.setTexture2D($||emptyTexture,nt)}function setValueT3D1(et,$,_e){const tt=this.cache,nt=_e.allocateTextureUnit();tt[0]!==nt&&(et.uniform1i(this.addr,nt),tt[0]=nt),_e.setTexture3D($||empty3dTexture,nt)}function setValueT6(et,$,_e){const tt=this.cache,nt=_e.allocateTextureUnit();tt[0]!==nt&&(et.uniform1i(this.addr,nt),tt[0]=nt),_e.setTextureCube($||emptyCubeTexture,nt)}function setValueT2DArray1(et,$,_e){const tt=this.cache,nt=_e.allocateTextureUnit();tt[0]!==nt&&(et.uniform1i(this.addr,nt),tt[0]=nt),_e.setTexture2DArray($||emptyArrayTexture,nt)}function getSingularSetter(et){switch(et){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(et,$){et.uniform1fv(this.addr,$)}function setValueV2fArray(et,$){const _e=flatten($,this.size,2);et.uniform2fv(this.addr,_e)}function setValueV3fArray(et,$){const _e=flatten($,this.size,3);et.uniform3fv(this.addr,_e)}function setValueV4fArray(et,$){const _e=flatten($,this.size,4);et.uniform4fv(this.addr,_e)}function setValueM2Array(et,$){const _e=flatten($,this.size,4);et.uniformMatrix2fv(this.addr,!1,_e)}function setValueM3Array(et,$){const _e=flatten($,this.size,9);et.uniformMatrix3fv(this.addr,!1,_e)}function setValueM4Array(et,$){const _e=flatten($,this.size,16);et.uniformMatrix4fv(this.addr,!1,_e)}function setValueV1iArray(et,$){et.uniform1iv(this.addr,$)}function setValueV2iArray(et,$){et.uniform2iv(this.addr,$)}function setValueV3iArray(et,$){et.uniform3iv(this.addr,$)}function setValueV4iArray(et,$){et.uniform4iv(this.addr,$)}function setValueV1uiArray(et,$){et.uniform1uiv(this.addr,$)}function setValueV2uiArray(et,$){et.uniform2uiv(this.addr,$)}function setValueV3uiArray(et,$){et.uniform3uiv(this.addr,$)}function setValueV4uiArray(et,$){et.uniform4uiv(this.addr,$)}function setValueT1Array(et,$,_e){const tt=this.cache,nt=$.length,rt=allocTexUnits(_e,nt);arraysEqual(tt,rt)||(et.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)_e.setTexture2D($[it]||emptyTexture,rt[it])}function setValueT3DArray(et,$,_e){const tt=this.cache,nt=$.length,rt=allocTexUnits(_e,nt);arraysEqual(tt,rt)||(et.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)_e.setTexture3D($[it]||empty3dTexture,rt[it])}function setValueT6Array(et,$,_e){const tt=this.cache,nt=$.length,rt=allocTexUnits(_e,nt);arraysEqual(tt,rt)||(et.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)_e.setTextureCube($[it]||emptyCubeTexture,rt[it])}function setValueT2DArrayArray(et,$,_e){const tt=this.cache,nt=$.length,rt=allocTexUnits(_e,nt);arraysEqual(tt,rt)||(et.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)_e.setTexture2DArray($[it]||emptyArrayTexture,rt[it])}function getPureArraySetter(et){switch(et){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor($,_e,tt){this.id=$,this.addr=tt,this.cache=[],this.setValue=getSingularSetter(_e.type)}}class PureArrayUniform{constructor($,_e,tt){this.id=$,this.addr=tt,this.cache=[],this.size=_e.size,this.setValue=getPureArraySetter(_e.type)}}class StructuredUniform{constructor($){this.id=$,this.seq=[],this.map={}}setValue($,_e,tt){const nt=this.seq;for(let rt=0,it=nt.length;rt!==it;++rt){const st=nt[rt];st.setValue($,_e[st.id],tt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(et,$){et.seq.push($),et.map[$.id]=$}function parseUniform(et,$,_e){const tt=et.name,nt=tt.length;for(RePathPart.lastIndex=0;;){const rt=RePathPart.exec(tt),it=RePathPart.lastIndex;let st=rt[1];const ot=rt[2]==="]",at=rt[3];if(ot&&(st=st|0),at===void 0||at==="["&&it+2===nt){addUniform(_e,at===void 0?new SingleUniform(st,et,$):new PureArrayUniform(st,et,$));break}else{let dt=_e.map[st];dt===void 0&&(dt=new StructuredUniform(st),addUniform(_e,dt)),_e=dt}}}class WebGLUniforms{constructor($,_e){this.seq=[],this.map={};const tt=$.getProgramParameter(_e,35718);for(let nt=0;nt<tt;++nt){const rt=$.getActiveUniform(_e,nt),it=$.getUniformLocation(_e,rt.name);parseUniform(rt,it,this)}}setValue($,_e,tt,nt){const rt=this.map[_e];rt!==void 0&&rt.setValue($,tt,nt)}setOptional($,_e,tt){const nt=_e[tt];nt!==void 0&&this.setValue($,tt,nt)}static upload($,_e,tt,nt){for(let rt=0,it=_e.length;rt!==it;++rt){const st=_e[rt],ot=tt[st.id];ot.needsUpdate!==!1&&st.setValue($,ot.value,nt)}}static seqWithValue($,_e){const tt=[];for(let nt=0,rt=$.length;nt!==rt;++nt){const it=$[nt];it.id in _e&&tt.push(it)}return tt}}function WebGLShader(et,$,_e){const tt=et.createShader($);return et.shaderSource(tt,_e),et.compileShader(tt),tt}let programIdCount=0;function handleSource(et,$){const _e=et.split(`
`),tt=[],nt=Math.max($-6,0),rt=Math.min($+6,_e.length);for(let it=nt;it<rt;it++){const st=it+1;tt.push(`${st===$?">":" "} ${st}: ${_e[it]}`)}return tt.join(`
`)}function getEncodingComponents(et){switch(et){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",et),["Linear","( value )"]}}function getShaderErrors(et,$,_e){const tt=et.getShaderParameter($,35713),nt=et.getShaderInfoLog($).trim();if(tt&&nt==="")return"";const rt=/ERROR: 0:(\d+)/.exec(nt);if(rt){const it=parseInt(rt[1]);return _e.toUpperCase()+`

`+nt+`

`+handleSource(et.getShaderSource($),it)}else return nt}function getTexelEncodingFunction(et,$){const _e=getEncodingComponents($);return"vec4 "+et+"( vec4 value ) { return LinearTo"+_e[0]+_e[1]+"; }"}function getToneMappingFunction(et,$){let _e;switch($){case LinearToneMapping:_e="Linear";break;case ReinhardToneMapping:_e="Reinhard";break;case CineonToneMapping:_e="OptimizedCineon";break;case ACESFilmicToneMapping:_e="ACESFilmic";break;case CustomToneMapping:_e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",$),_e="Linear"}return"vec3 "+et+"( vec3 color ) { return "+_e+"ToneMapping( color ); }"}function generateExtensions(et){return[et.extensionDerivatives||et.envMapCubeUVHeight||et.bumpMap||et.tangentSpaceNormalMap||et.clearcoatNormalMap||et.flatShading||et.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(et.extensionFragDepth||et.logarithmicDepthBuffer)&&et.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",et.extensionDrawBuffers&&et.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(et.extensionShaderTextureLOD||et.envMap||et.transmission)&&et.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(et){const $=[];for(const _e in et){const tt=et[_e];tt!==!1&&$.push("#define "+_e+" "+tt)}return $.join(`
`)}function fetchAttributeLocations(et,$){const _e={},tt=et.getProgramParameter($,35721);for(let nt=0;nt<tt;nt++){const rt=et.getActiveAttrib($,nt),it=rt.name;let st=1;rt.type===35674&&(st=2),rt.type===35675&&(st=3),rt.type===35676&&(st=4),_e[it]={type:rt.type,location:et.getAttribLocation($,it),locationSize:st}}return _e}function filterEmptyLine(et){return et!==""}function replaceLightNums(et,$){const _e=$.numSpotLightShadows+$.numSpotLightMaps-$.numSpotLightShadowsWithMaps;return et.replace(/NUM_DIR_LIGHTS/g,$.numDirLights).replace(/NUM_SPOT_LIGHTS/g,$.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,$.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,_e).replace(/NUM_RECT_AREA_LIGHTS/g,$.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,$.numPointLights).replace(/NUM_HEMI_LIGHTS/g,$.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,$.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,$.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,$.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,$.numPointLightShadows)}function replaceClippingPlaneNums(et,$){return et.replace(/NUM_CLIPPING_PLANES/g,$.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,$.numClippingPlanes-$.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(et){return et.replace(includePattern,includeReplacer)}function includeReplacer(et,$){const _e=ShaderChunk[$];if(_e===void 0)throw new Error("Can not resolve #include <"+$+">");return resolveIncludes(_e)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(et){return et.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(et,$,_e,tt){let nt="";for(let rt=parseInt($);rt<parseInt(_e);rt++)nt+=tt.replace(/\[\s*i\s*\]/g,"[ "+rt+" ]").replace(/UNROLLED_LOOP_INDEX/g,rt);return nt}function generatePrecision(et){let $="precision "+et.precision+` float;
precision `+et.precision+" int;";return et.precision==="highp"?$+=`
#define HIGH_PRECISION`:et.precision==="mediump"?$+=`
#define MEDIUM_PRECISION`:et.precision==="lowp"&&($+=`
#define LOW_PRECISION`),$}function generateShadowMapTypeDefine(et){let $="SHADOWMAP_TYPE_BASIC";return et.shadowMapType===PCFShadowMap?$="SHADOWMAP_TYPE_PCF":et.shadowMapType===PCFSoftShadowMap?$="SHADOWMAP_TYPE_PCF_SOFT":et.shadowMapType===VSMShadowMap&&($="SHADOWMAP_TYPE_VSM"),$}function generateEnvMapTypeDefine(et){let $="ENVMAP_TYPE_CUBE";if(et.envMap)switch(et.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:$="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:$="ENVMAP_TYPE_CUBE_UV";break}return $}function generateEnvMapModeDefine(et){let $="ENVMAP_MODE_REFLECTION";if(et.envMap)switch(et.envMapMode){case CubeRefractionMapping:$="ENVMAP_MODE_REFRACTION";break}return $}function generateEnvMapBlendingDefine(et){let $="ENVMAP_BLENDING_NONE";if(et.envMap)switch(et.combine){case MultiplyOperation:$="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:$="ENVMAP_BLENDING_MIX";break;case AddOperation:$="ENVMAP_BLENDING_ADD";break}return $}function generateCubeUVSize(et){const $=et.envMapCubeUVHeight;if($===null)return null;const _e=Math.log2($)-2,tt=1/$;return{texelWidth:1/(3*Math.max(Math.pow(2,_e),7*16)),texelHeight:tt,maxMip:_e}}function WebGLProgram(et,$,_e,tt){const nt=et.getContext(),rt=_e.defines;let it=_e.vertexShader,st=_e.fragmentShader;const ot=generateShadowMapTypeDefine(_e),at=generateEnvMapTypeDefine(_e),lt=generateEnvMapModeDefine(_e),dt=generateEnvMapBlendingDefine(_e),ct=generateCubeUVSize(_e),pt=_e.isWebGL2?"":generateExtensions(_e),mt=generateDefines(rt),ht=nt.createProgram();let gt,vt,_t=_e.glslVersion?"#version "+_e.glslVersion+`
`:"";_e.isRawShaderMaterial?(gt=[mt].filter(filterEmptyLine).join(`
`),gt.length>0&&(gt+=`
`),vt=[pt,mt].filter(filterEmptyLine).join(`
`),vt.length>0&&(vt+=`
`)):(gt=[generatePrecision(_e),"#define SHADER_NAME "+_e.shaderName,mt,_e.instancing?"#define USE_INSTANCING":"",_e.instancingColor?"#define USE_INSTANCING_COLOR":"",_e.supportsVertexTextures?"#define VERTEX_TEXTURES":"",_e.useFog&&_e.fog?"#define USE_FOG":"",_e.useFog&&_e.fogExp2?"#define FOG_EXP2":"",_e.map?"#define USE_MAP":"",_e.envMap?"#define USE_ENVMAP":"",_e.envMap?"#define "+lt:"",_e.lightMap?"#define USE_LIGHTMAP":"",_e.aoMap?"#define USE_AOMAP":"",_e.emissiveMap?"#define USE_EMISSIVEMAP":"",_e.bumpMap?"#define USE_BUMPMAP":"",_e.normalMap?"#define USE_NORMALMAP":"",_e.normalMap&&_e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",_e.normalMap&&_e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",_e.clearcoatMap?"#define USE_CLEARCOATMAP":"",_e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",_e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",_e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",_e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",_e.displacementMap&&_e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",_e.specularMap?"#define USE_SPECULARMAP":"",_e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",_e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",_e.roughnessMap?"#define USE_ROUGHNESSMAP":"",_e.metalnessMap?"#define USE_METALNESSMAP":"",_e.alphaMap?"#define USE_ALPHAMAP":"",_e.transmission?"#define USE_TRANSMISSION":"",_e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",_e.thicknessMap?"#define USE_THICKNESSMAP":"",_e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",_e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",_e.vertexTangents?"#define USE_TANGENT":"",_e.vertexColors?"#define USE_COLOR":"",_e.vertexAlphas?"#define USE_COLOR_ALPHA":"",_e.vertexUvs?"#define USE_UV":"",_e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",_e.flatShading?"#define FLAT_SHADED":"",_e.skinning?"#define USE_SKINNING":"",_e.morphTargets?"#define USE_MORPHTARGETS":"",_e.morphNormals&&_e.flatShading===!1?"#define USE_MORPHNORMALS":"",_e.morphColors&&_e.isWebGL2?"#define USE_MORPHCOLORS":"",_e.morphTargetsCount>0&&_e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",_e.morphTargetsCount>0&&_e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+_e.morphTextureStride:"",_e.morphTargetsCount>0&&_e.isWebGL2?"#define MORPHTARGETS_COUNT "+_e.morphTargetsCount:"",_e.doubleSided?"#define DOUBLE_SIDED":"",_e.flipSided?"#define FLIP_SIDED":"",_e.shadowMapEnabled?"#define USE_SHADOWMAP":"",_e.shadowMapEnabled?"#define "+ot:"",_e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",_e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",_e.logarithmicDepthBuffer&&_e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),vt=[pt,generatePrecision(_e),"#define SHADER_NAME "+_e.shaderName,mt,_e.useFog&&_e.fog?"#define USE_FOG":"",_e.useFog&&_e.fogExp2?"#define FOG_EXP2":"",_e.map?"#define USE_MAP":"",_e.matcap?"#define USE_MATCAP":"",_e.envMap?"#define USE_ENVMAP":"",_e.envMap?"#define "+at:"",_e.envMap?"#define "+lt:"",_e.envMap?"#define "+dt:"",ct?"#define CUBEUV_TEXEL_WIDTH "+ct.texelWidth:"",ct?"#define CUBEUV_TEXEL_HEIGHT "+ct.texelHeight:"",ct?"#define CUBEUV_MAX_MIP "+ct.maxMip+".0":"",_e.lightMap?"#define USE_LIGHTMAP":"",_e.aoMap?"#define USE_AOMAP":"",_e.emissiveMap?"#define USE_EMISSIVEMAP":"",_e.bumpMap?"#define USE_BUMPMAP":"",_e.normalMap?"#define USE_NORMALMAP":"",_e.normalMap&&_e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",_e.normalMap&&_e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",_e.clearcoat?"#define USE_CLEARCOAT":"",_e.clearcoatMap?"#define USE_CLEARCOATMAP":"",_e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",_e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",_e.iridescence?"#define USE_IRIDESCENCE":"",_e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",_e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",_e.specularMap?"#define USE_SPECULARMAP":"",_e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",_e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",_e.roughnessMap?"#define USE_ROUGHNESSMAP":"",_e.metalnessMap?"#define USE_METALNESSMAP":"",_e.alphaMap?"#define USE_ALPHAMAP":"",_e.alphaTest?"#define USE_ALPHATEST":"",_e.sheen?"#define USE_SHEEN":"",_e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",_e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",_e.transmission?"#define USE_TRANSMISSION":"",_e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",_e.thicknessMap?"#define USE_THICKNESSMAP":"",_e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",_e.vertexTangents?"#define USE_TANGENT":"",_e.vertexColors||_e.instancingColor?"#define USE_COLOR":"",_e.vertexAlphas?"#define USE_COLOR_ALPHA":"",_e.vertexUvs?"#define USE_UV":"",_e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",_e.gradientMap?"#define USE_GRADIENTMAP":"",_e.flatShading?"#define FLAT_SHADED":"",_e.doubleSided?"#define DOUBLE_SIDED":"",_e.flipSided?"#define FLIP_SIDED":"",_e.shadowMapEnabled?"#define USE_SHADOWMAP":"",_e.shadowMapEnabled?"#define "+ot:"",_e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",_e.useLegacyLights?"#define LEGACY_LIGHTS":"",_e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",_e.logarithmicDepthBuffer&&_e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",_e.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",_e.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",_e.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",_e.toneMapping):"",_e.dithering?"#define DITHERING":"",_e.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",_e.outputEncoding),_e.useDepthPacking?"#define DEPTH_PACKING "+_e.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),it=resolveIncludes(it),it=replaceLightNums(it,_e),it=replaceClippingPlaneNums(it,_e),st=resolveIncludes(st),st=replaceLightNums(st,_e),st=replaceClippingPlaneNums(st,_e),it=unrollLoops(it),st=unrollLoops(st),_e.isWebGL2&&_e.isRawShaderMaterial!==!0&&(_t=`#version 300 es
`,gt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+gt,vt=["#define varying in",_e.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",_e.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+vt);const yt=_t+gt+it,xt=_t+vt+st,At=WebGLShader(nt,35633,yt),Ct=WebGLShader(nt,35632,xt);if(nt.attachShader(ht,At),nt.attachShader(ht,Ct),_e.index0AttributeName!==void 0?nt.bindAttribLocation(ht,0,_e.index0AttributeName):_e.morphTargets===!0&&nt.bindAttribLocation(ht,0,"position"),nt.linkProgram(ht),et.debug.checkShaderErrors){const Mt=nt.getProgramInfoLog(ht).trim(),Tt=nt.getShaderInfoLog(At).trim(),Ft=nt.getShaderInfoLog(Ct).trim();let Gt=!0,Wt=!0;if(nt.getProgramParameter(ht,35714)===!1){Gt=!1;const It=getShaderErrors(nt,At,"vertex"),Kt=getShaderErrors(nt,Ct,"fragment");console.error("THREE.WebGLProgram: Shader Error "+nt.getError()+" - VALIDATE_STATUS "+nt.getProgramParameter(ht,35715)+`

Program Info Log: `+Mt+`
`+It+`
`+Kt)}else Mt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Mt):(Tt===""||Ft==="")&&(Wt=!1);Wt&&(this.diagnostics={runnable:Gt,programLog:Mt,vertexShader:{log:Tt,prefix:gt},fragmentShader:{log:Ft,prefix:vt}})}nt.deleteShader(At),nt.deleteShader(Ct);let Pt;this.getUniforms=function(){return Pt===void 0&&(Pt=new WebGLUniforms(nt,ht)),Pt};let bt;return this.getAttributes=function(){return bt===void 0&&(bt=fetchAttributeLocations(nt,ht)),bt},this.destroy=function(){tt.releaseStatesOfProgram(this),nt.deleteProgram(ht),this.program=void 0},this.name=_e.shaderName,this.id=programIdCount++,this.cacheKey=$,this.usedTimes=1,this.program=ht,this.vertexShader=At,this.fragmentShader=Ct,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update($){const _e=$.vertexShader,tt=$.fragmentShader,nt=this._getShaderStage(_e),rt=this._getShaderStage(tt),it=this._getShaderCacheForMaterial($);return it.has(nt)===!1&&(it.add(nt),nt.usedTimes++),it.has(rt)===!1&&(it.add(rt),rt.usedTimes++),this}remove($){const _e=this.materialCache.get($);for(const tt of _e)tt.usedTimes--,tt.usedTimes===0&&this.shaderCache.delete(tt.code);return this.materialCache.delete($),this}getVertexShaderID($){return this._getShaderStage($.vertexShader).id}getFragmentShaderID($){return this._getShaderStage($.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial($){const _e=this.materialCache;let tt=_e.get($);return tt===void 0&&(tt=new Set,_e.set($,tt)),tt}_getShaderStage($){const _e=this.shaderCache;let tt=_e.get($);return tt===void 0&&(tt=new WebGLShaderStage($),_e.set($,tt)),tt}}class WebGLShaderStage{constructor($){this.id=_id++,this.code=$,this.usedTimes=0}}function WebGLPrograms(et,$,_e,tt,nt,rt,it){const st=new Layers,ot=new WebGLShaderCache,at=[],lt=nt.isWebGL2,dt=nt.logarithmicDepthBuffer,ct=nt.vertexTextures;let pt=nt.precision;const mt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ht(bt,Mt,Tt,Ft,Gt){const Wt=Ft.fog,It=Gt.geometry,Kt=bt.isMeshStandardMaterial?Ft.environment:null,Ut=(bt.isMeshStandardMaterial?_e:$).get(bt.envMap||Kt),Qt=Ut&&Ut.mapping===CubeUVReflectionMapping?Ut.image.height:null,Dt=mt[bt.type];bt.precision!==null&&(pt=nt.getMaxPrecision(bt.precision),pt!==bt.precision&&console.warn("THREE.WebGLProgram.getParameters:",bt.precision,"not supported, using",pt,"instead."));const qt=It.morphAttributes.position||It.morphAttributes.normal||It.morphAttributes.color,Jt=qt!==void 0?qt.length:0;let on=0;It.morphAttributes.position!==void 0&&(on=1),It.morphAttributes.normal!==void 0&&(on=2),It.morphAttributes.color!==void 0&&(on=3);let tn,yn,Yt,kt;if(Dt){const $t=ShaderLib[Dt];tn=$t.vertexShader,yn=$t.fragmentShader}else tn=bt.vertexShader,yn=bt.fragmentShader,ot.update(bt),Yt=ot.getVertexShaderID(bt),kt=ot.getFragmentShaderID(bt);const Bt=et.getRenderTarget(),Ht=bt.alphaTest>0,wt=bt.clearcoat>0,Lt=bt.iridescence>0;return{isWebGL2:lt,shaderID:Dt,shaderName:bt.type,vertexShader:tn,fragmentShader:yn,defines:bt.defines,customVertexShaderID:Yt,customFragmentShaderID:kt,isRawShaderMaterial:bt.isRawShaderMaterial===!0,glslVersion:bt.glslVersion,precision:pt,instancing:Gt.isInstancedMesh===!0,instancingColor:Gt.isInstancedMesh===!0&&Gt.instanceColor!==null,supportsVertexTextures:ct,outputEncoding:Bt===null?et.outputEncoding:Bt.isXRRenderTarget===!0?Bt.texture.encoding:LinearEncoding,map:!!bt.map,matcap:!!bt.matcap,envMap:!!Ut,envMapMode:Ut&&Ut.mapping,envMapCubeUVHeight:Qt,lightMap:!!bt.lightMap,aoMap:!!bt.aoMap,emissiveMap:!!bt.emissiveMap,bumpMap:!!bt.bumpMap,normalMap:!!bt.normalMap,objectSpaceNormalMap:bt.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:bt.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!bt.map&&bt.map.isVideoTexture===!0&&bt.map.encoding===sRGBEncoding,clearcoat:wt,clearcoatMap:wt&&!!bt.clearcoatMap,clearcoatRoughnessMap:wt&&!!bt.clearcoatRoughnessMap,clearcoatNormalMap:wt&&!!bt.clearcoatNormalMap,iridescence:Lt,iridescenceMap:Lt&&!!bt.iridescenceMap,iridescenceThicknessMap:Lt&&!!bt.iridescenceThicknessMap,displacementMap:!!bt.displacementMap,roughnessMap:!!bt.roughnessMap,metalnessMap:!!bt.metalnessMap,specularMap:!!bt.specularMap,specularIntensityMap:!!bt.specularIntensityMap,specularColorMap:!!bt.specularColorMap,opaque:bt.transparent===!1&&bt.blending===NormalBlending,alphaMap:!!bt.alphaMap,alphaTest:Ht,gradientMap:!!bt.gradientMap,sheen:bt.sheen>0,sheenColorMap:!!bt.sheenColorMap,sheenRoughnessMap:!!bt.sheenRoughnessMap,transmission:bt.transmission>0,transmissionMap:!!bt.transmissionMap,thicknessMap:!!bt.thicknessMap,combine:bt.combine,vertexTangents:!!bt.normalMap&&!!It.attributes.tangent,vertexColors:bt.vertexColors,vertexAlphas:bt.vertexColors===!0&&!!It.attributes.color&&It.attributes.color.itemSize===4,vertexUvs:!!bt.map||!!bt.bumpMap||!!bt.normalMap||!!bt.specularMap||!!bt.alphaMap||!!bt.emissiveMap||!!bt.roughnessMap||!!bt.metalnessMap||!!bt.clearcoatMap||!!bt.clearcoatRoughnessMap||!!bt.clearcoatNormalMap||!!bt.iridescenceMap||!!bt.iridescenceThicknessMap||!!bt.displacementMap||!!bt.transmissionMap||!!bt.thicknessMap||!!bt.specularIntensityMap||!!bt.specularColorMap||!!bt.sheenColorMap||!!bt.sheenRoughnessMap,uvsVertexOnly:!(bt.map||bt.bumpMap||bt.normalMap||bt.specularMap||bt.alphaMap||bt.emissiveMap||bt.roughnessMap||bt.metalnessMap||bt.clearcoatNormalMap||bt.iridescenceMap||bt.iridescenceThicknessMap||bt.transmission>0||bt.transmissionMap||bt.thicknessMap||bt.specularIntensityMap||bt.specularColorMap||bt.sheen>0||bt.sheenColorMap||bt.sheenRoughnessMap)&&!!bt.displacementMap,fog:!!Wt,useFog:bt.fog===!0,fogExp2:Wt&&Wt.isFogExp2,flatShading:!!bt.flatShading,sizeAttenuation:bt.sizeAttenuation,logarithmicDepthBuffer:dt,skinning:Gt.isSkinnedMesh===!0,morphTargets:It.morphAttributes.position!==void 0,morphNormals:It.morphAttributes.normal!==void 0,morphColors:It.morphAttributes.color!==void 0,morphTargetsCount:Jt,morphTextureStride:on,numDirLights:Mt.directional.length,numPointLights:Mt.point.length,numSpotLights:Mt.spot.length,numSpotLightMaps:Mt.spotLightMap.length,numRectAreaLights:Mt.rectArea.length,numHemiLights:Mt.hemi.length,numDirLightShadows:Mt.directionalShadowMap.length,numPointLightShadows:Mt.pointShadowMap.length,numSpotLightShadows:Mt.spotShadowMap.length,numSpotLightShadowsWithMaps:Mt.numSpotLightShadowsWithMaps,numClippingPlanes:it.numPlanes,numClipIntersection:it.numIntersection,dithering:bt.dithering,shadowMapEnabled:et.shadowMap.enabled&&Tt.length>0,shadowMapType:et.shadowMap.type,toneMapping:bt.toneMapped?et.toneMapping:NoToneMapping,useLegacyLights:et.useLegacyLights,premultipliedAlpha:bt.premultipliedAlpha,doubleSided:bt.side===DoubleSide,flipSided:bt.side===BackSide,useDepthPacking:!!bt.depthPacking,depthPacking:bt.depthPacking||0,index0AttributeName:bt.index0AttributeName,extensionDerivatives:bt.extensions&&bt.extensions.derivatives,extensionFragDepth:bt.extensions&&bt.extensions.fragDepth,extensionDrawBuffers:bt.extensions&&bt.extensions.drawBuffers,extensionShaderTextureLOD:bt.extensions&&bt.extensions.shaderTextureLOD,rendererExtensionFragDepth:lt||tt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:lt||tt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:lt||tt.has("EXT_shader_texture_lod"),customProgramCacheKey:bt.customProgramCacheKey()}}function gt(bt){const Mt=[];if(bt.shaderID?Mt.push(bt.shaderID):(Mt.push(bt.customVertexShaderID),Mt.push(bt.customFragmentShaderID)),bt.defines!==void 0)for(const Tt in bt.defines)Mt.push(Tt),Mt.push(bt.defines[Tt]);return bt.isRawShaderMaterial===!1&&(vt(Mt,bt),_t(Mt,bt),Mt.push(et.outputEncoding)),Mt.push(bt.customProgramCacheKey),Mt.join()}function vt(bt,Mt){bt.push(Mt.precision),bt.push(Mt.outputEncoding),bt.push(Mt.envMapMode),bt.push(Mt.envMapCubeUVHeight),bt.push(Mt.combine),bt.push(Mt.vertexUvs),bt.push(Mt.fogExp2),bt.push(Mt.sizeAttenuation),bt.push(Mt.morphTargetsCount),bt.push(Mt.morphAttributeCount),bt.push(Mt.numDirLights),bt.push(Mt.numPointLights),bt.push(Mt.numSpotLights),bt.push(Mt.numSpotLightMaps),bt.push(Mt.numHemiLights),bt.push(Mt.numRectAreaLights),bt.push(Mt.numDirLightShadows),bt.push(Mt.numPointLightShadows),bt.push(Mt.numSpotLightShadows),bt.push(Mt.numSpotLightShadowsWithMaps),bt.push(Mt.shadowMapType),bt.push(Mt.toneMapping),bt.push(Mt.numClippingPlanes),bt.push(Mt.numClipIntersection),bt.push(Mt.depthPacking)}function _t(bt,Mt){st.disableAll(),Mt.isWebGL2&&st.enable(0),Mt.supportsVertexTextures&&st.enable(1),Mt.instancing&&st.enable(2),Mt.instancingColor&&st.enable(3),Mt.map&&st.enable(4),Mt.matcap&&st.enable(5),Mt.envMap&&st.enable(6),Mt.lightMap&&st.enable(7),Mt.aoMap&&st.enable(8),Mt.emissiveMap&&st.enable(9),Mt.bumpMap&&st.enable(10),Mt.normalMap&&st.enable(11),Mt.objectSpaceNormalMap&&st.enable(12),Mt.tangentSpaceNormalMap&&st.enable(13),Mt.clearcoat&&st.enable(14),Mt.clearcoatMap&&st.enable(15),Mt.clearcoatRoughnessMap&&st.enable(16),Mt.clearcoatNormalMap&&st.enable(17),Mt.iridescence&&st.enable(18),Mt.iridescenceMap&&st.enable(19),Mt.iridescenceThicknessMap&&st.enable(20),Mt.displacementMap&&st.enable(21),Mt.specularMap&&st.enable(22),Mt.roughnessMap&&st.enable(23),Mt.metalnessMap&&st.enable(24),Mt.gradientMap&&st.enable(25),Mt.alphaMap&&st.enable(26),Mt.alphaTest&&st.enable(27),Mt.vertexColors&&st.enable(28),Mt.vertexAlphas&&st.enable(29),Mt.vertexUvs&&st.enable(30),Mt.vertexTangents&&st.enable(31),Mt.uvsVertexOnly&&st.enable(32),bt.push(st.mask),st.disableAll(),Mt.fog&&st.enable(0),Mt.useFog&&st.enable(1),Mt.flatShading&&st.enable(2),Mt.logarithmicDepthBuffer&&st.enable(3),Mt.skinning&&st.enable(4),Mt.morphTargets&&st.enable(5),Mt.morphNormals&&st.enable(6),Mt.morphColors&&st.enable(7),Mt.premultipliedAlpha&&st.enable(8),Mt.shadowMapEnabled&&st.enable(9),Mt.useLegacyLights&&st.enable(10),Mt.doubleSided&&st.enable(11),Mt.flipSided&&st.enable(12),Mt.useDepthPacking&&st.enable(13),Mt.dithering&&st.enable(14),Mt.specularIntensityMap&&st.enable(15),Mt.specularColorMap&&st.enable(16),Mt.transmission&&st.enable(17),Mt.transmissionMap&&st.enable(18),Mt.thicknessMap&&st.enable(19),Mt.sheen&&st.enable(20),Mt.sheenColorMap&&st.enable(21),Mt.sheenRoughnessMap&&st.enable(22),Mt.decodeVideoTexture&&st.enable(23),Mt.opaque&&st.enable(24),bt.push(st.mask)}function yt(bt){const Mt=mt[bt.type];let Tt;if(Mt){const Ft=ShaderLib[Mt];Tt=UniformsUtils.clone(Ft.uniforms)}else Tt=bt.uniforms;return Tt}function xt(bt,Mt){let Tt;for(let Ft=0,Gt=at.length;Ft<Gt;Ft++){const Wt=at[Ft];if(Wt.cacheKey===Mt){Tt=Wt,++Tt.usedTimes;break}}return Tt===void 0&&(Tt=new WebGLProgram(et,Mt,bt,rt),at.push(Tt)),Tt}function At(bt){if(--bt.usedTimes===0){const Mt=at.indexOf(bt);at[Mt]=at[at.length-1],at.pop(),bt.destroy()}}function Ct(bt){ot.remove(bt)}function Pt(){ot.dispose()}return{getParameters:ht,getProgramCacheKey:gt,getUniforms:yt,acquireProgram:xt,releaseProgram:At,releaseShaderCache:Ct,programs:at,dispose:Pt}}function WebGLProperties(){let et=new WeakMap;function $(rt){let it=et.get(rt);return it===void 0&&(it={},et.set(rt,it)),it}function _e(rt){et.delete(rt)}function tt(rt,it,st){et.get(rt)[it]=st}function nt(){et=new WeakMap}return{get:$,remove:_e,update:tt,dispose:nt}}function painterSortStable(et,$){return et.groupOrder!==$.groupOrder?et.groupOrder-$.groupOrder:et.renderOrder!==$.renderOrder?et.renderOrder-$.renderOrder:et.material.id!==$.material.id?et.material.id-$.material.id:et.z!==$.z?et.z-$.z:et.id-$.id}function reversePainterSortStable(et,$){return et.groupOrder!==$.groupOrder?et.groupOrder-$.groupOrder:et.renderOrder!==$.renderOrder?et.renderOrder-$.renderOrder:et.z!==$.z?$.z-et.z:et.id-$.id}function WebGLRenderList(){const et=[];let $=0;const _e=[],tt=[],nt=[];function rt(){$=0,_e.length=0,tt.length=0,nt.length=0}function it(dt,ct,pt,mt,ht,gt){let vt=et[$];return vt===void 0?(vt={id:dt.id,object:dt,geometry:ct,material:pt,groupOrder:mt,renderOrder:dt.renderOrder,z:ht,group:gt},et[$]=vt):(vt.id=dt.id,vt.object=dt,vt.geometry=ct,vt.material=pt,vt.groupOrder=mt,vt.renderOrder=dt.renderOrder,vt.z=ht,vt.group=gt),$++,vt}function st(dt,ct,pt,mt,ht,gt){const vt=it(dt,ct,pt,mt,ht,gt);pt.transmission>0?tt.push(vt):pt.transparent===!0?nt.push(vt):_e.push(vt)}function ot(dt,ct,pt,mt,ht,gt){const vt=it(dt,ct,pt,mt,ht,gt);pt.transmission>0?tt.unshift(vt):pt.transparent===!0?nt.unshift(vt):_e.unshift(vt)}function at(dt,ct){_e.length>1&&_e.sort(dt||painterSortStable),tt.length>1&&tt.sort(ct||reversePainterSortStable),nt.length>1&&nt.sort(ct||reversePainterSortStable)}function lt(){for(let dt=$,ct=et.length;dt<ct;dt++){const pt=et[dt];if(pt.id===null)break;pt.id=null,pt.object=null,pt.geometry=null,pt.material=null,pt.group=null}}return{opaque:_e,transmissive:tt,transparent:nt,init:rt,push:st,unshift:ot,finish:lt,sort:at}}function WebGLRenderLists(){let et=new WeakMap;function $(tt,nt){const rt=et.get(tt);let it;return rt===void 0?(it=new WebGLRenderList,et.set(tt,[it])):nt>=rt.length?(it=new WebGLRenderList,rt.push(it)):it=rt[nt],it}function _e(){et=new WeakMap}return{get:$,dispose:_e}}function UniformsCache(){const et={};return{get:function($){if(et[$.id]!==void 0)return et[$.id];let _e;switch($.type){case"DirectionalLight":_e={direction:new Vector3,color:new Color};break;case"SpotLight":_e={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":_e={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":_e={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":_e={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return et[$.id]=_e,_e}}}function ShadowUniformsCache(){const et={};return{get:function($){if(et[$.id]!==void 0)return et[$.id];let _e;switch($.type){case"DirectionalLight":_e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":_e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":_e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return et[$.id]=_e,_e}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(et,$){return($.castShadow?2:0)-(et.castShadow?2:0)+($.map?1:0)-(et.map?1:0)}function WebGLLights(et,$){const _e=new UniformsCache,tt=ShadowUniformsCache(),nt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let lt=0;lt<9;lt++)nt.probe.push(new Vector3);const rt=new Vector3,it=new Matrix4,st=new Matrix4;function ot(lt,dt){let ct=0,pt=0,mt=0;for(let Ft=0;Ft<9;Ft++)nt.probe[Ft].set(0,0,0);let ht=0,gt=0,vt=0,_t=0,yt=0,xt=0,At=0,Ct=0,Pt=0,bt=0;lt.sort(shadowCastingAndTexturingLightsFirst);const Mt=dt===!0?Math.PI:1;for(let Ft=0,Gt=lt.length;Ft<Gt;Ft++){const Wt=lt[Ft],It=Wt.color,Kt=Wt.intensity,Ut=Wt.distance,Qt=Wt.shadow&&Wt.shadow.map?Wt.shadow.map.texture:null;if(Wt.isAmbientLight)ct+=It.r*Kt*Mt,pt+=It.g*Kt*Mt,mt+=It.b*Kt*Mt;else if(Wt.isLightProbe)for(let Dt=0;Dt<9;Dt++)nt.probe[Dt].addScaledVector(Wt.sh.coefficients[Dt],Kt);else if(Wt.isDirectionalLight){const Dt=_e.get(Wt);if(Dt.color.copy(Wt.color).multiplyScalar(Wt.intensity*Mt),Wt.castShadow){const qt=Wt.shadow,Jt=tt.get(Wt);Jt.shadowBias=qt.bias,Jt.shadowNormalBias=qt.normalBias,Jt.shadowRadius=qt.radius,Jt.shadowMapSize=qt.mapSize,nt.directionalShadow[ht]=Jt,nt.directionalShadowMap[ht]=Qt,nt.directionalShadowMatrix[ht]=Wt.shadow.matrix,xt++}nt.directional[ht]=Dt,ht++}else if(Wt.isSpotLight){const Dt=_e.get(Wt);Dt.position.setFromMatrixPosition(Wt.matrixWorld),Dt.color.copy(It).multiplyScalar(Kt*Mt),Dt.distance=Ut,Dt.coneCos=Math.cos(Wt.angle),Dt.penumbraCos=Math.cos(Wt.angle*(1-Wt.penumbra)),Dt.decay=Wt.decay,nt.spot[vt]=Dt;const qt=Wt.shadow;if(Wt.map&&(nt.spotLightMap[Pt]=Wt.map,Pt++,qt.updateMatrices(Wt),Wt.castShadow&&bt++),nt.spotLightMatrix[vt]=qt.matrix,Wt.castShadow){const Jt=tt.get(Wt);Jt.shadowBias=qt.bias,Jt.shadowNormalBias=qt.normalBias,Jt.shadowRadius=qt.radius,Jt.shadowMapSize=qt.mapSize,nt.spotShadow[vt]=Jt,nt.spotShadowMap[vt]=Qt,Ct++}vt++}else if(Wt.isRectAreaLight){const Dt=_e.get(Wt);Dt.color.copy(It).multiplyScalar(Kt),Dt.halfWidth.set(Wt.width*.5,0,0),Dt.halfHeight.set(0,Wt.height*.5,0),nt.rectArea[_t]=Dt,_t++}else if(Wt.isPointLight){const Dt=_e.get(Wt);if(Dt.color.copy(Wt.color).multiplyScalar(Wt.intensity*Mt),Dt.distance=Wt.distance,Dt.decay=Wt.decay,Wt.castShadow){const qt=Wt.shadow,Jt=tt.get(Wt);Jt.shadowBias=qt.bias,Jt.shadowNormalBias=qt.normalBias,Jt.shadowRadius=qt.radius,Jt.shadowMapSize=qt.mapSize,Jt.shadowCameraNear=qt.camera.near,Jt.shadowCameraFar=qt.camera.far,nt.pointShadow[gt]=Jt,nt.pointShadowMap[gt]=Qt,nt.pointShadowMatrix[gt]=Wt.shadow.matrix,At++}nt.point[gt]=Dt,gt++}else if(Wt.isHemisphereLight){const Dt=_e.get(Wt);Dt.skyColor.copy(Wt.color).multiplyScalar(Kt*Mt),Dt.groundColor.copy(Wt.groundColor).multiplyScalar(Kt*Mt),nt.hemi[yt]=Dt,yt++}}_t>0&&($.isWebGL2||et.has("OES_texture_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,nt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):et.has("OES_texture_half_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_HALF_1,nt.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),nt.ambient[0]=ct,nt.ambient[1]=pt,nt.ambient[2]=mt;const Tt=nt.hash;(Tt.directionalLength!==ht||Tt.pointLength!==gt||Tt.spotLength!==vt||Tt.rectAreaLength!==_t||Tt.hemiLength!==yt||Tt.numDirectionalShadows!==xt||Tt.numPointShadows!==At||Tt.numSpotShadows!==Ct||Tt.numSpotMaps!==Pt)&&(nt.directional.length=ht,nt.spot.length=vt,nt.rectArea.length=_t,nt.point.length=gt,nt.hemi.length=yt,nt.directionalShadow.length=xt,nt.directionalShadowMap.length=xt,nt.pointShadow.length=At,nt.pointShadowMap.length=At,nt.spotShadow.length=Ct,nt.spotShadowMap.length=Ct,nt.directionalShadowMatrix.length=xt,nt.pointShadowMatrix.length=At,nt.spotLightMatrix.length=Ct+Pt-bt,nt.spotLightMap.length=Pt,nt.numSpotLightShadowsWithMaps=bt,Tt.directionalLength=ht,Tt.pointLength=gt,Tt.spotLength=vt,Tt.rectAreaLength=_t,Tt.hemiLength=yt,Tt.numDirectionalShadows=xt,Tt.numPointShadows=At,Tt.numSpotShadows=Ct,Tt.numSpotMaps=Pt,nt.version=nextVersion++)}function at(lt,dt){let ct=0,pt=0,mt=0,ht=0,gt=0;const vt=dt.matrixWorldInverse;for(let _t=0,yt=lt.length;_t<yt;_t++){const xt=lt[_t];if(xt.isDirectionalLight){const At=nt.directional[ct];At.direction.setFromMatrixPosition(xt.matrixWorld),rt.setFromMatrixPosition(xt.target.matrixWorld),At.direction.sub(rt),At.direction.transformDirection(vt),ct++}else if(xt.isSpotLight){const At=nt.spot[mt];At.position.setFromMatrixPosition(xt.matrixWorld),At.position.applyMatrix4(vt),At.direction.setFromMatrixPosition(xt.matrixWorld),rt.setFromMatrixPosition(xt.target.matrixWorld),At.direction.sub(rt),At.direction.transformDirection(vt),mt++}else if(xt.isRectAreaLight){const At=nt.rectArea[ht];At.position.setFromMatrixPosition(xt.matrixWorld),At.position.applyMatrix4(vt),st.identity(),it.copy(xt.matrixWorld),it.premultiply(vt),st.extractRotation(it),At.halfWidth.set(xt.width*.5,0,0),At.halfHeight.set(0,xt.height*.5,0),At.halfWidth.applyMatrix4(st),At.halfHeight.applyMatrix4(st),ht++}else if(xt.isPointLight){const At=nt.point[pt];At.position.setFromMatrixPosition(xt.matrixWorld),At.position.applyMatrix4(vt),pt++}else if(xt.isHemisphereLight){const At=nt.hemi[gt];At.direction.setFromMatrixPosition(xt.matrixWorld),At.direction.transformDirection(vt),gt++}}}return{setup:ot,setupView:at,state:nt}}function WebGLRenderState(et,$){const _e=new WebGLLights(et,$),tt=[],nt=[];function rt(){tt.length=0,nt.length=0}function it(dt){tt.push(dt)}function st(dt){nt.push(dt)}function ot(dt){_e.setup(tt,dt)}function at(dt){_e.setupView(tt,dt)}return{init:rt,state:{lightsArray:tt,shadowsArray:nt,lights:_e},setupLights:ot,setupLightsView:at,pushLight:it,pushShadow:st}}function WebGLRenderStates(et,$){let _e=new WeakMap;function tt(rt,it=0){const st=_e.get(rt);let ot;return st===void 0?(ot=new WebGLRenderState(et,$),_e.set(rt,[ot])):it>=st.length?(ot=new WebGLRenderState(et,$),st.push(ot)):ot=st[it],ot}function nt(){_e=new WeakMap}return{get:tt,dispose:nt}}class MeshDepthMaterial extends Material{constructor($){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues($)}copy($){return super.copy($),this.depthPacking=$.depthPacking,this.map=$.map,this.alphaMap=$.alphaMap,this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor($){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues($)}copy($){return super.copy($),this.referencePosition.copy($.referencePosition),this.nearDistance=$.nearDistance,this.farDistance=$.farDistance,this.map=$.map,this.alphaMap=$.alphaMap,this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(et,$,_e){let tt=new Frustum;const nt=new Vector2,rt=new Vector2,it=new Vector4,st=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),ot=new MeshDistanceMaterial,at={},lt=_e.maxTextureSize,dt={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ct=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),pt=ct.clone();pt.defines.HORIZONTAL_PASS=1;const mt=new BufferGeometry;mt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ht=new Mesh(mt,ct),gt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(xt,At,Ct){if(gt.enabled===!1||gt.autoUpdate===!1&&gt.needsUpdate===!1||xt.length===0)return;const Pt=et.getRenderTarget(),bt=et.getActiveCubeFace(),Mt=et.getActiveMipmapLevel(),Tt=et.state;Tt.setBlending(NoBlending),Tt.buffers.color.setClear(1,1,1,1),Tt.buffers.depth.setTest(!0),Tt.setScissorTest(!1);for(let Ft=0,Gt=xt.length;Ft<Gt;Ft++){const Wt=xt[Ft],It=Wt.shadow;if(It===void 0){console.warn("THREE.WebGLShadowMap:",Wt,"has no shadow.");continue}if(It.autoUpdate===!1&&It.needsUpdate===!1)continue;nt.copy(It.mapSize);const Kt=It.getFrameExtents();if(nt.multiply(Kt),rt.copy(It.mapSize),(nt.x>lt||nt.y>lt)&&(nt.x>lt&&(rt.x=Math.floor(lt/Kt.x),nt.x=rt.x*Kt.x,It.mapSize.x=rt.x),nt.y>lt&&(rt.y=Math.floor(lt/Kt.y),nt.y=rt.y*Kt.y,It.mapSize.y=rt.y)),It.map===null){const Qt=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};It.map=new WebGLRenderTarget(nt.x,nt.y,Qt),It.map.texture.name=Wt.name+".shadowMap",It.camera.updateProjectionMatrix()}et.setRenderTarget(It.map),et.clear();const Ut=It.getViewportCount();for(let Qt=0;Qt<Ut;Qt++){const Dt=It.getViewport(Qt);it.set(rt.x*Dt.x,rt.y*Dt.y,rt.x*Dt.z,rt.y*Dt.w),Tt.viewport(it),It.updateMatrices(Wt,Qt),tt=It.getFrustum(),yt(At,Ct,It.camera,Wt,this.type)}It.isPointLightShadow!==!0&&this.type===VSMShadowMap&&vt(It,Ct),It.needsUpdate=!1}gt.needsUpdate=!1,et.setRenderTarget(Pt,bt,Mt)};function vt(xt,At){const Ct=$.update(ht);ct.defines.VSM_SAMPLES!==xt.blurSamples&&(ct.defines.VSM_SAMPLES=xt.blurSamples,pt.defines.VSM_SAMPLES=xt.blurSamples,ct.needsUpdate=!0,pt.needsUpdate=!0),xt.mapPass===null&&(xt.mapPass=new WebGLRenderTarget(nt.x,nt.y)),ct.uniforms.shadow_pass.value=xt.map.texture,ct.uniforms.resolution.value=xt.mapSize,ct.uniforms.radius.value=xt.radius,et.setRenderTarget(xt.mapPass),et.clear(),et.renderBufferDirect(At,null,Ct,ct,ht,null),pt.uniforms.shadow_pass.value=xt.mapPass.texture,pt.uniforms.resolution.value=xt.mapSize,pt.uniforms.radius.value=xt.radius,et.setRenderTarget(xt.map),et.clear(),et.renderBufferDirect(At,null,Ct,pt,ht,null)}function _t(xt,At,Ct,Pt,bt,Mt){let Tt=null;const Ft=Ct.isPointLight===!0?xt.customDistanceMaterial:xt.customDepthMaterial;if(Ft!==void 0)Tt=Ft;else if(Tt=Ct.isPointLight===!0?ot:st,et.localClippingEnabled&&At.clipShadows===!0&&Array.isArray(At.clippingPlanes)&&At.clippingPlanes.length!==0||At.displacementMap&&At.displacementScale!==0||At.alphaMap&&At.alphaTest>0||At.map&&At.alphaTest>0){const Gt=Tt.uuid,Wt=At.uuid;let It=at[Gt];It===void 0&&(It={},at[Gt]=It);let Kt=It[Wt];Kt===void 0&&(Kt=Tt.clone(),It[Wt]=Kt),Tt=Kt}return Tt.visible=At.visible,Tt.wireframe=At.wireframe,Mt===VSMShadowMap?Tt.side=At.shadowSide!==null?At.shadowSide:At.side:Tt.side=At.shadowSide!==null?At.shadowSide:dt[At.side],Tt.alphaMap=At.alphaMap,Tt.alphaTest=At.alphaTest,Tt.map=At.map,Tt.clipShadows=At.clipShadows,Tt.clippingPlanes=At.clippingPlanes,Tt.clipIntersection=At.clipIntersection,Tt.displacementMap=At.displacementMap,Tt.displacementScale=At.displacementScale,Tt.displacementBias=At.displacementBias,Tt.wireframeLinewidth=At.wireframeLinewidth,Tt.linewidth=At.linewidth,Ct.isPointLight===!0&&Tt.isMeshDistanceMaterial===!0&&(Tt.referencePosition.setFromMatrixPosition(Ct.matrixWorld),Tt.nearDistance=Pt,Tt.farDistance=bt),Tt}function yt(xt,At,Ct,Pt,bt){if(xt.visible===!1)return;if(xt.layers.test(At.layers)&&(xt.isMesh||xt.isLine||xt.isPoints)&&(xt.castShadow||xt.receiveShadow&&bt===VSMShadowMap)&&(!xt.frustumCulled||tt.intersectsObject(xt))){xt.modelViewMatrix.multiplyMatrices(Ct.matrixWorldInverse,xt.matrixWorld);const Ft=$.update(xt),Gt=xt.material;if(Array.isArray(Gt)){const Wt=Ft.groups;for(let It=0,Kt=Wt.length;It<Kt;It++){const Ut=Wt[It],Qt=Gt[Ut.materialIndex];if(Qt&&Qt.visible){const Dt=_t(xt,Qt,Pt,Ct.near,Ct.far,bt);et.renderBufferDirect(Ct,null,Ft,Dt,xt,Ut)}}}else if(Gt.visible){const Wt=_t(xt,Gt,Pt,Ct.near,Ct.far,bt);et.renderBufferDirect(Ct,null,Ft,Wt,xt,null)}}const Tt=xt.children;for(let Ft=0,Gt=Tt.length;Ft<Gt;Ft++)yt(Tt[Ft],At,Ct,Pt,bt)}}function WebGLState(et,$,_e){const tt=_e.isWebGL2;function nt(){let Xt=!1;const rn=new Vector4;let Tn=null;const Nn=new Vector4(0,0,0,0);return{setMask:function(Yn){Tn!==Yn&&!Xt&&(et.colorMask(Yn,Yn,Yn,Yn),Tn=Yn)},setLocked:function(Yn){Xt=Yn},setClear:function(Yn,hr,wr,ts,Wr){Wr===!0&&(Yn*=ts,hr*=ts,wr*=ts),rn.set(Yn,hr,wr,ts),Nn.equals(rn)===!1&&(et.clearColor(Yn,hr,wr,ts),Nn.copy(rn))},reset:function(){Xt=!1,Tn=null,Nn.set(-1,0,0,0)}}}function rt(){let Xt=!1,rn=null,Tn=null,Nn=null;return{setTest:function(Yn){Yn?Ht(2929):wt(2929)},setMask:function(Yn){rn!==Yn&&!Xt&&(et.depthMask(Yn),rn=Yn)},setFunc:function(Yn){if(Tn!==Yn){switch(Yn){case NeverDepth:et.depthFunc(512);break;case AlwaysDepth:et.depthFunc(519);break;case LessDepth:et.depthFunc(513);break;case LessEqualDepth:et.depthFunc(515);break;case EqualDepth:et.depthFunc(514);break;case GreaterEqualDepth:et.depthFunc(518);break;case GreaterDepth:et.depthFunc(516);break;case NotEqualDepth:et.depthFunc(517);break;default:et.depthFunc(515)}Tn=Yn}},setLocked:function(Yn){Xt=Yn},setClear:function(Yn){Nn!==Yn&&(et.clearDepth(Yn),Nn=Yn)},reset:function(){Xt=!1,rn=null,Tn=null,Nn=null}}}function it(){let Xt=!1,rn=null,Tn=null,Nn=null,Yn=null,hr=null,wr=null,ts=null,Wr=null;return{setTest:function(xr){Xt||(xr?Ht(2960):wt(2960))},setMask:function(xr){rn!==xr&&!Xt&&(et.stencilMask(xr),rn=xr)},setFunc:function(xr,ps,vs){(Tn!==xr||Nn!==ps||Yn!==vs)&&(et.stencilFunc(xr,ps,vs),Tn=xr,Nn=ps,Yn=vs)},setOp:function(xr,ps,vs){(hr!==xr||wr!==ps||ts!==vs)&&(et.stencilOp(xr,ps,vs),hr=xr,wr=ps,ts=vs)},setLocked:function(xr){Xt=xr},setClear:function(xr){Wr!==xr&&(et.clearStencil(xr),Wr=xr)},reset:function(){Xt=!1,rn=null,Tn=null,Nn=null,Yn=null,hr=null,wr=null,ts=null,Wr=null}}}const st=new nt,ot=new rt,at=new it,lt=new WeakMap,dt=new WeakMap;let ct={},pt={},mt=new WeakMap,ht=[],gt=null,vt=!1,_t=null,yt=null,xt=null,At=null,Ct=null,Pt=null,bt=null,Mt=!1,Tt=null,Ft=null,Gt=null,Wt=null,It=null;const Kt=et.getParameter(35661);let Ut=!1,Qt=0;const Dt=et.getParameter(7938);Dt.indexOf("WebGL")!==-1?(Qt=parseFloat(/^WebGL (\d)/.exec(Dt)[1]),Ut=Qt>=1):Dt.indexOf("OpenGL ES")!==-1&&(Qt=parseFloat(/^OpenGL ES (\d)/.exec(Dt)[1]),Ut=Qt>=2);let qt=null,Jt={};const on=et.getParameter(3088),tn=et.getParameter(2978),yn=new Vector4().fromArray(on),Yt=new Vector4().fromArray(tn);function kt(Xt,rn,Tn){const Nn=new Uint8Array(4),Yn=et.createTexture();et.bindTexture(Xt,Yn),et.texParameteri(Xt,10241,9728),et.texParameteri(Xt,10240,9728);for(let hr=0;hr<Tn;hr++)et.texImage2D(rn+hr,0,6408,1,1,0,6408,5121,Nn);return Yn}const Bt={};Bt[3553]=kt(3553,3553,1),Bt[34067]=kt(34067,34069,6),st.setClear(0,0,0,1),ot.setClear(1),at.setClear(0),Ht(2929),ot.setFunc(LessEqualDepth),ln(!1),xn(CullFaceBack),Ht(2884),sn(NoBlending);function Ht(Xt){ct[Xt]!==!0&&(et.enable(Xt),ct[Xt]=!0)}function wt(Xt){ct[Xt]!==!1&&(et.disable(Xt),ct[Xt]=!1)}function Lt(Xt,rn){return pt[Xt]!==rn?(et.bindFramebuffer(Xt,rn),pt[Xt]=rn,tt&&(Xt===36009&&(pt[36160]=rn),Xt===36160&&(pt[36009]=rn)),!0):!1}function Ot(Xt,rn){let Tn=ht,Nn=!1;if(Xt)if(Tn=mt.get(rn),Tn===void 0&&(Tn=[],mt.set(rn,Tn)),Xt.isWebGLMultipleRenderTargets){const Yn=Xt.texture;if(Tn.length!==Yn.length||Tn[0]!==36064){for(let hr=0,wr=Yn.length;hr<wr;hr++)Tn[hr]=36064+hr;Tn.length=Yn.length,Nn=!0}}else Tn[0]!==36064&&(Tn[0]=36064,Nn=!0);else Tn[0]!==1029&&(Tn[0]=1029,Nn=!0);Nn&&(_e.isWebGL2?et.drawBuffers(Tn):$.get("WEBGL_draw_buffers").drawBuffersWEBGL(Tn))}function $t(Xt){return gt!==Xt?(et.useProgram(Xt),gt=Xt,!0):!1}const Vt={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(tt)Vt[MinEquation]=32775,Vt[MaxEquation]=32776;else{const Xt=$.get("EXT_blend_minmax");Xt!==null&&(Vt[MinEquation]=Xt.MIN_EXT,Vt[MaxEquation]=Xt.MAX_EXT)}const Zt={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function sn(Xt,rn,Tn,Nn,Yn,hr,wr,ts){if(Xt===NoBlending){vt===!0&&(wt(3042),vt=!1);return}if(vt===!1&&(Ht(3042),vt=!0),Xt!==CustomBlending){if(Xt!==_t||ts!==Mt){if((yt!==AddEquation||Ct!==AddEquation)&&(et.blendEquation(32774),yt=AddEquation,Ct=AddEquation),ts)switch(Xt){case NormalBlending:et.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:et.blendFunc(1,1);break;case SubtractiveBlending:et.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:et.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xt);break}else switch(Xt){case NormalBlending:et.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:et.blendFunc(770,1);break;case SubtractiveBlending:et.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:et.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xt);break}xt=null,At=null,Pt=null,bt=null,_t=Xt,Mt=ts}return}Yn=Yn||rn,hr=hr||Tn,wr=wr||Nn,(rn!==yt||Yn!==Ct)&&(et.blendEquationSeparate(Vt[rn],Vt[Yn]),yt=rn,Ct=Yn),(Tn!==xt||Nn!==At||hr!==Pt||wr!==bt)&&(et.blendFuncSeparate(Zt[Tn],Zt[Nn],Zt[hr],Zt[wr]),xt=Tn,At=Nn,Pt=hr,bt=wr),_t=Xt,Mt=!1}function hn(Xt,rn){Xt.side===DoubleSide?wt(2884):Ht(2884);let Tn=Xt.side===BackSide;rn&&(Tn=!Tn),ln(Tn),Xt.blending===NormalBlending&&Xt.transparent===!1?sn(NoBlending):sn(Xt.blending,Xt.blendEquation,Xt.blendSrc,Xt.blendDst,Xt.blendEquationAlpha,Xt.blendSrcAlpha,Xt.blendDstAlpha,Xt.premultipliedAlpha),ot.setFunc(Xt.depthFunc),ot.setTest(Xt.depthTest),ot.setMask(Xt.depthWrite),st.setMask(Xt.colorWrite);const Nn=Xt.stencilWrite;at.setTest(Nn),Nn&&(at.setMask(Xt.stencilWriteMask),at.setFunc(Xt.stencilFunc,Xt.stencilRef,Xt.stencilFuncMask),at.setOp(Xt.stencilFail,Xt.stencilZFail,Xt.stencilZPass)),fn(Xt.polygonOffset,Xt.polygonOffsetFactor,Xt.polygonOffsetUnits),Xt.alphaToCoverage===!0?Ht(32926):wt(32926)}function ln(Xt){Tt!==Xt&&(Xt?et.frontFace(2304):et.frontFace(2305),Tt=Xt)}function xn(Xt){Xt!==CullFaceNone?(Ht(2884),Xt!==Ft&&(Xt===CullFaceBack?et.cullFace(1029):Xt===CullFaceFront?et.cullFace(1028):et.cullFace(1032))):wt(2884),Ft=Xt}function un(Xt){Xt!==Gt&&(Ut&&et.lineWidth(Xt),Gt=Xt)}function fn(Xt,rn,Tn){Xt?(Ht(32823),(Wt!==rn||It!==Tn)&&(et.polygonOffset(rn,Tn),Wt=rn,It=Tn)):wt(32823)}function Gn(Xt){Xt?Ht(3089):wt(3089)}function Xn(Xt){Xt===void 0&&(Xt=33984+Kt-1),qt!==Xt&&(et.activeTexture(Xt),qt=Xt)}function nn(Xt,rn,Tn){Tn===void 0&&(qt===null?Tn=33984+Kt-1:Tn=qt);let Nn=Jt[Tn];Nn===void 0&&(Nn={type:void 0,texture:void 0},Jt[Tn]=Nn),(Nn.type!==Xt||Nn.texture!==rn)&&(qt!==Tn&&(et.activeTexture(Tn),qt=Tn),et.bindTexture(Xt,rn||Bt[Xt]),Nn.type=Xt,Nn.texture=rn)}function jt(){const Xt=Jt[qt];Xt!==void 0&&Xt.type!==void 0&&(et.bindTexture(Xt.type,null),Xt.type=void 0,Xt.texture=void 0)}function Mn(){try{et.compressedTexImage2D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function cn(){try{et.compressedTexImage3D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function _n(){try{et.texSubImage2D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function Un(){try{et.texSubImage3D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function or(){try{et.compressedTexSubImage2D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function Kn(){try{et.compressedTexSubImage3D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function Vn(){try{et.texStorage2D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function ur(){try{et.texStorage3D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function Sn(){try{et.texImage2D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function Bn(){try{et.texImage3D.apply(et,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function ir(Xt){yn.equals(Xt)===!1&&(et.scissor(Xt.x,Xt.y,Xt.z,Xt.w),yn.copy(Xt))}function er(Xt){Yt.equals(Xt)===!1&&(et.viewport(Xt.x,Xt.y,Xt.z,Xt.w),Yt.copy(Xt))}function En(Xt,rn){let Tn=dt.get(rn);Tn===void 0&&(Tn=new WeakMap,dt.set(rn,Tn));let Nn=Tn.get(Xt);Nn===void 0&&(Nn=et.getUniformBlockIndex(rn,Xt.name),Tn.set(Xt,Nn))}function On(Xt,rn){const Nn=dt.get(rn).get(Xt);lt.get(rn)!==Nn&&(et.uniformBlockBinding(rn,Nn,Xt.__bindingPointIndex),lt.set(rn,Nn))}function wn(){et.disable(3042),et.disable(2884),et.disable(2929),et.disable(32823),et.disable(3089),et.disable(2960),et.disable(32926),et.blendEquation(32774),et.blendFunc(1,0),et.blendFuncSeparate(1,0,1,0),et.colorMask(!0,!0,!0,!0),et.clearColor(0,0,0,0),et.depthMask(!0),et.depthFunc(513),et.clearDepth(1),et.stencilMask(4294967295),et.stencilFunc(519,0,4294967295),et.stencilOp(7680,7680,7680),et.clearStencil(0),et.cullFace(1029),et.frontFace(2305),et.polygonOffset(0,0),et.activeTexture(33984),et.bindFramebuffer(36160,null),tt===!0&&(et.bindFramebuffer(36009,null),et.bindFramebuffer(36008,null)),et.useProgram(null),et.lineWidth(1),et.scissor(0,0,et.canvas.width,et.canvas.height),et.viewport(0,0,et.canvas.width,et.canvas.height),ct={},qt=null,Jt={},pt={},mt=new WeakMap,ht=[],gt=null,vt=!1,_t=null,yt=null,xt=null,At=null,Ct=null,Pt=null,bt=null,Mt=!1,Tt=null,Ft=null,Gt=null,Wt=null,It=null,yn.set(0,0,et.canvas.width,et.canvas.height),Yt.set(0,0,et.canvas.width,et.canvas.height),st.reset(),ot.reset(),at.reset()}return{buffers:{color:st,depth:ot,stencil:at},enable:Ht,disable:wt,bindFramebuffer:Lt,drawBuffers:Ot,useProgram:$t,setBlending:sn,setMaterial:hn,setFlipSided:ln,setCullFace:xn,setLineWidth:un,setPolygonOffset:fn,setScissorTest:Gn,activeTexture:Xn,bindTexture:nn,unbindTexture:jt,compressedTexImage2D:Mn,compressedTexImage3D:cn,texImage2D:Sn,texImage3D:Bn,updateUBOMapping:En,uniformBlockBinding:On,texStorage2D:Vn,texStorage3D:ur,texSubImage2D:_n,texSubImage3D:Un,compressedTexSubImage2D:or,compressedTexSubImage3D:Kn,scissor:ir,viewport:er,reset:wn}}function WebGLTextures(et,$,_e,tt,nt,rt,it){const st=nt.isWebGL2,ot=nt.maxTextures,at=nt.maxCubemapSize,lt=nt.maxTextureSize,dt=nt.maxSamples,ct=$.has("WEBGL_multisampled_render_to_texture")?$.get("WEBGL_multisampled_render_to_texture"):null,pt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),mt=new WeakMap;let ht;const gt=new WeakMap;let vt=!1;try{vt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _t(nn,jt){return vt?new OffscreenCanvas(nn,jt):createElementNS("canvas")}function yt(nn,jt,Mn,cn){let _n=1;if((nn.width>cn||nn.height>cn)&&(_n=cn/Math.max(nn.width,nn.height)),_n<1||jt===!0)if(typeof HTMLImageElement<"u"&&nn instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&nn instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&nn instanceof ImageBitmap){const Un=jt?floorPowerOfTwo:Math.floor,or=Un(_n*nn.width),Kn=Un(_n*nn.height);ht===void 0&&(ht=_t(or,Kn));const Vn=Mn?_t(or,Kn):ht;return Vn.width=or,Vn.height=Kn,Vn.getContext("2d").drawImage(nn,0,0,or,Kn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+nn.width+"x"+nn.height+") to ("+or+"x"+Kn+")."),Vn}else return"data"in nn&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+nn.width+"x"+nn.height+")."),nn;return nn}function xt(nn){return isPowerOfTwo(nn.width)&&isPowerOfTwo(nn.height)}function At(nn){return st?!1:nn.wrapS!==ClampToEdgeWrapping||nn.wrapT!==ClampToEdgeWrapping||nn.minFilter!==NearestFilter&&nn.minFilter!==LinearFilter}function Ct(nn,jt){return nn.generateMipmaps&&jt&&nn.minFilter!==NearestFilter&&nn.minFilter!==LinearFilter}function Pt(nn){et.generateMipmap(nn)}function bt(nn,jt,Mn,cn,_n=!1){if(st===!1)return jt;if(nn!==null){if(et[nn]!==void 0)return et[nn];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+nn+"'")}let Un=jt;return jt===6403&&(Mn===5126&&(Un=33326),Mn===5131&&(Un=33325),Mn===5121&&(Un=33321)),jt===33319&&(Mn===5126&&(Un=33328),Mn===5131&&(Un=33327),Mn===5121&&(Un=33323)),jt===6408&&(Mn===5126&&(Un=34836),Mn===5131&&(Un=34842),Mn===5121&&(Un=cn===sRGBEncoding&&_n===!1?35907:32856),Mn===32819&&(Un=32854),Mn===32820&&(Un=32855)),(Un===33325||Un===33326||Un===33327||Un===33328||Un===34842||Un===34836)&&$.get("EXT_color_buffer_float"),Un}function Mt(nn,jt,Mn){return Ct(nn,Mn)===!0||nn.isFramebufferTexture&&nn.minFilter!==NearestFilter&&nn.minFilter!==LinearFilter?Math.log2(Math.max(jt.width,jt.height))+1:nn.mipmaps!==void 0&&nn.mipmaps.length>0?nn.mipmaps.length:nn.isCompressedTexture&&Array.isArray(nn.image)?jt.mipmaps.length:1}function Tt(nn){return nn===NearestFilter||nn===NearestMipmapNearestFilter||nn===NearestMipmapLinearFilter?9728:9729}function Ft(nn){const jt=nn.target;jt.removeEventListener("dispose",Ft),Wt(jt),jt.isVideoTexture&&mt.delete(jt)}function Gt(nn){const jt=nn.target;jt.removeEventListener("dispose",Gt),Kt(jt)}function Wt(nn){const jt=tt.get(nn);if(jt.__webglInit===void 0)return;const Mn=nn.source,cn=gt.get(Mn);if(cn){const _n=cn[jt.__cacheKey];_n.usedTimes--,_n.usedTimes===0&&It(nn),Object.keys(cn).length===0&&gt.delete(Mn)}tt.remove(nn)}function It(nn){const jt=tt.get(nn);et.deleteTexture(jt.__webglTexture);const Mn=nn.source,cn=gt.get(Mn);delete cn[jt.__cacheKey],it.memory.textures--}function Kt(nn){const jt=nn.texture,Mn=tt.get(nn),cn=tt.get(jt);if(cn.__webglTexture!==void 0&&(et.deleteTexture(cn.__webglTexture),it.memory.textures--),nn.depthTexture&&nn.depthTexture.dispose(),nn.isWebGLCubeRenderTarget)for(let _n=0;_n<6;_n++)et.deleteFramebuffer(Mn.__webglFramebuffer[_n]),Mn.__webglDepthbuffer&&et.deleteRenderbuffer(Mn.__webglDepthbuffer[_n]);else{if(et.deleteFramebuffer(Mn.__webglFramebuffer),Mn.__webglDepthbuffer&&et.deleteRenderbuffer(Mn.__webglDepthbuffer),Mn.__webglMultisampledFramebuffer&&et.deleteFramebuffer(Mn.__webglMultisampledFramebuffer),Mn.__webglColorRenderbuffer)for(let _n=0;_n<Mn.__webglColorRenderbuffer.length;_n++)Mn.__webglColorRenderbuffer[_n]&&et.deleteRenderbuffer(Mn.__webglColorRenderbuffer[_n]);Mn.__webglDepthRenderbuffer&&et.deleteRenderbuffer(Mn.__webglDepthRenderbuffer)}if(nn.isWebGLMultipleRenderTargets)for(let _n=0,Un=jt.length;_n<Un;_n++){const or=tt.get(jt[_n]);or.__webglTexture&&(et.deleteTexture(or.__webglTexture),it.memory.textures--),tt.remove(jt[_n])}tt.remove(jt),tt.remove(nn)}let Ut=0;function Qt(){Ut=0}function Dt(){const nn=Ut;return nn>=ot&&console.warn("THREE.WebGLTextures: Trying to use "+nn+" texture units while this GPU supports only "+ot),Ut+=1,nn}function qt(nn){const jt=[];return jt.push(nn.wrapS),jt.push(nn.wrapT),jt.push(nn.wrapR||0),jt.push(nn.magFilter),jt.push(nn.minFilter),jt.push(nn.anisotropy),jt.push(nn.internalFormat),jt.push(nn.format),jt.push(nn.type),jt.push(nn.generateMipmaps),jt.push(nn.premultiplyAlpha),jt.push(nn.flipY),jt.push(nn.unpackAlignment),jt.push(nn.encoding),jt.join()}function Jt(nn,jt){const Mn=tt.get(nn);if(nn.isVideoTexture&&Gn(nn),nn.isRenderTargetTexture===!1&&nn.version>0&&Mn.__version!==nn.version){const cn=nn.image;if(cn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(cn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{wt(Mn,nn,jt);return}}_e.bindTexture(3553,Mn.__webglTexture,33984+jt)}function on(nn,jt){const Mn=tt.get(nn);if(nn.version>0&&Mn.__version!==nn.version){wt(Mn,nn,jt);return}_e.bindTexture(35866,Mn.__webglTexture,33984+jt)}function tn(nn,jt){const Mn=tt.get(nn);if(nn.version>0&&Mn.__version!==nn.version){wt(Mn,nn,jt);return}_e.bindTexture(32879,Mn.__webglTexture,33984+jt)}function yn(nn,jt){const Mn=tt.get(nn);if(nn.version>0&&Mn.__version!==nn.version){Lt(Mn,nn,jt);return}_e.bindTexture(34067,Mn.__webglTexture,33984+jt)}const Yt={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},kt={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Bt(nn,jt,Mn){if(Mn?(et.texParameteri(nn,10242,Yt[jt.wrapS]),et.texParameteri(nn,10243,Yt[jt.wrapT]),(nn===32879||nn===35866)&&et.texParameteri(nn,32882,Yt[jt.wrapR]),et.texParameteri(nn,10240,kt[jt.magFilter]),et.texParameteri(nn,10241,kt[jt.minFilter])):(et.texParameteri(nn,10242,33071),et.texParameteri(nn,10243,33071),(nn===32879||nn===35866)&&et.texParameteri(nn,32882,33071),(jt.wrapS!==ClampToEdgeWrapping||jt.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),et.texParameteri(nn,10240,Tt(jt.magFilter)),et.texParameteri(nn,10241,Tt(jt.minFilter)),jt.minFilter!==NearestFilter&&jt.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),$.has("EXT_texture_filter_anisotropic")===!0){const cn=$.get("EXT_texture_filter_anisotropic");if(jt.magFilter===NearestFilter||jt.minFilter!==NearestMipmapLinearFilter&&jt.minFilter!==LinearMipmapLinearFilter||jt.type===FloatType&&$.has("OES_texture_float_linear")===!1||st===!1&&jt.type===HalfFloatType&&$.has("OES_texture_half_float_linear")===!1)return;(jt.anisotropy>1||tt.get(jt).__currentAnisotropy)&&(et.texParameterf(nn,cn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(jt.anisotropy,nt.getMaxAnisotropy())),tt.get(jt).__currentAnisotropy=jt.anisotropy)}}function Ht(nn,jt){let Mn=!1;nn.__webglInit===void 0&&(nn.__webglInit=!0,jt.addEventListener("dispose",Ft));const cn=jt.source;let _n=gt.get(cn);_n===void 0&&(_n={},gt.set(cn,_n));const Un=qt(jt);if(Un!==nn.__cacheKey){_n[Un]===void 0&&(_n[Un]={texture:et.createTexture(),usedTimes:0},it.memory.textures++,Mn=!0),_n[Un].usedTimes++;const or=_n[nn.__cacheKey];or!==void 0&&(_n[nn.__cacheKey].usedTimes--,or.usedTimes===0&&It(jt)),nn.__cacheKey=Un,nn.__webglTexture=_n[Un].texture}return Mn}function wt(nn,jt,Mn){let cn=3553;(jt.isDataArrayTexture||jt.isCompressedArrayTexture)&&(cn=35866),jt.isData3DTexture&&(cn=32879);const _n=Ht(nn,jt),Un=jt.source;_e.bindTexture(cn,nn.__webglTexture,33984+Mn);const or=tt.get(Un);if(Un.version!==or.__version||_n===!0){_e.activeTexture(33984+Mn),et.pixelStorei(37440,jt.flipY),et.pixelStorei(37441,jt.premultiplyAlpha),et.pixelStorei(3317,jt.unpackAlignment),et.pixelStorei(37443,0);const Kn=At(jt)&&xt(jt.image)===!1;let Vn=yt(jt.image,Kn,!1,lt);Vn=Xn(jt,Vn);const ur=xt(Vn)||st,Sn=rt.convert(jt.format,jt.encoding);let Bn=rt.convert(jt.type),ir=bt(jt.internalFormat,Sn,Bn,jt.encoding,jt.isVideoTexture);Bt(cn,jt,ur);let er;const En=jt.mipmaps,On=st&&jt.isVideoTexture!==!0,wn=or.__version===void 0||_n===!0,Xt=Mt(jt,Vn,ur);if(jt.isDepthTexture)ir=6402,st?jt.type===FloatType?ir=36012:jt.type===UnsignedIntType?ir=33190:jt.type===UnsignedInt248Type?ir=35056:ir=33189:jt.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),jt.format===DepthFormat&&ir===6402&&jt.type!==UnsignedShortType&&jt.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),jt.type=UnsignedIntType,Bn=rt.convert(jt.type)),jt.format===DepthStencilFormat&&ir===6402&&(ir=34041,jt.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),jt.type=UnsignedInt248Type,Bn=rt.convert(jt.type))),wn&&(On?_e.texStorage2D(3553,1,ir,Vn.width,Vn.height):_e.texImage2D(3553,0,ir,Vn.width,Vn.height,0,Sn,Bn,null));else if(jt.isDataTexture)if(En.length>0&&ur){On&&wn&&_e.texStorage2D(3553,Xt,ir,En[0].width,En[0].height);for(let rn=0,Tn=En.length;rn<Tn;rn++)er=En[rn],On?_e.texSubImage2D(3553,rn,0,0,er.width,er.height,Sn,Bn,er.data):_e.texImage2D(3553,rn,ir,er.width,er.height,0,Sn,Bn,er.data);jt.generateMipmaps=!1}else On?(wn&&_e.texStorage2D(3553,Xt,ir,Vn.width,Vn.height),_e.texSubImage2D(3553,0,0,0,Vn.width,Vn.height,Sn,Bn,Vn.data)):_e.texImage2D(3553,0,ir,Vn.width,Vn.height,0,Sn,Bn,Vn.data);else if(jt.isCompressedTexture)if(jt.isCompressedArrayTexture){On&&wn&&_e.texStorage3D(35866,Xt,ir,En[0].width,En[0].height,Vn.depth);for(let rn=0,Tn=En.length;rn<Tn;rn++)er=En[rn],jt.format!==RGBAFormat?Sn!==null?On?_e.compressedTexSubImage3D(35866,rn,0,0,0,er.width,er.height,Vn.depth,Sn,er.data,0,0):_e.compressedTexImage3D(35866,rn,ir,er.width,er.height,Vn.depth,0,er.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):On?_e.texSubImage3D(35866,rn,0,0,0,er.width,er.height,Vn.depth,Sn,Bn,er.data):_e.texImage3D(35866,rn,ir,er.width,er.height,Vn.depth,0,Sn,Bn,er.data)}else{On&&wn&&_e.texStorage2D(3553,Xt,ir,En[0].width,En[0].height);for(let rn=0,Tn=En.length;rn<Tn;rn++)er=En[rn],jt.format!==RGBAFormat?Sn!==null?On?_e.compressedTexSubImage2D(3553,rn,0,0,er.width,er.height,Sn,er.data):_e.compressedTexImage2D(3553,rn,ir,er.width,er.height,0,er.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):On?_e.texSubImage2D(3553,rn,0,0,er.width,er.height,Sn,Bn,er.data):_e.texImage2D(3553,rn,ir,er.width,er.height,0,Sn,Bn,er.data)}else if(jt.isDataArrayTexture)On?(wn&&_e.texStorage3D(35866,Xt,ir,Vn.width,Vn.height,Vn.depth),_e.texSubImage3D(35866,0,0,0,0,Vn.width,Vn.height,Vn.depth,Sn,Bn,Vn.data)):_e.texImage3D(35866,0,ir,Vn.width,Vn.height,Vn.depth,0,Sn,Bn,Vn.data);else if(jt.isData3DTexture)On?(wn&&_e.texStorage3D(32879,Xt,ir,Vn.width,Vn.height,Vn.depth),_e.texSubImage3D(32879,0,0,0,0,Vn.width,Vn.height,Vn.depth,Sn,Bn,Vn.data)):_e.texImage3D(32879,0,ir,Vn.width,Vn.height,Vn.depth,0,Sn,Bn,Vn.data);else if(jt.isFramebufferTexture){if(wn)if(On)_e.texStorage2D(3553,Xt,ir,Vn.width,Vn.height);else{let rn=Vn.width,Tn=Vn.height;for(let Nn=0;Nn<Xt;Nn++)_e.texImage2D(3553,Nn,ir,rn,Tn,0,Sn,Bn,null),rn>>=1,Tn>>=1}}else if(En.length>0&&ur){On&&wn&&_e.texStorage2D(3553,Xt,ir,En[0].width,En[0].height);for(let rn=0,Tn=En.length;rn<Tn;rn++)er=En[rn],On?_e.texSubImage2D(3553,rn,0,0,Sn,Bn,er):_e.texImage2D(3553,rn,ir,Sn,Bn,er);jt.generateMipmaps=!1}else On?(wn&&_e.texStorage2D(3553,Xt,ir,Vn.width,Vn.height),_e.texSubImage2D(3553,0,0,0,Sn,Bn,Vn)):_e.texImage2D(3553,0,ir,Sn,Bn,Vn);Ct(jt,ur)&&Pt(cn),or.__version=Un.version,jt.onUpdate&&jt.onUpdate(jt)}nn.__version=jt.version}function Lt(nn,jt,Mn){if(jt.image.length!==6)return;const cn=Ht(nn,jt),_n=jt.source;_e.bindTexture(34067,nn.__webglTexture,33984+Mn);const Un=tt.get(_n);if(_n.version!==Un.__version||cn===!0){_e.activeTexture(33984+Mn),et.pixelStorei(37440,jt.flipY),et.pixelStorei(37441,jt.premultiplyAlpha),et.pixelStorei(3317,jt.unpackAlignment),et.pixelStorei(37443,0);const or=jt.isCompressedTexture||jt.image[0].isCompressedTexture,Kn=jt.image[0]&&jt.image[0].isDataTexture,Vn=[];for(let rn=0;rn<6;rn++)!or&&!Kn?Vn[rn]=yt(jt.image[rn],!1,!0,at):Vn[rn]=Kn?jt.image[rn].image:jt.image[rn],Vn[rn]=Xn(jt,Vn[rn]);const ur=Vn[0],Sn=xt(ur)||st,Bn=rt.convert(jt.format,jt.encoding),ir=rt.convert(jt.type),er=bt(jt.internalFormat,Bn,ir,jt.encoding),En=st&&jt.isVideoTexture!==!0,On=Un.__version===void 0||cn===!0;let wn=Mt(jt,ur,Sn);Bt(34067,jt,Sn);let Xt;if(or){En&&On&&_e.texStorage2D(34067,wn,er,ur.width,ur.height);for(let rn=0;rn<6;rn++){Xt=Vn[rn].mipmaps;for(let Tn=0;Tn<Xt.length;Tn++){const Nn=Xt[Tn];jt.format!==RGBAFormat?Bn!==null?En?_e.compressedTexSubImage2D(34069+rn,Tn,0,0,Nn.width,Nn.height,Bn,Nn.data):_e.compressedTexImage2D(34069+rn,Tn,er,Nn.width,Nn.height,0,Nn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):En?_e.texSubImage2D(34069+rn,Tn,0,0,Nn.width,Nn.height,Bn,ir,Nn.data):_e.texImage2D(34069+rn,Tn,er,Nn.width,Nn.height,0,Bn,ir,Nn.data)}}}else{Xt=jt.mipmaps,En&&On&&(Xt.length>0&&wn++,_e.texStorage2D(34067,wn,er,Vn[0].width,Vn[0].height));for(let rn=0;rn<6;rn++)if(Kn){En?_e.texSubImage2D(34069+rn,0,0,0,Vn[rn].width,Vn[rn].height,Bn,ir,Vn[rn].data):_e.texImage2D(34069+rn,0,er,Vn[rn].width,Vn[rn].height,0,Bn,ir,Vn[rn].data);for(let Tn=0;Tn<Xt.length;Tn++){const Yn=Xt[Tn].image[rn].image;En?_e.texSubImage2D(34069+rn,Tn+1,0,0,Yn.width,Yn.height,Bn,ir,Yn.data):_e.texImage2D(34069+rn,Tn+1,er,Yn.width,Yn.height,0,Bn,ir,Yn.data)}}else{En?_e.texSubImage2D(34069+rn,0,0,0,Bn,ir,Vn[rn]):_e.texImage2D(34069+rn,0,er,Bn,ir,Vn[rn]);for(let Tn=0;Tn<Xt.length;Tn++){const Nn=Xt[Tn];En?_e.texSubImage2D(34069+rn,Tn+1,0,0,Bn,ir,Nn.image[rn]):_e.texImage2D(34069+rn,Tn+1,er,Bn,ir,Nn.image[rn])}}}Ct(jt,Sn)&&Pt(34067),Un.__version=_n.version,jt.onUpdate&&jt.onUpdate(jt)}nn.__version=jt.version}function Ot(nn,jt,Mn,cn,_n){const Un=rt.convert(Mn.format,Mn.encoding),or=rt.convert(Mn.type),Kn=bt(Mn.internalFormat,Un,or,Mn.encoding);tt.get(jt).__hasExternalTextures||(_n===32879||_n===35866?_e.texImage3D(_n,0,Kn,jt.width,jt.height,jt.depth,0,Un,or,null):_e.texImage2D(_n,0,Kn,jt.width,jt.height,0,Un,or,null)),_e.bindFramebuffer(36160,nn),fn(jt)?ct.framebufferTexture2DMultisampleEXT(36160,cn,_n,tt.get(Mn).__webglTexture,0,un(jt)):(_n===3553||_n>=34069&&_n<=34074)&&et.framebufferTexture2D(36160,cn,_n,tt.get(Mn).__webglTexture,0),_e.bindFramebuffer(36160,null)}function $t(nn,jt,Mn){if(et.bindRenderbuffer(36161,nn),jt.depthBuffer&&!jt.stencilBuffer){let cn=33189;if(Mn||fn(jt)){const _n=jt.depthTexture;_n&&_n.isDepthTexture&&(_n.type===FloatType?cn=36012:_n.type===UnsignedIntType&&(cn=33190));const Un=un(jt);fn(jt)?ct.renderbufferStorageMultisampleEXT(36161,Un,cn,jt.width,jt.height):et.renderbufferStorageMultisample(36161,Un,cn,jt.width,jt.height)}else et.renderbufferStorage(36161,cn,jt.width,jt.height);et.framebufferRenderbuffer(36160,36096,36161,nn)}else if(jt.depthBuffer&&jt.stencilBuffer){const cn=un(jt);Mn&&fn(jt)===!1?et.renderbufferStorageMultisample(36161,cn,35056,jt.width,jt.height):fn(jt)?ct.renderbufferStorageMultisampleEXT(36161,cn,35056,jt.width,jt.height):et.renderbufferStorage(36161,34041,jt.width,jt.height),et.framebufferRenderbuffer(36160,33306,36161,nn)}else{const cn=jt.isWebGLMultipleRenderTargets===!0?jt.texture:[jt.texture];for(let _n=0;_n<cn.length;_n++){const Un=cn[_n],or=rt.convert(Un.format,Un.encoding),Kn=rt.convert(Un.type),Vn=bt(Un.internalFormat,or,Kn,Un.encoding),ur=un(jt);Mn&&fn(jt)===!1?et.renderbufferStorageMultisample(36161,ur,Vn,jt.width,jt.height):fn(jt)?ct.renderbufferStorageMultisampleEXT(36161,ur,Vn,jt.width,jt.height):et.renderbufferStorage(36161,Vn,jt.width,jt.height)}}et.bindRenderbuffer(36161,null)}function Vt(nn,jt){if(jt&&jt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(_e.bindFramebuffer(36160,nn),!(jt.depthTexture&&jt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!tt.get(jt.depthTexture).__webglTexture||jt.depthTexture.image.width!==jt.width||jt.depthTexture.image.height!==jt.height)&&(jt.depthTexture.image.width=jt.width,jt.depthTexture.image.height=jt.height,jt.depthTexture.needsUpdate=!0),Jt(jt.depthTexture,0);const cn=tt.get(jt.depthTexture).__webglTexture,_n=un(jt);if(jt.depthTexture.format===DepthFormat)fn(jt)?ct.framebufferTexture2DMultisampleEXT(36160,36096,3553,cn,0,_n):et.framebufferTexture2D(36160,36096,3553,cn,0);else if(jt.depthTexture.format===DepthStencilFormat)fn(jt)?ct.framebufferTexture2DMultisampleEXT(36160,33306,3553,cn,0,_n):et.framebufferTexture2D(36160,33306,3553,cn,0);else throw new Error("Unknown depthTexture format")}function Zt(nn){const jt=tt.get(nn),Mn=nn.isWebGLCubeRenderTarget===!0;if(nn.depthTexture&&!jt.__autoAllocateDepthBuffer){if(Mn)throw new Error("target.depthTexture not supported in Cube render targets");Vt(jt.__webglFramebuffer,nn)}else if(Mn){jt.__webglDepthbuffer=[];for(let cn=0;cn<6;cn++)_e.bindFramebuffer(36160,jt.__webglFramebuffer[cn]),jt.__webglDepthbuffer[cn]=et.createRenderbuffer(),$t(jt.__webglDepthbuffer[cn],nn,!1)}else _e.bindFramebuffer(36160,jt.__webglFramebuffer),jt.__webglDepthbuffer=et.createRenderbuffer(),$t(jt.__webglDepthbuffer,nn,!1);_e.bindFramebuffer(36160,null)}function sn(nn,jt,Mn){const cn=tt.get(nn);jt!==void 0&&Ot(cn.__webglFramebuffer,nn,nn.texture,36064,3553),Mn!==void 0&&Zt(nn)}function hn(nn){const jt=nn.texture,Mn=tt.get(nn),cn=tt.get(jt);nn.addEventListener("dispose",Gt),nn.isWebGLMultipleRenderTargets!==!0&&(cn.__webglTexture===void 0&&(cn.__webglTexture=et.createTexture()),cn.__version=jt.version,it.memory.textures++);const _n=nn.isWebGLCubeRenderTarget===!0,Un=nn.isWebGLMultipleRenderTargets===!0,or=xt(nn)||st;if(_n){Mn.__webglFramebuffer=[];for(let Kn=0;Kn<6;Kn++)Mn.__webglFramebuffer[Kn]=et.createFramebuffer()}else{if(Mn.__webglFramebuffer=et.createFramebuffer(),Un)if(nt.drawBuffers){const Kn=nn.texture;for(let Vn=0,ur=Kn.length;Vn<ur;Vn++){const Sn=tt.get(Kn[Vn]);Sn.__webglTexture===void 0&&(Sn.__webglTexture=et.createTexture(),it.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(st&&nn.samples>0&&fn(nn)===!1){const Kn=Un?jt:[jt];Mn.__webglMultisampledFramebuffer=et.createFramebuffer(),Mn.__webglColorRenderbuffer=[],_e.bindFramebuffer(36160,Mn.__webglMultisampledFramebuffer);for(let Vn=0;Vn<Kn.length;Vn++){const ur=Kn[Vn];Mn.__webglColorRenderbuffer[Vn]=et.createRenderbuffer(),et.bindRenderbuffer(36161,Mn.__webglColorRenderbuffer[Vn]);const Sn=rt.convert(ur.format,ur.encoding),Bn=rt.convert(ur.type),ir=bt(ur.internalFormat,Sn,Bn,ur.encoding,nn.isXRRenderTarget===!0),er=un(nn);et.renderbufferStorageMultisample(36161,er,ir,nn.width,nn.height),et.framebufferRenderbuffer(36160,36064+Vn,36161,Mn.__webglColorRenderbuffer[Vn])}et.bindRenderbuffer(36161,null),nn.depthBuffer&&(Mn.__webglDepthRenderbuffer=et.createRenderbuffer(),$t(Mn.__webglDepthRenderbuffer,nn,!0)),_e.bindFramebuffer(36160,null)}}if(_n){_e.bindTexture(34067,cn.__webglTexture),Bt(34067,jt,or);for(let Kn=0;Kn<6;Kn++)Ot(Mn.__webglFramebuffer[Kn],nn,jt,36064,34069+Kn);Ct(jt,or)&&Pt(34067),_e.unbindTexture()}else if(Un){const Kn=nn.texture;for(let Vn=0,ur=Kn.length;Vn<ur;Vn++){const Sn=Kn[Vn],Bn=tt.get(Sn);_e.bindTexture(3553,Bn.__webglTexture),Bt(3553,Sn,or),Ot(Mn.__webglFramebuffer,nn,Sn,36064+Vn,3553),Ct(Sn,or)&&Pt(3553)}_e.unbindTexture()}else{let Kn=3553;(nn.isWebGL3DRenderTarget||nn.isWebGLArrayRenderTarget)&&(st?Kn=nn.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),_e.bindTexture(Kn,cn.__webglTexture),Bt(Kn,jt,or),Ot(Mn.__webglFramebuffer,nn,jt,36064,Kn),Ct(jt,or)&&Pt(Kn),_e.unbindTexture()}nn.depthBuffer&&Zt(nn)}function ln(nn){const jt=xt(nn)||st,Mn=nn.isWebGLMultipleRenderTargets===!0?nn.texture:[nn.texture];for(let cn=0,_n=Mn.length;cn<_n;cn++){const Un=Mn[cn];if(Ct(Un,jt)){const or=nn.isWebGLCubeRenderTarget?34067:3553,Kn=tt.get(Un).__webglTexture;_e.bindTexture(or,Kn),Pt(or),_e.unbindTexture()}}}function xn(nn){if(st&&nn.samples>0&&fn(nn)===!1){const jt=nn.isWebGLMultipleRenderTargets?nn.texture:[nn.texture],Mn=nn.width,cn=nn.height;let _n=16384;const Un=[],or=nn.stencilBuffer?33306:36096,Kn=tt.get(nn),Vn=nn.isWebGLMultipleRenderTargets===!0;if(Vn)for(let ur=0;ur<jt.length;ur++)_e.bindFramebuffer(36160,Kn.__webglMultisampledFramebuffer),et.framebufferRenderbuffer(36160,36064+ur,36161,null),_e.bindFramebuffer(36160,Kn.__webglFramebuffer),et.framebufferTexture2D(36009,36064+ur,3553,null,0);_e.bindFramebuffer(36008,Kn.__webglMultisampledFramebuffer),_e.bindFramebuffer(36009,Kn.__webglFramebuffer);for(let ur=0;ur<jt.length;ur++){Un.push(36064+ur),nn.depthBuffer&&Un.push(or);const Sn=Kn.__ignoreDepthValues!==void 0?Kn.__ignoreDepthValues:!1;if(Sn===!1&&(nn.depthBuffer&&(_n|=256),nn.stencilBuffer&&(_n|=1024)),Vn&&et.framebufferRenderbuffer(36008,36064,36161,Kn.__webglColorRenderbuffer[ur]),Sn===!0&&(et.invalidateFramebuffer(36008,[or]),et.invalidateFramebuffer(36009,[or])),Vn){const Bn=tt.get(jt[ur]).__webglTexture;et.framebufferTexture2D(36009,36064,3553,Bn,0)}et.blitFramebuffer(0,0,Mn,cn,0,0,Mn,cn,_n,9728),pt&&et.invalidateFramebuffer(36008,Un)}if(_e.bindFramebuffer(36008,null),_e.bindFramebuffer(36009,null),Vn)for(let ur=0;ur<jt.length;ur++){_e.bindFramebuffer(36160,Kn.__webglMultisampledFramebuffer),et.framebufferRenderbuffer(36160,36064+ur,36161,Kn.__webglColorRenderbuffer[ur]);const Sn=tt.get(jt[ur]).__webglTexture;_e.bindFramebuffer(36160,Kn.__webglFramebuffer),et.framebufferTexture2D(36009,36064+ur,3553,Sn,0)}_e.bindFramebuffer(36009,Kn.__webglMultisampledFramebuffer)}}function un(nn){return Math.min(dt,nn.samples)}function fn(nn){const jt=tt.get(nn);return st&&nn.samples>0&&$.has("WEBGL_multisampled_render_to_texture")===!0&&jt.__useRenderToTexture!==!1}function Gn(nn){const jt=it.render.frame;mt.get(nn)!==jt&&(mt.set(nn,jt),nn.update())}function Xn(nn,jt){const Mn=nn.encoding,cn=nn.format,_n=nn.type;return nn.isCompressedTexture===!0||nn.isVideoTexture===!0||nn.format===_SRGBAFormat||Mn!==LinearEncoding&&(Mn===sRGBEncoding?st===!1?$.has("EXT_sRGB")===!0&&cn===RGBAFormat?(nn.format=_SRGBAFormat,nn.minFilter=LinearFilter,nn.generateMipmaps=!1):jt=ImageUtils.sRGBToLinear(jt):(cn!==RGBAFormat||_n!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Mn)),jt}this.allocateTextureUnit=Dt,this.resetTextureUnits=Qt,this.setTexture2D=Jt,this.setTexture2DArray=on,this.setTexture3D=tn,this.setTextureCube=yn,this.rebindTextures=sn,this.setupRenderTarget=hn,this.updateRenderTargetMipmap=ln,this.updateMultisampleRenderTarget=xn,this.setupDepthRenderbuffer=Zt,this.setupFrameBufferTexture=Ot,this.useMultisampledRTT=fn}function WebGLUtils(et,$,_e){const tt=_e.isWebGL2;function nt(rt,it=null){let st;if(rt===UnsignedByteType)return 5121;if(rt===UnsignedShort4444Type)return 32819;if(rt===UnsignedShort5551Type)return 32820;if(rt===ByteType)return 5120;if(rt===ShortType)return 5122;if(rt===UnsignedShortType)return 5123;if(rt===IntType)return 5124;if(rt===UnsignedIntType)return 5125;if(rt===FloatType)return 5126;if(rt===HalfFloatType)return tt?5131:(st=$.get("OES_texture_half_float"),st!==null?st.HALF_FLOAT_OES:null);if(rt===AlphaFormat)return 6406;if(rt===RGBAFormat)return 6408;if(rt===LuminanceFormat)return 6409;if(rt===LuminanceAlphaFormat)return 6410;if(rt===DepthFormat)return 6402;if(rt===DepthStencilFormat)return 34041;if(rt===_SRGBAFormat)return st=$.get("EXT_sRGB"),st!==null?st.SRGB_ALPHA_EXT:null;if(rt===RedFormat)return 6403;if(rt===RedIntegerFormat)return 36244;if(rt===RGFormat)return 33319;if(rt===RGIntegerFormat)return 33320;if(rt===RGBAIntegerFormat)return 36249;if(rt===RGB_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT3_Format||rt===RGBA_S3TC_DXT5_Format)if(it===sRGBEncoding)if(st=$.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=$.get("WEBGL_compressed_texture_s3tc"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(rt===RGB_PVRTC_4BPPV1_Format||rt===RGB_PVRTC_2BPPV1_Format||rt===RGBA_PVRTC_4BPPV1_Format||rt===RGBA_PVRTC_2BPPV1_Format)if(st=$.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(rt===RGB_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(rt===RGB_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(rt===RGBA_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(rt===RGBA_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(rt===RGB_ETC1_Format)return st=$.get("WEBGL_compressed_texture_etc1"),st!==null?st.COMPRESSED_RGB_ETC1_WEBGL:null;if(rt===RGB_ETC2_Format||rt===RGBA_ETC2_EAC_Format)if(st=$.get("WEBGL_compressed_texture_etc"),st!==null){if(rt===RGB_ETC2_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(rt===RGBA_ETC2_EAC_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(rt===RGBA_ASTC_4x4_Format||rt===RGBA_ASTC_5x4_Format||rt===RGBA_ASTC_5x5_Format||rt===RGBA_ASTC_6x5_Format||rt===RGBA_ASTC_6x6_Format||rt===RGBA_ASTC_8x5_Format||rt===RGBA_ASTC_8x6_Format||rt===RGBA_ASTC_8x8_Format||rt===RGBA_ASTC_10x5_Format||rt===RGBA_ASTC_10x6_Format||rt===RGBA_ASTC_10x8_Format||rt===RGBA_ASTC_10x10_Format||rt===RGBA_ASTC_12x10_Format||rt===RGBA_ASTC_12x12_Format)if(st=$.get("WEBGL_compressed_texture_astc"),st!==null){if(rt===RGBA_ASTC_4x4_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(rt===RGBA_ASTC_5x4_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(rt===RGBA_ASTC_5x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(rt===RGBA_ASTC_6x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(rt===RGBA_ASTC_6x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(rt===RGBA_ASTC_8x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(rt===RGBA_ASTC_8x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(rt===RGBA_ASTC_8x8_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(rt===RGBA_ASTC_10x5_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(rt===RGBA_ASTC_10x6_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(rt===RGBA_ASTC_10x8_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(rt===RGBA_ASTC_10x10_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(rt===RGBA_ASTC_12x10_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(rt===RGBA_ASTC_12x12_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(rt===RGBA_BPTC_Format)if(st=$.get("EXT_texture_compression_bptc"),st!==null){if(rt===RGBA_BPTC_Format)return it===sRGBEncoding?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(rt===RED_RGTC1_Format||rt===SIGNED_RED_RGTC1_Format||rt===RED_GREEN_RGTC2_Format||rt===SIGNED_RED_GREEN_RGTC2_Format)if(st=$.get("EXT_texture_compression_rgtc"),st!==null){if(rt===RGBA_BPTC_Format)return st.COMPRESSED_RED_RGTC1_EXT;if(rt===SIGNED_RED_RGTC1_Format)return st.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(rt===RED_GREEN_RGTC2_Format)return st.COMPRESSED_RED_GREEN_RGTC2_EXT;if(rt===SIGNED_RED_GREEN_RGTC2_Format)return st.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return rt===UnsignedInt248Type?tt?34042:(st=$.get("WEBGL_depth_texture"),st!==null?st.UNSIGNED_INT_24_8_WEBGL:null):et[rt]!==void 0?et[rt]:null}return{convert:nt}}class ArrayCamera extends PerspectiveCamera{constructor($=[]){super(),this.isArrayCamera=!0,this.cameras=$}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent($){return this._targetRay!==null&&this._targetRay.dispatchEvent($),this._grip!==null&&this._grip.dispatchEvent($),this._hand!==null&&this._hand.dispatchEvent($),this}connect($){if($&&$.hand){const _e=this._hand;if(_e)for(const tt of $.hand.values())this._getHandJoint(_e,tt)}return this.dispatchEvent({type:"connected",data:$}),this}disconnect($){return this.dispatchEvent({type:"disconnected",data:$}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update($,_e,tt){let nt=null,rt=null,it=null;const st=this._targetRay,ot=this._grip,at=this._hand;if($&&_e.session.visibilityState!=="visible-blurred"){if(at&&$.hand){it=!0;for(const ht of $.hand.values()){const gt=_e.getJointPose(ht,tt),vt=this._getHandJoint(at,ht);gt!==null&&(vt.matrix.fromArray(gt.transform.matrix),vt.matrix.decompose(vt.position,vt.rotation,vt.scale),vt.jointRadius=gt.radius),vt.visible=gt!==null}const lt=at.joints["index-finger-tip"],dt=at.joints["thumb-tip"],ct=lt.position.distanceTo(dt.position),pt=.02,mt=.005;at.inputState.pinching&&ct>pt+mt?(at.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:$.handedness,target:this})):!at.inputState.pinching&&ct<=pt-mt&&(at.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:$.handedness,target:this}))}else ot!==null&&$.gripSpace&&(rt=_e.getPose($.gripSpace,tt),rt!==null&&(ot.matrix.fromArray(rt.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),rt.linearVelocity?(ot.hasLinearVelocity=!0,ot.linearVelocity.copy(rt.linearVelocity)):ot.hasLinearVelocity=!1,rt.angularVelocity?(ot.hasAngularVelocity=!0,ot.angularVelocity.copy(rt.angularVelocity)):ot.hasAngularVelocity=!1));st!==null&&(nt=_e.getPose($.targetRaySpace,tt),nt===null&&rt!==null&&(nt=rt),nt!==null&&(st.matrix.fromArray(nt.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),nt.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(nt.linearVelocity)):st.hasLinearVelocity=!1,nt.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(nt.angularVelocity)):st.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return st!==null&&(st.visible=nt!==null),ot!==null&&(ot.visible=rt!==null),at!==null&&(at.visible=it!==null),this}_getHandJoint($,_e){if($.joints[_e.jointName]===void 0){const tt=new Group;tt.matrixAutoUpdate=!1,tt.visible=!1,$.joints[_e.jointName]=tt,$.add(tt)}return $.joints[_e.jointName]}}class DepthTexture extends Texture{constructor($,_e,tt,nt,rt,it,st,ot,at,lt){if(lt=lt!==void 0?lt:DepthFormat,lt!==DepthFormat&&lt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");tt===void 0&&lt===DepthFormat&&(tt=UnsignedIntType),tt===void 0&&lt===DepthStencilFormat&&(tt=UnsignedInt248Type),super(null,nt,rt,it,st,ot,lt,tt,at),this.isDepthTexture=!0,this.image={width:$,height:_e},this.magFilter=st!==void 0?st:NearestFilter,this.minFilter=ot!==void 0?ot:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor($,_e){super();const tt=this;let nt=null,rt=1,it=null,st="local-floor",ot=1,at=null,lt=null,dt=null,ct=null,pt=null,mt=null;const ht=_e.getContextAttributes();let gt=null,vt=null;const _t=[],yt=[],xt=new Set,At=new Map,Ct=new PerspectiveCamera;Ct.layers.enable(1),Ct.viewport=new Vector4;const Pt=new PerspectiveCamera;Pt.layers.enable(2),Pt.viewport=new Vector4;const bt=[Ct,Pt],Mt=new ArrayCamera;Mt.layers.enable(1),Mt.layers.enable(2);let Tt=null,Ft=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(tn){let yn=_t[tn];return yn===void 0&&(yn=new WebXRController,_t[tn]=yn),yn.getTargetRaySpace()},this.getControllerGrip=function(tn){let yn=_t[tn];return yn===void 0&&(yn=new WebXRController,_t[tn]=yn),yn.getGripSpace()},this.getHand=function(tn){let yn=_t[tn];return yn===void 0&&(yn=new WebXRController,_t[tn]=yn),yn.getHandSpace()};function Gt(tn){const yn=yt.indexOf(tn.inputSource);if(yn===-1)return;const Yt=_t[yn];Yt!==void 0&&Yt.dispatchEvent({type:tn.type,data:tn.inputSource})}function Wt(){nt.removeEventListener("select",Gt),nt.removeEventListener("selectstart",Gt),nt.removeEventListener("selectend",Gt),nt.removeEventListener("squeeze",Gt),nt.removeEventListener("squeezestart",Gt),nt.removeEventListener("squeezeend",Gt),nt.removeEventListener("end",Wt),nt.removeEventListener("inputsourceschange",It);for(let tn=0;tn<_t.length;tn++){const yn=yt[tn];yn!==null&&(yt[tn]=null,_t[tn].disconnect(yn))}Tt=null,Ft=null,$.setRenderTarget(gt),pt=null,ct=null,dt=null,nt=null,vt=null,on.stop(),tt.isPresenting=!1,tt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(tn){rt=tn,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(tn){st=tn,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return at||it},this.setReferenceSpace=function(tn){at=tn},this.getBaseLayer=function(){return ct!==null?ct:pt},this.getBinding=function(){return dt},this.getFrame=function(){return mt},this.getSession=function(){return nt},this.setSession=async function(tn){if(nt=tn,nt!==null){if(gt=$.getRenderTarget(),nt.addEventListener("select",Gt),nt.addEventListener("selectstart",Gt),nt.addEventListener("selectend",Gt),nt.addEventListener("squeeze",Gt),nt.addEventListener("squeezestart",Gt),nt.addEventListener("squeezeend",Gt),nt.addEventListener("end",Wt),nt.addEventListener("inputsourceschange",It),ht.xrCompatible!==!0&&await _e.makeXRCompatible(),nt.renderState.layers===void 0||$.capabilities.isWebGL2===!1){const yn={antialias:nt.renderState.layers===void 0?ht.antialias:!0,alpha:ht.alpha,depth:ht.depth,stencil:ht.stencil,framebufferScaleFactor:rt};pt=new XRWebGLLayer(nt,_e,yn),nt.updateRenderState({baseLayer:pt}),vt=new WebGLRenderTarget(pt.framebufferWidth,pt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:$.outputEncoding,stencilBuffer:ht.stencil})}else{let yn=null,Yt=null,kt=null;ht.depth&&(kt=ht.stencil?35056:33190,yn=ht.stencil?DepthStencilFormat:DepthFormat,Yt=ht.stencil?UnsignedInt248Type:UnsignedIntType);const Bt={colorFormat:32856,depthFormat:kt,scaleFactor:rt};dt=new XRWebGLBinding(nt,_e),ct=dt.createProjectionLayer(Bt),nt.updateRenderState({layers:[ct]}),vt=new WebGLRenderTarget(ct.textureWidth,ct.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ct.textureWidth,ct.textureHeight,Yt,void 0,void 0,void 0,void 0,void 0,void 0,yn),stencilBuffer:ht.stencil,encoding:$.outputEncoding,samples:ht.antialias?4:0});const Ht=$.properties.get(vt);Ht.__ignoreDepthValues=ct.ignoreDepthValues}vt.isXRRenderTarget=!0,this.setFoveation(ot),at=null,it=await nt.requestReferenceSpace(st),on.setContext(nt),on.start(),tt.isPresenting=!0,tt.dispatchEvent({type:"sessionstart"})}};function It(tn){for(let yn=0;yn<tn.removed.length;yn++){const Yt=tn.removed[yn],kt=yt.indexOf(Yt);kt>=0&&(yt[kt]=null,_t[kt].disconnect(Yt))}for(let yn=0;yn<tn.added.length;yn++){const Yt=tn.added[yn];let kt=yt.indexOf(Yt);if(kt===-1){for(let Ht=0;Ht<_t.length;Ht++)if(Ht>=yt.length){yt.push(Yt),kt=Ht;break}else if(yt[Ht]===null){yt[Ht]=Yt,kt=Ht;break}if(kt===-1)break}const Bt=_t[kt];Bt&&Bt.connect(Yt)}}const Kt=new Vector3,Ut=new Vector3;function Qt(tn,yn,Yt){Kt.setFromMatrixPosition(yn.matrixWorld),Ut.setFromMatrixPosition(Yt.matrixWorld);const kt=Kt.distanceTo(Ut),Bt=yn.projectionMatrix.elements,Ht=Yt.projectionMatrix.elements,wt=Bt[14]/(Bt[10]-1),Lt=Bt[14]/(Bt[10]+1),Ot=(Bt[9]+1)/Bt[5],$t=(Bt[9]-1)/Bt[5],Vt=(Bt[8]-1)/Bt[0],Zt=(Ht[8]+1)/Ht[0],sn=wt*Vt,hn=wt*Zt,ln=kt/(-Vt+Zt),xn=ln*-Vt;yn.matrixWorld.decompose(tn.position,tn.quaternion,tn.scale),tn.translateX(xn),tn.translateZ(ln),tn.matrixWorld.compose(tn.position,tn.quaternion,tn.scale),tn.matrixWorldInverse.copy(tn.matrixWorld).invert();const un=wt+ln,fn=Lt+ln,Gn=sn-xn,Xn=hn+(kt-xn),nn=Ot*Lt/fn*un,jt=$t*Lt/fn*un;tn.projectionMatrix.makePerspective(Gn,Xn,nn,jt,un,fn)}function Dt(tn,yn){yn===null?tn.matrixWorld.copy(tn.matrix):tn.matrixWorld.multiplyMatrices(yn.matrixWorld,tn.matrix),tn.matrixWorldInverse.copy(tn.matrixWorld).invert()}this.updateCamera=function(tn){if(nt===null)return;Mt.near=Pt.near=Ct.near=tn.near,Mt.far=Pt.far=Ct.far=tn.far,(Tt!==Mt.near||Ft!==Mt.far)&&(nt.updateRenderState({depthNear:Mt.near,depthFar:Mt.far}),Tt=Mt.near,Ft=Mt.far);const yn=tn.parent,Yt=Mt.cameras;Dt(Mt,yn);for(let Bt=0;Bt<Yt.length;Bt++)Dt(Yt[Bt],yn);Mt.matrixWorld.decompose(Mt.position,Mt.quaternion,Mt.scale),tn.matrix.copy(Mt.matrix),tn.matrix.decompose(tn.position,tn.quaternion,tn.scale);const kt=tn.children;for(let Bt=0,Ht=kt.length;Bt<Ht;Bt++)kt[Bt].updateMatrixWorld(!0);Yt.length===2?Qt(Mt,Ct,Pt):Mt.projectionMatrix.copy(Ct.projectionMatrix)},this.getCamera=function(){return Mt},this.getFoveation=function(){if(!(ct===null&&pt===null))return ot},this.setFoveation=function(tn){ot=tn,ct!==null&&(ct.fixedFoveation=tn),pt!==null&&pt.fixedFoveation!==void 0&&(pt.fixedFoveation=tn)},this.getPlanes=function(){return xt};let qt=null;function Jt(tn,yn){if(lt=yn.getViewerPose(at||it),mt=yn,lt!==null){const Yt=lt.views;pt!==null&&($.setRenderTargetFramebuffer(vt,pt.framebuffer),$.setRenderTarget(vt));let kt=!1;Yt.length!==Mt.cameras.length&&(Mt.cameras.length=0,kt=!0);for(let Bt=0;Bt<Yt.length;Bt++){const Ht=Yt[Bt];let wt=null;if(pt!==null)wt=pt.getViewport(Ht);else{const Ot=dt.getViewSubImage(ct,Ht);wt=Ot.viewport,Bt===0&&($.setRenderTargetTextures(vt,Ot.colorTexture,ct.ignoreDepthValues?void 0:Ot.depthStencilTexture),$.setRenderTarget(vt))}let Lt=bt[Bt];Lt===void 0&&(Lt=new PerspectiveCamera,Lt.layers.enable(Bt),Lt.viewport=new Vector4,bt[Bt]=Lt),Lt.matrix.fromArray(Ht.transform.matrix),Lt.projectionMatrix.fromArray(Ht.projectionMatrix),Lt.viewport.set(wt.x,wt.y,wt.width,wt.height),Bt===0&&Mt.matrix.copy(Lt.matrix),kt===!0&&Mt.cameras.push(Lt)}}for(let Yt=0;Yt<_t.length;Yt++){const kt=yt[Yt],Bt=_t[Yt];kt!==null&&Bt!==void 0&&Bt.update(kt,yn,at||it)}if(qt&&qt(tn,yn),yn.detectedPlanes){tt.dispatchEvent({type:"planesdetected",data:yn.detectedPlanes});let Yt=null;for(const kt of xt)yn.detectedPlanes.has(kt)||(Yt===null&&(Yt=[]),Yt.push(kt));if(Yt!==null)for(const kt of Yt)xt.delete(kt),At.delete(kt),tt.dispatchEvent({type:"planeremoved",data:kt});for(const kt of yn.detectedPlanes)if(!xt.has(kt))xt.add(kt),At.set(kt,yn.lastChangedTime),tt.dispatchEvent({type:"planeadded",data:kt});else{const Bt=At.get(kt);kt.lastChangedTime>Bt&&(At.set(kt,kt.lastChangedTime),tt.dispatchEvent({type:"planechanged",data:kt}))}}mt=null}const on=new WebGLAnimation;on.setAnimationLoop(Jt),this.setAnimationLoop=function(tn){qt=tn},this.dispose=function(){}}}function WebGLMaterials(et,$){function _e(ht,gt){gt.color.getRGB(ht.fogColor.value,getUnlitUniformColorSpace(et)),gt.isFog?(ht.fogNear.value=gt.near,ht.fogFar.value=gt.far):gt.isFogExp2&&(ht.fogDensity.value=gt.density)}function tt(ht,gt,vt,_t,yt){gt.isMeshBasicMaterial||gt.isMeshLambertMaterial?nt(ht,gt):gt.isMeshToonMaterial?(nt(ht,gt),lt(ht,gt)):gt.isMeshPhongMaterial?(nt(ht,gt),at(ht,gt)):gt.isMeshStandardMaterial?(nt(ht,gt),dt(ht,gt),gt.isMeshPhysicalMaterial&&ct(ht,gt,yt)):gt.isMeshMatcapMaterial?(nt(ht,gt),pt(ht,gt)):gt.isMeshDepthMaterial?nt(ht,gt):gt.isMeshDistanceMaterial?(nt(ht,gt),mt(ht,gt)):gt.isMeshNormalMaterial?nt(ht,gt):gt.isLineBasicMaterial?(rt(ht,gt),gt.isLineDashedMaterial&&it(ht,gt)):gt.isPointsMaterial?st(ht,gt,vt,_t):gt.isSpriteMaterial?ot(ht,gt):gt.isShadowMaterial?(ht.color.value.copy(gt.color),ht.opacity.value=gt.opacity):gt.isShaderMaterial&&(gt.uniformsNeedUpdate=!1)}function nt(ht,gt){ht.opacity.value=gt.opacity,gt.color&&ht.diffuse.value.copy(gt.color),gt.emissive&&ht.emissive.value.copy(gt.emissive).multiplyScalar(gt.emissiveIntensity),gt.map&&(ht.map.value=gt.map),gt.alphaMap&&(ht.alphaMap.value=gt.alphaMap),gt.bumpMap&&(ht.bumpMap.value=gt.bumpMap,ht.bumpScale.value=gt.bumpScale,gt.side===BackSide&&(ht.bumpScale.value*=-1)),gt.displacementMap&&(ht.displacementMap.value=gt.displacementMap,ht.displacementScale.value=gt.displacementScale,ht.displacementBias.value=gt.displacementBias),gt.emissiveMap&&(ht.emissiveMap.value=gt.emissiveMap),gt.normalMap&&(ht.normalMap.value=gt.normalMap,ht.normalScale.value.copy(gt.normalScale),gt.side===BackSide&&ht.normalScale.value.negate()),gt.specularMap&&(ht.specularMap.value=gt.specularMap),gt.alphaTest>0&&(ht.alphaTest.value=gt.alphaTest);const vt=$.get(gt).envMap;if(vt&&(ht.envMap.value=vt,ht.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1,ht.reflectivity.value=gt.reflectivity,ht.ior.value=gt.ior,ht.refractionRatio.value=gt.refractionRatio),gt.lightMap){ht.lightMap.value=gt.lightMap;const xt=et.useLegacyLights===!0?Math.PI:1;ht.lightMapIntensity.value=gt.lightMapIntensity*xt}gt.aoMap&&(ht.aoMap.value=gt.aoMap,ht.aoMapIntensity.value=gt.aoMapIntensity);let _t;gt.map?_t=gt.map:gt.specularMap?_t=gt.specularMap:gt.displacementMap?_t=gt.displacementMap:gt.normalMap?_t=gt.normalMap:gt.bumpMap?_t=gt.bumpMap:gt.roughnessMap?_t=gt.roughnessMap:gt.metalnessMap?_t=gt.metalnessMap:gt.alphaMap?_t=gt.alphaMap:gt.emissiveMap?_t=gt.emissiveMap:gt.clearcoatMap?_t=gt.clearcoatMap:gt.clearcoatNormalMap?_t=gt.clearcoatNormalMap:gt.clearcoatRoughnessMap?_t=gt.clearcoatRoughnessMap:gt.iridescenceMap?_t=gt.iridescenceMap:gt.iridescenceThicknessMap?_t=gt.iridescenceThicknessMap:gt.specularIntensityMap?_t=gt.specularIntensityMap:gt.specularColorMap?_t=gt.specularColorMap:gt.transmissionMap?_t=gt.transmissionMap:gt.thicknessMap?_t=gt.thicknessMap:gt.sheenColorMap?_t=gt.sheenColorMap:gt.sheenRoughnessMap&&(_t=gt.sheenRoughnessMap),_t!==void 0&&(_t.isWebGLRenderTarget&&(_t=_t.texture),_t.matrixAutoUpdate===!0&&_t.updateMatrix(),ht.uvTransform.value.copy(_t.matrix));let yt;gt.aoMap?yt=gt.aoMap:gt.lightMap&&(yt=gt.lightMap),yt!==void 0&&(yt.isWebGLRenderTarget&&(yt=yt.texture),yt.matrixAutoUpdate===!0&&yt.updateMatrix(),ht.uv2Transform.value.copy(yt.matrix))}function rt(ht,gt){ht.diffuse.value.copy(gt.color),ht.opacity.value=gt.opacity}function it(ht,gt){ht.dashSize.value=gt.dashSize,ht.totalSize.value=gt.dashSize+gt.gapSize,ht.scale.value=gt.scale}function st(ht,gt,vt,_t){ht.diffuse.value.copy(gt.color),ht.opacity.value=gt.opacity,ht.size.value=gt.size*vt,ht.scale.value=_t*.5,gt.map&&(ht.map.value=gt.map),gt.alphaMap&&(ht.alphaMap.value=gt.alphaMap),gt.alphaTest>0&&(ht.alphaTest.value=gt.alphaTest);let yt;gt.map?yt=gt.map:gt.alphaMap&&(yt=gt.alphaMap),yt!==void 0&&(yt.matrixAutoUpdate===!0&&yt.updateMatrix(),ht.uvTransform.value.copy(yt.matrix))}function ot(ht,gt){ht.diffuse.value.copy(gt.color),ht.opacity.value=gt.opacity,ht.rotation.value=gt.rotation,gt.map&&(ht.map.value=gt.map),gt.alphaMap&&(ht.alphaMap.value=gt.alphaMap),gt.alphaTest>0&&(ht.alphaTest.value=gt.alphaTest);let vt;gt.map?vt=gt.map:gt.alphaMap&&(vt=gt.alphaMap),vt!==void 0&&(vt.matrixAutoUpdate===!0&&vt.updateMatrix(),ht.uvTransform.value.copy(vt.matrix))}function at(ht,gt){ht.specular.value.copy(gt.specular),ht.shininess.value=Math.max(gt.shininess,1e-4)}function lt(ht,gt){gt.gradientMap&&(ht.gradientMap.value=gt.gradientMap)}function dt(ht,gt){ht.roughness.value=gt.roughness,ht.metalness.value=gt.metalness,gt.roughnessMap&&(ht.roughnessMap.value=gt.roughnessMap),gt.metalnessMap&&(ht.metalnessMap.value=gt.metalnessMap),$.get(gt).envMap&&(ht.envMapIntensity.value=gt.envMapIntensity)}function ct(ht,gt,vt){ht.ior.value=gt.ior,gt.sheen>0&&(ht.sheenColor.value.copy(gt.sheenColor).multiplyScalar(gt.sheen),ht.sheenRoughness.value=gt.sheenRoughness,gt.sheenColorMap&&(ht.sheenColorMap.value=gt.sheenColorMap),gt.sheenRoughnessMap&&(ht.sheenRoughnessMap.value=gt.sheenRoughnessMap)),gt.clearcoat>0&&(ht.clearcoat.value=gt.clearcoat,ht.clearcoatRoughness.value=gt.clearcoatRoughness,gt.clearcoatMap&&(ht.clearcoatMap.value=gt.clearcoatMap),gt.clearcoatRoughnessMap&&(ht.clearcoatRoughnessMap.value=gt.clearcoatRoughnessMap),gt.clearcoatNormalMap&&(ht.clearcoatNormalScale.value.copy(gt.clearcoatNormalScale),ht.clearcoatNormalMap.value=gt.clearcoatNormalMap,gt.side===BackSide&&ht.clearcoatNormalScale.value.negate())),gt.iridescence>0&&(ht.iridescence.value=gt.iridescence,ht.iridescenceIOR.value=gt.iridescenceIOR,ht.iridescenceThicknessMinimum.value=gt.iridescenceThicknessRange[0],ht.iridescenceThicknessMaximum.value=gt.iridescenceThicknessRange[1],gt.iridescenceMap&&(ht.iridescenceMap.value=gt.iridescenceMap),gt.iridescenceThicknessMap&&(ht.iridescenceThicknessMap.value=gt.iridescenceThicknessMap)),gt.transmission>0&&(ht.transmission.value=gt.transmission,ht.transmissionSamplerMap.value=vt.texture,ht.transmissionSamplerSize.value.set(vt.width,vt.height),gt.transmissionMap&&(ht.transmissionMap.value=gt.transmissionMap),ht.thickness.value=gt.thickness,gt.thicknessMap&&(ht.thicknessMap.value=gt.thicknessMap),ht.attenuationDistance.value=gt.attenuationDistance,ht.attenuationColor.value.copy(gt.attenuationColor)),ht.specularIntensity.value=gt.specularIntensity,ht.specularColor.value.copy(gt.specularColor),gt.specularIntensityMap&&(ht.specularIntensityMap.value=gt.specularIntensityMap),gt.specularColorMap&&(ht.specularColorMap.value=gt.specularColorMap)}function pt(ht,gt){gt.matcap&&(ht.matcap.value=gt.matcap)}function mt(ht,gt){ht.referencePosition.value.copy(gt.referencePosition),ht.nearDistance.value=gt.nearDistance,ht.farDistance.value=gt.farDistance}return{refreshFogUniforms:_e,refreshMaterialUniforms:tt}}function WebGLUniformsGroups(et,$,_e,tt){let nt={},rt={},it=[];const st=_e.isWebGL2?et.getParameter(35375):0;function ot(_t,yt){const xt=yt.program;tt.uniformBlockBinding(_t,xt)}function at(_t,yt){let xt=nt[_t.id];xt===void 0&&(mt(_t),xt=lt(_t),nt[_t.id]=xt,_t.addEventListener("dispose",gt));const At=yt.program;tt.updateUBOMapping(_t,At);const Ct=$.render.frame;rt[_t.id]!==Ct&&(ct(_t),rt[_t.id]=Ct)}function lt(_t){const yt=dt();_t.__bindingPointIndex=yt;const xt=et.createBuffer(),At=_t.__size,Ct=_t.usage;return et.bindBuffer(35345,xt),et.bufferData(35345,At,Ct),et.bindBuffer(35345,null),et.bindBufferBase(35345,yt,xt),xt}function dt(){for(let _t=0;_t<st;_t++)if(it.indexOf(_t)===-1)return it.push(_t),_t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ct(_t){const yt=nt[_t.id],xt=_t.uniforms,At=_t.__cache;et.bindBuffer(35345,yt);for(let Ct=0,Pt=xt.length;Ct<Pt;Ct++){const bt=xt[Ct];if(pt(bt,Ct,At)===!0){const Mt=bt.__offset,Tt=Array.isArray(bt.value)?bt.value:[bt.value];let Ft=0;for(let Gt=0;Gt<Tt.length;Gt++){const Wt=Tt[Gt],It=ht(Wt);typeof Wt=="number"?(bt.__data[0]=Wt,et.bufferSubData(35345,Mt+Ft,bt.__data)):Wt.isMatrix3?(bt.__data[0]=Wt.elements[0],bt.__data[1]=Wt.elements[1],bt.__data[2]=Wt.elements[2],bt.__data[3]=Wt.elements[0],bt.__data[4]=Wt.elements[3],bt.__data[5]=Wt.elements[4],bt.__data[6]=Wt.elements[5],bt.__data[7]=Wt.elements[0],bt.__data[8]=Wt.elements[6],bt.__data[9]=Wt.elements[7],bt.__data[10]=Wt.elements[8],bt.__data[11]=Wt.elements[0]):(Wt.toArray(bt.__data,Ft),Ft+=It.storage/Float32Array.BYTES_PER_ELEMENT)}et.bufferSubData(35345,Mt,bt.__data)}}et.bindBuffer(35345,null)}function pt(_t,yt,xt){const At=_t.value;if(xt[yt]===void 0){if(typeof At=="number")xt[yt]=At;else{const Ct=Array.isArray(At)?At:[At],Pt=[];for(let bt=0;bt<Ct.length;bt++)Pt.push(Ct[bt].clone());xt[yt]=Pt}return!0}else if(typeof At=="number"){if(xt[yt]!==At)return xt[yt]=At,!0}else{const Ct=Array.isArray(xt[yt])?xt[yt]:[xt[yt]],Pt=Array.isArray(At)?At:[At];for(let bt=0;bt<Ct.length;bt++){const Mt=Ct[bt];if(Mt.equals(Pt[bt])===!1)return Mt.copy(Pt[bt]),!0}}return!1}function mt(_t){const yt=_t.uniforms;let xt=0;const At=16;let Ct=0;for(let Pt=0,bt=yt.length;Pt<bt;Pt++){const Mt=yt[Pt],Tt={boundary:0,storage:0},Ft=Array.isArray(Mt.value)?Mt.value:[Mt.value];for(let Gt=0,Wt=Ft.length;Gt<Wt;Gt++){const It=Ft[Gt],Kt=ht(It);Tt.boundary+=Kt.boundary,Tt.storage+=Kt.storage}if(Mt.__data=new Float32Array(Tt.storage/Float32Array.BYTES_PER_ELEMENT),Mt.__offset=xt,Pt>0){Ct=xt%At;const Gt=At-Ct;Ct!==0&&Gt-Tt.boundary<0&&(xt+=At-Ct,Mt.__offset=xt)}xt+=Tt.storage}return Ct=xt%At,Ct>0&&(xt+=At-Ct),_t.__size=xt,_t.__cache={},this}function ht(_t){const yt={boundary:0,storage:0};return typeof _t=="number"?(yt.boundary=4,yt.storage=4):_t.isVector2?(yt.boundary=8,yt.storage=8):_t.isVector3||_t.isColor?(yt.boundary=16,yt.storage=12):_t.isVector4?(yt.boundary=16,yt.storage=16):_t.isMatrix3?(yt.boundary=48,yt.storage=48):_t.isMatrix4?(yt.boundary=64,yt.storage=64):_t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_t),yt}function gt(_t){const yt=_t.target;yt.removeEventListener("dispose",gt);const xt=it.indexOf(yt.__bindingPointIndex);it.splice(xt,1),et.deleteBuffer(nt[yt.id]),delete nt[yt.id],delete rt[yt.id]}function vt(){for(const _t in nt)et.deleteBuffer(nt[_t]);it=[],nt={},rt={}}return{bind:ot,update:at,dispose:vt}}function createCanvasElement(){const et=createElementNS("canvas");return et.style.display="block",et}function WebGLRenderer(et={}){this.isWebGLRenderer=!0;const $=et.canvas!==void 0?et.canvas:createCanvasElement(),_e=et.context!==void 0?et.context:null,tt=et.depth!==void 0?et.depth:!0,nt=et.stencil!==void 0?et.stencil:!0,rt=et.antialias!==void 0?et.antialias:!1,it=et.premultipliedAlpha!==void 0?et.premultipliedAlpha:!0,st=et.preserveDrawingBuffer!==void 0?et.preserveDrawingBuffer:!1,ot=et.powerPreference!==void 0?et.powerPreference:"default",at=et.failIfMajorPerformanceCaveat!==void 0?et.failIfMajorPerformanceCaveat:!1;let lt;_e!==null?lt=_e.getContextAttributes().alpha:lt=et.alpha!==void 0?et.alpha:!1;let dt=null,ct=null;const pt=[],mt=[];this.domElement=$,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.useLegacyLights=!0,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const ht=this;let gt=!1,vt=0,_t=0,yt=null,xt=-1,At=null;const Ct=new Vector4,Pt=new Vector4;let bt=null,Mt=$.width,Tt=$.height,Ft=1,Gt=null,Wt=null;const It=new Vector4(0,0,Mt,Tt),Kt=new Vector4(0,0,Mt,Tt);let Ut=!1;const Qt=new Frustum;let Dt=!1,qt=!1,Jt=null;const on=new Matrix4,tn=new Vector3,yn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Yt(){return yt===null?Ft:1}let kt=_e;function Bt(dn,Fn){for(let jn=0;jn<dn.length;jn++){const Dn=dn[jn],Hn=$.getContext(Dn,Fn);if(Hn!==null)return Hn}return null}try{const dn={alpha:!0,depth:tt,stencil:nt,antialias:rt,premultipliedAlpha:it,preserveDrawingBuffer:st,powerPreference:ot,failIfMajorPerformanceCaveat:at};if("setAttribute"in $&&$.setAttribute("data-engine",`three.js r${REVISION}`),$.addEventListener("webglcontextlost",Bn,!1),$.addEventListener("webglcontextrestored",ir,!1),$.addEventListener("webglcontextcreationerror",er,!1),kt===null){const Fn=["webgl2","webgl","experimental-webgl"];if(ht.isWebGL1Renderer===!0&&Fn.shift(),kt=Bt(Fn,dn),kt===null)throw Bt(Fn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}kt.getShaderPrecisionFormat===void 0&&(kt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(dn){throw console.error("THREE.WebGLRenderer: "+dn.message),dn}let Ht,wt,Lt,Ot,$t,Vt,Zt,sn,hn,ln,xn,un,fn,Gn,Xn,nn,jt,Mn,cn,_n,Un,or,Kn,Vn;function ur(){Ht=new WebGLExtensions(kt),wt=new WebGLCapabilities(kt,Ht,et),Ht.init(wt),or=new WebGLUtils(kt,Ht,wt),Lt=new WebGLState(kt,Ht,wt),Ot=new WebGLInfo,$t=new WebGLProperties,Vt=new WebGLTextures(kt,Ht,Lt,$t,wt,or,Ot),Zt=new WebGLCubeMaps(ht),sn=new WebGLCubeUVMaps(ht),hn=new WebGLAttributes(kt,wt),Kn=new WebGLBindingStates(kt,Ht,hn,wt),ln=new WebGLGeometries(kt,hn,Ot,Kn),xn=new WebGLObjects(kt,ln,hn,Ot),cn=new WebGLMorphtargets(kt,wt,Vt),nn=new WebGLClipping($t),un=new WebGLPrograms(ht,Zt,sn,Ht,wt,Kn,nn),fn=new WebGLMaterials(ht,$t),Gn=new WebGLRenderLists,Xn=new WebGLRenderStates(Ht,wt),Mn=new WebGLBackground(ht,Zt,sn,Lt,xn,lt,it),jt=new WebGLShadowMap(ht,xn,wt),Vn=new WebGLUniformsGroups(kt,Ot,wt,Lt),_n=new WebGLBufferRenderer(kt,Ht,Ot,wt),Un=new WebGLIndexedBufferRenderer(kt,Ht,Ot,wt),Ot.programs=un.programs,ht.capabilities=wt,ht.extensions=Ht,ht.properties=$t,ht.renderLists=Gn,ht.shadowMap=jt,ht.state=Lt,ht.info=Ot}ur();const Sn=new WebXRManager(ht,kt);this.xr=Sn,this.getContext=function(){return kt},this.getContextAttributes=function(){return kt.getContextAttributes()},this.forceContextLoss=function(){const dn=Ht.get("WEBGL_lose_context");dn&&dn.loseContext()},this.forceContextRestore=function(){const dn=Ht.get("WEBGL_lose_context");dn&&dn.restoreContext()},this.getPixelRatio=function(){return Ft},this.setPixelRatio=function(dn){dn!==void 0&&(Ft=dn,this.setSize(Mt,Tt,!1))},this.getSize=function(dn){return dn.set(Mt,Tt)},this.setSize=function(dn,Fn,jn=!0){if(Sn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Mt=dn,Tt=Fn,$.width=Math.floor(dn*Ft),$.height=Math.floor(Fn*Ft),jn===!0&&($.style.width=dn+"px",$.style.height=Fn+"px"),this.setViewport(0,0,dn,Fn)},this.getDrawingBufferSize=function(dn){return dn.set(Mt*Ft,Tt*Ft).floor()},this.setDrawingBufferSize=function(dn,Fn,jn){Mt=dn,Tt=Fn,Ft=jn,$.width=Math.floor(dn*jn),$.height=Math.floor(Fn*jn),this.setViewport(0,0,dn,Fn)},this.getCurrentViewport=function(dn){return dn.copy(Ct)},this.getViewport=function(dn){return dn.copy(It)},this.setViewport=function(dn,Fn,jn,Dn){dn.isVector4?It.set(dn.x,dn.y,dn.z,dn.w):It.set(dn,Fn,jn,Dn),Lt.viewport(Ct.copy(It).multiplyScalar(Ft).floor())},this.getScissor=function(dn){return dn.copy(Kt)},this.setScissor=function(dn,Fn,jn,Dn){dn.isVector4?Kt.set(dn.x,dn.y,dn.z,dn.w):Kt.set(dn,Fn,jn,Dn),Lt.scissor(Pt.copy(Kt).multiplyScalar(Ft).floor())},this.getScissorTest=function(){return Ut},this.setScissorTest=function(dn){Lt.setScissorTest(Ut=dn)},this.setOpaqueSort=function(dn){Gt=dn},this.setTransparentSort=function(dn){Wt=dn},this.getClearColor=function(dn){return dn.copy(Mn.getClearColor())},this.setClearColor=function(){Mn.setClearColor.apply(Mn,arguments)},this.getClearAlpha=function(){return Mn.getClearAlpha()},this.setClearAlpha=function(){Mn.setClearAlpha.apply(Mn,arguments)},this.clear=function(dn=!0,Fn=!0,jn=!0){let Dn=0;dn&&(Dn|=16384),Fn&&(Dn|=256),jn&&(Dn|=1024),kt.clear(Dn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){$.removeEventListener("webglcontextlost",Bn,!1),$.removeEventListener("webglcontextrestored",ir,!1),$.removeEventListener("webglcontextcreationerror",er,!1),Gn.dispose(),Xn.dispose(),$t.dispose(),Zt.dispose(),sn.dispose(),xn.dispose(),Kn.dispose(),Vn.dispose(),un.dispose(),Sn.dispose(),Sn.removeEventListener("sessionstart",Tn),Sn.removeEventListener("sessionend",Nn),Jt&&(Jt.dispose(),Jt=null),Yn.stop()};function Bn(dn){dn.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),gt=!0}function ir(){console.log("THREE.WebGLRenderer: Context Restored."),gt=!1;const dn=Ot.autoReset,Fn=jt.enabled,jn=jt.autoUpdate,Dn=jt.needsUpdate,Hn=jt.type;ur(),Ot.autoReset=dn,jt.enabled=Fn,jt.autoUpdate=jn,jt.needsUpdate=Dn,jt.type=Hn}function er(dn){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",dn.statusMessage)}function En(dn){const Fn=dn.target;Fn.removeEventListener("dispose",En),On(Fn)}function On(dn){wn(dn),$t.remove(dn)}function wn(dn){const Fn=$t.get(dn).programs;Fn!==void 0&&(Fn.forEach(function(jn){un.releaseProgram(jn)}),dn.isShaderMaterial&&un.releaseShaderCache(dn))}this.renderBufferDirect=function(dn,Fn,jn,Dn,Hn,Sr){Fn===null&&(Fn=yn);const Or=Hn.isMesh&&Hn.matrixWorld.determinant()<0,Qr=Xs(dn,Fn,jn,Dn,Hn);Lt.setMaterial(Dn,Or);let ns=jn.index,ms=1;Dn.wireframe===!0&&(ns=ln.getWireframeAttribute(jn),ms=2);const as=jn.drawRange,us=jn.attributes.position;let Ns=as.start*ms,oo=(as.start+as.count)*ms;Sr!==null&&(Ns=Math.max(Ns,Sr.start*ms),oo=Math.min(oo,(Sr.start+Sr.count)*ms)),ns!==null?(Ns=Math.max(Ns,0),oo=Math.min(oo,ns.count)):us!=null&&(Ns=Math.max(Ns,0),oo=Math.min(oo,us.count));const Ao=oo-Ns;if(Ao<0||Ao===1/0)return;Kn.setup(Hn,Dn,Qr,jn,ns);let $o,$s=_n;if(ns!==null&&($o=hn.get(ns),$s=Un,$s.setIndex($o)),Hn.isMesh)Dn.wireframe===!0?(Lt.setLineWidth(Dn.wireframeLinewidth*Yt()),$s.setMode(1)):$s.setMode(4);else if(Hn.isLine){let ss=Dn.linewidth;ss===void 0&&(ss=1),Lt.setLineWidth(ss*Yt()),Hn.isLineSegments?$s.setMode(1):Hn.isLineLoop?$s.setMode(2):$s.setMode(3)}else Hn.isPoints?$s.setMode(0):Hn.isSprite&&$s.setMode(4);if(Hn.isInstancedMesh)$s.renderInstances(Ns,Ao,Hn.count);else if(jn.isInstancedBufferGeometry){const ss=jn._maxInstanceCount!==void 0?jn._maxInstanceCount:1/0,vo=Math.min(jn.instanceCount,ss);$s.renderInstances(Ns,Ao,vo)}else $s.render(Ns,Ao)},this.compile=function(dn,Fn){function jn(Dn,Hn,Sr){Dn.transparent===!0&&Dn.side===DoubleSide&&Dn.forceSinglePass===!1?(Dn.side=BackSide,Dn.needsUpdate=!0,ps(Dn,Hn,Sr),Dn.side=FrontSide,Dn.needsUpdate=!0,ps(Dn,Hn,Sr),Dn.side=DoubleSide):ps(Dn,Hn,Sr)}ct=Xn.get(dn),ct.init(),mt.push(ct),dn.traverseVisible(function(Dn){Dn.isLight&&Dn.layers.test(Fn.layers)&&(ct.pushLight(Dn),Dn.castShadow&&ct.pushShadow(Dn))}),ct.setupLights(ht.useLegacyLights),dn.traverse(function(Dn){const Hn=Dn.material;if(Hn)if(Array.isArray(Hn))for(let Sr=0;Sr<Hn.length;Sr++){const Or=Hn[Sr];jn(Or,dn,Dn)}else jn(Hn,dn,Dn)}),mt.pop(),ct=null};let Xt=null;function rn(dn){Xt&&Xt(dn)}function Tn(){Yn.stop()}function Nn(){Yn.start()}const Yn=new WebGLAnimation;Yn.setAnimationLoop(rn),typeof self<"u"&&Yn.setContext(self),this.setAnimationLoop=function(dn){Xt=dn,Sn.setAnimationLoop(dn),dn===null?Yn.stop():Yn.start()},Sn.addEventListener("sessionstart",Tn),Sn.addEventListener("sessionend",Nn),this.render=function(dn,Fn){if(Fn!==void 0&&Fn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(gt===!0)return;dn.matrixWorldAutoUpdate===!0&&dn.updateMatrixWorld(),Fn.parent===null&&Fn.matrixWorldAutoUpdate===!0&&Fn.updateMatrixWorld(),Sn.enabled===!0&&Sn.isPresenting===!0&&(Sn.cameraAutoUpdate===!0&&Sn.updateCamera(Fn),Fn=Sn.getCamera()),dn.isScene===!0&&dn.onBeforeRender(ht,dn,Fn,yt),ct=Xn.get(dn,mt.length),ct.init(),mt.push(ct),on.multiplyMatrices(Fn.projectionMatrix,Fn.matrixWorldInverse),Qt.setFromProjectionMatrix(on),qt=this.localClippingEnabled,Dt=nn.init(this.clippingPlanes,qt),dt=Gn.get(dn,pt.length),dt.init(),pt.push(dt),hr(dn,Fn,0,ht.sortObjects),dt.finish(),ht.sortObjects===!0&&dt.sort(Gt,Wt),Dt===!0&&nn.beginShadows();const jn=ct.state.shadowsArray;if(jt.render(jn,dn,Fn),Dt===!0&&nn.endShadows(),this.info.autoReset===!0&&this.info.reset(),Mn.render(dt,dn),ct.setupLights(ht.useLegacyLights),Fn.isArrayCamera){const Dn=Fn.cameras;for(let Hn=0,Sr=Dn.length;Hn<Sr;Hn++){const Or=Dn[Hn];wr(dt,dn,Or,Or.viewport)}}else wr(dt,dn,Fn);yt!==null&&(Vt.updateMultisampleRenderTarget(yt),Vt.updateRenderTargetMipmap(yt)),dn.isScene===!0&&dn.onAfterRender(ht,dn,Fn),Kn.resetDefaultState(),xt=-1,At=null,mt.pop(),mt.length>0?ct=mt[mt.length-1]:ct=null,pt.pop(),pt.length>0?dt=pt[pt.length-1]:dt=null};function hr(dn,Fn,jn,Dn){if(dn.visible===!1)return;if(dn.layers.test(Fn.layers)){if(dn.isGroup)jn=dn.renderOrder;else if(dn.isLOD)dn.autoUpdate===!0&&dn.update(Fn);else if(dn.isLight)ct.pushLight(dn),dn.castShadow&&ct.pushShadow(dn);else if(dn.isSprite){if(!dn.frustumCulled||Qt.intersectsSprite(dn)){Dn&&tn.setFromMatrixPosition(dn.matrixWorld).applyMatrix4(on);const Or=xn.update(dn),Qr=dn.material;Qr.visible&&dt.push(dn,Or,Qr,jn,tn.z,null)}}else if((dn.isMesh||dn.isLine||dn.isPoints)&&(dn.isSkinnedMesh&&dn.skeleton.frame!==Ot.render.frame&&(dn.skeleton.update(),dn.skeleton.frame=Ot.render.frame),!dn.frustumCulled||Qt.intersectsObject(dn))){Dn&&tn.setFromMatrixPosition(dn.matrixWorld).applyMatrix4(on);const Or=xn.update(dn),Qr=dn.material;if(Array.isArray(Qr)){const ns=Or.groups;for(let ms=0,as=ns.length;ms<as;ms++){const us=ns[ms],Ns=Qr[us.materialIndex];Ns&&Ns.visible&&dt.push(dn,Or,Ns,jn,tn.z,us)}}else Qr.visible&&dt.push(dn,Or,Qr,jn,tn.z,null)}}const Sr=dn.children;for(let Or=0,Qr=Sr.length;Or<Qr;Or++)hr(Sr[Or],Fn,jn,Dn)}function wr(dn,Fn,jn,Dn){const Hn=dn.opaque,Sr=dn.transmissive,Or=dn.transparent;ct.setupLightsView(jn),Dt===!0&&nn.setGlobalState(ht.clippingPlanes,jn),Sr.length>0&&ts(Hn,Fn,jn),Dn&&Lt.viewport(Ct.copy(Dn)),Hn.length>0&&Wr(Hn,Fn,jn),Sr.length>0&&Wr(Sr,Fn,jn),Or.length>0&&Wr(Or,Fn,jn),Lt.buffers.depth.setTest(!0),Lt.buffers.depth.setMask(!0),Lt.buffers.color.setMask(!0),Lt.setPolygonOffset(!1)}function ts(dn,Fn,jn){const Dn=wt.isWebGL2;Jt===null&&(Jt=new WebGLRenderTarget(1024,1024,{generateMipmaps:!0,type:Ht.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:Dn&&rt===!0?4:0}));const Hn=ht.getRenderTarget();ht.setRenderTarget(Jt),ht.clear();const Sr=ht.toneMapping;ht.toneMapping=NoToneMapping,Wr(dn,Fn,jn),ht.toneMapping=Sr,Vt.updateMultisampleRenderTarget(Jt),Vt.updateRenderTargetMipmap(Jt),ht.setRenderTarget(Hn)}function Wr(dn,Fn,jn){const Dn=Fn.isScene===!0?Fn.overrideMaterial:null;for(let Hn=0,Sr=dn.length;Hn<Sr;Hn++){const Or=dn[Hn],Qr=Or.object,ns=Or.geometry,ms=Dn===null?Or.material:Dn,as=Or.group;Qr.layers.test(jn.layers)&&xr(Qr,Fn,jn,ns,ms,as)}}function xr(dn,Fn,jn,Dn,Hn,Sr){dn.onBeforeRender(ht,Fn,jn,Dn,Hn,Sr),dn.modelViewMatrix.multiplyMatrices(jn.matrixWorldInverse,dn.matrixWorld),dn.normalMatrix.getNormalMatrix(dn.modelViewMatrix),Hn.onBeforeRender(ht,Fn,jn,Dn,dn,Sr),Hn.transparent===!0&&Hn.side===DoubleSide&&Hn.forceSinglePass===!1?(Hn.side=BackSide,Hn.needsUpdate=!0,ht.renderBufferDirect(jn,Fn,Dn,Hn,dn,Sr),Hn.side=FrontSide,Hn.needsUpdate=!0,ht.renderBufferDirect(jn,Fn,Dn,Hn,dn,Sr),Hn.side=DoubleSide):ht.renderBufferDirect(jn,Fn,Dn,Hn,dn,Sr),dn.onAfterRender(ht,Fn,jn,Dn,Hn,Sr)}function ps(dn,Fn,jn){Fn.isScene!==!0&&(Fn=yn);const Dn=$t.get(dn),Hn=ct.state.lights,Sr=ct.state.shadowsArray,Or=Hn.state.version,Qr=un.getParameters(dn,Hn.state,Sr,Fn,jn),ns=un.getProgramCacheKey(Qr);let ms=Dn.programs;Dn.environment=dn.isMeshStandardMaterial?Fn.environment:null,Dn.fog=Fn.fog,Dn.envMap=(dn.isMeshStandardMaterial?sn:Zt).get(dn.envMap||Dn.environment),ms===void 0&&(dn.addEventListener("dispose",En),ms=new Map,Dn.programs=ms);let as=ms.get(ns);if(as!==void 0){if(Dn.currentProgram===as&&Dn.lightsStateVersion===Or)return vs(dn,Qr),as}else Qr.uniforms=un.getUniforms(dn),dn.onBuild(jn,Qr,ht),dn.onBeforeCompile(Qr,ht),as=un.acquireProgram(Qr,ns),ms.set(ns,as),Dn.uniforms=Qr.uniforms;const us=Dn.uniforms;(!dn.isShaderMaterial&&!dn.isRawShaderMaterial||dn.clipping===!0)&&(us.clippingPlanes=nn.uniform),vs(dn,Qr),Dn.needsLights=Ls(dn),Dn.lightsStateVersion=Or,Dn.needsLights&&(us.ambientLightColor.value=Hn.state.ambient,us.lightProbe.value=Hn.state.probe,us.directionalLights.value=Hn.state.directional,us.directionalLightShadows.value=Hn.state.directionalShadow,us.spotLights.value=Hn.state.spot,us.spotLightShadows.value=Hn.state.spotShadow,us.rectAreaLights.value=Hn.state.rectArea,us.ltc_1.value=Hn.state.rectAreaLTC1,us.ltc_2.value=Hn.state.rectAreaLTC2,us.pointLights.value=Hn.state.point,us.pointLightShadows.value=Hn.state.pointShadow,us.hemisphereLights.value=Hn.state.hemi,us.directionalShadowMap.value=Hn.state.directionalShadowMap,us.directionalShadowMatrix.value=Hn.state.directionalShadowMatrix,us.spotShadowMap.value=Hn.state.spotShadowMap,us.spotLightMatrix.value=Hn.state.spotLightMatrix,us.spotLightMap.value=Hn.state.spotLightMap,us.pointShadowMap.value=Hn.state.pointShadowMap,us.pointShadowMatrix.value=Hn.state.pointShadowMatrix);const Ns=as.getUniforms(),oo=WebGLUniforms.seqWithValue(Ns.seq,us);return Dn.currentProgram=as,Dn.uniformsList=oo,as}function vs(dn,Fn){const jn=$t.get(dn);jn.outputEncoding=Fn.outputEncoding,jn.instancing=Fn.instancing,jn.skinning=Fn.skinning,jn.morphTargets=Fn.morphTargets,jn.morphNormals=Fn.morphNormals,jn.morphColors=Fn.morphColors,jn.morphTargetsCount=Fn.morphTargetsCount,jn.numClippingPlanes=Fn.numClippingPlanes,jn.numIntersection=Fn.numClipIntersection,jn.vertexAlphas=Fn.vertexAlphas,jn.vertexTangents=Fn.vertexTangents,jn.toneMapping=Fn.toneMapping}function Xs(dn,Fn,jn,Dn,Hn){Fn.isScene!==!0&&(Fn=yn),Vt.resetTextureUnits();const Sr=Fn.fog,Or=Dn.isMeshStandardMaterial?Fn.environment:null,Qr=yt===null?ht.outputEncoding:yt.isXRRenderTarget===!0?yt.texture.encoding:LinearEncoding,ns=(Dn.isMeshStandardMaterial?sn:Zt).get(Dn.envMap||Or),ms=Dn.vertexColors===!0&&!!jn.attributes.color&&jn.attributes.color.itemSize===4,as=!!Dn.normalMap&&!!jn.attributes.tangent,us=!!jn.morphAttributes.position,Ns=!!jn.morphAttributes.normal,oo=!!jn.morphAttributes.color,Ao=Dn.toneMapped?ht.toneMapping:NoToneMapping,$o=jn.morphAttributes.position||jn.morphAttributes.normal||jn.morphAttributes.color,$s=$o!==void 0?$o.length:0,ss=$t.get(Dn),vo=ct.state.lights;if(Dt===!0&&(qt===!0||dn!==At)){const Fs=dn===At&&Dn.id===xt;nn.setState(Dn,dn,Fs)}let Vs=!1;Dn.version===ss.__version?(ss.needsLights&&ss.lightsStateVersion!==vo.state.version||ss.outputEncoding!==Qr||Hn.isInstancedMesh&&ss.instancing===!1||!Hn.isInstancedMesh&&ss.instancing===!0||Hn.isSkinnedMesh&&ss.skinning===!1||!Hn.isSkinnedMesh&&ss.skinning===!0||ss.envMap!==ns||Dn.fog===!0&&ss.fog!==Sr||ss.numClippingPlanes!==void 0&&(ss.numClippingPlanes!==nn.numPlanes||ss.numIntersection!==nn.numIntersection)||ss.vertexAlphas!==ms||ss.vertexTangents!==as||ss.morphTargets!==us||ss.morphNormals!==Ns||ss.morphColors!==oo||ss.toneMapping!==Ao||wt.isWebGL2===!0&&ss.morphTargetsCount!==$s)&&(Vs=!0):(Vs=!0,ss.__version=Dn.version);let Eo=ss.currentProgram;Vs===!0&&(Eo=ps(Dn,Fn,Hn));let Yl=!1,Vo=!1,Ro=!1;const ks=Eo.getUniforms(),ds=ss.uniforms;if(Lt.useProgram(Eo.program)&&(Yl=!0,Vo=!0,Ro=!0),Dn.id!==xt&&(xt=Dn.id,Vo=!0),Yl||At!==dn){if(ks.setValue(kt,"projectionMatrix",dn.projectionMatrix),wt.logarithmicDepthBuffer&&ks.setValue(kt,"logDepthBufFC",2/(Math.log(dn.far+1)/Math.LN2)),At!==dn&&(At=dn,Vo=!0,Ro=!0),Dn.isShaderMaterial||Dn.isMeshPhongMaterial||Dn.isMeshToonMaterial||Dn.isMeshStandardMaterial||Dn.envMap){const Fs=ks.map.cameraPosition;Fs!==void 0&&Fs.setValue(kt,tn.setFromMatrixPosition(dn.matrixWorld))}(Dn.isMeshPhongMaterial||Dn.isMeshToonMaterial||Dn.isMeshLambertMaterial||Dn.isMeshBasicMaterial||Dn.isMeshStandardMaterial||Dn.isShaderMaterial)&&ks.setValue(kt,"isOrthographic",dn.isOrthographicCamera===!0),(Dn.isMeshPhongMaterial||Dn.isMeshToonMaterial||Dn.isMeshLambertMaterial||Dn.isMeshBasicMaterial||Dn.isMeshStandardMaterial||Dn.isShaderMaterial||Dn.isShadowMaterial||Hn.isSkinnedMesh)&&ks.setValue(kt,"viewMatrix",dn.matrixWorldInverse)}if(Hn.isSkinnedMesh){ks.setOptional(kt,Hn,"bindMatrix"),ks.setOptional(kt,Hn,"bindMatrixInverse");const Fs=Hn.skeleton;Fs&&(wt.floatVertexTextures?(Fs.boneTexture===null&&Fs.computeBoneTexture(),ks.setValue(kt,"boneTexture",Fs.boneTexture,Vt),ks.setValue(kt,"boneTextureSize",Fs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ss=jn.morphAttributes;if((Ss.position!==void 0||Ss.normal!==void 0||Ss.color!==void 0&&wt.isWebGL2===!0)&&cn.update(Hn,jn,Eo),(Vo||ss.receiveShadow!==Hn.receiveShadow)&&(ss.receiveShadow=Hn.receiveShadow,ks.setValue(kt,"receiveShadow",Hn.receiveShadow)),Dn.isMeshGouraudMaterial&&Dn.envMap!==null&&(ds.envMap.value=ns,ds.flipEnvMap.value=ns.isCubeTexture&&ns.isRenderTargetTexture===!1?-1:1),Vo&&(ks.setValue(kt,"toneMappingExposure",ht.toneMappingExposure),ss.needsLights&&ys(ds,Ro),Sr&&Dn.fog===!0&&fn.refreshFogUniforms(ds,Sr),fn.refreshMaterialUniforms(ds,Dn,Ft,Tt,Jt),WebGLUniforms.upload(kt,ss.uniformsList,ds,Vt)),Dn.isShaderMaterial&&Dn.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(kt,ss.uniformsList,ds,Vt),Dn.uniformsNeedUpdate=!1),Dn.isSpriteMaterial&&ks.setValue(kt,"center",Hn.center),ks.setValue(kt,"modelViewMatrix",Hn.modelViewMatrix),ks.setValue(kt,"normalMatrix",Hn.normalMatrix),ks.setValue(kt,"modelMatrix",Hn.matrixWorld),Dn.isShaderMaterial||Dn.isRawShaderMaterial){const Fs=Dn.uniformsGroups;for(let zs=0,Hs=Fs.length;zs<Hs;zs++)if(wt.isWebGL2){const Lo=Fs[zs];Vn.update(Lo,Eo),Vn.bind(Lo,Eo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Eo}function ys(dn,Fn){dn.ambientLightColor.needsUpdate=Fn,dn.lightProbe.needsUpdate=Fn,dn.directionalLights.needsUpdate=Fn,dn.directionalLightShadows.needsUpdate=Fn,dn.pointLights.needsUpdate=Fn,dn.pointLightShadows.needsUpdate=Fn,dn.spotLights.needsUpdate=Fn,dn.spotLightShadows.needsUpdate=Fn,dn.rectAreaLights.needsUpdate=Fn,dn.hemisphereLights.needsUpdate=Fn}function Ls(dn){return dn.isMeshLambertMaterial||dn.isMeshToonMaterial||dn.isMeshPhongMaterial||dn.isMeshStandardMaterial||dn.isShadowMaterial||dn.isShaderMaterial&&dn.lights===!0}this.getActiveCubeFace=function(){return vt},this.getActiveMipmapLevel=function(){return _t},this.getRenderTarget=function(){return yt},this.setRenderTargetTextures=function(dn,Fn,jn){$t.get(dn.texture).__webglTexture=Fn,$t.get(dn.depthTexture).__webglTexture=jn;const Dn=$t.get(dn);Dn.__hasExternalTextures=!0,Dn.__hasExternalTextures&&(Dn.__autoAllocateDepthBuffer=jn===void 0,Dn.__autoAllocateDepthBuffer||Ht.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Dn.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(dn,Fn){const jn=$t.get(dn);jn.__webglFramebuffer=Fn,jn.__useDefaultFramebuffer=Fn===void 0},this.setRenderTarget=function(dn,Fn=0,jn=0){yt=dn,vt=Fn,_t=jn;let Dn=!0,Hn=null,Sr=!1,Or=!1;if(dn){const ns=$t.get(dn);ns.__useDefaultFramebuffer!==void 0?(Lt.bindFramebuffer(36160,null),Dn=!1):ns.__webglFramebuffer===void 0?Vt.setupRenderTarget(dn):ns.__hasExternalTextures&&Vt.rebindTextures(dn,$t.get(dn.texture).__webglTexture,$t.get(dn.depthTexture).__webglTexture);const ms=dn.texture;(ms.isData3DTexture||ms.isDataArrayTexture||ms.isCompressedArrayTexture)&&(Or=!0);const as=$t.get(dn).__webglFramebuffer;dn.isWebGLCubeRenderTarget?(Hn=as[Fn],Sr=!0):wt.isWebGL2&&dn.samples>0&&Vt.useMultisampledRTT(dn)===!1?Hn=$t.get(dn).__webglMultisampledFramebuffer:Hn=as,Ct.copy(dn.viewport),Pt.copy(dn.scissor),bt=dn.scissorTest}else Ct.copy(It).multiplyScalar(Ft).floor(),Pt.copy(Kt).multiplyScalar(Ft).floor(),bt=Ut;if(Lt.bindFramebuffer(36160,Hn)&&wt.drawBuffers&&Dn&&Lt.drawBuffers(dn,Hn),Lt.viewport(Ct),Lt.scissor(Pt),Lt.setScissorTest(bt),Sr){const ns=$t.get(dn.texture);kt.framebufferTexture2D(36160,36064,34069+Fn,ns.__webglTexture,jn)}else if(Or){const ns=$t.get(dn.texture),ms=Fn||0;kt.framebufferTextureLayer(36160,36064,ns.__webglTexture,jn||0,ms)}xt=-1},this.readRenderTargetPixels=function(dn,Fn,jn,Dn,Hn,Sr,Or){if(!(dn&&dn.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Qr=$t.get(dn).__webglFramebuffer;if(dn.isWebGLCubeRenderTarget&&Or!==void 0&&(Qr=Qr[Or]),Qr){Lt.bindFramebuffer(36160,Qr);try{const ns=dn.texture,ms=ns.format,as=ns.type;if(ms!==RGBAFormat&&or.convert(ms)!==kt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const us=as===HalfFloatType&&(Ht.has("EXT_color_buffer_half_float")||wt.isWebGL2&&Ht.has("EXT_color_buffer_float"));if(as!==UnsignedByteType&&or.convert(as)!==kt.getParameter(35738)&&!(as===FloatType&&(wt.isWebGL2||Ht.has("OES_texture_float")||Ht.has("WEBGL_color_buffer_float")))&&!us){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Fn>=0&&Fn<=dn.width-Dn&&jn>=0&&jn<=dn.height-Hn&&kt.readPixels(Fn,jn,Dn,Hn,or.convert(ms),or.convert(as),Sr)}finally{const ns=yt!==null?$t.get(yt).__webglFramebuffer:null;Lt.bindFramebuffer(36160,ns)}}},this.copyFramebufferToTexture=function(dn,Fn,jn=0){const Dn=Math.pow(2,-jn),Hn=Math.floor(Fn.image.width*Dn),Sr=Math.floor(Fn.image.height*Dn);Vt.setTexture2D(Fn,0),kt.copyTexSubImage2D(3553,jn,0,0,dn.x,dn.y,Hn,Sr),Lt.unbindTexture()},this.copyTextureToTexture=function(dn,Fn,jn,Dn=0){const Hn=Fn.image.width,Sr=Fn.image.height,Or=or.convert(jn.format),Qr=or.convert(jn.type);Vt.setTexture2D(jn,0),kt.pixelStorei(37440,jn.flipY),kt.pixelStorei(37441,jn.premultiplyAlpha),kt.pixelStorei(3317,jn.unpackAlignment),Fn.isDataTexture?kt.texSubImage2D(3553,Dn,dn.x,dn.y,Hn,Sr,Or,Qr,Fn.image.data):Fn.isCompressedTexture?kt.compressedTexSubImage2D(3553,Dn,dn.x,dn.y,Fn.mipmaps[0].width,Fn.mipmaps[0].height,Or,Fn.mipmaps[0].data):kt.texSubImage2D(3553,Dn,dn.x,dn.y,Or,Qr,Fn.image),Dn===0&&jn.generateMipmaps&&kt.generateMipmap(3553),Lt.unbindTexture()},this.copyTextureToTexture3D=function(dn,Fn,jn,Dn,Hn=0){if(ht.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Sr=dn.max.x-dn.min.x+1,Or=dn.max.y-dn.min.y+1,Qr=dn.max.z-dn.min.z+1,ns=or.convert(Dn.format),ms=or.convert(Dn.type);let as;if(Dn.isData3DTexture)Vt.setTexture3D(Dn,0),as=32879;else if(Dn.isDataArrayTexture)Vt.setTexture2DArray(Dn,0),as=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}kt.pixelStorei(37440,Dn.flipY),kt.pixelStorei(37441,Dn.premultiplyAlpha),kt.pixelStorei(3317,Dn.unpackAlignment);const us=kt.getParameter(3314),Ns=kt.getParameter(32878),oo=kt.getParameter(3316),Ao=kt.getParameter(3315),$o=kt.getParameter(32877),$s=jn.isCompressedTexture?jn.mipmaps[0]:jn.image;kt.pixelStorei(3314,$s.width),kt.pixelStorei(32878,$s.height),kt.pixelStorei(3316,dn.min.x),kt.pixelStorei(3315,dn.min.y),kt.pixelStorei(32877,dn.min.z),jn.isDataTexture||jn.isData3DTexture?kt.texSubImage3D(as,Hn,Fn.x,Fn.y,Fn.z,Sr,Or,Qr,ns,ms,$s.data):jn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),kt.compressedTexSubImage3D(as,Hn,Fn.x,Fn.y,Fn.z,Sr,Or,Qr,ns,$s.data)):kt.texSubImage3D(as,Hn,Fn.x,Fn.y,Fn.z,Sr,Or,Qr,ns,ms,$s),kt.pixelStorei(3314,us),kt.pixelStorei(32878,Ns),kt.pixelStorei(3316,oo),kt.pixelStorei(3315,Ao),kt.pixelStorei(32877,$o),Hn===0&&Dn.generateMipmaps&&kt.generateMipmap(as),Lt.unbindTexture()},this.initTexture=function(dn){dn.isCubeTexture?Vt.setTextureCube(dn,0):dn.isData3DTexture?Vt.setTexture3D(dn,0):dn.isDataArrayTexture||dn.isCompressedArrayTexture?Vt.setTexture2DArray(dn,0):Vt.setTexture2D(dn,0),Lt.unbindTexture()},this.resetState=function(){vt=0,_t=0,yt=null,Lt.reset(),Kn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(WebGLRenderer.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(et){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!et}}});class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor($,_e=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color($),this.density=_e}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor($,_e=1,tt=1e3){this.isFog=!0,this.name="",this.color=new Color($),this.near=_e,this.far=tt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy($,_e){return super.copy($,_e),$.background!==null&&(this.background=$.background.clone()),$.environment!==null&&(this.environment=$.environment.clone()),$.fog!==null&&(this.fog=$.fog.clone()),this.backgroundBlurriness=$.backgroundBlurriness,this.backgroundIntensity=$.backgroundIntensity,$.overrideMaterial!==null&&(this.overrideMaterial=$.overrideMaterial.clone()),this.matrixAutoUpdate=$.matrixAutoUpdate,this}toJSON($){const _e=super.toJSON($);return this.fog!==null&&(_e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(_e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(_e.object.backgroundIntensity=this.backgroundIntensity),_e}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate($){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=$}}class InterleavedBuffer{constructor($,_e){this.isInterleavedBuffer=!0,this.array=$,this.stride=_e,this.count=$!==void 0?$.length/_e:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate($){$===!0&&this.version++}setUsage($){return this.usage=$,this}copy($){return this.array=new $.array.constructor($.array),this.count=$.count,this.stride=$.stride,this.usage=$.usage,this}copyAt($,_e,tt){$*=this.stride,tt*=_e.stride;for(let nt=0,rt=this.stride;nt<rt;nt++)this.array[$+nt]=_e.array[tt+nt];return this}set($,_e=0){return this.array.set($,_e),this}clone($){$.arrayBuffers===void 0&&($.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),$.arrayBuffers[this.array.buffer._uuid]===void 0&&($.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const _e=new this.array.constructor($.arrayBuffers[this.array.buffer._uuid]),tt=new this.constructor(_e,this.stride);return tt.setUsage(this.usage),tt}onUpload($){return this.onUploadCallback=$,this}toJSON($){return $.arrayBuffers===void 0&&($.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),$.arrayBuffers[this.array.buffer._uuid]===void 0&&($.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor($,_e,tt,nt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=$,this.itemSize=_e,this.offset=tt,this.normalized=nt}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate($){this.data.needsUpdate=$}applyMatrix4($){for(let _e=0,tt=this.data.count;_e<tt;_e++)_vector$6.fromBufferAttribute(this,_e),_vector$6.applyMatrix4($),this.setXYZ(_e,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix($){for(let _e=0,tt=this.count;_e<tt;_e++)_vector$6.fromBufferAttribute(this,_e),_vector$6.applyNormalMatrix($),this.setXYZ(_e,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection($){for(let _e=0,tt=this.count;_e<tt;_e++)_vector$6.fromBufferAttribute(this,_e),_vector$6.transformDirection($),this.setXYZ(_e,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX($,_e){return this.normalized&&(_e=normalize(_e,this.array)),this.data.array[$*this.data.stride+this.offset]=_e,this}setY($,_e){return this.normalized&&(_e=normalize(_e,this.array)),this.data.array[$*this.data.stride+this.offset+1]=_e,this}setZ($,_e){return this.normalized&&(_e=normalize(_e,this.array)),this.data.array[$*this.data.stride+this.offset+2]=_e,this}setW($,_e){return this.normalized&&(_e=normalize(_e,this.array)),this.data.array[$*this.data.stride+this.offset+3]=_e,this}getX($){let _e=this.data.array[$*this.data.stride+this.offset];return this.normalized&&(_e=denormalize(_e,this.array)),_e}getY($){let _e=this.data.array[$*this.data.stride+this.offset+1];return this.normalized&&(_e=denormalize(_e,this.array)),_e}getZ($){let _e=this.data.array[$*this.data.stride+this.offset+2];return this.normalized&&(_e=denormalize(_e,this.array)),_e}getW($){let _e=this.data.array[$*this.data.stride+this.offset+3];return this.normalized&&(_e=denormalize(_e,this.array)),_e}setXY($,_e,tt){return $=$*this.data.stride+this.offset,this.normalized&&(_e=normalize(_e,this.array),tt=normalize(tt,this.array)),this.data.array[$+0]=_e,this.data.array[$+1]=tt,this}setXYZ($,_e,tt,nt){return $=$*this.data.stride+this.offset,this.normalized&&(_e=normalize(_e,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.data.array[$+0]=_e,this.data.array[$+1]=tt,this.data.array[$+2]=nt,this}setXYZW($,_e,tt,nt,rt){return $=$*this.data.stride+this.offset,this.normalized&&(_e=normalize(_e,this.array),tt=normalize(tt,this.array),nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.data.array[$+0]=_e,this.data.array[$+1]=tt,this.data.array[$+2]=nt,this.data.array[$+3]=rt,this}clone($){if($===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const _e=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)_e.push(this.data.array[nt+rt])}return new BufferAttribute(new this.array.constructor(_e),this.itemSize,this.normalized)}else return $.interleavedBuffers===void 0&&($.interleavedBuffers={}),$.interleavedBuffers[this.data.uuid]===void 0&&($.interleavedBuffers[this.data.uuid]=this.data.clone($)),new InterleavedBufferAttribute($.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON($){if($===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const _e=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)_e.push(this.data.array[nt+rt])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:_e,normalized:this.normalized}}else return $.interleavedBuffers===void 0&&($.interleavedBuffers={}),$.interleavedBuffers[this.data.uuid]===void 0&&($.interleavedBuffers[this.data.uuid]=this.data.toJSON($)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor($){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.alphaMap=$.alphaMap,this.rotation=$.rotation,this.sizeAttenuation=$.sizeAttenuation,this.fog=$.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor($){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const _e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),tt=new InterleavedBuffer(_e,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(tt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(tt,2,3,!1))}this.geometry=_geometry,this.material=$!==void 0?$:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast($,_e){$.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy($.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices($.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),$.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const tt=this.material.rotation;let nt,rt;tt!==0&&(rt=Math.cos(tt),nt=Math.sin(tt));const it=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vB.set(.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vC.set(.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let st=$.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(st===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvB.set(0,1),st=$.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),st===null))return;const ot=$.ray.origin.distanceTo(_intersectPoint);ot<$.near||ot>$.far||_e.push({distance:ot,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy($,_e){return super.copy($,_e),$.center!==void 0&&this.center.copy($.center),this.material=$.material,this}}function transformVertex(et,$,_e,tt,nt,rt){_alignedPosition.subVectors(et,_e).addScalar(.5).multiply(tt),nt!==void 0?(_rotatedPosition.x=rt*_alignedPosition.x-nt*_alignedPosition.y,_rotatedPosition.y=nt*_alignedPosition.x+rt*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),et.copy($),et.x+=_rotatedPosition.x,et.y+=_rotatedPosition.y,et.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy($){super.copy($,!1);const _e=$.levels;for(let tt=0,nt=_e.length;tt<nt;tt++){const rt=_e[tt];this.addLevel(rt.object.clone(),rt.distance,rt.hysteresis)}return this.autoUpdate=$.autoUpdate,this}addLevel($,_e=0,tt=0){_e=Math.abs(_e);const nt=this.levels;let rt;for(rt=0;rt<nt.length&&!(_e<nt[rt].distance);rt++);return nt.splice(rt,0,{distance:_e,hysteresis:tt,object:$}),this.add($),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance($){const _e=this.levels;if(_e.length>0){let tt,nt;for(tt=1,nt=_e.length;tt<nt;tt++){let rt=_e[tt].distance;if(_e[tt].object.visible&&(rt-=rt*_e[tt].hysteresis),$<rt)break}return _e[tt-1].object}return null}raycast($,_e){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const nt=$.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(nt).raycast($,_e)}}update($){const _e=this.levels;if(_e.length>1){_v1$2.setFromMatrixPosition($.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const tt=_v1$2.distanceTo(_v2$1)/$.zoom;_e[0].object.visible=!0;let nt,rt;for(nt=1,rt=_e.length;nt<rt;nt++){let it=_e[nt].distance;if(_e[nt].object.visible&&(it-=it*_e[nt].hysteresis),tt>=it)_e[nt-1].object.visible=!1,_e[nt].object.visible=!0;else break}for(this._currentLevel=nt-1;nt<rt;nt++)_e[nt].object.visible=!1}}toJSON($){const _e=super.toJSON($);this.autoUpdate===!1&&(_e.object.autoUpdate=!1),_e.object.levels=[];const tt=this.levels;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];_e.object.levels.push({object:it.object.uuid,distance:it.distance,hysteresis:it.hysteresis})}return _e}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor($,_e){super($,_e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy($,_e){return super.copy($,_e),this.bindMode=$.bindMode,this.bindMatrix.copy($.bindMatrix),this.bindMatrixInverse.copy($.bindMatrixInverse),this.skeleton=$.skeleton,this}bind($,_e){this.skeleton=$,_e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),_e=this.matrixWorld),this.bindMatrix.copy(_e),this.bindMatrixInverse.copy(_e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const $=new Vector4,_e=this.geometry.attributes.skinWeight;for(let tt=0,nt=_e.count;tt<nt;tt++){$.fromBufferAttribute(_e,tt);const rt=1/$.manhattanLength();rt!==1/0?$.multiplyScalar(rt):$.set(1,0,0,0),_e.setXYZW(tt,$.x,$.y,$.z,$.w)}}updateMatrixWorld($){super.updateMatrixWorld($),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform($,_e){const tt=this.skeleton,nt=this.geometry;_skinIndex.fromBufferAttribute(nt.attributes.skinIndex,$),_skinWeight.fromBufferAttribute(nt.attributes.skinWeight,$),_basePosition.copy(_e).applyMatrix4(this.bindMatrix),_e.set(0,0,0);for(let rt=0;rt<4;rt++){const it=_skinWeight.getComponent(rt);if(it!==0){const st=_skinIndex.getComponent(rt);_matrix.multiplyMatrices(tt.bones[st].matrixWorld,tt.boneInverses[st]),_e.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),it)}}return _e.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor($=null,_e=1,tt=1,nt,rt,it,st,ot,at=NearestFilter,lt=NearestFilter,dt,ct){super(null,it,st,ot,at,lt,nt,rt,dt,ct),this.isDataTexture=!0,this.image={data:$,width:_e,height:tt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor($=[],_e=[]){this.uuid=generateUUID(),this.bones=$.slice(0),this.boneInverses=_e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const $=this.bones,_e=this.boneInverses;if(this.boneMatrices=new Float32Array($.length*16),_e.length===0)this.calculateInverses();else if($.length!==_e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let tt=0,nt=this.bones.length;tt<nt;tt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let $=0,_e=this.bones.length;$<_e;$++){const tt=new Matrix4;this.bones[$]&&tt.copy(this.bones[$].matrixWorld).invert(),this.boneInverses.push(tt)}}pose(){for(let $=0,_e=this.bones.length;$<_e;$++){const tt=this.bones[$];tt&&tt.matrixWorld.copy(this.boneInverses[$]).invert()}for(let $=0,_e=this.bones.length;$<_e;$++){const tt=this.bones[$];tt&&(tt.parent&&tt.parent.isBone?(tt.matrix.copy(tt.parent.matrixWorld).invert(),tt.matrix.multiply(tt.matrixWorld)):tt.matrix.copy(tt.matrixWorld),tt.matrix.decompose(tt.position,tt.quaternion,tt.scale))}}update(){const $=this.bones,_e=this.boneInverses,tt=this.boneMatrices,nt=this.boneTexture;for(let rt=0,it=$.length;rt<it;rt++){const st=$[rt]?$[rt].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(st,_e[rt]),_offsetMatrix.toArray(tt,rt*16)}nt!==null&&(nt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let $=Math.sqrt(this.bones.length*4);$=ceilPowerOfTwo($),$=Math.max($,4);const _e=new Float32Array($*$*4);_e.set(this.boneMatrices);const tt=new DataTexture(_e,$,$,RGBAFormat,FloatType);return tt.needsUpdate=!0,this.boneMatrices=_e,this.boneTexture=tt,this.boneTextureSize=$,this}getBoneByName($){for(let _e=0,tt=this.bones.length;_e<tt;_e++){const nt=this.bones[_e];if(nt.name===$)return nt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON($,_e){this.uuid=$.uuid;for(let tt=0,nt=$.bones.length;tt<nt;tt++){const rt=$.bones[tt];let it=_e[rt];it===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",rt),it=new Bone),this.bones.push(it),this.boneInverses.push(new Matrix4().fromArray($.boneInverses[tt]))}return this.init(),this}toJSON(){const $={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};$.uuid=this.uuid;const _e=this.bones,tt=this.boneInverses;for(let nt=0,rt=_e.length;nt<rt;nt++){const it=_e[nt];$.bones.push(it.uuid);const st=tt[nt];$.boneInverses.push(st.toArray())}return $}}class InstancedBufferAttribute extends BufferAttribute{constructor($,_e,tt,nt=1){super($,_e,tt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=nt}copy($){return super.copy($),this.meshPerAttribute=$.meshPerAttribute,this}toJSON(){const $=super.toJSON();return $.meshPerAttribute=this.meshPerAttribute,$.isInstancedBufferAttribute=!0,$}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_identity=new Matrix4,_mesh=new Mesh;class InstancedMesh extends Mesh{constructor($,_e,tt){super($,_e),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(tt*16),16),this.instanceColor=null,this.count=tt,this.frustumCulled=!1;for(let nt=0;nt<tt;nt++)this.setMatrixAt(nt,_identity)}copy($,_e){return super.copy($,_e),this.instanceMatrix.copy($.instanceMatrix),$.instanceColor!==null&&(this.instanceColor=$.instanceColor.clone()),this.count=$.count,this}getColorAt($,_e){_e.fromArray(this.instanceColor.array,$*3)}getMatrixAt($,_e){_e.fromArray(this.instanceMatrix.array,$*16)}raycast($,_e){const tt=this.matrixWorld,nt=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let rt=0;rt<nt;rt++){this.getMatrixAt(rt,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(tt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast($,_instanceIntersects);for(let it=0,st=_instanceIntersects.length;it<st;it++){const ot=_instanceIntersects[it];ot.instanceId=rt,ot.object=this,_e.push(ot)}_instanceIntersects.length=0}}setColorAt($,_e){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),_e.toArray(this.instanceColor.array,$*3)}setMatrixAt($,_e){_e.toArray(this.instanceMatrix.array,$*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor($){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.linewidth=$.linewidth,this.linecap=$.linecap,this.linejoin=$.linejoin,this.fog=$.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor($=new BufferGeometry,_e=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=$,this.material=_e,this.updateMorphTargets()}copy($,_e){return super.copy($,_e),this.material=$.material,this.geometry=$.geometry,this}computeLineDistances(){const $=this.geometry;if($.index===null){const _e=$.attributes.position,tt=[0];for(let nt=1,rt=_e.count;nt<rt;nt++)_start$1.fromBufferAttribute(_e,nt-1),_end$1.fromBufferAttribute(_e,nt),tt[nt]=tt[nt-1],tt[nt]+=_start$1.distanceTo(_end$1);$.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast($,_e){const tt=this.geometry,nt=this.matrixWorld,rt=$.params.Line.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$1.copy(tt.boundingSphere),_sphere$1.applyMatrix4(nt),_sphere$1.radius+=rt,$.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(nt).invert(),_ray$1.copy($.ray).applyMatrix4(_inverseMatrix$1);const st=rt/((this.scale.x+this.scale.y+this.scale.z)/3),ot=st*st,at=new Vector3,lt=new Vector3,dt=new Vector3,ct=new Vector3,pt=this.isLineSegments?2:1,mt=tt.index,gt=tt.attributes.position;if(mt!==null){const vt=Math.max(0,it.start),_t=Math.min(mt.count,it.start+it.count);for(let yt=vt,xt=_t-1;yt<xt;yt+=pt){const At=mt.getX(yt),Ct=mt.getX(yt+1);if(at.fromBufferAttribute(gt,At),lt.fromBufferAttribute(gt,Ct),_ray$1.distanceSqToSegment(at,lt,ct,dt)>ot)continue;ct.applyMatrix4(this.matrixWorld);const bt=$.ray.origin.distanceTo(ct);bt<$.near||bt>$.far||_e.push({distance:bt,point:dt.clone().applyMatrix4(this.matrixWorld),index:yt,face:null,faceIndex:null,object:this})}}else{const vt=Math.max(0,it.start),_t=Math.min(gt.count,it.start+it.count);for(let yt=vt,xt=_t-1;yt<xt;yt+=pt){if(at.fromBufferAttribute(gt,yt),lt.fromBufferAttribute(gt,yt+1),_ray$1.distanceSqToSegment(at,lt,ct,dt)>ot)continue;ct.applyMatrix4(this.matrixWorld);const Ct=$.ray.origin.distanceTo(ct);Ct<$.near||Ct>$.far||_e.push({distance:Ct,point:dt.clone().applyMatrix4(this.matrixWorld),index:yt,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const _e=this.geometry.morphAttributes,tt=Object.keys(_e);if(tt.length>0){const nt=_e[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor($,_e){super($,_e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const $=this.geometry;if($.index===null){const _e=$.attributes.position,tt=[];for(let nt=0,rt=_e.count;nt<rt;nt+=2)_start.fromBufferAttribute(_e,nt),_end.fromBufferAttribute(_e,nt+1),tt[nt]=nt===0?0:tt[nt-1],tt[nt+1]=tt[nt]+_start.distanceTo(_end);$.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor($,_e){super($,_e),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor($){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.alphaMap=$.alphaMap,this.size=$.size,this.sizeAttenuation=$.sizeAttenuation,this.fog=$.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor($=new BufferGeometry,_e=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=$,this.material=_e,this.updateMorphTargets()}copy($,_e){return super.copy($,_e),this.material=$.material,this.geometry=$.geometry,this}raycast($,_e){const tt=this.geometry,nt=this.matrixWorld,rt=$.params.Points.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere.copy(tt.boundingSphere),_sphere.applyMatrix4(nt),_sphere.radius+=rt,$.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(nt).invert(),_ray.copy($.ray).applyMatrix4(_inverseMatrix);const st=rt/((this.scale.x+this.scale.y+this.scale.z)/3),ot=st*st,at=tt.index,dt=tt.attributes.position;if(at!==null){const ct=Math.max(0,it.start),pt=Math.min(at.count,it.start+it.count);for(let mt=ct,ht=pt;mt<ht;mt++){const gt=at.getX(mt);_position$2.fromBufferAttribute(dt,gt),testPoint(_position$2,gt,ot,nt,$,_e,this)}}else{const ct=Math.max(0,it.start),pt=Math.min(dt.count,it.start+it.count);for(let mt=ct,ht=pt;mt<ht;mt++)_position$2.fromBufferAttribute(dt,mt),testPoint(_position$2,mt,ot,nt,$,_e,this)}}updateMorphTargets(){const _e=this.geometry.morphAttributes,tt=Object.keys(_e);if(tt.length>0){const nt=_e[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}}function testPoint(et,$,_e,tt,nt,rt,it){const st=_ray.distanceSqToPoint(et);if(st<_e){const ot=new Vector3;_ray.closestPointToPoint(et,ot),ot.applyMatrix4(tt);const at=nt.ray.origin.distanceTo(ot);if(at<nt.near||at>nt.far)return;rt.push({distance:at,distanceToRay:Math.sqrt(st),point:ot,index:$,face:null,object:it})}}class VideoTexture extends Texture{constructor($,_e,tt,nt,rt,it,st,ot,at){super($,_e,tt,nt,rt,it,st,ot,at),this.isVideoTexture=!0,this.minFilter=it!==void 0?it:LinearFilter,this.magFilter=rt!==void 0?rt:LinearFilter,this.generateMipmaps=!1;const lt=this;function dt(){lt.needsUpdate=!0,$.requestVideoFrameCallback(dt)}"requestVideoFrameCallback"in $&&$.requestVideoFrameCallback(dt)}clone(){return new this.constructor(this.image).copy(this)}update(){const $=this.image;"requestVideoFrameCallback"in $===!1&&$.readyState>=$.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor($,_e,tt){super({width:$,height:_e}),this.isFramebufferTexture=!0,this.format=tt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor($,_e,tt,nt,rt,it,st,ot,at,lt,dt,ct){super(null,it,st,ot,at,lt,nt,rt,dt,ct),this.isCompressedTexture=!0,this.image={width:_e,height:tt},this.mipmaps=$,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor($,_e,tt,nt,rt,it){super($,_e,tt,rt,it),this.isCompressedArrayTexture=!0,this.image.depth=nt,this.wrapR=ClampToEdgeWrapping}}class CanvasTexture extends Texture{constructor($,_e,tt,nt,rt,it,st,ot,at){super($,_e,tt,nt,rt,it,st,ot,at),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt($,_e){const tt=this.getUtoTmapping($);return this.getPoint(tt,_e)}getPoints($=5){const _e=[];for(let tt=0;tt<=$;tt++)_e.push(this.getPoint(tt/$));return _e}getSpacedPoints($=5){const _e=[];for(let tt=0;tt<=$;tt++)_e.push(this.getPointAt(tt/$));return _e}getLength(){const $=this.getLengths();return $[$.length-1]}getLengths($=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===$+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const _e=[];let tt,nt=this.getPoint(0),rt=0;_e.push(0);for(let it=1;it<=$;it++)tt=this.getPoint(it/$),rt+=tt.distanceTo(nt),_e.push(rt),nt=tt;return this.cacheArcLengths=_e,_e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping($,_e){const tt=this.getLengths();let nt=0;const rt=tt.length;let it;_e?it=_e:it=$*tt[rt-1];let st=0,ot=rt-1,at;for(;st<=ot;)if(nt=Math.floor(st+(ot-st)/2),at=tt[nt]-it,at<0)st=nt+1;else if(at>0)ot=nt-1;else{ot=nt;break}if(nt=ot,tt[nt]===it)return nt/(rt-1);const lt=tt[nt],ct=tt[nt+1]-lt,pt=(it-lt)/ct;return(nt+pt)/(rt-1)}getTangent($,_e){let nt=$-1e-4,rt=$+1e-4;nt<0&&(nt=0),rt>1&&(rt=1);const it=this.getPoint(nt),st=this.getPoint(rt),ot=_e||(it.isVector2?new Vector2:new Vector3);return ot.copy(st).sub(it).normalize(),ot}getTangentAt($,_e){const tt=this.getUtoTmapping($);return this.getTangent(tt,_e)}computeFrenetFrames($,_e){const tt=new Vector3,nt=[],rt=[],it=[],st=new Vector3,ot=new Matrix4;for(let pt=0;pt<=$;pt++){const mt=pt/$;nt[pt]=this.getTangentAt(mt,new Vector3)}rt[0]=new Vector3,it[0]=new Vector3;let at=Number.MAX_VALUE;const lt=Math.abs(nt[0].x),dt=Math.abs(nt[0].y),ct=Math.abs(nt[0].z);lt<=at&&(at=lt,tt.set(1,0,0)),dt<=at&&(at=dt,tt.set(0,1,0)),ct<=at&&tt.set(0,0,1),st.crossVectors(nt[0],tt).normalize(),rt[0].crossVectors(nt[0],st),it[0].crossVectors(nt[0],rt[0]);for(let pt=1;pt<=$;pt++){if(rt[pt]=rt[pt-1].clone(),it[pt]=it[pt-1].clone(),st.crossVectors(nt[pt-1],nt[pt]),st.length()>Number.EPSILON){st.normalize();const mt=Math.acos(clamp$1(nt[pt-1].dot(nt[pt]),-1,1));rt[pt].applyMatrix4(ot.makeRotationAxis(st,mt))}it[pt].crossVectors(nt[pt],rt[pt])}if(_e===!0){let pt=Math.acos(clamp$1(rt[0].dot(rt[$]),-1,1));pt/=$,nt[0].dot(st.crossVectors(rt[0],rt[$]))>0&&(pt=-pt);for(let mt=1;mt<=$;mt++)rt[mt].applyMatrix4(ot.makeRotationAxis(nt[mt],pt*mt)),it[mt].crossVectors(nt[mt],rt[mt])}return{tangents:nt,normals:rt,binormals:it}}clone(){return new this.constructor().copy(this)}copy($){return this.arcLengthDivisions=$.arcLengthDivisions,this}toJSON(){const $={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return $.arcLengthDivisions=this.arcLengthDivisions,$.type=this.type,$}fromJSON($){return this.arcLengthDivisions=$.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor($=0,_e=0,tt=1,nt=1,rt=0,it=Math.PI*2,st=!1,ot=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=$,this.aY=_e,this.xRadius=tt,this.yRadius=nt,this.aStartAngle=rt,this.aEndAngle=it,this.aClockwise=st,this.aRotation=ot}getPoint($,_e){const tt=_e||new Vector2,nt=Math.PI*2;let rt=this.aEndAngle-this.aStartAngle;const it=Math.abs(rt)<Number.EPSILON;for(;rt<0;)rt+=nt;for(;rt>nt;)rt-=nt;rt<Number.EPSILON&&(it?rt=0:rt=nt),this.aClockwise===!0&&!it&&(rt===nt?rt=-nt:rt=rt-nt);const st=this.aStartAngle+$*rt;let ot=this.aX+this.xRadius*Math.cos(st),at=this.aY+this.yRadius*Math.sin(st);if(this.aRotation!==0){const lt=Math.cos(this.aRotation),dt=Math.sin(this.aRotation),ct=ot-this.aX,pt=at-this.aY;ot=ct*lt-pt*dt+this.aX,at=ct*dt+pt*lt+this.aY}return tt.set(ot,at)}copy($){return super.copy($),this.aX=$.aX,this.aY=$.aY,this.xRadius=$.xRadius,this.yRadius=$.yRadius,this.aStartAngle=$.aStartAngle,this.aEndAngle=$.aEndAngle,this.aClockwise=$.aClockwise,this.aRotation=$.aRotation,this}toJSON(){const $=super.toJSON();return $.aX=this.aX,$.aY=this.aY,$.xRadius=this.xRadius,$.yRadius=this.yRadius,$.aStartAngle=this.aStartAngle,$.aEndAngle=this.aEndAngle,$.aClockwise=this.aClockwise,$.aRotation=this.aRotation,$}fromJSON($){return super.fromJSON($),this.aX=$.aX,this.aY=$.aY,this.xRadius=$.xRadius,this.yRadius=$.yRadius,this.aStartAngle=$.aStartAngle,this.aEndAngle=$.aEndAngle,this.aClockwise=$.aClockwise,this.aRotation=$.aRotation,this}}class ArcCurve extends EllipseCurve{constructor($,_e,tt,nt,rt,it){super($,_e,tt,tt,nt,rt,it),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let et=0,$=0,_e=0,tt=0;function nt(rt,it,st,ot){et=rt,$=st,_e=-3*rt+3*it-2*st-ot,tt=2*rt-2*it+st+ot}return{initCatmullRom:function(rt,it,st,ot,at){nt(it,st,at*(st-rt),at*(ot-it))},initNonuniformCatmullRom:function(rt,it,st,ot,at,lt,dt){let ct=(it-rt)/at-(st-rt)/(at+lt)+(st-it)/lt,pt=(st-it)/lt-(ot-it)/(lt+dt)+(ot-st)/dt;ct*=lt,pt*=lt,nt(it,st,ct,pt)},calc:function(rt){const it=rt*rt,st=it*rt;return et+$*rt+_e*it+tt*st}}}const tmp=new Vector3,px$1=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor($=[],_e=!1,tt="centripetal",nt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=$,this.closed=_e,this.curveType=tt,this.tension=nt}getPoint($,_e=new Vector3){const tt=_e,nt=this.points,rt=nt.length,it=(rt-(this.closed?0:1))*$;let st=Math.floor(it),ot=it-st;this.closed?st+=st>0?0:(Math.floor(Math.abs(st)/rt)+1)*rt:ot===0&&st===rt-1&&(st=rt-2,ot=1);let at,lt;this.closed||st>0?at=nt[(st-1)%rt]:(tmp.subVectors(nt[0],nt[1]).add(nt[0]),at=tmp);const dt=nt[st%rt],ct=nt[(st+1)%rt];if(this.closed||st+2<rt?lt=nt[(st+2)%rt]:(tmp.subVectors(nt[rt-1],nt[rt-2]).add(nt[rt-1]),lt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const pt=this.curveType==="chordal"?.5:.25;let mt=Math.pow(at.distanceToSquared(dt),pt),ht=Math.pow(dt.distanceToSquared(ct),pt),gt=Math.pow(ct.distanceToSquared(lt),pt);ht<1e-4&&(ht=1),mt<1e-4&&(mt=ht),gt<1e-4&&(gt=ht),px$1.initNonuniformCatmullRom(at.x,dt.x,ct.x,lt.x,mt,ht,gt),py.initNonuniformCatmullRom(at.y,dt.y,ct.y,lt.y,mt,ht,gt),pz.initNonuniformCatmullRom(at.z,dt.z,ct.z,lt.z,mt,ht,gt)}else this.curveType==="catmullrom"&&(px$1.initCatmullRom(at.x,dt.x,ct.x,lt.x,this.tension),py.initCatmullRom(at.y,dt.y,ct.y,lt.y,this.tension),pz.initCatmullRom(at.z,dt.z,ct.z,lt.z,this.tension));return tt.set(px$1.calc(ot),py.calc(ot),pz.calc(ot)),tt}copy($){super.copy($),this.points=[];for(let _e=0,tt=$.points.length;_e<tt;_e++){const nt=$.points[_e];this.points.push(nt.clone())}return this.closed=$.closed,this.curveType=$.curveType,this.tension=$.tension,this}toJSON(){const $=super.toJSON();$.points=[];for(let _e=0,tt=this.points.length;_e<tt;_e++){const nt=this.points[_e];$.points.push(nt.toArray())}return $.closed=this.closed,$.curveType=this.curveType,$.tension=this.tension,$}fromJSON($){super.fromJSON($),this.points=[];for(let _e=0,tt=$.points.length;_e<tt;_e++){const nt=$.points[_e];this.points.push(new Vector3().fromArray(nt))}return this.closed=$.closed,this.curveType=$.curveType,this.tension=$.tension,this}}function CatmullRom(et,$,_e,tt,nt){const rt=(tt-$)*.5,it=(nt-_e)*.5,st=et*et,ot=et*st;return(2*_e-2*tt+rt+it)*ot+(-3*_e+3*tt-2*rt-it)*st+rt*et+_e}function QuadraticBezierP0(et,$){const _e=1-et;return _e*_e*$}function QuadraticBezierP1(et,$){return 2*(1-et)*et*$}function QuadraticBezierP2(et,$){return et*et*$}function QuadraticBezier(et,$,_e,tt){return QuadraticBezierP0(et,$)+QuadraticBezierP1(et,_e)+QuadraticBezierP2(et,tt)}function CubicBezierP0(et,$){const _e=1-et;return _e*_e*_e*$}function CubicBezierP1(et,$){const _e=1-et;return 3*_e*_e*et*$}function CubicBezierP2(et,$){return 3*(1-et)*et*et*$}function CubicBezierP3(et,$){return et*et*et*$}function CubicBezier(et,$,_e,tt,nt){return CubicBezierP0(et,$)+CubicBezierP1(et,_e)+CubicBezierP2(et,tt)+CubicBezierP3(et,nt)}class CubicBezierCurve extends Curve{constructor($=new Vector2,_e=new Vector2,tt=new Vector2,nt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=$,this.v1=_e,this.v2=tt,this.v3=nt}getPoint($,_e=new Vector2){const tt=_e,nt=this.v0,rt=this.v1,it=this.v2,st=this.v3;return tt.set(CubicBezier($,nt.x,rt.x,it.x,st.x),CubicBezier($,nt.y,rt.y,it.y,st.y)),tt}copy($){return super.copy($),this.v0.copy($.v0),this.v1.copy($.v1),this.v2.copy($.v2),this.v3.copy($.v3),this}toJSON(){const $=super.toJSON();return $.v0=this.v0.toArray(),$.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$.v3=this.v3.toArray(),$}fromJSON($){return super.fromJSON($),this.v0.fromArray($.v0),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this.v3.fromArray($.v3),this}}class CubicBezierCurve3 extends Curve{constructor($=new Vector3,_e=new Vector3,tt=new Vector3,nt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=$,this.v1=_e,this.v2=tt,this.v3=nt}getPoint($,_e=new Vector3){const tt=_e,nt=this.v0,rt=this.v1,it=this.v2,st=this.v3;return tt.set(CubicBezier($,nt.x,rt.x,it.x,st.x),CubicBezier($,nt.y,rt.y,it.y,st.y),CubicBezier($,nt.z,rt.z,it.z,st.z)),tt}copy($){return super.copy($),this.v0.copy($.v0),this.v1.copy($.v1),this.v2.copy($.v2),this.v3.copy($.v3),this}toJSON(){const $=super.toJSON();return $.v0=this.v0.toArray(),$.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$.v3=this.v3.toArray(),$}fromJSON($){return super.fromJSON($),this.v0.fromArray($.v0),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this.v3.fromArray($.v3),this}}class LineCurve extends Curve{constructor($=new Vector2,_e=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=$,this.v2=_e}getPoint($,_e=new Vector2){const tt=_e;return $===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar($).add(this.v1)),tt}getPointAt($,_e){return this.getPoint($,_e)}getTangent($,_e=new Vector2){return _e.subVectors(this.v2,this.v1).normalize()}getTangentAt($,_e){return this.getTangent($,_e)}copy($){return super.copy($),this.v1.copy($.v1),this.v2.copy($.v2),this}toJSON(){const $=super.toJSON();return $.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$}fromJSON($){return super.fromJSON($),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this}}class LineCurve3 extends Curve{constructor($=new Vector3,_e=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=$,this.v2=_e}getPoint($,_e=new Vector3){const tt=_e;return $===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar($).add(this.v1)),tt}getPointAt($,_e){return this.getPoint($,_e)}getTangent($,_e=new Vector3){return _e.subVectors(this.v2,this.v1).normalize()}getTangentAt($,_e){return this.getTangent($,_e)}copy($){return super.copy($),this.v1.copy($.v1),this.v2.copy($.v2),this}toJSON(){const $=super.toJSON();return $.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$}fromJSON($){return super.fromJSON($),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this}}class QuadraticBezierCurve extends Curve{constructor($=new Vector2,_e=new Vector2,tt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=$,this.v1=_e,this.v2=tt}getPoint($,_e=new Vector2){const tt=_e,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier($,nt.x,rt.x,it.x),QuadraticBezier($,nt.y,rt.y,it.y)),tt}copy($){return super.copy($),this.v0.copy($.v0),this.v1.copy($.v1),this.v2.copy($.v2),this}toJSON(){const $=super.toJSON();return $.v0=this.v0.toArray(),$.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$}fromJSON($){return super.fromJSON($),this.v0.fromArray($.v0),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor($=new Vector3,_e=new Vector3,tt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=$,this.v1=_e,this.v2=tt}getPoint($,_e=new Vector3){const tt=_e,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier($,nt.x,rt.x,it.x),QuadraticBezier($,nt.y,rt.y,it.y),QuadraticBezier($,nt.z,rt.z,it.z)),tt}copy($){return super.copy($),this.v0.copy($.v0),this.v1.copy($.v1),this.v2.copy($.v2),this}toJSON(){const $=super.toJSON();return $.v0=this.v0.toArray(),$.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$}fromJSON($){return super.fromJSON($),this.v0.fromArray($.v0),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this}}class SplineCurve extends Curve{constructor($=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=$}getPoint($,_e=new Vector2){const tt=_e,nt=this.points,rt=(nt.length-1)*$,it=Math.floor(rt),st=rt-it,ot=nt[it===0?it:it-1],at=nt[it],lt=nt[it>nt.length-2?nt.length-1:it+1],dt=nt[it>nt.length-3?nt.length-1:it+2];return tt.set(CatmullRom(st,ot.x,at.x,lt.x,dt.x),CatmullRom(st,ot.y,at.y,lt.y,dt.y)),tt}copy($){super.copy($),this.points=[];for(let _e=0,tt=$.points.length;_e<tt;_e++){const nt=$.points[_e];this.points.push(nt.clone())}return this}toJSON(){const $=super.toJSON();$.points=[];for(let _e=0,tt=this.points.length;_e<tt;_e++){const nt=this.points[_e];$.points.push(nt.toArray())}return $}fromJSON($){super.fromJSON($),this.points=[];for(let _e=0,tt=$.points.length;_e<tt;_e++){const nt=$.points[_e];this.points.push(new Vector2().fromArray(nt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add($){this.curves.push($)}closePath(){const $=this.curves[0].getPoint(0),_e=this.curves[this.curves.length-1].getPoint(1);$.equals(_e)||this.curves.push(new LineCurve(_e,$))}getPoint($,_e){const tt=$*this.getLength(),nt=this.getCurveLengths();let rt=0;for(;rt<nt.length;){if(nt[rt]>=tt){const it=nt[rt]-tt,st=this.curves[rt],ot=st.getLength(),at=ot===0?0:1-it/ot;return st.getPointAt(at,_e)}rt++}return null}getLength(){const $=this.getCurveLengths();return $[$.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const $=[];let _e=0;for(let tt=0,nt=this.curves.length;tt<nt;tt++)_e+=this.curves[tt].getLength(),$.push(_e);return this.cacheLengths=$,$}getSpacedPoints($=40){const _e=[];for(let tt=0;tt<=$;tt++)_e.push(this.getPoint(tt/$));return this.autoClose&&_e.push(_e[0]),_e}getPoints($=12){const _e=[];let tt;for(let nt=0,rt=this.curves;nt<rt.length;nt++){const it=rt[nt],st=it.isEllipseCurve?$*2:it.isLineCurve||it.isLineCurve3?1:it.isSplineCurve?$*it.points.length:$,ot=it.getPoints(st);for(let at=0;at<ot.length;at++){const lt=ot[at];tt&&tt.equals(lt)||(_e.push(lt),tt=lt)}}return this.autoClose&&_e.length>1&&!_e[_e.length-1].equals(_e[0])&&_e.push(_e[0]),_e}copy($){super.copy($),this.curves=[];for(let _e=0,tt=$.curves.length;_e<tt;_e++){const nt=$.curves[_e];this.curves.push(nt.clone())}return this.autoClose=$.autoClose,this}toJSON(){const $=super.toJSON();$.autoClose=this.autoClose,$.curves=[];for(let _e=0,tt=this.curves.length;_e<tt;_e++){const nt=this.curves[_e];$.curves.push(nt.toJSON())}return $}fromJSON($){super.fromJSON($),this.autoClose=$.autoClose,this.curves=[];for(let _e=0,tt=$.curves.length;_e<tt;_e++){const nt=$.curves[_e];this.curves.push(new Curves[nt.type]().fromJSON(nt))}return this}}class Path extends CurvePath{constructor($){super(),this.type="Path",this.currentPoint=new Vector2,$&&this.setFromPoints($)}setFromPoints($){this.moveTo($[0].x,$[0].y);for(let _e=1,tt=$.length;_e<tt;_e++)this.lineTo($[_e].x,$[_e].y);return this}moveTo($,_e){return this.currentPoint.set($,_e),this}lineTo($,_e){const tt=new LineCurve(this.currentPoint.clone(),new Vector2($,_e));return this.curves.push(tt),this.currentPoint.set($,_e),this}quadraticCurveTo($,_e,tt,nt){const rt=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2($,_e),new Vector2(tt,nt));return this.curves.push(rt),this.currentPoint.set(tt,nt),this}bezierCurveTo($,_e,tt,nt,rt,it){const st=new CubicBezierCurve(this.currentPoint.clone(),new Vector2($,_e),new Vector2(tt,nt),new Vector2(rt,it));return this.curves.push(st),this.currentPoint.set(rt,it),this}splineThru($){const _e=[this.currentPoint.clone()].concat($),tt=new SplineCurve(_e);return this.curves.push(tt),this.currentPoint.copy($[$.length-1]),this}arc($,_e,tt,nt,rt,it){const st=this.currentPoint.x,ot=this.currentPoint.y;return this.absarc($+st,_e+ot,tt,nt,rt,it),this}absarc($,_e,tt,nt,rt,it){return this.absellipse($,_e,tt,tt,nt,rt,it),this}ellipse($,_e,tt,nt,rt,it,st,ot){const at=this.currentPoint.x,lt=this.currentPoint.y;return this.absellipse($+at,_e+lt,tt,nt,rt,it,st,ot),this}absellipse($,_e,tt,nt,rt,it,st,ot){const at=new EllipseCurve($,_e,tt,nt,rt,it,st,ot);if(this.curves.length>0){const dt=at.getPoint(0);dt.equals(this.currentPoint)||this.lineTo(dt.x,dt.y)}this.curves.push(at);const lt=at.getPoint(1);return this.currentPoint.copy(lt),this}copy($){return super.copy($),this.currentPoint.copy($.currentPoint),this}toJSON(){const $=super.toJSON();return $.currentPoint=this.currentPoint.toArray(),$}fromJSON($){return super.fromJSON($),this.currentPoint.fromArray($.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor($=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],_e=12,tt=0,nt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:$,segments:_e,phiStart:tt,phiLength:nt},_e=Math.floor(_e),nt=clamp$1(nt,0,Math.PI*2);const rt=[],it=[],st=[],ot=[],at=[],lt=1/_e,dt=new Vector3,ct=new Vector2,pt=new Vector3,mt=new Vector3,ht=new Vector3;let gt=0,vt=0;for(let _t=0;_t<=$.length-1;_t++)switch(_t){case 0:gt=$[_t+1].x-$[_t].x,vt=$[_t+1].y-$[_t].y,pt.x=vt*1,pt.y=-gt,pt.z=vt*0,ht.copy(pt),pt.normalize(),ot.push(pt.x,pt.y,pt.z);break;case $.length-1:ot.push(ht.x,ht.y,ht.z);break;default:gt=$[_t+1].x-$[_t].x,vt=$[_t+1].y-$[_t].y,pt.x=vt*1,pt.y=-gt,pt.z=vt*0,mt.copy(pt),pt.x+=ht.x,pt.y+=ht.y,pt.z+=ht.z,pt.normalize(),ot.push(pt.x,pt.y,pt.z),ht.copy(mt)}for(let _t=0;_t<=_e;_t++){const yt=tt+_t*lt*nt,xt=Math.sin(yt),At=Math.cos(yt);for(let Ct=0;Ct<=$.length-1;Ct++){dt.x=$[Ct].x*xt,dt.y=$[Ct].y,dt.z=$[Ct].x*At,it.push(dt.x,dt.y,dt.z),ct.x=_t/_e,ct.y=Ct/($.length-1),st.push(ct.x,ct.y);const Pt=ot[3*Ct+0]*xt,bt=ot[3*Ct+1],Mt=ot[3*Ct+0]*At;at.push(Pt,bt,Mt)}}for(let _t=0;_t<_e;_t++)for(let yt=0;yt<$.length-1;yt++){const xt=yt+_t*$.length,At=xt,Ct=xt+$.length,Pt=xt+$.length+1,bt=xt+1;rt.push(At,Ct,bt),rt.push(Pt,bt,Ct)}this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),this.setAttribute("normal",new Float32BufferAttribute(at,3))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new LatheGeometry($.points,$.segments,$.phiStart,$.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor($=1,_e=1,tt=4,nt=8){const rt=new Path;rt.absarc(0,-_e/2,$,Math.PI*1.5,0),rt.absarc(0,_e/2,$,0,Math.PI*.5),super(rt.getPoints(tt),nt),this.type="CapsuleGeometry",this.parameters={radius:$,height:_e,capSegments:tt,radialSegments:nt}}static fromJSON($){return new CapsuleGeometry($.radius,$.length,$.capSegments,$.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor($=1,_e=32,tt=0,nt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:$,segments:_e,thetaStart:tt,thetaLength:nt},_e=Math.max(3,_e);const rt=[],it=[],st=[],ot=[],at=new Vector3,lt=new Vector2;it.push(0,0,0),st.push(0,0,1),ot.push(.5,.5);for(let dt=0,ct=3;dt<=_e;dt++,ct+=3){const pt=tt+dt/_e*nt;at.x=$*Math.cos(pt),at.y=$*Math.sin(pt),it.push(at.x,at.y,at.z),st.push(0,0,1),lt.x=(it[ct]/$+1)/2,lt.y=(it[ct+1]/$+1)/2,ot.push(lt.x,lt.y)}for(let dt=1;dt<=_e;dt++)rt.push(dt,dt+1,0);this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new CircleGeometry($.radius,$.segments,$.thetaStart,$.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor($=1,_e=1,tt=1,nt=32,rt=1,it=!1,st=0,ot=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:$,radiusBottom:_e,height:tt,radialSegments:nt,heightSegments:rt,openEnded:it,thetaStart:st,thetaLength:ot};const at=this;nt=Math.floor(nt),rt=Math.floor(rt);const lt=[],dt=[],ct=[],pt=[];let mt=0;const ht=[],gt=tt/2;let vt=0;_t(),it===!1&&($>0&&yt(!0),_e>0&&yt(!1)),this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(pt,2));function _t(){const xt=new Vector3,At=new Vector3;let Ct=0;const Pt=(_e-$)/tt;for(let bt=0;bt<=rt;bt++){const Mt=[],Tt=bt/rt,Ft=Tt*(_e-$)+$;for(let Gt=0;Gt<=nt;Gt++){const Wt=Gt/nt,It=Wt*ot+st,Kt=Math.sin(It),Ut=Math.cos(It);At.x=Ft*Kt,At.y=-Tt*tt+gt,At.z=Ft*Ut,dt.push(At.x,At.y,At.z),xt.set(Kt,Pt,Ut).normalize(),ct.push(xt.x,xt.y,xt.z),pt.push(Wt,1-Tt),Mt.push(mt++)}ht.push(Mt)}for(let bt=0;bt<nt;bt++)for(let Mt=0;Mt<rt;Mt++){const Tt=ht[Mt][bt],Ft=ht[Mt+1][bt],Gt=ht[Mt+1][bt+1],Wt=ht[Mt][bt+1];lt.push(Tt,Ft,Wt),lt.push(Ft,Gt,Wt),Ct+=6}at.addGroup(vt,Ct,0),vt+=Ct}function yt(xt){const At=mt,Ct=new Vector2,Pt=new Vector3;let bt=0;const Mt=xt===!0?$:_e,Tt=xt===!0?1:-1;for(let Gt=1;Gt<=nt;Gt++)dt.push(0,gt*Tt,0),ct.push(0,Tt,0),pt.push(.5,.5),mt++;const Ft=mt;for(let Gt=0;Gt<=nt;Gt++){const It=Gt/nt*ot+st,Kt=Math.cos(It),Ut=Math.sin(It);Pt.x=Mt*Ut,Pt.y=gt*Tt,Pt.z=Mt*Kt,dt.push(Pt.x,Pt.y,Pt.z),ct.push(0,Tt,0),Ct.x=Kt*.5+.5,Ct.y=Ut*.5*Tt+.5,pt.push(Ct.x,Ct.y),mt++}for(let Gt=0;Gt<nt;Gt++){const Wt=At+Gt,It=Ft+Gt;xt===!0?lt.push(It,It+1,Wt):lt.push(It+1,It,Wt),bt+=3}at.addGroup(vt,bt,xt===!0?1:2),vt+=bt}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new CylinderGeometry($.radiusTop,$.radiusBottom,$.height,$.radialSegments,$.heightSegments,$.openEnded,$.thetaStart,$.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor($=1,_e=1,tt=32,nt=1,rt=!1,it=0,st=Math.PI*2){super(0,$,_e,tt,nt,rt,it,st),this.type="ConeGeometry",this.parameters={radius:$,height:_e,radialSegments:tt,heightSegments:nt,openEnded:rt,thetaStart:it,thetaLength:st}}static fromJSON($){return new ConeGeometry($.radius,$.height,$.radialSegments,$.heightSegments,$.openEnded,$.thetaStart,$.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor($=[],_e=[],tt=1,nt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:$,indices:_e,radius:tt,detail:nt};const rt=[],it=[];st(nt),at(tt),lt(),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(it,2)),nt===0?this.computeVertexNormals():this.normalizeNormals();function st(_t){const yt=new Vector3,xt=new Vector3,At=new Vector3;for(let Ct=0;Ct<_e.length;Ct+=3)pt(_e[Ct+0],yt),pt(_e[Ct+1],xt),pt(_e[Ct+2],At),ot(yt,xt,At,_t)}function ot(_t,yt,xt,At){const Ct=At+1,Pt=[];for(let bt=0;bt<=Ct;bt++){Pt[bt]=[];const Mt=_t.clone().lerp(xt,bt/Ct),Tt=yt.clone().lerp(xt,bt/Ct),Ft=Ct-bt;for(let Gt=0;Gt<=Ft;Gt++)Gt===0&&bt===Ct?Pt[bt][Gt]=Mt:Pt[bt][Gt]=Mt.clone().lerp(Tt,Gt/Ft)}for(let bt=0;bt<Ct;bt++)for(let Mt=0;Mt<2*(Ct-bt)-1;Mt++){const Tt=Math.floor(Mt/2);Mt%2===0?(ct(Pt[bt][Tt+1]),ct(Pt[bt+1][Tt]),ct(Pt[bt][Tt])):(ct(Pt[bt][Tt+1]),ct(Pt[bt+1][Tt+1]),ct(Pt[bt+1][Tt]))}}function at(_t){const yt=new Vector3;for(let xt=0;xt<rt.length;xt+=3)yt.x=rt[xt+0],yt.y=rt[xt+1],yt.z=rt[xt+2],yt.normalize().multiplyScalar(_t),rt[xt+0]=yt.x,rt[xt+1]=yt.y,rt[xt+2]=yt.z}function lt(){const _t=new Vector3;for(let yt=0;yt<rt.length;yt+=3){_t.x=rt[yt+0],_t.y=rt[yt+1],_t.z=rt[yt+2];const xt=gt(_t)/2/Math.PI+.5,At=vt(_t)/Math.PI+.5;it.push(xt,1-At)}mt(),dt()}function dt(){for(let _t=0;_t<it.length;_t+=6){const yt=it[_t+0],xt=it[_t+2],At=it[_t+4],Ct=Math.max(yt,xt,At),Pt=Math.min(yt,xt,At);Ct>.9&&Pt<.1&&(yt<.2&&(it[_t+0]+=1),xt<.2&&(it[_t+2]+=1),At<.2&&(it[_t+4]+=1))}}function ct(_t){rt.push(_t.x,_t.y,_t.z)}function pt(_t,yt){const xt=_t*3;yt.x=$[xt+0],yt.y=$[xt+1],yt.z=$[xt+2]}function mt(){const _t=new Vector3,yt=new Vector3,xt=new Vector3,At=new Vector3,Ct=new Vector2,Pt=new Vector2,bt=new Vector2;for(let Mt=0,Tt=0;Mt<rt.length;Mt+=9,Tt+=6){_t.set(rt[Mt+0],rt[Mt+1],rt[Mt+2]),yt.set(rt[Mt+3],rt[Mt+4],rt[Mt+5]),xt.set(rt[Mt+6],rt[Mt+7],rt[Mt+8]),Ct.set(it[Tt+0],it[Tt+1]),Pt.set(it[Tt+2],it[Tt+3]),bt.set(it[Tt+4],it[Tt+5]),At.copy(_t).add(yt).add(xt).divideScalar(3);const Ft=gt(At);ht(Ct,Tt+0,_t,Ft),ht(Pt,Tt+2,yt,Ft),ht(bt,Tt+4,xt,Ft)}}function ht(_t,yt,xt,At){At<0&&_t.x===1&&(it[yt]=_t.x-1),xt.x===0&&xt.z===0&&(it[yt]=At/2/Math.PI+.5)}function gt(_t){return Math.atan2(_t.z,-_t.x)}function vt(_t){return Math.atan2(-_t.y,Math.sqrt(_t.x*_t.x+_t.z*_t.z))}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new PolyhedronGeometry($.vertices,$.indices,$.radius,$.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor($=1,_e=0){const tt=(1+Math.sqrt(5))/2,nt=1/tt,rt=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-nt,-tt,0,-nt,tt,0,nt,-tt,0,nt,tt,-nt,-tt,0,-nt,tt,0,nt,-tt,0,nt,tt,0,-tt,0,-nt,tt,0,-nt,-tt,0,nt,tt,0,nt],it=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(rt,it,$,_e),this.type="DodecahedronGeometry",this.parameters={radius:$,detail:_e}}static fromJSON($){return new DodecahedronGeometry($.radius,$.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor($=null,_e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:$,thresholdAngle:_e},$!==null){const nt=Math.pow(10,4),rt=Math.cos(DEG2RAD*_e),it=$.getIndex(),st=$.getAttribute("position"),ot=it?it.count:st.count,at=[0,0,0],lt=["a","b","c"],dt=new Array(3),ct={},pt=[];for(let mt=0;mt<ot;mt+=3){it?(at[0]=it.getX(mt),at[1]=it.getX(mt+1),at[2]=it.getX(mt+2)):(at[0]=mt,at[1]=mt+1,at[2]=mt+2);const{a:ht,b:gt,c:vt}=_triangle;if(ht.fromBufferAttribute(st,at[0]),gt.fromBufferAttribute(st,at[1]),vt.fromBufferAttribute(st,at[2]),_triangle.getNormal(_normal),dt[0]=`${Math.round(ht.x*nt)},${Math.round(ht.y*nt)},${Math.round(ht.z*nt)}`,dt[1]=`${Math.round(gt.x*nt)},${Math.round(gt.y*nt)},${Math.round(gt.z*nt)}`,dt[2]=`${Math.round(vt.x*nt)},${Math.round(vt.y*nt)},${Math.round(vt.z*nt)}`,!(dt[0]===dt[1]||dt[1]===dt[2]||dt[2]===dt[0]))for(let _t=0;_t<3;_t++){const yt=(_t+1)%3,xt=dt[_t],At=dt[yt],Ct=_triangle[lt[_t]],Pt=_triangle[lt[yt]],bt=`${xt}_${At}`,Mt=`${At}_${xt}`;Mt in ct&&ct[Mt]?(_normal.dot(ct[Mt].normal)<=rt&&(pt.push(Ct.x,Ct.y,Ct.z),pt.push(Pt.x,Pt.y,Pt.z)),ct[Mt]=null):bt in ct||(ct[bt]={index0:at[_t],index1:at[yt],normal:_normal.clone()})}}for(const mt in ct)if(ct[mt]){const{index0:ht,index1:gt}=ct[mt];_v0.fromBufferAttribute(st,ht),_v1$1.fromBufferAttribute(st,gt),pt.push(_v0.x,_v0.y,_v0.z),pt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(pt,3))}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}}class Shape extends Path{constructor($){super($),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles($){const _e=[];for(let tt=0,nt=this.holes.length;tt<nt;tt++)_e[tt]=this.holes[tt].getPoints($);return _e}extractPoints($){return{shape:this.getPoints($),holes:this.getPointsHoles($)}}copy($){super.copy($),this.holes=[];for(let _e=0,tt=$.holes.length;_e<tt;_e++){const nt=$.holes[_e];this.holes.push(nt.clone())}return this}toJSON(){const $=super.toJSON();$.uuid=this.uuid,$.holes=[];for(let _e=0,tt=this.holes.length;_e<tt;_e++){const nt=this.holes[_e];$.holes.push(nt.toJSON())}return $}fromJSON($){super.fromJSON($),this.uuid=$.uuid,this.holes=[];for(let _e=0,tt=$.holes.length;_e<tt;_e++){const nt=$.holes[_e];this.holes.push(new Path().fromJSON(nt))}return this}}const Earcut={triangulate:function(et,$,_e=2){const tt=$&&$.length,nt=tt?$[0]*_e:et.length;let rt=linkedList(et,0,nt,_e,!0);const it=[];if(!rt||rt.next===rt.prev)return it;let st,ot,at,lt,dt,ct,pt;if(tt&&(rt=eliminateHoles(et,$,rt,_e)),et.length>80*_e){st=at=et[0],ot=lt=et[1];for(let mt=_e;mt<nt;mt+=_e)dt=et[mt],ct=et[mt+1],dt<st&&(st=dt),ct<ot&&(ot=ct),dt>at&&(at=dt),ct>lt&&(lt=ct);pt=Math.max(at-st,lt-ot),pt=pt!==0?32767/pt:0}return earcutLinked(rt,it,_e,st,ot,pt,0),it}};function linkedList(et,$,_e,tt,nt){let rt,it;if(nt===signedArea(et,$,_e,tt)>0)for(rt=$;rt<_e;rt+=tt)it=insertNode(rt,et[rt],et[rt+1],it);else for(rt=_e-tt;rt>=$;rt-=tt)it=insertNode(rt,et[rt],et[rt+1],it);return it&&equals(it,it.next)&&(removeNode(it),it=it.next),it}function filterPoints(et,$){if(!et)return et;$||($=et);let _e=et,tt;do if(tt=!1,!_e.steiner&&(equals(_e,_e.next)||area(_e.prev,_e,_e.next)===0)){if(removeNode(_e),_e=$=_e.prev,_e===_e.next)break;tt=!0}else _e=_e.next;while(tt||_e!==$);return $}function earcutLinked(et,$,_e,tt,nt,rt,it){if(!et)return;!it&&rt&&indexCurve(et,tt,nt,rt);let st=et,ot,at;for(;et.prev!==et.next;){if(ot=et.prev,at=et.next,rt?isEarHashed(et,tt,nt,rt):isEar(et)){$.push(ot.i/_e|0),$.push(et.i/_e|0),$.push(at.i/_e|0),removeNode(et),et=at.next,st=at.next;continue}if(et=at,et===st){it?it===1?(et=cureLocalIntersections(filterPoints(et),$,_e),earcutLinked(et,$,_e,tt,nt,rt,2)):it===2&&splitEarcut(et,$,_e,tt,nt,rt):earcutLinked(filterPoints(et),$,_e,tt,nt,rt,1);break}}}function isEar(et){const $=et.prev,_e=et,tt=et.next;if(area($,_e,tt)>=0)return!1;const nt=$.x,rt=_e.x,it=tt.x,st=$.y,ot=_e.y,at=tt.y,lt=nt<rt?nt<it?nt:it:rt<it?rt:it,dt=st<ot?st<at?st:at:ot<at?ot:at,ct=nt>rt?nt>it?nt:it:rt>it?rt:it,pt=st>ot?st>at?st:at:ot>at?ot:at;let mt=tt.next;for(;mt!==$;){if(mt.x>=lt&&mt.x<=ct&&mt.y>=dt&&mt.y<=pt&&pointInTriangle(nt,st,rt,ot,it,at,mt.x,mt.y)&&area(mt.prev,mt,mt.next)>=0)return!1;mt=mt.next}return!0}function isEarHashed(et,$,_e,tt){const nt=et.prev,rt=et,it=et.next;if(area(nt,rt,it)>=0)return!1;const st=nt.x,ot=rt.x,at=it.x,lt=nt.y,dt=rt.y,ct=it.y,pt=st<ot?st<at?st:at:ot<at?ot:at,mt=lt<dt?lt<ct?lt:ct:dt<ct?dt:ct,ht=st>ot?st>at?st:at:ot>at?ot:at,gt=lt>dt?lt>ct?lt:ct:dt>ct?dt:ct,vt=zOrder(pt,mt,$,_e,tt),_t=zOrder(ht,gt,$,_e,tt);let yt=et.prevZ,xt=et.nextZ;for(;yt&&yt.z>=vt&&xt&&xt.z<=_t;){if(yt.x>=pt&&yt.x<=ht&&yt.y>=mt&&yt.y<=gt&&yt!==nt&&yt!==it&&pointInTriangle(st,lt,ot,dt,at,ct,yt.x,yt.y)&&area(yt.prev,yt,yt.next)>=0||(yt=yt.prevZ,xt.x>=pt&&xt.x<=ht&&xt.y>=mt&&xt.y<=gt&&xt!==nt&&xt!==it&&pointInTriangle(st,lt,ot,dt,at,ct,xt.x,xt.y)&&area(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;yt&&yt.z>=vt;){if(yt.x>=pt&&yt.x<=ht&&yt.y>=mt&&yt.y<=gt&&yt!==nt&&yt!==it&&pointInTriangle(st,lt,ot,dt,at,ct,yt.x,yt.y)&&area(yt.prev,yt,yt.next)>=0)return!1;yt=yt.prevZ}for(;xt&&xt.z<=_t;){if(xt.x>=pt&&xt.x<=ht&&xt.y>=mt&&xt.y<=gt&&xt!==nt&&xt!==it&&pointInTriangle(st,lt,ot,dt,at,ct,xt.x,xt.y)&&area(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function cureLocalIntersections(et,$,_e){let tt=et;do{const nt=tt.prev,rt=tt.next.next;!equals(nt,rt)&&intersects(nt,tt,tt.next,rt)&&locallyInside(nt,rt)&&locallyInside(rt,nt)&&($.push(nt.i/_e|0),$.push(tt.i/_e|0),$.push(rt.i/_e|0),removeNode(tt),removeNode(tt.next),tt=et=rt),tt=tt.next}while(tt!==et);return filterPoints(tt)}function splitEarcut(et,$,_e,tt,nt,rt){let it=et;do{let st=it.next.next;for(;st!==it.prev;){if(it.i!==st.i&&isValidDiagonal(it,st)){let ot=splitPolygon(it,st);it=filterPoints(it,it.next),ot=filterPoints(ot,ot.next),earcutLinked(it,$,_e,tt,nt,rt,0),earcutLinked(ot,$,_e,tt,nt,rt,0);return}st=st.next}it=it.next}while(it!==et)}function eliminateHoles(et,$,_e,tt){const nt=[];let rt,it,st,ot,at;for(rt=0,it=$.length;rt<it;rt++)st=$[rt]*tt,ot=rt<it-1?$[rt+1]*tt:et.length,at=linkedList(et,st,ot,tt,!1),at===at.next&&(at.steiner=!0),nt.push(getLeftmost(at));for(nt.sort(compareX),rt=0;rt<nt.length;rt++)_e=eliminateHole(nt[rt],_e);return _e}function compareX(et,$){return et.x-$.x}function eliminateHole(et,$){const _e=findHoleBridge(et,$);if(!_e)return $;const tt=splitPolygon(_e,et);return filterPoints(tt,tt.next),filterPoints(_e,_e.next)}function findHoleBridge(et,$){let _e=$,tt=-1/0,nt;const rt=et.x,it=et.y;do{if(it<=_e.y&&it>=_e.next.y&&_e.next.y!==_e.y){const ct=_e.x+(it-_e.y)*(_e.next.x-_e.x)/(_e.next.y-_e.y);if(ct<=rt&&ct>tt&&(tt=ct,nt=_e.x<_e.next.x?_e:_e.next,ct===rt))return nt}_e=_e.next}while(_e!==$);if(!nt)return null;const st=nt,ot=nt.x,at=nt.y;let lt=1/0,dt;_e=nt;do rt>=_e.x&&_e.x>=ot&&rt!==_e.x&&pointInTriangle(it<at?rt:tt,it,ot,at,it<at?tt:rt,it,_e.x,_e.y)&&(dt=Math.abs(it-_e.y)/(rt-_e.x),locallyInside(_e,et)&&(dt<lt||dt===lt&&(_e.x>nt.x||_e.x===nt.x&&sectorContainsSector(nt,_e)))&&(nt=_e,lt=dt)),_e=_e.next;while(_e!==st);return nt}function sectorContainsSector(et,$){return area(et.prev,et,$.prev)<0&&area($.next,et,et.next)<0}function indexCurve(et,$,_e,tt){let nt=et;do nt.z===0&&(nt.z=zOrder(nt.x,nt.y,$,_e,tt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==et);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked(nt)}function sortLinked(et){let $,_e,tt,nt,rt,it,st,ot,at=1;do{for(_e=et,et=null,rt=null,it=0;_e;){for(it++,tt=_e,st=0,$=0;$<at&&(st++,tt=tt.nextZ,!!tt);$++);for(ot=at;st>0||ot>0&&tt;)st!==0&&(ot===0||!tt||_e.z<=tt.z)?(nt=_e,_e=_e.nextZ,st--):(nt=tt,tt=tt.nextZ,ot--),rt?rt.nextZ=nt:et=nt,nt.prevZ=rt,rt=nt;_e=tt}rt.nextZ=null,at*=2}while(it>1);return et}function zOrder(et,$,_e,tt,nt){return et=(et-_e)*nt|0,$=($-tt)*nt|0,et=(et|et<<8)&16711935,et=(et|et<<4)&252645135,et=(et|et<<2)&858993459,et=(et|et<<1)&1431655765,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,et|$<<1}function getLeftmost(et){let $=et,_e=et;do($.x<_e.x||$.x===_e.x&&$.y<_e.y)&&(_e=$),$=$.next;while($!==et);return _e}function pointInTriangle(et,$,_e,tt,nt,rt,it,st){return(nt-it)*($-st)>=(et-it)*(rt-st)&&(et-it)*(tt-st)>=(_e-it)*($-st)&&(_e-it)*(rt-st)>=(nt-it)*(tt-st)}function isValidDiagonal(et,$){return et.next.i!==$.i&&et.prev.i!==$.i&&!intersectsPolygon(et,$)&&(locallyInside(et,$)&&locallyInside($,et)&&middleInside(et,$)&&(area(et.prev,et,$.prev)||area(et,$.prev,$))||equals(et,$)&&area(et.prev,et,et.next)>0&&area($.prev,$,$.next)>0)}function area(et,$,_e){return($.y-et.y)*(_e.x-$.x)-($.x-et.x)*(_e.y-$.y)}function equals(et,$){return et.x===$.x&&et.y===$.y}function intersects(et,$,_e,tt){const nt=sign(area(et,$,_e)),rt=sign(area(et,$,tt)),it=sign(area(_e,tt,et)),st=sign(area(_e,tt,$));return!!(nt!==rt&&it!==st||nt===0&&onSegment(et,_e,$)||rt===0&&onSegment(et,tt,$)||it===0&&onSegment(_e,et,tt)||st===0&&onSegment(_e,$,tt))}function onSegment(et,$,_e){return $.x<=Math.max(et.x,_e.x)&&$.x>=Math.min(et.x,_e.x)&&$.y<=Math.max(et.y,_e.y)&&$.y>=Math.min(et.y,_e.y)}function sign(et){return et>0?1:et<0?-1:0}function intersectsPolygon(et,$){let _e=et;do{if(_e.i!==et.i&&_e.next.i!==et.i&&_e.i!==$.i&&_e.next.i!==$.i&&intersects(_e,_e.next,et,$))return!0;_e=_e.next}while(_e!==et);return!1}function locallyInside(et,$){return area(et.prev,et,et.next)<0?area(et,$,et.next)>=0&&area(et,et.prev,$)>=0:area(et,$,et.prev)<0||area(et,et.next,$)<0}function middleInside(et,$){let _e=et,tt=!1;const nt=(et.x+$.x)/2,rt=(et.y+$.y)/2;do _e.y>rt!=_e.next.y>rt&&_e.next.y!==_e.y&&nt<(_e.next.x-_e.x)*(rt-_e.y)/(_e.next.y-_e.y)+_e.x&&(tt=!tt),_e=_e.next;while(_e!==et);return tt}function splitPolygon(et,$){const _e=new Node$1(et.i,et.x,et.y),tt=new Node$1($.i,$.x,$.y),nt=et.next,rt=$.prev;return et.next=$,$.prev=et,_e.next=nt,nt.prev=_e,tt.next=_e,_e.prev=tt,rt.next=tt,tt.prev=rt,tt}function insertNode(et,$,_e,tt){const nt=new Node$1(et,$,_e);return tt?(nt.next=tt.next,nt.prev=tt,tt.next.prev=nt,tt.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode(et){et.next.prev=et.prev,et.prev.next=et.next,et.prevZ&&(et.prevZ.nextZ=et.nextZ),et.nextZ&&(et.nextZ.prevZ=et.prevZ)}function Node$1(et,$,_e){this.i=et,this.x=$,this.y=_e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(et,$,_e,tt){let nt=0;for(let rt=$,it=_e-tt;rt<_e;rt+=tt)nt+=(et[it]-et[rt])*(et[rt+1]+et[it+1]),it=rt;return nt}class ShapeUtils{static area($){const _e=$.length;let tt=0;for(let nt=_e-1,rt=0;rt<_e;nt=rt++)tt+=$[nt].x*$[rt].y-$[rt].x*$[nt].y;return tt*.5}static isClockWise($){return ShapeUtils.area($)<0}static triangulateShape($,_e){const tt=[],nt=[],rt=[];removeDupEndPts($),addContour(tt,$);let it=$.length;_e.forEach(removeDupEndPts);for(let ot=0;ot<_e.length;ot++)nt.push(it),it+=_e[ot].length,addContour(tt,_e[ot]);const st=Earcut.triangulate(tt,nt);for(let ot=0;ot<st.length;ot+=3)rt.push(st.slice(ot,ot+3));return rt}}function removeDupEndPts(et){const $=et.length;$>2&&et[$-1].equals(et[0])&&et.pop()}function addContour(et,$){for(let _e=0;_e<$.length;_e++)et.push($[_e].x),et.push($[_e].y)}class ExtrudeGeometry extends BufferGeometry{constructor($=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),_e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:$,options:_e},$=Array.isArray($)?$:[$];const tt=this,nt=[],rt=[];for(let st=0,ot=$.length;st<ot;st++){const at=$[st];it(at)}this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2)),this.computeVertexNormals();function it(st){const ot=[],at=_e.curveSegments!==void 0?_e.curveSegments:12,lt=_e.steps!==void 0?_e.steps:1,dt=_e.depth!==void 0?_e.depth:1;let ct=_e.bevelEnabled!==void 0?_e.bevelEnabled:!0,pt=_e.bevelThickness!==void 0?_e.bevelThickness:.2,mt=_e.bevelSize!==void 0?_e.bevelSize:pt-.1,ht=_e.bevelOffset!==void 0?_e.bevelOffset:0,gt=_e.bevelSegments!==void 0?_e.bevelSegments:3;const vt=_e.extrudePath,_t=_e.UVGenerator!==void 0?_e.UVGenerator:WorldUVGenerator;let yt,xt=!1,At,Ct,Pt,bt;vt&&(yt=vt.getSpacedPoints(lt),xt=!0,ct=!1,At=vt.computeFrenetFrames(lt,!1),Ct=new Vector3,Pt=new Vector3,bt=new Vector3),ct||(gt=0,pt=0,mt=0,ht=0);const Mt=st.extractPoints(at);let Tt=Mt.shape;const Ft=Mt.holes;if(!ShapeUtils.isClockWise(Tt)){Tt=Tt.reverse();for(let Vt=0,Zt=Ft.length;Vt<Zt;Vt++){const sn=Ft[Vt];ShapeUtils.isClockWise(sn)&&(Ft[Vt]=sn.reverse())}}const Wt=ShapeUtils.triangulateShape(Tt,Ft),It=Tt;for(let Vt=0,Zt=Ft.length;Vt<Zt;Vt++){const sn=Ft[Vt];Tt=Tt.concat(sn)}function Kt(Vt,Zt,sn){return Zt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Vt.clone().addScaledVector(Zt,sn)}const Ut=Tt.length,Qt=Wt.length;function Dt(Vt,Zt,sn){let hn,ln,xn;const un=Vt.x-Zt.x,fn=Vt.y-Zt.y,Gn=sn.x-Vt.x,Xn=sn.y-Vt.y,nn=un*un+fn*fn,jt=un*Xn-fn*Gn;if(Math.abs(jt)>Number.EPSILON){const Mn=Math.sqrt(nn),cn=Math.sqrt(Gn*Gn+Xn*Xn),_n=Zt.x-fn/Mn,Un=Zt.y+un/Mn,or=sn.x-Xn/cn,Kn=sn.y+Gn/cn,Vn=((or-_n)*Xn-(Kn-Un)*Gn)/(un*Xn-fn*Gn);hn=_n+un*Vn-Vt.x,ln=Un+fn*Vn-Vt.y;const ur=hn*hn+ln*ln;if(ur<=2)return new Vector2(hn,ln);xn=Math.sqrt(ur/2)}else{let Mn=!1;un>Number.EPSILON?Gn>Number.EPSILON&&(Mn=!0):un<-Number.EPSILON?Gn<-Number.EPSILON&&(Mn=!0):Math.sign(fn)===Math.sign(Xn)&&(Mn=!0),Mn?(hn=-fn,ln=un,xn=Math.sqrt(nn)):(hn=un,ln=fn,xn=Math.sqrt(nn/2))}return new Vector2(hn/xn,ln/xn)}const qt=[];for(let Vt=0,Zt=It.length,sn=Zt-1,hn=Vt+1;Vt<Zt;Vt++,sn++,hn++)sn===Zt&&(sn=0),hn===Zt&&(hn=0),qt[Vt]=Dt(It[Vt],It[sn],It[hn]);const Jt=[];let on,tn=qt.concat();for(let Vt=0,Zt=Ft.length;Vt<Zt;Vt++){const sn=Ft[Vt];on=[];for(let hn=0,ln=sn.length,xn=ln-1,un=hn+1;hn<ln;hn++,xn++,un++)xn===ln&&(xn=0),un===ln&&(un=0),on[hn]=Dt(sn[hn],sn[xn],sn[un]);Jt.push(on),tn=tn.concat(on)}for(let Vt=0;Vt<gt;Vt++){const Zt=Vt/gt,sn=pt*Math.cos(Zt*Math.PI/2),hn=mt*Math.sin(Zt*Math.PI/2)+ht;for(let ln=0,xn=It.length;ln<xn;ln++){const un=Kt(It[ln],qt[ln],hn);Ht(un.x,un.y,-sn)}for(let ln=0,xn=Ft.length;ln<xn;ln++){const un=Ft[ln];on=Jt[ln];for(let fn=0,Gn=un.length;fn<Gn;fn++){const Xn=Kt(un[fn],on[fn],hn);Ht(Xn.x,Xn.y,-sn)}}}const yn=mt+ht;for(let Vt=0;Vt<Ut;Vt++){const Zt=ct?Kt(Tt[Vt],tn[Vt],yn):Tt[Vt];xt?(Pt.copy(At.normals[0]).multiplyScalar(Zt.x),Ct.copy(At.binormals[0]).multiplyScalar(Zt.y),bt.copy(yt[0]).add(Pt).add(Ct),Ht(bt.x,bt.y,bt.z)):Ht(Zt.x,Zt.y,0)}for(let Vt=1;Vt<=lt;Vt++)for(let Zt=0;Zt<Ut;Zt++){const sn=ct?Kt(Tt[Zt],tn[Zt],yn):Tt[Zt];xt?(Pt.copy(At.normals[Vt]).multiplyScalar(sn.x),Ct.copy(At.binormals[Vt]).multiplyScalar(sn.y),bt.copy(yt[Vt]).add(Pt).add(Ct),Ht(bt.x,bt.y,bt.z)):Ht(sn.x,sn.y,dt/lt*Vt)}for(let Vt=gt-1;Vt>=0;Vt--){const Zt=Vt/gt,sn=pt*Math.cos(Zt*Math.PI/2),hn=mt*Math.sin(Zt*Math.PI/2)+ht;for(let ln=0,xn=It.length;ln<xn;ln++){const un=Kt(It[ln],qt[ln],hn);Ht(un.x,un.y,dt+sn)}for(let ln=0,xn=Ft.length;ln<xn;ln++){const un=Ft[ln];on=Jt[ln];for(let fn=0,Gn=un.length;fn<Gn;fn++){const Xn=Kt(un[fn],on[fn],hn);xt?Ht(Xn.x,Xn.y+yt[lt-1].y,yt[lt-1].x+sn):Ht(Xn.x,Xn.y,dt+sn)}}}Yt(),kt();function Yt(){const Vt=nt.length/3;if(ct){let Zt=0,sn=Ut*Zt;for(let hn=0;hn<Qt;hn++){const ln=Wt[hn];wt(ln[2]+sn,ln[1]+sn,ln[0]+sn)}Zt=lt+gt*2,sn=Ut*Zt;for(let hn=0;hn<Qt;hn++){const ln=Wt[hn];wt(ln[0]+sn,ln[1]+sn,ln[2]+sn)}}else{for(let Zt=0;Zt<Qt;Zt++){const sn=Wt[Zt];wt(sn[2],sn[1],sn[0])}for(let Zt=0;Zt<Qt;Zt++){const sn=Wt[Zt];wt(sn[0]+Ut*lt,sn[1]+Ut*lt,sn[2]+Ut*lt)}}tt.addGroup(Vt,nt.length/3-Vt,0)}function kt(){const Vt=nt.length/3;let Zt=0;Bt(It,Zt),Zt+=It.length;for(let sn=0,hn=Ft.length;sn<hn;sn++){const ln=Ft[sn];Bt(ln,Zt),Zt+=ln.length}tt.addGroup(Vt,nt.length/3-Vt,1)}function Bt(Vt,Zt){let sn=Vt.length;for(;--sn>=0;){const hn=sn;let ln=sn-1;ln<0&&(ln=Vt.length-1);for(let xn=0,un=lt+gt*2;xn<un;xn++){const fn=Ut*xn,Gn=Ut*(xn+1),Xn=Zt+hn+fn,nn=Zt+ln+fn,jt=Zt+ln+Gn,Mn=Zt+hn+Gn;Lt(Xn,nn,jt,Mn)}}}function Ht(Vt,Zt,sn){ot.push(Vt),ot.push(Zt),ot.push(sn)}function wt(Vt,Zt,sn){Ot(Vt),Ot(Zt),Ot(sn);const hn=nt.length/3,ln=_t.generateTopUV(tt,nt,hn-3,hn-2,hn-1);$t(ln[0]),$t(ln[1]),$t(ln[2])}function Lt(Vt,Zt,sn,hn){Ot(Vt),Ot(Zt),Ot(hn),Ot(Zt),Ot(sn),Ot(hn);const ln=nt.length/3,xn=_t.generateSideWallUV(tt,nt,ln-6,ln-3,ln-2,ln-1);$t(xn[0]),$t(xn[1]),$t(xn[3]),$t(xn[1]),$t(xn[2]),$t(xn[3])}function Ot(Vt){nt.push(ot[Vt*3+0]),nt.push(ot[Vt*3+1]),nt.push(ot[Vt*3+2])}function $t(Vt){rt.push(Vt.x),rt.push(Vt.y)}}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}toJSON(){const $=super.toJSON(),_e=this.parameters.shapes,tt=this.parameters.options;return toJSON$1(_e,tt,$)}static fromJSON($,_e){const tt=[];for(let rt=0,it=$.shapes.length;rt<it;rt++){const st=_e[$.shapes[rt]];tt.push(st)}const nt=$.options.extrudePath;return nt!==void 0&&($.options.extrudePath=new Curves[nt.type]().fromJSON(nt)),new ExtrudeGeometry(tt,$.options)}}const WorldUVGenerator={generateTopUV:function(et,$,_e,tt,nt){const rt=$[_e*3],it=$[_e*3+1],st=$[tt*3],ot=$[tt*3+1],at=$[nt*3],lt=$[nt*3+1];return[new Vector2(rt,it),new Vector2(st,ot),new Vector2(at,lt)]},generateSideWallUV:function(et,$,_e,tt,nt,rt){const it=$[_e*3],st=$[_e*3+1],ot=$[_e*3+2],at=$[tt*3],lt=$[tt*3+1],dt=$[tt*3+2],ct=$[nt*3],pt=$[nt*3+1],mt=$[nt*3+2],ht=$[rt*3],gt=$[rt*3+1],vt=$[rt*3+2];return Math.abs(st-lt)<Math.abs(it-at)?[new Vector2(it,1-ot),new Vector2(at,1-dt),new Vector2(ct,1-mt),new Vector2(ht,1-vt)]:[new Vector2(st,1-ot),new Vector2(lt,1-dt),new Vector2(pt,1-mt),new Vector2(gt,1-vt)]}};function toJSON$1(et,$,_e){if(_e.shapes=[],Array.isArray(et))for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];_e.shapes.push(rt.uuid)}else _e.shapes.push(et.uuid);return _e.options=Object.assign({},$),$.extrudePath!==void 0&&(_e.options.extrudePath=$.extrudePath.toJSON()),_e}class IcosahedronGeometry extends PolyhedronGeometry{constructor($=1,_e=0){const tt=(1+Math.sqrt(5))/2,nt=[-1,tt,0,1,tt,0,-1,-tt,0,1,-tt,0,0,-1,tt,0,1,tt,0,-1,-tt,0,1,-tt,tt,0,-1,tt,0,1,-tt,0,-1,-tt,0,1],rt=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(nt,rt,$,_e),this.type="IcosahedronGeometry",this.parameters={radius:$,detail:_e}}static fromJSON($){return new IcosahedronGeometry($.radius,$.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor($=1,_e=0){const tt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],nt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(tt,nt,$,_e),this.type="OctahedronGeometry",this.parameters={radius:$,detail:_e}}static fromJSON($){return new OctahedronGeometry($.radius,$.detail)}}class RingGeometry extends BufferGeometry{constructor($=.5,_e=1,tt=32,nt=1,rt=0,it=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:$,outerRadius:_e,thetaSegments:tt,phiSegments:nt,thetaStart:rt,thetaLength:it},tt=Math.max(3,tt),nt=Math.max(1,nt);const st=[],ot=[],at=[],lt=[];let dt=$;const ct=(_e-$)/nt,pt=new Vector3,mt=new Vector2;for(let ht=0;ht<=nt;ht++){for(let gt=0;gt<=tt;gt++){const vt=rt+gt/tt*it;pt.x=dt*Math.cos(vt),pt.y=dt*Math.sin(vt),ot.push(pt.x,pt.y,pt.z),at.push(0,0,1),mt.x=(pt.x/_e+1)/2,mt.y=(pt.y/_e+1)/2,lt.push(mt.x,mt.y)}dt+=ct}for(let ht=0;ht<nt;ht++){const gt=ht*(tt+1);for(let vt=0;vt<tt;vt++){const _t=vt+gt,yt=_t,xt=_t+tt+1,At=_t+tt+2,Ct=_t+1;st.push(yt,xt,Ct),st.push(xt,At,Ct)}}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new RingGeometry($.innerRadius,$.outerRadius,$.thetaSegments,$.phiSegments,$.thetaStart,$.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor($=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),_e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:$,curveSegments:_e};const tt=[],nt=[],rt=[],it=[];let st=0,ot=0;if(Array.isArray($)===!1)at($);else for(let lt=0;lt<$.length;lt++)at($[lt]),this.addGroup(st,ot,lt),st+=ot,ot=0;this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2));function at(lt){const dt=nt.length/3,ct=lt.extractPoints(_e);let pt=ct.shape;const mt=ct.holes;ShapeUtils.isClockWise(pt)===!1&&(pt=pt.reverse());for(let gt=0,vt=mt.length;gt<vt;gt++){const _t=mt[gt];ShapeUtils.isClockWise(_t)===!0&&(mt[gt]=_t.reverse())}const ht=ShapeUtils.triangulateShape(pt,mt);for(let gt=0,vt=mt.length;gt<vt;gt++){const _t=mt[gt];pt=pt.concat(_t)}for(let gt=0,vt=pt.length;gt<vt;gt++){const _t=pt[gt];nt.push(_t.x,_t.y,0),rt.push(0,0,1),it.push(_t.x,_t.y)}for(let gt=0,vt=ht.length;gt<vt;gt++){const _t=ht[gt],yt=_t[0]+dt,xt=_t[1]+dt,At=_t[2]+dt;tt.push(yt,xt,At),ot+=3}}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}toJSON(){const $=super.toJSON(),_e=this.parameters.shapes;return toJSON(_e,$)}static fromJSON($,_e){const tt=[];for(let nt=0,rt=$.shapes.length;nt<rt;nt++){const it=_e[$.shapes[nt]];tt.push(it)}return new ShapeGeometry(tt,$.curveSegments)}}function toJSON(et,$){if($.shapes=[],Array.isArray(et))for(let _e=0,tt=et.length;_e<tt;_e++){const nt=et[_e];$.shapes.push(nt.uuid)}else $.shapes.push(et.uuid);return $}class SphereGeometry extends BufferGeometry{constructor($=1,_e=32,tt=16,nt=0,rt=Math.PI*2,it=0,st=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:$,widthSegments:_e,heightSegments:tt,phiStart:nt,phiLength:rt,thetaStart:it,thetaLength:st},_e=Math.max(3,Math.floor(_e)),tt=Math.max(2,Math.floor(tt));const ot=Math.min(it+st,Math.PI);let at=0;const lt=[],dt=new Vector3,ct=new Vector3,pt=[],mt=[],ht=[],gt=[];for(let vt=0;vt<=tt;vt++){const _t=[],yt=vt/tt;let xt=0;vt==0&&it==0?xt=.5/_e:vt==tt&&ot==Math.PI&&(xt=-.5/_e);for(let At=0;At<=_e;At++){const Ct=At/_e;dt.x=-$*Math.cos(nt+Ct*rt)*Math.sin(it+yt*st),dt.y=$*Math.cos(it+yt*st),dt.z=$*Math.sin(nt+Ct*rt)*Math.sin(it+yt*st),mt.push(dt.x,dt.y,dt.z),ct.copy(dt).normalize(),ht.push(ct.x,ct.y,ct.z),gt.push(Ct+xt,1-yt),_t.push(at++)}lt.push(_t)}for(let vt=0;vt<tt;vt++)for(let _t=0;_t<_e;_t++){const yt=lt[vt][_t+1],xt=lt[vt][_t],At=lt[vt+1][_t],Ct=lt[vt+1][_t+1];(vt!==0||it>0)&&pt.push(yt,xt,Ct),(vt!==tt-1||ot<Math.PI)&&pt.push(xt,At,Ct)}this.setIndex(pt),this.setAttribute("position",new Float32BufferAttribute(mt,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(gt,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new SphereGeometry($.radius,$.widthSegments,$.heightSegments,$.phiStart,$.phiLength,$.thetaStart,$.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor($=1,_e=0){const tt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],nt=[2,1,0,0,3,2,1,3,0,2,3,1];super(tt,nt,$,_e),this.type="TetrahedronGeometry",this.parameters={radius:$,detail:_e}}static fromJSON($){return new TetrahedronGeometry($.radius,$.detail)}}class TorusGeometry extends BufferGeometry{constructor($=1,_e=.4,tt=12,nt=48,rt=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:$,tube:_e,radialSegments:tt,tubularSegments:nt,arc:rt},tt=Math.floor(tt),nt=Math.floor(nt);const it=[],st=[],ot=[],at=[],lt=new Vector3,dt=new Vector3,ct=new Vector3;for(let pt=0;pt<=tt;pt++)for(let mt=0;mt<=nt;mt++){const ht=mt/nt*rt,gt=pt/tt*Math.PI*2;dt.x=($+_e*Math.cos(gt))*Math.cos(ht),dt.y=($+_e*Math.cos(gt))*Math.sin(ht),dt.z=_e*Math.sin(gt),st.push(dt.x,dt.y,dt.z),lt.x=$*Math.cos(ht),lt.y=$*Math.sin(ht),ct.subVectors(dt,lt).normalize(),ot.push(ct.x,ct.y,ct.z),at.push(mt/nt),at.push(pt/tt)}for(let pt=1;pt<=tt;pt++)for(let mt=1;mt<=nt;mt++){const ht=(nt+1)*pt+mt-1,gt=(nt+1)*(pt-1)+mt-1,vt=(nt+1)*(pt-1)+mt,_t=(nt+1)*pt+mt;it.push(ht,gt,_t),it.push(gt,vt,_t)}this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new TorusGeometry($.radius,$.tube,$.radialSegments,$.tubularSegments,$.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor($=1,_e=.4,tt=64,nt=8,rt=2,it=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:$,tube:_e,tubularSegments:tt,radialSegments:nt,p:rt,q:it},tt=Math.floor(tt),nt=Math.floor(nt);const st=[],ot=[],at=[],lt=[],dt=new Vector3,ct=new Vector3,pt=new Vector3,mt=new Vector3,ht=new Vector3,gt=new Vector3,vt=new Vector3;for(let yt=0;yt<=tt;++yt){const xt=yt/tt*rt*Math.PI*2;_t(xt,rt,it,$,pt),_t(xt+.01,rt,it,$,mt),gt.subVectors(mt,pt),vt.addVectors(mt,pt),ht.crossVectors(gt,vt),vt.crossVectors(ht,gt),ht.normalize(),vt.normalize();for(let At=0;At<=nt;++At){const Ct=At/nt*Math.PI*2,Pt=-_e*Math.cos(Ct),bt=_e*Math.sin(Ct);dt.x=pt.x+(Pt*vt.x+bt*ht.x),dt.y=pt.y+(Pt*vt.y+bt*ht.y),dt.z=pt.z+(Pt*vt.z+bt*ht.z),ot.push(dt.x,dt.y,dt.z),ct.subVectors(dt,pt).normalize(),at.push(ct.x,ct.y,ct.z),lt.push(yt/tt),lt.push(At/nt)}}for(let yt=1;yt<=tt;yt++)for(let xt=1;xt<=nt;xt++){const At=(nt+1)*(yt-1)+(xt-1),Ct=(nt+1)*yt+(xt-1),Pt=(nt+1)*yt+xt,bt=(nt+1)*(yt-1)+xt;st.push(At,Ct,bt),st.push(Ct,Pt,bt)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2));function _t(yt,xt,At,Ct,Pt){const bt=Math.cos(yt),Mt=Math.sin(yt),Tt=At/xt*yt,Ft=Math.cos(Tt);Pt.x=Ct*(2+Ft)*.5*bt,Pt.y=Ct*(2+Ft)*Mt*.5,Pt.z=Ct*Math.sin(Tt)*.5}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new TorusKnotGeometry($.radius,$.tube,$.tubularSegments,$.radialSegments,$.p,$.q)}}class TubeGeometry extends BufferGeometry{constructor($=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),_e=64,tt=1,nt=8,rt=!1){super(),this.type="TubeGeometry",this.parameters={path:$,tubularSegments:_e,radius:tt,radialSegments:nt,closed:rt};const it=$.computeFrenetFrames(_e,rt);this.tangents=it.tangents,this.normals=it.normals,this.binormals=it.binormals;const st=new Vector3,ot=new Vector3,at=new Vector2;let lt=new Vector3;const dt=[],ct=[],pt=[],mt=[];ht(),this.setIndex(mt),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(pt,2));function ht(){for(let yt=0;yt<_e;yt++)gt(yt);gt(rt===!1?_e:0),_t(),vt()}function gt(yt){lt=$.getPointAt(yt/_e,lt);const xt=it.normals[yt],At=it.binormals[yt];for(let Ct=0;Ct<=nt;Ct++){const Pt=Ct/nt*Math.PI*2,bt=Math.sin(Pt),Mt=-Math.cos(Pt);ot.x=Mt*xt.x+bt*At.x,ot.y=Mt*xt.y+bt*At.y,ot.z=Mt*xt.z+bt*At.z,ot.normalize(),ct.push(ot.x,ot.y,ot.z),st.x=lt.x+tt*ot.x,st.y=lt.y+tt*ot.y,st.z=lt.z+tt*ot.z,dt.push(st.x,st.y,st.z)}}function vt(){for(let yt=1;yt<=_e;yt++)for(let xt=1;xt<=nt;xt++){const At=(nt+1)*(yt-1)+(xt-1),Ct=(nt+1)*yt+(xt-1),Pt=(nt+1)*yt+xt,bt=(nt+1)*(yt-1)+xt;mt.push(At,Ct,bt),mt.push(Ct,Pt,bt)}}function _t(){for(let yt=0;yt<=_e;yt++)for(let xt=0;xt<=nt;xt++)at.x=yt/_e,at.y=xt/nt,pt.push(at.x,at.y)}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}toJSON(){const $=super.toJSON();return $.path=this.parameters.path.toJSON(),$}static fromJSON($){return new TubeGeometry(new Curves[$.path.type]().fromJSON($.path),$.tubularSegments,$.radius,$.radialSegments,$.closed)}}class WireframeGeometry extends BufferGeometry{constructor($=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:$},$!==null){const _e=[],tt=new Set,nt=new Vector3,rt=new Vector3;if($.index!==null){const it=$.attributes.position,st=$.index;let ot=$.groups;ot.length===0&&(ot=[{start:0,count:st.count,materialIndex:0}]);for(let at=0,lt=ot.length;at<lt;++at){const dt=ot[at],ct=dt.start,pt=dt.count;for(let mt=ct,ht=ct+pt;mt<ht;mt+=3)for(let gt=0;gt<3;gt++){const vt=st.getX(mt+gt),_t=st.getX(mt+(gt+1)%3);nt.fromBufferAttribute(it,vt),rt.fromBufferAttribute(it,_t),isUniqueEdge(nt,rt,tt)===!0&&(_e.push(nt.x,nt.y,nt.z),_e.push(rt.x,rt.y,rt.z))}}}else{const it=$.attributes.position;for(let st=0,ot=it.count/3;st<ot;st++)for(let at=0;at<3;at++){const lt=3*st+at,dt=3*st+(at+1)%3;nt.fromBufferAttribute(it,lt),rt.fromBufferAttribute(it,dt),isUniqueEdge(nt,rt,tt)===!0&&(_e.push(nt.x,nt.y,nt.z),_e.push(rt.x,rt.y,rt.z))}}this.setAttribute("position",new Float32BufferAttribute(_e,3))}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}}function isUniqueEdge(et,$,_e){const tt=`${et.x},${et.y},${et.z}-${$.x},${$.y},${$.z}`,nt=`${$.x},${$.y},${$.z}-${et.x},${et.y},${et.z}`;return _e.has(tt)===!0||_e.has(nt)===!0?!1:(_e.add(tt),_e.add(nt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor($){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.fog=$.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor($){super($),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor($){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.defines={STANDARD:""},this.color.copy($.color),this.roughness=$.roughness,this.metalness=$.metalness,this.map=$.map,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.emissive.copy($.emissive),this.emissiveMap=$.emissiveMap,this.emissiveIntensity=$.emissiveIntensity,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.roughnessMap=$.roughnessMap,this.metalnessMap=$.metalnessMap,this.alphaMap=$.alphaMap,this.envMap=$.envMap,this.envMapIntensity=$.envMapIntensity,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.flatShading=$.flatShading,this.fog=$.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor($){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$1(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(_e){this.ior=(1+.4*_e)/(1-.4*_e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues($)}get sheen(){return this._sheen}set sheen($){this._sheen>0!=$>0&&this.version++,this._sheen=$}get clearcoat(){return this._clearcoat}set clearcoat($){this._clearcoat>0!=$>0&&this.version++,this._clearcoat=$}get iridescence(){return this._iridescence}set iridescence($){this._iridescence>0!=$>0&&this.version++,this._iridescence=$}get transmission(){return this._transmission}set transmission($){this._transmission>0!=$>0&&this.version++,this._transmission=$}copy($){return super.copy($),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=$.clearcoat,this.clearcoatMap=$.clearcoatMap,this.clearcoatRoughness=$.clearcoatRoughness,this.clearcoatRoughnessMap=$.clearcoatRoughnessMap,this.clearcoatNormalMap=$.clearcoatNormalMap,this.clearcoatNormalScale.copy($.clearcoatNormalScale),this.ior=$.ior,this.iridescence=$.iridescence,this.iridescenceMap=$.iridescenceMap,this.iridescenceIOR=$.iridescenceIOR,this.iridescenceThicknessRange=[...$.iridescenceThicknessRange],this.iridescenceThicknessMap=$.iridescenceThicknessMap,this.sheen=$.sheen,this.sheenColor.copy($.sheenColor),this.sheenColorMap=$.sheenColorMap,this.sheenRoughness=$.sheenRoughness,this.sheenRoughnessMap=$.sheenRoughnessMap,this.transmission=$.transmission,this.transmissionMap=$.transmissionMap,this.thickness=$.thickness,this.thicknessMap=$.thicknessMap,this.attenuationDistance=$.attenuationDistance,this.attenuationColor.copy($.attenuationColor),this.specularIntensity=$.specularIntensity,this.specularIntensityMap=$.specularIntensityMap,this.specularColor.copy($.specularColor),this.specularColorMap=$.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor($){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.specular.copy($.specular),this.shininess=$.shininess,this.map=$.map,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.emissive.copy($.emissive),this.emissiveMap=$.emissiveMap,this.emissiveIntensity=$.emissiveIntensity,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.specularMap=$.specularMap,this.alphaMap=$.alphaMap,this.envMap=$.envMap,this.combine=$.combine,this.reflectivity=$.reflectivity,this.refractionRatio=$.refractionRatio,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.flatShading=$.flatShading,this.fog=$.fog,this}}class MeshToonMaterial extends Material{constructor($){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.gradientMap=$.gradientMap,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.emissive.copy($.emissive),this.emissiveMap=$.emissiveMap,this.emissiveIntensity=$.emissiveIntensity,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.alphaMap=$.alphaMap,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.fog=$.fog,this}}class MeshNormalMaterial extends Material{constructor($){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues($)}copy($){return super.copy($),this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.flatShading=$.flatShading,this}}class MeshLambertMaterial extends Material{constructor($){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.emissive.copy($.emissive),this.emissiveMap=$.emissiveMap,this.emissiveIntensity=$.emissiveIntensity,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.specularMap=$.specularMap,this.alphaMap=$.alphaMap,this.envMap=$.envMap,this.combine=$.combine,this.reflectivity=$.reflectivity,this.refractionRatio=$.refractionRatio,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.flatShading=$.flatShading,this.fog=$.fog,this}}class MeshMatcapMaterial extends Material{constructor($){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.defines={MATCAP:""},this.color.copy($.color),this.matcap=$.matcap,this.map=$.map,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.alphaMap=$.alphaMap,this.flatShading=$.flatShading,this.fog=$.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor($){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues($)}copy($){return super.copy($),this.scale=$.scale,this.dashSize=$.dashSize,this.gapSize=$.gapSize,this}}function arraySlice(et,$,_e){return isTypedArray(et)?new et.constructor(et.subarray($,_e!==void 0?_e:et.length)):et.slice($,_e)}function convertArray(et,$,_e){return!et||!_e&&et.constructor===$?et:typeof $.BYTES_PER_ELEMENT=="number"?new $(et):Array.prototype.slice.call(et)}function isTypedArray(et){return ArrayBuffer.isView(et)&&!(et instanceof DataView)}function getKeyframeOrder(et){function $(nt,rt){return et[nt]-et[rt]}const _e=et.length,tt=new Array(_e);for(let nt=0;nt!==_e;++nt)tt[nt]=nt;return tt.sort($),tt}function sortedArray(et,$,_e){const tt=et.length,nt=new et.constructor(tt);for(let rt=0,it=0;it!==tt;++rt){const st=_e[rt]*$;for(let ot=0;ot!==$;++ot)nt[it++]=et[st+ot]}return nt}function flattenJSON(et,$,_e,tt){let nt=1,rt=et[0];for(;rt!==void 0&&rt[tt]===void 0;)rt=et[nt++];if(rt===void 0)return;let it=rt[tt];if(it!==void 0)if(Array.isArray(it))do it=rt[tt],it!==void 0&&($.push(rt.time),_e.push.apply(_e,it)),rt=et[nt++];while(rt!==void 0);else if(it.toArray!==void 0)do it=rt[tt],it!==void 0&&($.push(rt.time),it.toArray(_e,_e.length)),rt=et[nt++];while(rt!==void 0);else do it=rt[tt],it!==void 0&&($.push(rt.time),_e.push(it)),rt=et[nt++];while(rt!==void 0)}function subclip(et,$,_e,tt,nt=30){const rt=et.clone();rt.name=$;const it=[];for(let ot=0;ot<rt.tracks.length;++ot){const at=rt.tracks[ot],lt=at.getValueSize(),dt=[],ct=[];for(let pt=0;pt<at.times.length;++pt){const mt=at.times[pt]*nt;if(!(mt<_e||mt>=tt)){dt.push(at.times[pt]);for(let ht=0;ht<lt;++ht)ct.push(at.values[pt*lt+ht])}}dt.length!==0&&(at.times=convertArray(dt,at.times.constructor),at.values=convertArray(ct,at.values.constructor),it.push(at))}rt.tracks=it;let st=1/0;for(let ot=0;ot<rt.tracks.length;++ot)st>rt.tracks[ot].times[0]&&(st=rt.tracks[ot].times[0]);for(let ot=0;ot<rt.tracks.length;++ot)rt.tracks[ot].shift(-1*st);return rt.resetDuration(),rt}function makeClipAdditive(et,$=0,_e=et,tt=30){tt<=0&&(tt=30);const nt=_e.tracks.length,rt=$/tt;for(let it=0;it<nt;++it){const st=_e.tracks[it],ot=st.ValueTypeName;if(ot==="bool"||ot==="string")continue;const at=et.tracks.find(function(vt){return vt.name===st.name&&vt.ValueTypeName===ot});if(at===void 0)continue;let lt=0;const dt=st.getValueSize();st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(lt=dt/3);let ct=0;const pt=at.getValueSize();at.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ct=pt/3);const mt=st.times.length-1;let ht;if(rt<=st.times[0]){const vt=lt,_t=dt-lt;ht=arraySlice(st.values,vt,_t)}else if(rt>=st.times[mt]){const vt=mt*dt+lt,_t=vt+dt-lt;ht=arraySlice(st.values,vt,_t)}else{const vt=st.createInterpolant(),_t=lt,yt=dt-lt;vt.evaluate(rt),ht=arraySlice(vt.resultBuffer,_t,yt)}ot==="quaternion"&&new Quaternion().fromArray(ht).normalize().conjugate().toArray(ht);const gt=at.times.length;for(let vt=0;vt<gt;++vt){const _t=vt*pt+ct;if(ot==="quaternion")Quaternion.multiplyQuaternionsFlat(at.values,_t,ht,0,at.values,_t);else{const yt=pt-ct*2;for(let xt=0;xt<yt;++xt)at.values[_t+xt]-=ht[xt]}}}return et.blendMode=AdditiveAnimationBlendMode,et}const AnimationUtils={arraySlice,convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor($,_e,tt,nt){this.parameterPositions=$,this._cachedIndex=0,this.resultBuffer=nt!==void 0?nt:new _e.constructor(tt),this.sampleValues=_e,this.valueSize=tt,this.settings=null,this.DefaultSettings_={}}evaluate($){const _e=this.parameterPositions;let tt=this._cachedIndex,nt=_e[tt],rt=_e[tt-1];e:{t:{let it;n:{r:if(!($<nt)){for(let st=tt+2;;){if(nt===void 0){if($<rt)break r;return tt=_e.length,this._cachedIndex=tt,this.copySampleValue_(tt-1)}if(tt===st)break;if(rt=nt,nt=_e[++tt],$<nt)break t}it=_e.length;break n}if(!($>=rt)){const st=_e[1];$<st&&(tt=2,rt=st);for(let ot=tt-2;;){if(rt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(tt===ot)break;if(nt=rt,rt=_e[--tt-1],$>=rt)break t}it=tt,tt=0;break n}break e}for(;tt<it;){const st=tt+it>>>1;$<_e[st]?it=st:tt=st+1}if(nt=_e[tt],rt=_e[tt-1],rt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===void 0)return tt=_e.length,this._cachedIndex=tt,this.copySampleValue_(tt-1)}this._cachedIndex=tt,this.intervalChanged_(tt,rt,nt)}return this.interpolate_(tt,rt,$,nt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_($){const _e=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=$*nt;for(let it=0;it!==nt;++it)_e[it]=tt[rt+it];return _e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor($,_e,tt,nt){super($,_e,tt,nt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_($,_e,tt){const nt=this.parameterPositions;let rt=$-2,it=$+1,st=nt[rt],ot=nt[it];if(st===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:rt=$,st=2*_e-tt;break;case WrapAroundEnding:rt=nt.length-2,st=_e+nt[rt]-nt[rt+1];break;default:rt=$,st=tt}if(ot===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:it=$,ot=2*tt-_e;break;case WrapAroundEnding:it=1,ot=tt+nt[1]-nt[0];break;default:it=$-1,ot=_e}const at=(tt-_e)*.5,lt=this.valueSize;this._weightPrev=at/(_e-st),this._weightNext=at/(ot-tt),this._offsetPrev=rt*lt,this._offsetNext=it*lt}interpolate_($,_e,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=$*st,at=ot-st,lt=this._offsetPrev,dt=this._offsetNext,ct=this._weightPrev,pt=this._weightNext,mt=(tt-_e)/(nt-_e),ht=mt*mt,gt=ht*mt,vt=-ct*gt+2*ct*ht-ct*mt,_t=(1+ct)*gt+(-1.5-2*ct)*ht+(-.5+ct)*mt+1,yt=(-1-pt)*gt+(1.5+pt)*ht+.5*mt,xt=pt*gt-pt*ht;for(let At=0;At!==st;++At)rt[At]=vt*it[lt+At]+_t*it[at+At]+yt*it[ot+At]+xt*it[dt+At];return rt}}class LinearInterpolant extends Interpolant{constructor($,_e,tt,nt){super($,_e,tt,nt)}interpolate_($,_e,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=$*st,at=ot-st,lt=(tt-_e)/(nt-_e),dt=1-lt;for(let ct=0;ct!==st;++ct)rt[ct]=it[at+ct]*dt+it[ot+ct]*lt;return rt}}class DiscreteInterpolant extends Interpolant{constructor($,_e,tt,nt){super($,_e,tt,nt)}interpolate_($){return this.copySampleValue_($-1)}}class KeyframeTrack{constructor($,_e,tt,nt){if($===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(_e===void 0||_e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+$);this.name=$,this.times=convertArray(_e,this.TimeBufferType),this.values=convertArray(tt,this.ValueBufferType),this.setInterpolation(nt||this.DefaultInterpolation)}static toJSON($){const _e=$.constructor;let tt;if(_e.toJSON!==this.toJSON)tt=_e.toJSON($);else{tt={name:$.name,times:convertArray($.times,Array),values:convertArray($.values,Array)};const nt=$.getInterpolation();nt!==$.DefaultInterpolation&&(tt.interpolation=nt)}return tt.type=$.ValueTypeName,tt}InterpolantFactoryMethodDiscrete($){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),$)}InterpolantFactoryMethodLinear($){return new LinearInterpolant(this.times,this.values,this.getValueSize(),$)}InterpolantFactoryMethodSmooth($){return new CubicInterpolant(this.times,this.values,this.getValueSize(),$)}setInterpolation($){let _e;switch($){case InterpolateDiscrete:_e=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:_e=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:_e=this.InterpolantFactoryMethodSmooth;break}if(_e===void 0){const tt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if($!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(tt);return console.warn("THREE.KeyframeTrack:",tt),this}return this.createInterpolant=_e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift($){if($!==0){const _e=this.times;for(let tt=0,nt=_e.length;tt!==nt;++tt)_e[tt]+=$}return this}scale($){if($!==1){const _e=this.times;for(let tt=0,nt=_e.length;tt!==nt;++tt)_e[tt]*=$}return this}trim($,_e){const tt=this.times,nt=tt.length;let rt=0,it=nt-1;for(;rt!==nt&&tt[rt]<$;)++rt;for(;it!==-1&&tt[it]>_e;)--it;if(++it,rt!==0||it!==nt){rt>=it&&(it=Math.max(it,1),rt=it-1);const st=this.getValueSize();this.times=arraySlice(tt,rt,it),this.values=arraySlice(this.values,rt*st,it*st)}return this}validate(){let $=!0;const _e=this.getValueSize();_e-Math.floor(_e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),$=!1);const tt=this.times,nt=this.values,rt=tt.length;rt===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),$=!1);let it=null;for(let st=0;st!==rt;st++){const ot=tt[st];if(typeof ot=="number"&&isNaN(ot)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,st,ot),$=!1;break}if(it!==null&&it>ot){console.error("THREE.KeyframeTrack: Out of order keys.",this,st,ot,it),$=!1;break}it=ot}if(nt!==void 0&&isTypedArray(nt))for(let st=0,ot=nt.length;st!==ot;++st){const at=nt[st];if(isNaN(at)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,st,at),$=!1;break}}return $}optimize(){const $=arraySlice(this.times),_e=arraySlice(this.values),tt=this.getValueSize(),nt=this.getInterpolation()===InterpolateSmooth,rt=$.length-1;let it=1;for(let st=1;st<rt;++st){let ot=!1;const at=$[st],lt=$[st+1];if(at!==lt&&(st!==1||at!==$[0]))if(nt)ot=!0;else{const dt=st*tt,ct=dt-tt,pt=dt+tt;for(let mt=0;mt!==tt;++mt){const ht=_e[dt+mt];if(ht!==_e[ct+mt]||ht!==_e[pt+mt]){ot=!0;break}}}if(ot){if(st!==it){$[it]=$[st];const dt=st*tt,ct=it*tt;for(let pt=0;pt!==tt;++pt)_e[ct+pt]=_e[dt+pt]}++it}}if(rt>0){$[it]=$[rt];for(let st=rt*tt,ot=it*tt,at=0;at!==tt;++at)_e[ot+at]=_e[st+at];++it}return it!==$.length?(this.times=arraySlice($,0,it),this.values=arraySlice(_e,0,it*tt)):(this.times=$,this.values=_e),this}clone(){const $=arraySlice(this.times,0),_e=arraySlice(this.values,0),tt=this.constructor,nt=new tt(this.name,$,_e);return nt.createInterpolant=this.createInterpolant,nt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor($,_e,tt,nt){super($,_e,tt,nt)}interpolate_($,_e,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=(tt-_e)/(nt-_e);let at=$*st;for(let lt=at+st;at!==lt;at+=4)Quaternion.slerpFlat(rt,0,it,at-st,it,at,ot);return rt}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear($){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),$)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor($,_e=-1,tt,nt=NormalAnimationBlendMode){this.name=$,this.tracks=tt,this.duration=_e,this.blendMode=nt,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse($){const _e=[],tt=$.tracks,nt=1/($.fps||1);for(let it=0,st=tt.length;it!==st;++it)_e.push(parseKeyframeTrack(tt[it]).scale(nt));const rt=new this($.name,$.duration,_e,$.blendMode);return rt.uuid=$.uuid,rt}static toJSON($){const _e=[],tt=$.tracks,nt={name:$.name,duration:$.duration,tracks:_e,uuid:$.uuid,blendMode:$.blendMode};for(let rt=0,it=tt.length;rt!==it;++rt)_e.push(KeyframeTrack.toJSON(tt[rt]));return nt}static CreateFromMorphTargetSequence($,_e,tt,nt){const rt=_e.length,it=[];for(let st=0;st<rt;st++){let ot=[],at=[];ot.push((st+rt-1)%rt,st,(st+1)%rt),at.push(0,1,0);const lt=getKeyframeOrder(ot);ot=sortedArray(ot,1,lt),at=sortedArray(at,1,lt),!nt&&ot[0]===0&&(ot.push(rt),at.push(at[0])),it.push(new NumberKeyframeTrack(".morphTargetInfluences["+_e[st].name+"]",ot,at).scale(1/tt))}return new this($,-1,it)}static findByName($,_e){let tt=$;if(!Array.isArray($)){const nt=$;tt=nt.geometry&&nt.geometry.animations||nt.animations}for(let nt=0;nt<tt.length;nt++)if(tt[nt].name===_e)return tt[nt];return null}static CreateClipsFromMorphTargetSequences($,_e,tt){const nt={},rt=/^([\w-]*?)([\d]+)$/;for(let st=0,ot=$.length;st<ot;st++){const at=$[st],lt=at.name.match(rt);if(lt&&lt.length>1){const dt=lt[1];let ct=nt[dt];ct||(nt[dt]=ct=[]),ct.push(at)}}const it=[];for(const st in nt)it.push(this.CreateFromMorphTargetSequence(st,nt[st],_e,tt));return it}static parseAnimation($,_e){if(!$)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const tt=function(dt,ct,pt,mt,ht){if(pt.length!==0){const gt=[],vt=[];flattenJSON(pt,gt,vt,mt),gt.length!==0&&ht.push(new dt(ct,gt,vt))}},nt=[],rt=$.name||"default",it=$.fps||30,st=$.blendMode;let ot=$.length||-1;const at=$.hierarchy||[];for(let dt=0;dt<at.length;dt++){const ct=at[dt].keys;if(!(!ct||ct.length===0))if(ct[0].morphTargets){const pt={};let mt;for(mt=0;mt<ct.length;mt++)if(ct[mt].morphTargets)for(let ht=0;ht<ct[mt].morphTargets.length;ht++)pt[ct[mt].morphTargets[ht]]=-1;for(const ht in pt){const gt=[],vt=[];for(let _t=0;_t!==ct[mt].morphTargets.length;++_t){const yt=ct[mt];gt.push(yt.time),vt.push(yt.morphTarget===ht?1:0)}nt.push(new NumberKeyframeTrack(".morphTargetInfluence["+ht+"]",gt,vt))}ot=pt.length*it}else{const pt=".bones["+_e[dt].name+"]";tt(VectorKeyframeTrack,pt+".position",ct,"pos",nt),tt(QuaternionKeyframeTrack,pt+".quaternion",ct,"rot",nt),tt(VectorKeyframeTrack,pt+".scale",ct,"scl",nt)}}return nt.length===0?null:new this(rt,ot,nt,st)}resetDuration(){const $=this.tracks;let _e=0;for(let tt=0,nt=$.length;tt!==nt;++tt){const rt=this.tracks[tt];_e=Math.max(_e,rt.times[rt.times.length-1])}return this.duration=_e,this}trim(){for(let $=0;$<this.tracks.length;$++)this.tracks[$].trim(0,this.duration);return this}validate(){let $=!0;for(let _e=0;_e<this.tracks.length;_e++)$=$&&this.tracks[_e].validate();return $}optimize(){for(let $=0;$<this.tracks.length;$++)this.tracks[$].optimize();return this}clone(){const $=[];for(let _e=0;_e<this.tracks.length;_e++)$.push(this.tracks[_e].clone());return new this.constructor(this.name,this.duration,$,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(et){switch(et.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+et)}function parseKeyframeTrack(et){if(et.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const $=getTrackTypeForValueTypeName(et.type);if(et.times===void 0){const _e=[],tt=[];flattenJSON(et.keys,_e,tt,"value"),et.times=_e,et.values=tt}return $.parse!==void 0?$.parse(et):new $(et.name,et.times,et.values,et.interpolation)}const Cache={enabled:!1,files:{},add:function(et,$){this.enabled!==!1&&(this.files[et]=$)},get:function(et){if(this.enabled!==!1)return this.files[et]},remove:function(et){delete this.files[et]},clear:function(){this.files={}}};class LoadingManager{constructor($,_e,tt){const nt=this;let rt=!1,it=0,st=0,ot;const at=[];this.onStart=void 0,this.onLoad=$,this.onProgress=_e,this.onError=tt,this.itemStart=function(lt){st++,rt===!1&&nt.onStart!==void 0&&nt.onStart(lt,it,st),rt=!0},this.itemEnd=function(lt){it++,nt.onProgress!==void 0&&nt.onProgress(lt,it,st),it===st&&(rt=!1,nt.onLoad!==void 0&&nt.onLoad())},this.itemError=function(lt){nt.onError!==void 0&&nt.onError(lt)},this.resolveURL=function(lt){return ot?ot(lt):lt},this.setURLModifier=function(lt){return ot=lt,this},this.addHandler=function(lt,dt){return at.push(lt,dt),this},this.removeHandler=function(lt){const dt=at.indexOf(lt);return dt!==-1&&at.splice(dt,2),this},this.getHandler=function(lt){for(let dt=0,ct=at.length;dt<ct;dt+=2){const pt=at[dt],mt=at[dt+1];if(pt.global&&(pt.lastIndex=0),pt.test(lt))return mt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor($){this.manager=$!==void 0?$:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync($,_e){const tt=this;return new Promise(function(nt,rt){tt.load($,nt,_e,rt)})}parse(){}setCrossOrigin($){return this.crossOrigin=$,this}setWithCredentials($){return this.withCredentials=$,this}setPath($){return this.path=$,this}setResourcePath($){return this.resourcePath=$,this}setRequestHeader($){return this.requestHeader=$,this}}const loading={};class HttpError extends Error{constructor($,_e){super($),this.response=_e}}class FileLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){$===void 0&&($=""),this.path!==void 0&&($=this.path+$),$=this.manager.resolveURL($);const rt=Cache.get($);if(rt!==void 0)return this.manager.itemStart($),setTimeout(()=>{_e&&_e(rt),this.manager.itemEnd($)},0),rt;if(loading[$]!==void 0){loading[$].push({onLoad:_e,onProgress:tt,onError:nt});return}loading[$]=[],loading[$].push({onLoad:_e,onProgress:tt,onError:nt});const it=new Request($,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),st=this.mimeType,ot=this.responseType;fetch(it).then(at=>{if(at.status===200||at.status===0){if(at.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||at.body===void 0||at.body.getReader===void 0)return at;const lt=loading[$],dt=at.body.getReader(),ct=at.headers.get("Content-Length")||at.headers.get("X-File-Size"),pt=ct?parseInt(ct):0,mt=pt!==0;let ht=0;const gt=new ReadableStream({start(vt){_t();function _t(){dt.read().then(({done:yt,value:xt})=>{if(yt)vt.close();else{ht+=xt.byteLength;const At=new ProgressEvent("progress",{lengthComputable:mt,loaded:ht,total:pt});for(let Ct=0,Pt=lt.length;Ct<Pt;Ct++){const bt=lt[Ct];bt.onProgress&&bt.onProgress(At)}vt.enqueue(xt),_t()}})}}});return new Response(gt)}else throw new HttpError(`fetch for "${at.url}" responded with ${at.status}: ${at.statusText}`,at)}).then(at=>{switch(ot){case"arraybuffer":return at.arrayBuffer();case"blob":return at.blob();case"document":return at.text().then(lt=>new DOMParser().parseFromString(lt,st));case"json":return at.json();default:if(st===void 0)return at.text();{const dt=/charset="?([^;"\s]*)"?/i.exec(st),ct=dt&&dt[1]?dt[1].toLowerCase():void 0,pt=new TextDecoder(ct);return at.arrayBuffer().then(mt=>pt.decode(mt))}}}).then(at=>{Cache.add($,at);const lt=loading[$];delete loading[$];for(let dt=0,ct=lt.length;dt<ct;dt++){const pt=lt[dt];pt.onLoad&&pt.onLoad(at)}}).catch(at=>{const lt=loading[$];if(lt===void 0)throw this.manager.itemError($),at;delete loading[$];for(let dt=0,ct=lt.length;dt<ct;dt++){const pt=lt[dt];pt.onError&&pt.onError(at)}this.manager.itemError($)}).finally(()=>{this.manager.itemEnd($)}),this.manager.itemStart($)}setResponseType($){return this.responseType=$,this}setMimeType($){return this.mimeType=$,this}}class AnimationLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load($,function(st){try{_e(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError($)}},tt,nt)}parse($){const _e=[];for(let tt=0;tt<$.length;tt++){const nt=AnimationClip.parse($[tt]);_e.push(nt)}return _e}}class CompressedTextureLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){const rt=this,it=[],st=new CompressedTexture,ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(rt.withCredentials);let at=0;function lt(dt){ot.load($[dt],function(ct){const pt=rt.parse(ct,!0);it[dt]={width:pt.width,height:pt.height,format:pt.format,mipmaps:pt.mipmaps},at+=1,at===6&&(pt.mipmapCount===1&&(st.minFilter=LinearFilter),st.image=it,st.format=pt.format,st.needsUpdate=!0,_e&&_e(st))},tt,nt)}if(Array.isArray($))for(let dt=0,ct=$.length;dt<ct;++dt)lt(dt);else ot.load($,function(dt){const ct=rt.parse(dt,!0);if(ct.isCubemap){const pt=ct.mipmaps.length/ct.mipmapCount;for(let mt=0;mt<pt;mt++){it[mt]={mipmaps:[]};for(let ht=0;ht<ct.mipmapCount;ht++)it[mt].mipmaps.push(ct.mipmaps[mt*ct.mipmapCount+ht]),it[mt].format=ct.format,it[mt].width=ct.width,it[mt].height=ct.height}st.image=it}else st.image.width=ct.width,st.image.height=ct.height,st.mipmaps=ct.mipmaps;ct.mipmapCount===1&&(st.minFilter=LinearFilter),st.format=ct.format,st.needsUpdate=!0,_e&&_e(st)},tt,nt);return st}}class ImageLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){this.path!==void 0&&($=this.path+$),$=this.manager.resolveURL($);const rt=this,it=Cache.get($);if(it!==void 0)return rt.manager.itemStart($),setTimeout(function(){_e&&_e(it),rt.manager.itemEnd($)},0),it;const st=createElementNS("img");function ot(){lt(),Cache.add($,this),_e&&_e(this),rt.manager.itemEnd($)}function at(dt){lt(),nt&&nt(dt),rt.manager.itemError($),rt.manager.itemEnd($)}function lt(){st.removeEventListener("load",ot,!1),st.removeEventListener("error",at,!1)}return st.addEventListener("load",ot,!1),st.addEventListener("error",at,!1),$.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(st.crossOrigin=this.crossOrigin),rt.manager.itemStart($),st.src=$,st}}class CubeTextureLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){const rt=new CubeTexture,it=new ImageLoader(this.manager);it.setCrossOrigin(this.crossOrigin),it.setPath(this.path);let st=0;function ot(at){it.load($[at],function(lt){rt.images[at]=lt,st++,st===6&&(rt.needsUpdate=!0,_e&&_e(rt))},void 0,nt)}for(let at=0;at<$.length;++at)ot(at);return rt}}class DataTextureLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){const rt=this,it=new DataTexture,st=new FileLoader(this.manager);return st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setPath(this.path),st.setWithCredentials(rt.withCredentials),st.load($,function(ot){const at=rt.parse(ot);at&&(at.image!==void 0?it.image=at.image:at.data!==void 0&&(it.image.width=at.width,it.image.height=at.height,it.image.data=at.data),it.wrapS=at.wrapS!==void 0?at.wrapS:ClampToEdgeWrapping,it.wrapT=at.wrapT!==void 0?at.wrapT:ClampToEdgeWrapping,it.magFilter=at.magFilter!==void 0?at.magFilter:LinearFilter,it.minFilter=at.minFilter!==void 0?at.minFilter:LinearFilter,it.anisotropy=at.anisotropy!==void 0?at.anisotropy:1,at.encoding!==void 0&&(it.encoding=at.encoding),at.flipY!==void 0&&(it.flipY=at.flipY),at.format!==void 0&&(it.format=at.format),at.type!==void 0&&(it.type=at.type),at.mipmaps!==void 0&&(it.mipmaps=at.mipmaps,it.minFilter=LinearMipmapLinearFilter),at.mipmapCount===1&&(it.minFilter=LinearFilter),at.generateMipmaps!==void 0&&(it.generateMipmaps=at.generateMipmaps),it.needsUpdate=!0,_e&&_e(it,at))},tt,nt),it}}class TextureLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){const rt=new Texture,it=new ImageLoader(this.manager);return it.setCrossOrigin(this.crossOrigin),it.setPath(this.path),it.load($,function(st){rt.image=st,rt.needsUpdate=!0,_e!==void 0&&_e(rt)},tt,nt),rt}}class Light extends Object3D{constructor($,_e=1){super(),this.isLight=!0,this.type="Light",this.color=new Color($),this.intensity=_e}dispose(){}copy($,_e){return super.copy($,_e),this.color.copy($.color),this.intensity=$.intensity,this}toJSON($){const _e=super.toJSON($);return _e.object.color=this.color.getHex(),_e.object.intensity=this.intensity,this.groundColor!==void 0&&(_e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(_e.object.distance=this.distance),this.angle!==void 0&&(_e.object.angle=this.angle),this.decay!==void 0&&(_e.object.decay=this.decay),this.penumbra!==void 0&&(_e.object.penumbra=this.penumbra),this.shadow!==void 0&&(_e.object.shadow=this.shadow.toJSON()),_e}}class HemisphereLight extends Light{constructor($,_e,tt){super($,tt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(_e)}copy($,_e){return super.copy($,_e),this.groundColor.copy($.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor($){this.camera=$,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices($){const _e=this.camera,tt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition($.matrixWorld),_e.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition($.target.matrixWorld),_e.lookAt(_lookTarget$1),_e.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),tt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),tt.multiply(_projScreenMatrix$1)}getViewport($){return this._viewports[$]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy($){return this.camera=$.camera.clone(),this.bias=$.bias,this.radius=$.radius,this.mapSize.copy($.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const $={};return this.bias!==0&&($.bias=this.bias),this.normalBias!==0&&($.normalBias=this.normalBias),this.radius!==1&&($.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&($.mapSize=this.mapSize.toArray()),$.camera=this.camera.toJSON(!1).object,delete $.camera.matrix,$}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices($){const _e=this.camera,tt=RAD2DEG*2*$.angle*this.focus,nt=this.mapSize.width/this.mapSize.height,rt=$.distance||_e.far;(tt!==_e.fov||nt!==_e.aspect||rt!==_e.far)&&(_e.fov=tt,_e.aspect=nt,_e.far=rt,_e.updateProjectionMatrix()),super.updateMatrices($)}copy($){return super.copy($),this.focus=$.focus,this}}class SpotLight extends Light{constructor($,_e,tt=0,nt=Math.PI/3,rt=0,it=2){super($,_e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=tt,this.angle=nt,this.penumbra=rt,this.decay=it,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power($){this.intensity=$/Math.PI}dispose(){this.shadow.dispose()}copy($,_e){return super.copy($,_e),this.distance=$.distance,this.angle=$.angle,this.penumbra=$.penumbra,this.decay=$.decay,this.target=$.target.clone(),this.shadow=$.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices($,_e=0){const tt=this.camera,nt=this.matrix,rt=$.distance||tt.far;rt!==tt.far&&(tt.far=rt,tt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition($.matrixWorld),tt.position.copy(_lightPositionWorld),_lookTarget.copy(tt.position),_lookTarget.add(this._cubeDirections[_e]),tt.up.copy(this._cubeUps[_e]),tt.lookAt(_lookTarget),tt.updateMatrixWorld(),nt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor($,_e,tt=0,nt=2){super($,_e),this.isPointLight=!0,this.type="PointLight",this.distance=tt,this.decay=nt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power($){this.intensity=$/(4*Math.PI)}dispose(){this.shadow.dispose()}copy($,_e){return super.copy($,_e),this.distance=$.distance,this.decay=$.decay,this.shadow=$.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor($,_e){super($,_e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy($){return super.copy($),this.target=$.target.clone(),this.shadow=$.shadow.clone(),this}}class AmbientLight extends Light{constructor($,_e){super($,_e),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor($,_e,tt=10,nt=10){super($,_e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=tt,this.height=nt}get power(){return this.intensity*this.width*this.height*Math.PI}set power($){this.intensity=$/(this.width*this.height*Math.PI)}copy($){return super.copy($),this.width=$.width,this.height=$.height,this}toJSON($){const _e=super.toJSON($);return _e.object.width=this.width,_e.object.height=this.height,_e}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let $=0;$<9;$++)this.coefficients.push(new Vector3)}set($){for(let _e=0;_e<9;_e++)this.coefficients[_e].copy($[_e]);return this}zero(){for(let $=0;$<9;$++)this.coefficients[$].set(0,0,0);return this}getAt($,_e){const tt=$.x,nt=$.y,rt=$.z,it=this.coefficients;return _e.copy(it[0]).multiplyScalar(.282095),_e.addScaledVector(it[1],.488603*nt),_e.addScaledVector(it[2],.488603*rt),_e.addScaledVector(it[3],.488603*tt),_e.addScaledVector(it[4],1.092548*(tt*nt)),_e.addScaledVector(it[5],1.092548*(nt*rt)),_e.addScaledVector(it[6],.315392*(3*rt*rt-1)),_e.addScaledVector(it[7],1.092548*(tt*rt)),_e.addScaledVector(it[8],.546274*(tt*tt-nt*nt)),_e}getIrradianceAt($,_e){const tt=$.x,nt=$.y,rt=$.z,it=this.coefficients;return _e.copy(it[0]).multiplyScalar(.886227),_e.addScaledVector(it[1],2*.511664*nt),_e.addScaledVector(it[2],2*.511664*rt),_e.addScaledVector(it[3],2*.511664*tt),_e.addScaledVector(it[4],2*.429043*tt*nt),_e.addScaledVector(it[5],2*.429043*nt*rt),_e.addScaledVector(it[6],.743125*rt*rt-.247708),_e.addScaledVector(it[7],2*.429043*tt*rt),_e.addScaledVector(it[8],.429043*(tt*tt-nt*nt)),_e}add($){for(let _e=0;_e<9;_e++)this.coefficients[_e].add($.coefficients[_e]);return this}addScaledSH($,_e){for(let tt=0;tt<9;tt++)this.coefficients[tt].addScaledVector($.coefficients[tt],_e);return this}scale($){for(let _e=0;_e<9;_e++)this.coefficients[_e].multiplyScalar($);return this}lerp($,_e){for(let tt=0;tt<9;tt++)this.coefficients[tt].lerp($.coefficients[tt],_e);return this}equals($){for(let _e=0;_e<9;_e++)if(!this.coefficients[_e].equals($.coefficients[_e]))return!1;return!0}copy($){return this.set($.coefficients)}clone(){return new this.constructor().copy(this)}fromArray($,_e=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].fromArray($,_e+nt*3);return this}toArray($=[],_e=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].toArray($,_e+nt*3);return $}static getBasisAt($,_e){const tt=$.x,nt=$.y,rt=$.z;_e[0]=.282095,_e[1]=.488603*nt,_e[2]=.488603*rt,_e[3]=.488603*tt,_e[4]=1.092548*tt*nt,_e[5]=1.092548*nt*rt,_e[6]=.315392*(3*rt*rt-1),_e[7]=1.092548*tt*rt,_e[8]=.546274*(tt*tt-nt*nt)}}class LightProbe extends Light{constructor($=new SphericalHarmonics3,_e=1){super(void 0,_e),this.isLightProbe=!0,this.sh=$}copy($){return super.copy($),this.sh.copy($.sh),this}fromJSON($){return this.intensity=$.intensity,this.sh.fromArray($.sh),this}toJSON($){const _e=super.toJSON($);return _e.object.sh=this.sh.toArray(),_e}}class MaterialLoader extends Loader{constructor($){super($),this.textures={}}load($,_e,tt,nt){const rt=this,it=new FileLoader(rt.manager);it.setPath(rt.path),it.setRequestHeader(rt.requestHeader),it.setWithCredentials(rt.withCredentials),it.load($,function(st){try{_e(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError($)}},tt,nt)}parse($){const _e=this.textures;function tt(rt){return _e[rt]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",rt),_e[rt]}const nt=MaterialLoader.createMaterialFromType($.type);if($.uuid!==void 0&&(nt.uuid=$.uuid),$.name!==void 0&&(nt.name=$.name),$.color!==void 0&&nt.color!==void 0&&nt.color.setHex($.color),$.roughness!==void 0&&(nt.roughness=$.roughness),$.metalness!==void 0&&(nt.metalness=$.metalness),$.sheen!==void 0&&(nt.sheen=$.sheen),$.sheenColor!==void 0&&(nt.sheenColor=new Color().setHex($.sheenColor)),$.sheenRoughness!==void 0&&(nt.sheenRoughness=$.sheenRoughness),$.emissive!==void 0&&nt.emissive!==void 0&&nt.emissive.setHex($.emissive),$.specular!==void 0&&nt.specular!==void 0&&nt.specular.setHex($.specular),$.specularIntensity!==void 0&&(nt.specularIntensity=$.specularIntensity),$.specularColor!==void 0&&nt.specularColor!==void 0&&nt.specularColor.setHex($.specularColor),$.shininess!==void 0&&(nt.shininess=$.shininess),$.clearcoat!==void 0&&(nt.clearcoat=$.clearcoat),$.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=$.clearcoatRoughness),$.iridescence!==void 0&&(nt.iridescence=$.iridescence),$.iridescenceIOR!==void 0&&(nt.iridescenceIOR=$.iridescenceIOR),$.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=$.iridescenceThicknessRange),$.transmission!==void 0&&(nt.transmission=$.transmission),$.thickness!==void 0&&(nt.thickness=$.thickness),$.attenuationDistance!==void 0&&(nt.attenuationDistance=$.attenuationDistance),$.attenuationColor!==void 0&&nt.attenuationColor!==void 0&&nt.attenuationColor.setHex($.attenuationColor),$.fog!==void 0&&(nt.fog=$.fog),$.flatShading!==void 0&&(nt.flatShading=$.flatShading),$.blending!==void 0&&(nt.blending=$.blending),$.combine!==void 0&&(nt.combine=$.combine),$.side!==void 0&&(nt.side=$.side),$.shadowSide!==void 0&&(nt.shadowSide=$.shadowSide),$.opacity!==void 0&&(nt.opacity=$.opacity),$.transparent!==void 0&&(nt.transparent=$.transparent),$.alphaTest!==void 0&&(nt.alphaTest=$.alphaTest),$.depthTest!==void 0&&(nt.depthTest=$.depthTest),$.depthWrite!==void 0&&(nt.depthWrite=$.depthWrite),$.colorWrite!==void 0&&(nt.colorWrite=$.colorWrite),$.stencilWrite!==void 0&&(nt.stencilWrite=$.stencilWrite),$.stencilWriteMask!==void 0&&(nt.stencilWriteMask=$.stencilWriteMask),$.stencilFunc!==void 0&&(nt.stencilFunc=$.stencilFunc),$.stencilRef!==void 0&&(nt.stencilRef=$.stencilRef),$.stencilFuncMask!==void 0&&(nt.stencilFuncMask=$.stencilFuncMask),$.stencilFail!==void 0&&(nt.stencilFail=$.stencilFail),$.stencilZFail!==void 0&&(nt.stencilZFail=$.stencilZFail),$.stencilZPass!==void 0&&(nt.stencilZPass=$.stencilZPass),$.wireframe!==void 0&&(nt.wireframe=$.wireframe),$.wireframeLinewidth!==void 0&&(nt.wireframeLinewidth=$.wireframeLinewidth),$.wireframeLinecap!==void 0&&(nt.wireframeLinecap=$.wireframeLinecap),$.wireframeLinejoin!==void 0&&(nt.wireframeLinejoin=$.wireframeLinejoin),$.rotation!==void 0&&(nt.rotation=$.rotation),$.linewidth!==1&&(nt.linewidth=$.linewidth),$.dashSize!==void 0&&(nt.dashSize=$.dashSize),$.gapSize!==void 0&&(nt.gapSize=$.gapSize),$.scale!==void 0&&(nt.scale=$.scale),$.polygonOffset!==void 0&&(nt.polygonOffset=$.polygonOffset),$.polygonOffsetFactor!==void 0&&(nt.polygonOffsetFactor=$.polygonOffsetFactor),$.polygonOffsetUnits!==void 0&&(nt.polygonOffsetUnits=$.polygonOffsetUnits),$.dithering!==void 0&&(nt.dithering=$.dithering),$.alphaToCoverage!==void 0&&(nt.alphaToCoverage=$.alphaToCoverage),$.premultipliedAlpha!==void 0&&(nt.premultipliedAlpha=$.premultipliedAlpha),$.forceSinglePass!==void 0&&(nt.forceSinglePass=$.forceSinglePass),$.visible!==void 0&&(nt.visible=$.visible),$.toneMapped!==void 0&&(nt.toneMapped=$.toneMapped),$.userData!==void 0&&(nt.userData=$.userData),$.vertexColors!==void 0&&(typeof $.vertexColors=="number"?nt.vertexColors=$.vertexColors>0:nt.vertexColors=$.vertexColors),$.uniforms!==void 0)for(const rt in $.uniforms){const it=$.uniforms[rt];switch(nt.uniforms[rt]={},it.type){case"t":nt.uniforms[rt].value=tt(it.value);break;case"c":nt.uniforms[rt].value=new Color().setHex(it.value);break;case"v2":nt.uniforms[rt].value=new Vector2().fromArray(it.value);break;case"v3":nt.uniforms[rt].value=new Vector3().fromArray(it.value);break;case"v4":nt.uniforms[rt].value=new Vector4().fromArray(it.value);break;case"m3":nt.uniforms[rt].value=new Matrix3().fromArray(it.value);break;case"m4":nt.uniforms[rt].value=new Matrix4().fromArray(it.value);break;default:nt.uniforms[rt].value=it.value}}if($.defines!==void 0&&(nt.defines=$.defines),$.vertexShader!==void 0&&(nt.vertexShader=$.vertexShader),$.fragmentShader!==void 0&&(nt.fragmentShader=$.fragmentShader),$.glslVersion!==void 0&&(nt.glslVersion=$.glslVersion),$.extensions!==void 0)for(const rt in $.extensions)nt.extensions[rt]=$.extensions[rt];if($.size!==void 0&&(nt.size=$.size),$.sizeAttenuation!==void 0&&(nt.sizeAttenuation=$.sizeAttenuation),$.map!==void 0&&(nt.map=tt($.map)),$.matcap!==void 0&&(nt.matcap=tt($.matcap)),$.alphaMap!==void 0&&(nt.alphaMap=tt($.alphaMap)),$.bumpMap!==void 0&&(nt.bumpMap=tt($.bumpMap)),$.bumpScale!==void 0&&(nt.bumpScale=$.bumpScale),$.normalMap!==void 0&&(nt.normalMap=tt($.normalMap)),$.normalMapType!==void 0&&(nt.normalMapType=$.normalMapType),$.normalScale!==void 0){let rt=$.normalScale;Array.isArray(rt)===!1&&(rt=[rt,rt]),nt.normalScale=new Vector2().fromArray(rt)}return $.displacementMap!==void 0&&(nt.displacementMap=tt($.displacementMap)),$.displacementScale!==void 0&&(nt.displacementScale=$.displacementScale),$.displacementBias!==void 0&&(nt.displacementBias=$.displacementBias),$.roughnessMap!==void 0&&(nt.roughnessMap=tt($.roughnessMap)),$.metalnessMap!==void 0&&(nt.metalnessMap=tt($.metalnessMap)),$.emissiveMap!==void 0&&(nt.emissiveMap=tt($.emissiveMap)),$.emissiveIntensity!==void 0&&(nt.emissiveIntensity=$.emissiveIntensity),$.specularMap!==void 0&&(nt.specularMap=tt($.specularMap)),$.specularIntensityMap!==void 0&&(nt.specularIntensityMap=tt($.specularIntensityMap)),$.specularColorMap!==void 0&&(nt.specularColorMap=tt($.specularColorMap)),$.envMap!==void 0&&(nt.envMap=tt($.envMap)),$.envMapIntensity!==void 0&&(nt.envMapIntensity=$.envMapIntensity),$.reflectivity!==void 0&&(nt.reflectivity=$.reflectivity),$.refractionRatio!==void 0&&(nt.refractionRatio=$.refractionRatio),$.lightMap!==void 0&&(nt.lightMap=tt($.lightMap)),$.lightMapIntensity!==void 0&&(nt.lightMapIntensity=$.lightMapIntensity),$.aoMap!==void 0&&(nt.aoMap=tt($.aoMap)),$.aoMapIntensity!==void 0&&(nt.aoMapIntensity=$.aoMapIntensity),$.gradientMap!==void 0&&(nt.gradientMap=tt($.gradientMap)),$.clearcoatMap!==void 0&&(nt.clearcoatMap=tt($.clearcoatMap)),$.clearcoatRoughnessMap!==void 0&&(nt.clearcoatRoughnessMap=tt($.clearcoatRoughnessMap)),$.clearcoatNormalMap!==void 0&&(nt.clearcoatNormalMap=tt($.clearcoatNormalMap)),$.clearcoatNormalScale!==void 0&&(nt.clearcoatNormalScale=new Vector2().fromArray($.clearcoatNormalScale)),$.iridescenceMap!==void 0&&(nt.iridescenceMap=tt($.iridescenceMap)),$.iridescenceThicknessMap!==void 0&&(nt.iridescenceThicknessMap=tt($.iridescenceThicknessMap)),$.transmissionMap!==void 0&&(nt.transmissionMap=tt($.transmissionMap)),$.thicknessMap!==void 0&&(nt.thicknessMap=tt($.thicknessMap)),$.sheenColorMap!==void 0&&(nt.sheenColorMap=tt($.sheenColorMap)),$.sheenRoughnessMap!==void 0&&(nt.sheenRoughnessMap=tt($.sheenRoughnessMap)),nt}setTextures($){return this.textures=$,this}static createMaterialFromType($){const _e={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new _e[$]}}class LoaderUtils{static decodeText($){if(typeof TextDecoder<"u")return new TextDecoder().decode($);let _e="";for(let tt=0,nt=$.length;tt<nt;tt++)_e+=String.fromCharCode($[tt]);try{return decodeURIComponent(escape(_e))}catch{return _e}}static extractUrlBase($){const _e=$.lastIndexOf("/");return _e===-1?"./":$.slice(0,_e+1)}static resolveURL($,_e){return typeof $!="string"||$===""?"":(/^https?:\/\//i.test(_e)&&/^\//.test($)&&(_e=_e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test($)||/^data:.*,.*$/i.test($)||/^blob:.*$/i.test($)?$:_e+$)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy($){return super.copy($),this.instanceCount=$.instanceCount,this}toJSON(){const $=super.toJSON();return $.instanceCount=this.instanceCount,$.isInstancedBufferGeometry=!0,$}}class BufferGeometryLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){const rt=this,it=new FileLoader(rt.manager);it.setPath(rt.path),it.setRequestHeader(rt.requestHeader),it.setWithCredentials(rt.withCredentials),it.load($,function(st){try{_e(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError($)}},tt,nt)}parse($){const _e={},tt={};function nt(pt,mt){if(_e[mt]!==void 0)return _e[mt];const gt=pt.interleavedBuffers[mt],vt=rt(pt,gt.buffer),_t=getTypedArray(gt.type,vt),yt=new InterleavedBuffer(_t,gt.stride);return yt.uuid=gt.uuid,_e[mt]=yt,yt}function rt(pt,mt){if(tt[mt]!==void 0)return tt[mt];const gt=pt.arrayBuffers[mt],vt=new Uint32Array(gt).buffer;return tt[mt]=vt,vt}const it=$.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,st=$.data.index;if(st!==void 0){const pt=getTypedArray(st.type,st.array);it.setIndex(new BufferAttribute(pt,1))}const ot=$.data.attributes;for(const pt in ot){const mt=ot[pt];let ht;if(mt.isInterleavedBufferAttribute){const gt=nt($.data,mt.data);ht=new InterleavedBufferAttribute(gt,mt.itemSize,mt.offset,mt.normalized)}else{const gt=getTypedArray(mt.type,mt.array),vt=mt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;ht=new vt(gt,mt.itemSize,mt.normalized)}mt.name!==void 0&&(ht.name=mt.name),mt.usage!==void 0&&ht.setUsage(mt.usage),mt.updateRange!==void 0&&(ht.updateRange.offset=mt.updateRange.offset,ht.updateRange.count=mt.updateRange.count),it.setAttribute(pt,ht)}const at=$.data.morphAttributes;if(at)for(const pt in at){const mt=at[pt],ht=[];for(let gt=0,vt=mt.length;gt<vt;gt++){const _t=mt[gt];let yt;if(_t.isInterleavedBufferAttribute){const xt=nt($.data,_t.data);yt=new InterleavedBufferAttribute(xt,_t.itemSize,_t.offset,_t.normalized)}else{const xt=getTypedArray(_t.type,_t.array);yt=new BufferAttribute(xt,_t.itemSize,_t.normalized)}_t.name!==void 0&&(yt.name=_t.name),ht.push(yt)}it.morphAttributes[pt]=ht}$.data.morphTargetsRelative&&(it.morphTargetsRelative=!0);const dt=$.data.groups||$.data.drawcalls||$.data.offsets;if(dt!==void 0)for(let pt=0,mt=dt.length;pt!==mt;++pt){const ht=dt[pt];it.addGroup(ht.start,ht.count,ht.materialIndex)}const ct=$.data.boundingSphere;if(ct!==void 0){const pt=new Vector3;ct.center!==void 0&&pt.fromArray(ct.center),it.boundingSphere=new Sphere(pt,ct.radius)}return $.name&&(it.name=$.name),$.userData&&(it.userData=$.userData),it}}class ObjectLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){const rt=this,it=this.path===""?LoaderUtils.extractUrlBase($):this.path;this.resourcePath=this.resourcePath||it;const st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load($,function(ot){let at=null;try{at=JSON.parse(ot)}catch(dt){nt!==void 0&&nt(dt),console.error("THREE:ObjectLoader: Can't parse "+$+".",dt.message);return}const lt=at.metadata;if(lt===void 0||lt.type===void 0||lt.type.toLowerCase()==="geometry"){nt!==void 0&&nt(new Error("THREE.ObjectLoader: Can't load "+$)),console.error("THREE.ObjectLoader: Can't load "+$);return}rt.parse(at,_e)},tt,nt)}async loadAsync($,_e){const tt=this,nt=this.path===""?LoaderUtils.extractUrlBase($):this.path;this.resourcePath=this.resourcePath||nt;const rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials);const it=await rt.loadAsync($,_e),st=JSON.parse(it),ot=st.metadata;if(ot===void 0||ot.type===void 0||ot.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+$);return await tt.parseAsync(st)}parse($,_e){const tt=this.parseAnimations($.animations),nt=this.parseShapes($.shapes),rt=this.parseGeometries($.geometries,nt),it=this.parseImages($.images,function(){_e!==void 0&&_e(at)}),st=this.parseTextures($.textures,it),ot=this.parseMaterials($.materials,st),at=this.parseObject($.object,rt,ot,st,tt),lt=this.parseSkeletons($.skeletons,at);if(this.bindSkeletons(at,lt),_e!==void 0){let dt=!1;for(const ct in it)if(it[ct].data instanceof HTMLImageElement){dt=!0;break}dt===!1&&_e(at)}return at}async parseAsync($){const _e=this.parseAnimations($.animations),tt=this.parseShapes($.shapes),nt=this.parseGeometries($.geometries,tt),rt=await this.parseImagesAsync($.images),it=this.parseTextures($.textures,rt),st=this.parseMaterials($.materials,it),ot=this.parseObject($.object,nt,st,it,_e),at=this.parseSkeletons($.skeletons,ot);return this.bindSkeletons(ot,at),ot}parseShapes($){const _e={};if($!==void 0)for(let tt=0,nt=$.length;tt<nt;tt++){const rt=new Shape().fromJSON($[tt]);_e[rt.uuid]=rt}return _e}parseSkeletons($,_e){const tt={},nt={};if(_e.traverse(function(rt){rt.isBone&&(nt[rt.uuid]=rt)}),$!==void 0)for(let rt=0,it=$.length;rt<it;rt++){const st=new Skeleton().fromJSON($[rt],nt);tt[st.uuid]=st}return tt}parseGeometries($,_e){const tt={};if($!==void 0){const nt=new BufferGeometryLoader;for(let rt=0,it=$.length;rt<it;rt++){let st;const ot=$[rt];switch(ot.type){case"BufferGeometry":case"InstancedBufferGeometry":st=nt.parse(ot);break;default:ot.type in Geometries?st=Geometries[ot.type].fromJSON(ot,_e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${ot.type}"`)}st.uuid=ot.uuid,ot.name!==void 0&&(st.name=ot.name),ot.userData!==void 0&&(st.userData=ot.userData),tt[ot.uuid]=st}}return tt}parseMaterials($,_e){const tt={},nt={};if($!==void 0){const rt=new MaterialLoader;rt.setTextures(_e);for(let it=0,st=$.length;it<st;it++){const ot=$[it];tt[ot.uuid]===void 0&&(tt[ot.uuid]=rt.parse(ot)),nt[ot.uuid]=tt[ot.uuid]}}return nt}parseAnimations($){const _e={};if($!==void 0)for(let tt=0;tt<$.length;tt++){const nt=$[tt],rt=AnimationClip.parse(nt);_e[rt.uuid]=rt}return _e}parseImages($,_e){const tt=this,nt={};let rt;function it(ot){return tt.manager.itemStart(ot),rt.load(ot,function(){tt.manager.itemEnd(ot)},void 0,function(){tt.manager.itemError(ot),tt.manager.itemEnd(ot)})}function st(ot){if(typeof ot=="string"){const at=ot,lt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(at)?at:tt.resourcePath+at;return it(lt)}else return ot.data?{data:getTypedArray(ot.type,ot.data),width:ot.width,height:ot.height}:null}if($!==void 0&&$.length>0){const ot=new LoadingManager(_e);rt=new ImageLoader(ot),rt.setCrossOrigin(this.crossOrigin);for(let at=0,lt=$.length;at<lt;at++){const dt=$[at],ct=dt.url;if(Array.isArray(ct)){const pt=[];for(let mt=0,ht=ct.length;mt<ht;mt++){const gt=ct[mt],vt=st(gt);vt!==null&&(vt instanceof HTMLImageElement?pt.push(vt):pt.push(new DataTexture(vt.data,vt.width,vt.height)))}nt[dt.uuid]=new Source(pt)}else{const pt=st(dt.url);nt[dt.uuid]=new Source(pt)}}}return nt}async parseImagesAsync($){const _e=this,tt={};let nt;async function rt(it){if(typeof it=="string"){const st=it,ot=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(st)?st:_e.resourcePath+st;return await nt.loadAsync(ot)}else return it.data?{data:getTypedArray(it.type,it.data),width:it.width,height:it.height}:null}if($!==void 0&&$.length>0){nt=new ImageLoader(this.manager),nt.setCrossOrigin(this.crossOrigin);for(let it=0,st=$.length;it<st;it++){const ot=$[it],at=ot.url;if(Array.isArray(at)){const lt=[];for(let dt=0,ct=at.length;dt<ct;dt++){const pt=at[dt],mt=await rt(pt);mt!==null&&(mt instanceof HTMLImageElement?lt.push(mt):lt.push(new DataTexture(mt.data,mt.width,mt.height)))}tt[ot.uuid]=new Source(lt)}else{const lt=await rt(ot.url);tt[ot.uuid]=new Source(lt)}}}return tt}parseTextures($,_e){function tt(rt,it){return typeof rt=="number"?rt:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",rt),it[rt])}const nt={};if($!==void 0)for(let rt=0,it=$.length;rt<it;rt++){const st=$[rt];st.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',st.uuid),_e[st.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",st.image);const ot=_e[st.image],at=ot.data;let lt;Array.isArray(at)?(lt=new CubeTexture,at.length===6&&(lt.needsUpdate=!0)):(at&&at.data?lt=new DataTexture:lt=new Texture,at&&(lt.needsUpdate=!0)),lt.source=ot,lt.uuid=st.uuid,st.name!==void 0&&(lt.name=st.name),st.mapping!==void 0&&(lt.mapping=tt(st.mapping,TEXTURE_MAPPING)),st.offset!==void 0&&lt.offset.fromArray(st.offset),st.repeat!==void 0&&lt.repeat.fromArray(st.repeat),st.center!==void 0&&lt.center.fromArray(st.center),st.rotation!==void 0&&(lt.rotation=st.rotation),st.wrap!==void 0&&(lt.wrapS=tt(st.wrap[0],TEXTURE_WRAPPING),lt.wrapT=tt(st.wrap[1],TEXTURE_WRAPPING)),st.format!==void 0&&(lt.format=st.format),st.internalFormat!==void 0&&(lt.internalFormat=st.internalFormat),st.type!==void 0&&(lt.type=st.type),st.encoding!==void 0&&(lt.encoding=st.encoding),st.minFilter!==void 0&&(lt.minFilter=tt(st.minFilter,TEXTURE_FILTER)),st.magFilter!==void 0&&(lt.magFilter=tt(st.magFilter,TEXTURE_FILTER)),st.anisotropy!==void 0&&(lt.anisotropy=st.anisotropy),st.flipY!==void 0&&(lt.flipY=st.flipY),st.generateMipmaps!==void 0&&(lt.generateMipmaps=st.generateMipmaps),st.premultiplyAlpha!==void 0&&(lt.premultiplyAlpha=st.premultiplyAlpha),st.unpackAlignment!==void 0&&(lt.unpackAlignment=st.unpackAlignment),st.userData!==void 0&&(lt.userData=st.userData),nt[st.uuid]=lt}return nt}parseObject($,_e,tt,nt,rt){let it;function st(ct){return _e[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ct),_e[ct]}function ot(ct){if(ct!==void 0){if(Array.isArray(ct)){const pt=[];for(let mt=0,ht=ct.length;mt<ht;mt++){const gt=ct[mt];tt[gt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",gt),pt.push(tt[gt])}return pt}return tt[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ct),tt[ct]}}function at(ct){return nt[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ct),nt[ct]}let lt,dt;switch($.type){case"Scene":it=new Scene,$.background!==void 0&&(Number.isInteger($.background)?it.background=new Color($.background):it.background=at($.background)),$.environment!==void 0&&(it.environment=at($.environment)),$.fog!==void 0&&($.fog.type==="Fog"?it.fog=new Fog($.fog.color,$.fog.near,$.fog.far):$.fog.type==="FogExp2"&&(it.fog=new FogExp2($.fog.color,$.fog.density))),$.backgroundBlurriness!==void 0&&(it.backgroundBlurriness=$.backgroundBlurriness),$.backgroundIntensity!==void 0&&(it.backgroundIntensity=$.backgroundIntensity);break;case"PerspectiveCamera":it=new PerspectiveCamera($.fov,$.aspect,$.near,$.far),$.focus!==void 0&&(it.focus=$.focus),$.zoom!==void 0&&(it.zoom=$.zoom),$.filmGauge!==void 0&&(it.filmGauge=$.filmGauge),$.filmOffset!==void 0&&(it.filmOffset=$.filmOffset),$.view!==void 0&&(it.view=Object.assign({},$.view));break;case"OrthographicCamera":it=new OrthographicCamera($.left,$.right,$.top,$.bottom,$.near,$.far),$.zoom!==void 0&&(it.zoom=$.zoom),$.view!==void 0&&(it.view=Object.assign({},$.view));break;case"AmbientLight":it=new AmbientLight($.color,$.intensity);break;case"DirectionalLight":it=new DirectionalLight($.color,$.intensity);break;case"PointLight":it=new PointLight($.color,$.intensity,$.distance,$.decay);break;case"RectAreaLight":it=new RectAreaLight($.color,$.intensity,$.width,$.height);break;case"SpotLight":it=new SpotLight($.color,$.intensity,$.distance,$.angle,$.penumbra,$.decay);break;case"HemisphereLight":it=new HemisphereLight($.color,$.groundColor,$.intensity);break;case"LightProbe":it=new LightProbe().fromJSON($);break;case"SkinnedMesh":lt=st($.geometry),dt=ot($.material),it=new SkinnedMesh(lt,dt),$.bindMode!==void 0&&(it.bindMode=$.bindMode),$.bindMatrix!==void 0&&it.bindMatrix.fromArray($.bindMatrix),$.skeleton!==void 0&&(it.skeleton=$.skeleton);break;case"Mesh":lt=st($.geometry),dt=ot($.material),it=new Mesh(lt,dt);break;case"InstancedMesh":lt=st($.geometry),dt=ot($.material);const ct=$.count,pt=$.instanceMatrix,mt=$.instanceColor;it=new InstancedMesh(lt,dt,ct),it.instanceMatrix=new InstancedBufferAttribute(new Float32Array(pt.array),16),mt!==void 0&&(it.instanceColor=new InstancedBufferAttribute(new Float32Array(mt.array),mt.itemSize));break;case"LOD":it=new LOD;break;case"Line":it=new Line(st($.geometry),ot($.material));break;case"LineLoop":it=new LineLoop(st($.geometry),ot($.material));break;case"LineSegments":it=new LineSegments(st($.geometry),ot($.material));break;case"PointCloud":case"Points":it=new Points(st($.geometry),ot($.material));break;case"Sprite":it=new Sprite(ot($.material));break;case"Group":it=new Group;break;case"Bone":it=new Bone;break;default:it=new Object3D}if(it.uuid=$.uuid,$.name!==void 0&&(it.name=$.name),$.matrix!==void 0?(it.matrix.fromArray($.matrix),$.matrixAutoUpdate!==void 0&&(it.matrixAutoUpdate=$.matrixAutoUpdate),it.matrixAutoUpdate&&it.matrix.decompose(it.position,it.quaternion,it.scale)):($.position!==void 0&&it.position.fromArray($.position),$.rotation!==void 0&&it.rotation.fromArray($.rotation),$.quaternion!==void 0&&it.quaternion.fromArray($.quaternion),$.scale!==void 0&&it.scale.fromArray($.scale)),$.castShadow!==void 0&&(it.castShadow=$.castShadow),$.receiveShadow!==void 0&&(it.receiveShadow=$.receiveShadow),$.shadow&&($.shadow.bias!==void 0&&(it.shadow.bias=$.shadow.bias),$.shadow.normalBias!==void 0&&(it.shadow.normalBias=$.shadow.normalBias),$.shadow.radius!==void 0&&(it.shadow.radius=$.shadow.radius),$.shadow.mapSize!==void 0&&it.shadow.mapSize.fromArray($.shadow.mapSize),$.shadow.camera!==void 0&&(it.shadow.camera=this.parseObject($.shadow.camera))),$.visible!==void 0&&(it.visible=$.visible),$.frustumCulled!==void 0&&(it.frustumCulled=$.frustumCulled),$.renderOrder!==void 0&&(it.renderOrder=$.renderOrder),$.userData!==void 0&&(it.userData=$.userData),$.layers!==void 0&&(it.layers.mask=$.layers),$.children!==void 0){const ct=$.children;for(let pt=0;pt<ct.length;pt++)it.add(this.parseObject(ct[pt],_e,tt,nt,rt))}if($.animations!==void 0){const ct=$.animations;for(let pt=0;pt<ct.length;pt++){const mt=ct[pt];it.animations.push(rt[mt])}}if($.type==="LOD"){$.autoUpdate!==void 0&&(it.autoUpdate=$.autoUpdate);const ct=$.levels;for(let pt=0;pt<ct.length;pt++){const mt=ct[pt],ht=it.getObjectByProperty("uuid",mt.object);ht!==void 0&&it.addLevel(ht,mt.distance,mt.hysteresis)}}return it}bindSkeletons($,_e){Object.keys(_e).length!==0&&$.traverse(function(tt){if(tt.isSkinnedMesh===!0&&tt.skeleton!==void 0){const nt=_e[tt.skeleton];nt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",tt.skeleton):tt.bind(nt,tt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor($){super($),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions($){return this.options=$,this}load($,_e,tt,nt){$===void 0&&($=""),this.path!==void 0&&($=this.path+$),$=this.manager.resolveURL($);const rt=this,it=Cache.get($);if(it!==void 0)return rt.manager.itemStart($),setTimeout(function(){_e&&_e(it),rt.manager.itemEnd($)},0),it;const st={};st.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",st.headers=this.requestHeader,fetch($,st).then(function(ot){return ot.blob()}).then(function(ot){return createImageBitmap(ot,Object.assign(rt.options,{colorSpaceConversion:"none"}))}).then(function(ot){Cache.add($,ot),_e&&_e(ot),rt.manager.itemEnd($)}).catch(function(ot){nt&&nt(ot),rt.manager.itemError($),rt.manager.itemEnd($)}),rt.manager.itemStart($)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext($){_context=$}}class AudioLoader extends Loader{constructor($){super($)}load($,_e,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setResponseType("arraybuffer"),it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load($,function(st){try{const ot=st.slice(0);AudioContext.getContext().decodeAudioData(ot,function(lt){_e(lt)})}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError($)}},tt,nt)}}class HemisphereLightProbe extends LightProbe{constructor($,_e,tt=1){super(void 0,tt),this.isHemisphereLightProbe=!0;const nt=new Color().set($),rt=new Color().set(_e),it=new Vector3(nt.r,nt.g,nt.b),st=new Vector3(rt.r,rt.g,rt.b),ot=Math.sqrt(Math.PI),at=ot*Math.sqrt(.75);this.sh.coefficients[0].copy(it).add(st).multiplyScalar(ot),this.sh.coefficients[1].copy(it).sub(st).multiplyScalar(at)}}class AmbientLightProbe extends LightProbe{constructor($,_e=1){super(void 0,_e),this.isAmbientLightProbe=!0;const tt=new Color().set($);this.sh.coefficients[0].set(tt.r,tt.g,tt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update($){const _e=this._cache;if(_e.focus!==$.focus||_e.fov!==$.fov||_e.aspect!==$.aspect*this.aspect||_e.near!==$.near||_e.far!==$.far||_e.zoom!==$.zoom||_e.eyeSep!==this.eyeSep){_e.focus=$.focus,_e.fov=$.fov,_e.aspect=$.aspect*this.aspect,_e.near=$.near,_e.far=$.far,_e.zoom=$.zoom,_e.eyeSep=this.eyeSep,_projectionMatrix.copy($.projectionMatrix);const nt=_e.eyeSep/2,rt=nt*_e.near/_e.focus,it=_e.near*Math.tan(DEG2RAD*_e.fov*.5)/_e.zoom;let st,ot;_eyeLeft.elements[12]=-nt,_eyeRight.elements[12]=nt,st=-it*_e.aspect+rt,ot=it*_e.aspect+rt,_projectionMatrix.elements[0]=2*_e.near/(ot-st),_projectionMatrix.elements[8]=(ot+st)/(ot-st),this.cameraL.projectionMatrix.copy(_projectionMatrix),st=-it*_e.aspect-rt,ot=it*_e.aspect-rt,_projectionMatrix.elements[0]=2*_e.near/(ot-st),_projectionMatrix.elements[8]=(ot+st)/(ot-st),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy($.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy($.matrixWorld).multiply(_eyeRight)}}class Clock{constructor($=!0){this.autoStart=$,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let $=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const _e=now();$=(_e-this.oldTime)/1e3,this.oldTime=_e,this.elapsedTime+=$}return $}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter($){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=$,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume($){return this.gain.gain.setTargetAtTime($,this.context.currentTime,.01),this}updateMatrixWorld($){super.updateMatrixWorld($);const _e=this.context.listener,tt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),_e.positionX){const nt=this.context.currentTime+this.timeDelta;_e.positionX.linearRampToValueAtTime(_position$1.x,nt),_e.positionY.linearRampToValueAtTime(_position$1.y,nt),_e.positionZ.linearRampToValueAtTime(_position$1.z,nt),_e.forwardX.linearRampToValueAtTime(_orientation$1.x,nt),_e.forwardY.linearRampToValueAtTime(_orientation$1.y,nt),_e.forwardZ.linearRampToValueAtTime(_orientation$1.z,nt),_e.upX.linearRampToValueAtTime(tt.x,nt),_e.upY.linearRampToValueAtTime(tt.y,nt),_e.upZ.linearRampToValueAtTime(tt.z,nt)}else _e.setPosition(_position$1.x,_position$1.y,_position$1.z),_e.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,tt.x,tt.y,tt.z)}}class Audio extends Object3D{constructor($){super(),this.type="Audio",this.listener=$,this.context=$.context,this.gain=this.context.createGain(),this.gain.connect($.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource($){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=$,this.connect(),this}setMediaElementSource($){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource($),this.connect(),this}setMediaStreamSource($){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource($),this.connect(),this}setBuffer($){return this.buffer=$,this.sourceType="buffer",this.autoplay&&this.play(),this}play($=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+$;const _e=this.context.createBufferSource();return _e.buffer=this.buffer,_e.loop=this.loop,_e.loopStart=this.loopStart,_e.loopEnd=this.loopEnd,_e.onended=this.onEnded.bind(this),_e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=_e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let $=1,_e=this.filters.length;$<_e;$++)this.filters[$-1].connect(this.filters[$]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let $=1,_e=this.filters.length;$<_e;$++)this.filters[$-1].disconnect(this.filters[$]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters($){return $||($=[]),this._connected===!0?(this.disconnect(),this.filters=$.slice(),this.connect()):this.filters=$.slice(),this}setDetune($){if(this.detune=$,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter($){return this.setFilters($?[$]:[])}setPlaybackRate($){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=$,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop($){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=$,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart($){return this.loopStart=$,this}setLoopEnd($){return this.loopEnd=$,this}getVolume(){return this.gain.gain.value}setVolume($){return this.gain.gain.setTargetAtTime($,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor($){super($),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance($){return this.panner.refDistance=$,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor($){return this.panner.rolloffFactor=$,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel($){return this.panner.distanceModel=$,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance($){return this.panner.maxDistance=$,this}setDirectionalCone($,_e,tt){return this.panner.coneInnerAngle=$,this.panner.coneOuterAngle=_e,this.panner.coneOuterGain=tt,this}updateMatrixWorld($){if(super.updateMatrixWorld($),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const _e=this.panner;if(_e.positionX){const tt=this.context.currentTime+this.listener.timeDelta;_e.positionX.linearRampToValueAtTime(_position.x,tt),_e.positionY.linearRampToValueAtTime(_position.y,tt),_e.positionZ.linearRampToValueAtTime(_position.z,tt),_e.orientationX.linearRampToValueAtTime(_orientation.x,tt),_e.orientationY.linearRampToValueAtTime(_orientation.y,tt),_e.orientationZ.linearRampToValueAtTime(_orientation.z,tt)}else _e.setPosition(_position.x,_position.y,_position.z),_e.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor($,_e=2048){this.analyser=$.context.createAnalyser(),this.analyser.fftSize=_e,this.data=new Uint8Array(this.analyser.frequencyBinCount),$.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let $=0;const _e=this.getFrequencyData();for(let tt=0;tt<_e.length;tt++)$+=_e[tt];return $/_e.length}}class PropertyMixer{constructor($,_e,tt){this.binding=$,this.valueSize=tt;let nt,rt,it;switch(_e){case"quaternion":nt=this._slerp,rt=this._slerpAdditive,it=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(tt*6),this._workIndex=5;break;case"string":case"bool":nt=this._select,rt=this._select,it=this._setAdditiveIdentityOther,this.buffer=new Array(tt*5);break;default:nt=this._lerp,rt=this._lerpAdditive,it=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(tt*5)}this._mixBufferRegion=nt,this._mixBufferRegionAdditive=rt,this._setIdentity=it,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate($,_e){const tt=this.buffer,nt=this.valueSize,rt=$*nt+nt;let it=this.cumulativeWeight;if(it===0){for(let st=0;st!==nt;++st)tt[rt+st]=tt[st];it=_e}else{it+=_e;const st=_e/it;this._mixBufferRegion(tt,rt,0,st,nt)}this.cumulativeWeight=it}accumulateAdditive($){const _e=this.buffer,tt=this.valueSize,nt=tt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(_e,nt,0,$,tt),this.cumulativeWeightAdditive+=$}apply($){const _e=this.valueSize,tt=this.buffer,nt=$*_e+_e,rt=this.cumulativeWeight,it=this.cumulativeWeightAdditive,st=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,rt<1){const ot=_e*this._origIndex;this._mixBufferRegion(tt,nt,ot,1-rt,_e)}it>0&&this._mixBufferRegionAdditive(tt,nt,this._addIndex*_e,1,_e);for(let ot=_e,at=_e+_e;ot!==at;++ot)if(tt[ot]!==tt[ot+_e]){st.setValue(tt,nt);break}}saveOriginalState(){const $=this.binding,_e=this.buffer,tt=this.valueSize,nt=tt*this._origIndex;$.getValue(_e,nt);for(let rt=tt,it=nt;rt!==it;++rt)_e[rt]=_e[nt+rt%tt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const $=this.valueSize*3;this.binding.setValue(this.buffer,$)}_setAdditiveIdentityNumeric(){const $=this._addIndex*this.valueSize,_e=$+this.valueSize;for(let tt=$;tt<_e;tt++)this.buffer[tt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const $=this._origIndex*this.valueSize,_e=this._addIndex*this.valueSize;for(let tt=0;tt<this.valueSize;tt++)this.buffer[_e+tt]=this.buffer[$+tt]}_select($,_e,tt,nt,rt){if(nt>=.5)for(let it=0;it!==rt;++it)$[_e+it]=$[tt+it]}_slerp($,_e,tt,nt){Quaternion.slerpFlat($,_e,$,_e,$,tt,nt)}_slerpAdditive($,_e,tt,nt,rt){const it=this._workIndex*rt;Quaternion.multiplyQuaternionsFlat($,it,$,_e,$,tt),Quaternion.slerpFlat($,_e,$,_e,$,it,nt)}_lerp($,_e,tt,nt,rt){const it=1-nt;for(let st=0;st!==rt;++st){const ot=_e+st;$[ot]=$[ot]*it+$[tt+st]*nt}}_lerpAdditive($,_e,tt,nt,rt){for(let it=0;it!==rt;++it){const st=_e+it;$[st]=$[st]+$[tt+it]*nt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor($,_e,tt){const nt=tt||PropertyBinding.parseTrackName(_e);this._targetGroup=$,this._bindings=$.subscribe_(_e,nt)}getValue($,_e){this.bind();const tt=this._targetGroup.nCachedObjects_,nt=this._bindings[tt];nt!==void 0&&nt.getValue($,_e)}setValue($,_e){const tt=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=tt.length;nt!==rt;++nt)tt[nt].setValue($,_e)}bind(){const $=this._bindings;for(let _e=this._targetGroup.nCachedObjects_,tt=$.length;_e!==tt;++_e)$[_e].bind()}unbind(){const $=this._bindings;for(let _e=this._targetGroup.nCachedObjects_,tt=$.length;_e!==tt;++_e)$[_e].unbind()}}class PropertyBinding{constructor($,_e,tt){this.path=_e,this.parsedPath=tt||PropertyBinding.parseTrackName(_e),this.node=PropertyBinding.findNode($,this.parsedPath.nodeName),this.rootNode=$,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create($,_e,tt){return $&&$.isAnimationObjectGroup?new PropertyBinding.Composite($,_e,tt):new PropertyBinding($,_e,tt)}static sanitizeNodeName($){return $.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName($){const _e=_trackRe.exec($);if(_e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+$);const tt={nodeName:_e[2],objectName:_e[3],objectIndex:_e[4],propertyName:_e[5],propertyIndex:_e[6]},nt=tt.nodeName&&tt.nodeName.lastIndexOf(".");if(nt!==void 0&&nt!==-1){const rt=tt.nodeName.substring(nt+1);_supportedObjectNames.indexOf(rt)!==-1&&(tt.nodeName=tt.nodeName.substring(0,nt),tt.objectName=rt)}if(tt.propertyName===null||tt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+$);return tt}static findNode($,_e){if(_e===void 0||_e===""||_e==="."||_e===-1||_e===$.name||_e===$.uuid)return $;if($.skeleton){const tt=$.skeleton.getBoneByName(_e);if(tt!==void 0)return tt}if($.children){const tt=function(rt){for(let it=0;it<rt.length;it++){const st=rt[it];if(st.name===_e||st.uuid===_e)return st;const ot=tt(st.children);if(ot)return ot}return null},nt=tt($.children);if(nt)return nt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct($,_e){$[_e]=this.targetObject[this.propertyName]}_getValue_array($,_e){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)$[_e++]=tt[nt]}_getValue_arrayElement($,_e){$[_e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray($,_e){this.resolvedProperty.toArray($,_e)}_setValue_direct($,_e){this.targetObject[this.propertyName]=$[_e]}_setValue_direct_setNeedsUpdate($,_e){this.targetObject[this.propertyName]=$[_e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate($,_e){this.targetObject[this.propertyName]=$[_e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array($,_e){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=$[_e++]}_setValue_array_setNeedsUpdate($,_e){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=$[_e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate($,_e){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=$[_e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement($,_e){this.resolvedProperty[this.propertyIndex]=$[_e]}_setValue_arrayElement_setNeedsUpdate($,_e){this.resolvedProperty[this.propertyIndex]=$[_e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate($,_e){this.resolvedProperty[this.propertyIndex]=$[_e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray($,_e){this.resolvedProperty.fromArray($,_e)}_setValue_fromArray_setNeedsUpdate($,_e){this.resolvedProperty.fromArray($,_e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate($,_e){this.resolvedProperty.fromArray($,_e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound($,_e){this.bind(),this.getValue($,_e)}_setValue_unbound($,_e){this.bind(),this.setValue($,_e)}bind(){let $=this.node;const _e=this.parsedPath,tt=_e.objectName,nt=_e.propertyName;let rt=_e.propertyIndex;if($||($=PropertyBinding.findNode(this.rootNode,_e.nodeName),this.node=$),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!$){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(tt){let at=_e.objectIndex;switch(tt){case"materials":if(!$.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!$.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}$=$.material.materials;break;case"bones":if(!$.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}$=$.skeleton.bones;for(let lt=0;lt<$.length;lt++)if($[lt].name===at){at=lt;break}break;case"map":if("map"in $){$=$.map;break}if(!$.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!$.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}$=$.material.map;break;default:if($[tt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}$=$[tt]}if(at!==void 0){if($[at]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,$);return}$=$[at]}}const it=$[nt];if(it===void 0){const at=_e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+at+"."+nt+" but it wasn't found.",$);return}let st=this.Versioning.None;this.targetObject=$,$.needsUpdate!==void 0?st=this.Versioning.NeedsUpdate:$.matrixWorldNeedsUpdate!==void 0&&(st=this.Versioning.MatrixWorldNeedsUpdate);let ot=this.BindingType.Direct;if(rt!==void 0){if(nt==="morphTargetInfluences"){if(!$.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!$.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}$.morphTargetDictionary[rt]!==void 0&&(rt=$.morphTargetDictionary[rt])}ot=this.BindingType.ArrayElement,this.resolvedProperty=it,this.propertyIndex=rt}else it.fromArray!==void 0&&it.toArray!==void 0?(ot=this.BindingType.HasFromToArray,this.resolvedProperty=it):Array.isArray(it)?(ot=this.BindingType.EntireArray,this.resolvedProperty=it):this.propertyName=nt;this.getValue=this.GetterByBindingType[ot],this.setValue=this.SetterByBindingTypeAndVersioning[ot][st]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const $={};this._indicesByUUID=$;for(let tt=0,nt=arguments.length;tt!==nt;++tt)$[arguments[tt].uuid]=tt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const _e=this;this.stats={objects:{get total(){return _e._objects.length},get inUse(){return this.total-_e.nCachedObjects_}},get bindingsPerObject(){return _e._bindings.length}}}add(){const $=this._objects,_e=this._indicesByUUID,tt=this._paths,nt=this._parsedPaths,rt=this._bindings,it=rt.length;let st,ot=$.length,at=this.nCachedObjects_;for(let lt=0,dt=arguments.length;lt!==dt;++lt){const ct=arguments[lt],pt=ct.uuid;let mt=_e[pt];if(mt===void 0){mt=ot++,_e[pt]=mt,$.push(ct);for(let ht=0,gt=it;ht!==gt;++ht)rt[ht].push(new PropertyBinding(ct,tt[ht],nt[ht]))}else if(mt<at){st=$[mt];const ht=--at,gt=$[ht];_e[gt.uuid]=mt,$[mt]=gt,_e[pt]=ht,$[ht]=ct;for(let vt=0,_t=it;vt!==_t;++vt){const yt=rt[vt],xt=yt[ht];let At=yt[mt];yt[mt]=xt,At===void 0&&(At=new PropertyBinding(ct,tt[vt],nt[vt])),yt[ht]=At}}else $[mt]!==st&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=at}remove(){const $=this._objects,_e=this._indicesByUUID,tt=this._bindings,nt=tt.length;let rt=this.nCachedObjects_;for(let it=0,st=arguments.length;it!==st;++it){const ot=arguments[it],at=ot.uuid,lt=_e[at];if(lt!==void 0&&lt>=rt){const dt=rt++,ct=$[dt];_e[ct.uuid]=lt,$[lt]=ct,_e[at]=dt,$[dt]=ot;for(let pt=0,mt=nt;pt!==mt;++pt){const ht=tt[pt],gt=ht[dt],vt=ht[lt];ht[lt]=gt,ht[dt]=vt}}}this.nCachedObjects_=rt}uncache(){const $=this._objects,_e=this._indicesByUUID,tt=this._bindings,nt=tt.length;let rt=this.nCachedObjects_,it=$.length;for(let st=0,ot=arguments.length;st!==ot;++st){const at=arguments[st],lt=at.uuid,dt=_e[lt];if(dt!==void 0)if(delete _e[lt],dt<rt){const ct=--rt,pt=$[ct],mt=--it,ht=$[mt];_e[pt.uuid]=dt,$[dt]=pt,_e[ht.uuid]=ct,$[ct]=ht,$.pop();for(let gt=0,vt=nt;gt!==vt;++gt){const _t=tt[gt],yt=_t[ct],xt=_t[mt];_t[dt]=yt,_t[ct]=xt,_t.pop()}}else{const ct=--it,pt=$[ct];ct>0&&(_e[pt.uuid]=dt),$[dt]=pt,$.pop();for(let mt=0,ht=nt;mt!==ht;++mt){const gt=tt[mt];gt[dt]=gt[ct],gt.pop()}}}this.nCachedObjects_=rt}subscribe_($,_e){const tt=this._bindingsIndicesByPath;let nt=tt[$];const rt=this._bindings;if(nt!==void 0)return rt[nt];const it=this._paths,st=this._parsedPaths,ot=this._objects,at=ot.length,lt=this.nCachedObjects_,dt=new Array(at);nt=rt.length,tt[$]=nt,it.push($),st.push(_e),rt.push(dt);for(let ct=lt,pt=ot.length;ct!==pt;++ct){const mt=ot[ct];dt[ct]=new PropertyBinding(mt,$,_e)}return dt}unsubscribe_($){const _e=this._bindingsIndicesByPath,tt=_e[$];if(tt!==void 0){const nt=this._paths,rt=this._parsedPaths,it=this._bindings,st=it.length-1,ot=it[st],at=$[st];_e[at]=tt,it[tt]=ot,it.pop(),rt[tt]=rt[st],rt.pop(),nt[tt]=nt[st],nt.pop()}}}class AnimationAction{constructor($,_e,tt=null,nt=_e.blendMode){this._mixer=$,this._clip=_e,this._localRoot=tt,this.blendMode=nt;const rt=_e.tracks,it=rt.length,st=new Array(it),ot={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let at=0;at!==it;++at){const lt=rt[at].createInterpolant(null);st[at]=lt,lt.settings=ot}this._interpolantSettings=ot,this._interpolants=st,this._propertyBindings=new Array(it),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt($){return this._startTime=$,this}setLoop($,_e){return this.loop=$,this.repetitions=_e,this}setEffectiveWeight($){return this.weight=$,this._effectiveWeight=this.enabled?$:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn($){return this._scheduleFading($,0,1)}fadeOut($){return this._scheduleFading($,1,0)}crossFadeFrom($,_e,tt){if($.fadeOut(_e),this.fadeIn(_e),tt){const nt=this._clip.duration,rt=$._clip.duration,it=rt/nt,st=nt/rt;$.warp(1,it,_e),this.warp(st,1,_e)}return this}crossFadeTo($,_e,tt){return $.crossFadeFrom(this,_e,tt)}stopFading(){const $=this._weightInterpolant;return $!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant($)),this}setEffectiveTimeScale($){return this.timeScale=$,this._effectiveTimeScale=this.paused?0:$,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration($){return this.timeScale=this._clip.duration/$,this.stopWarping()}syncWith($){return this.time=$.time,this.timeScale=$.timeScale,this.stopWarping()}halt($){return this.warp(this._effectiveTimeScale,0,$)}warp($,_e,tt){const nt=this._mixer,rt=nt.time,it=this.timeScale;let st=this._timeScaleInterpolant;st===null&&(st=nt._lendControlInterpolant(),this._timeScaleInterpolant=st);const ot=st.parameterPositions,at=st.sampleValues;return ot[0]=rt,ot[1]=rt+tt,at[0]=$/it,at[1]=_e/it,this}stopWarping(){const $=this._timeScaleInterpolant;return $!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant($)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update($,_e,tt,nt){if(!this.enabled){this._updateWeight($);return}const rt=this._startTime;if(rt!==null){const ot=($-rt)*tt;ot<0||tt===0?_e=0:(this._startTime=null,_e=tt*ot)}_e*=this._updateTimeScale($);const it=this._updateTime(_e),st=this._updateWeight($);if(st>0){const ot=this._interpolants,at=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let lt=0,dt=ot.length;lt!==dt;++lt)ot[lt].evaluate(it),at[lt].accumulateAdditive(st);break;case NormalAnimationBlendMode:default:for(let lt=0,dt=ot.length;lt!==dt;++lt)ot[lt].evaluate(it),at[lt].accumulate(nt,st)}}}_updateWeight($){let _e=0;if(this.enabled){_e=this.weight;const tt=this._weightInterpolant;if(tt!==null){const nt=tt.evaluate($)[0];_e*=nt,$>tt.parameterPositions[1]&&(this.stopFading(),nt===0&&(this.enabled=!1))}}return this._effectiveWeight=_e,_e}_updateTimeScale($){let _e=0;if(!this.paused){_e=this.timeScale;const tt=this._timeScaleInterpolant;if(tt!==null){const nt=tt.evaluate($)[0];_e*=nt,$>tt.parameterPositions[1]&&(this.stopWarping(),_e===0?this.paused=!0:this.timeScale=_e)}}return this._effectiveTimeScale=_e,_e}_updateTime($){const _e=this._clip.duration,tt=this.loop;let nt=this.time+$,rt=this._loopCount;const it=tt===LoopPingPong;if($===0)return rt===-1?nt:it&&(rt&1)===1?_e-nt:nt;if(tt===LoopOnce){rt===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(nt>=_e)nt=_e;else if(nt<0)nt=0;else{this.time=nt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:$<0?-1:1})}}else{if(rt===-1&&($>=0?(rt=0,this._setEndings(!0,this.repetitions===0,it)):this._setEndings(this.repetitions===0,!0,it)),nt>=_e||nt<0){const st=Math.floor(nt/_e);nt-=_e*st,rt+=Math.abs(st);const ot=this.repetitions-rt;if(ot<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt=$>0?_e:0,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:$>0?1:-1});else{if(ot===1){const at=$<0;this._setEndings(at,!at,it)}else this._setEndings(!1,!1,it);this._loopCount=rt,this.time=nt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:st})}}else this.time=nt;if(it&&(rt&1)===1)return _e-nt}return nt}_setEndings($,_e,tt){const nt=this._interpolantSettings;tt?(nt.endingStart=ZeroSlopeEnding,nt.endingEnd=ZeroSlopeEnding):($?nt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingStart=WrapAroundEnding,_e?nt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingEnd=WrapAroundEnding)}_scheduleFading($,_e,tt){const nt=this._mixer,rt=nt.time;let it=this._weightInterpolant;it===null&&(it=nt._lendControlInterpolant(),this._weightInterpolant=it);const st=it.parameterPositions,ot=it.sampleValues;return st[0]=rt,ot[0]=_e,st[1]=rt+$,ot[1]=tt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor($){super(),this._root=$,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction($,_e){const tt=$._localRoot||this._root,nt=$._clip.tracks,rt=nt.length,it=$._propertyBindings,st=$._interpolants,ot=tt.uuid,at=this._bindingsByRootAndName;let lt=at[ot];lt===void 0&&(lt={},at[ot]=lt);for(let dt=0;dt!==rt;++dt){const ct=nt[dt],pt=ct.name;let mt=lt[pt];if(mt!==void 0)++mt.referenceCount,it[dt]=mt;else{if(mt=it[dt],mt!==void 0){mt._cacheIndex===null&&(++mt.referenceCount,this._addInactiveBinding(mt,ot,pt));continue}const ht=_e&&_e._propertyBindings[dt].binding.parsedPath;mt=new PropertyMixer(PropertyBinding.create(tt,pt,ht),ct.ValueTypeName,ct.getValueSize()),++mt.referenceCount,this._addInactiveBinding(mt,ot,pt),it[dt]=mt}st[dt].resultBuffer=mt.buffer}}_activateAction($){if(!this._isActiveAction($)){if($._cacheIndex===null){const tt=($._localRoot||this._root).uuid,nt=$._clip.uuid,rt=this._actionsByClip[nt];this._bindAction($,rt&&rt.knownActions[0]),this._addInactiveAction($,nt,tt)}const _e=$._propertyBindings;for(let tt=0,nt=_e.length;tt!==nt;++tt){const rt=_e[tt];rt.useCount++===0&&(this._lendBinding(rt),rt.saveOriginalState())}this._lendAction($)}}_deactivateAction($){if(this._isActiveAction($)){const _e=$._propertyBindings;for(let tt=0,nt=_e.length;tt!==nt;++tt){const rt=_e[tt];--rt.useCount===0&&(rt.restoreOriginalState(),this._takeBackBinding(rt))}this._takeBackAction($)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const $=this;this.stats={actions:{get total(){return $._actions.length},get inUse(){return $._nActiveActions}},bindings:{get total(){return $._bindings.length},get inUse(){return $._nActiveBindings}},controlInterpolants:{get total(){return $._controlInterpolants.length},get inUse(){return $._nActiveControlInterpolants}}}}_isActiveAction($){const _e=$._cacheIndex;return _e!==null&&_e<this._nActiveActions}_addInactiveAction($,_e,tt){const nt=this._actions,rt=this._actionsByClip;let it=rt[_e];if(it===void 0)it={knownActions:[$],actionByRoot:{}},$._byClipCacheIndex=0,rt[_e]=it;else{const st=it.knownActions;$._byClipCacheIndex=st.length,st.push($)}$._cacheIndex=nt.length,nt.push($),it.actionByRoot[tt]=$}_removeInactiveAction($){const _e=this._actions,tt=_e[_e.length-1],nt=$._cacheIndex;tt._cacheIndex=nt,_e[nt]=tt,_e.pop(),$._cacheIndex=null;const rt=$._clip.uuid,it=this._actionsByClip,st=it[rt],ot=st.knownActions,at=ot[ot.length-1],lt=$._byClipCacheIndex;at._byClipCacheIndex=lt,ot[lt]=at,ot.pop(),$._byClipCacheIndex=null;const dt=st.actionByRoot,ct=($._localRoot||this._root).uuid;delete dt[ct],ot.length===0&&delete it[rt],this._removeInactiveBindingsForAction($)}_removeInactiveBindingsForAction($){const _e=$._propertyBindings;for(let tt=0,nt=_e.length;tt!==nt;++tt){const rt=_e[tt];--rt.referenceCount===0&&this._removeInactiveBinding(rt)}}_lendAction($){const _e=this._actions,tt=$._cacheIndex,nt=this._nActiveActions++,rt=_e[nt];$._cacheIndex=nt,_e[nt]=$,rt._cacheIndex=tt,_e[tt]=rt}_takeBackAction($){const _e=this._actions,tt=$._cacheIndex,nt=--this._nActiveActions,rt=_e[nt];$._cacheIndex=nt,_e[nt]=$,rt._cacheIndex=tt,_e[tt]=rt}_addInactiveBinding($,_e,tt){const nt=this._bindingsByRootAndName,rt=this._bindings;let it=nt[_e];it===void 0&&(it={},nt[_e]=it),it[tt]=$,$._cacheIndex=rt.length,rt.push($)}_removeInactiveBinding($){const _e=this._bindings,tt=$.binding,nt=tt.rootNode.uuid,rt=tt.path,it=this._bindingsByRootAndName,st=it[nt],ot=_e[_e.length-1],at=$._cacheIndex;ot._cacheIndex=at,_e[at]=ot,_e.pop(),delete st[rt],Object.keys(st).length===0&&delete it[nt]}_lendBinding($){const _e=this._bindings,tt=$._cacheIndex,nt=this._nActiveBindings++,rt=_e[nt];$._cacheIndex=nt,_e[nt]=$,rt._cacheIndex=tt,_e[tt]=rt}_takeBackBinding($){const _e=this._bindings,tt=$._cacheIndex,nt=--this._nActiveBindings,rt=_e[nt];$._cacheIndex=nt,_e[nt]=$,rt._cacheIndex=tt,_e[tt]=rt}_lendControlInterpolant(){const $=this._controlInterpolants,_e=this._nActiveControlInterpolants++;let tt=$[_e];return tt===void 0&&(tt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),tt.__cacheIndex=_e,$[_e]=tt),tt}_takeBackControlInterpolant($){const _e=this._controlInterpolants,tt=$.__cacheIndex,nt=--this._nActiveControlInterpolants,rt=_e[nt];$.__cacheIndex=nt,_e[nt]=$,rt.__cacheIndex=tt,_e[tt]=rt}clipAction($,_e,tt){const nt=_e||this._root,rt=nt.uuid;let it=typeof $=="string"?AnimationClip.findByName(nt,$):$;const st=it!==null?it.uuid:$,ot=this._actionsByClip[st];let at=null;if(tt===void 0&&(it!==null?tt=it.blendMode:tt=NormalAnimationBlendMode),ot!==void 0){const dt=ot.actionByRoot[rt];if(dt!==void 0&&dt.blendMode===tt)return dt;at=ot.knownActions[0],it===null&&(it=at._clip)}if(it===null)return null;const lt=new AnimationAction(this,it,_e,tt);return this._bindAction(lt,at),this._addInactiveAction(lt,st,rt),lt}existingAction($,_e){const tt=_e||this._root,nt=tt.uuid,rt=typeof $=="string"?AnimationClip.findByName(tt,$):$,it=rt?rt.uuid:$,st=this._actionsByClip[it];return st!==void 0&&st.actionByRoot[nt]||null}stopAllAction(){const $=this._actions,_e=this._nActiveActions;for(let tt=_e-1;tt>=0;--tt)$[tt].stop();return this}update($){$*=this.timeScale;const _e=this._actions,tt=this._nActiveActions,nt=this.time+=$,rt=Math.sign($),it=this._accuIndex^=1;for(let at=0;at!==tt;++at)_e[at]._update(nt,$,rt,it);const st=this._bindings,ot=this._nActiveBindings;for(let at=0;at!==ot;++at)st[at].apply(it);return this}setTime($){this.time=0;for(let _e=0;_e<this._actions.length;_e++)this._actions[_e].time=0;return this.update($)}getRoot(){return this._root}uncacheClip($){const _e=this._actions,tt=$.uuid,nt=this._actionsByClip,rt=nt[tt];if(rt!==void 0){const it=rt.knownActions;for(let st=0,ot=it.length;st!==ot;++st){const at=it[st];this._deactivateAction(at);const lt=at._cacheIndex,dt=_e[_e.length-1];at._cacheIndex=null,at._byClipCacheIndex=null,dt._cacheIndex=lt,_e[lt]=dt,_e.pop(),this._removeInactiveBindingsForAction(at)}delete nt[tt]}}uncacheRoot($){const _e=$.uuid,tt=this._actionsByClip;for(const it in tt){const st=tt[it].actionByRoot,ot=st[_e];ot!==void 0&&(this._deactivateAction(ot),this._removeInactiveAction(ot))}const nt=this._bindingsByRootAndName,rt=nt[_e];if(rt!==void 0)for(const it in rt){const st=rt[it];st.restoreOriginalState(),this._removeInactiveBinding(st)}}uncacheAction($,_e){const tt=this.existingAction($,_e);tt!==null&&(this._deactivateAction(tt),this._removeInactiveAction(tt))}}class Uniform{constructor($){this.value=$}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id$3=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id$3++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add($){return this.uniforms.push($),this}remove($){const _e=this.uniforms.indexOf($);return _e!==-1&&this.uniforms.splice(_e,1),this}setName($){return this.name=$,this}setUsage($){return this.usage=$,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy($){this.name=$.name,this.usage=$.usage;const _e=$.uniforms;this.uniforms.length=0;for(let tt=0,nt=_e.length;tt<nt;tt++)this.uniforms.push(_e[tt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor($,_e,tt=1){super($,_e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=tt}copy($){return super.copy($),this.meshPerAttribute=$.meshPerAttribute,this}clone($){const _e=super.clone($);return _e.meshPerAttribute=this.meshPerAttribute,_e}toJSON($){const _e=super.toJSON($);return _e.isInstancedInterleavedBuffer=!0,_e.meshPerAttribute=this.meshPerAttribute,_e}}class GLBufferAttribute{constructor($,_e,tt,nt,rt){this.isGLBufferAttribute=!0,this.name="",this.buffer=$,this.type=_e,this.itemSize=tt,this.elementSize=nt,this.count=rt,this.version=0}set needsUpdate($){$===!0&&this.version++}setBuffer($){return this.buffer=$,this}setType($,_e){return this.type=$,this.elementSize=_e,this}setItemSize($){return this.itemSize=$,this}setCount($){return this.count=$,this}}class Raycaster{constructor($,_e,tt=0,nt=1/0){this.ray=new Ray($,_e),this.near=tt,this.far=nt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set($,_e){this.ray.set($,_e)}setFromCamera($,_e){_e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(_e.matrixWorld),this.ray.direction.set($.x,$.y,.5).unproject(_e).sub(this.ray.origin).normalize(),this.camera=_e):_e.isOrthographicCamera?(this.ray.origin.set($.x,$.y,(_e.near+_e.far)/(_e.near-_e.far)).unproject(_e),this.ray.direction.set(0,0,-1).transformDirection(_e.matrixWorld),this.camera=_e):console.error("THREE.Raycaster: Unsupported camera type: "+_e.type)}intersectObject($,_e=!0,tt=[]){return intersectObject($,this,tt,_e),tt.sort(ascSort),tt}intersectObjects($,_e=!0,tt=[]){for(let nt=0,rt=$.length;nt<rt;nt++)intersectObject($[nt],this,tt,_e);return tt.sort(ascSort),tt}}function ascSort(et,$){return et.distance-$.distance}function intersectObject(et,$,_e,tt){if(et.layers.test($.layers)&&et.raycast($,_e),tt===!0){const nt=et.children;for(let rt=0,it=nt.length;rt<it;rt++)intersectObject(nt[rt],$,_e,!0)}}class Spherical{constructor($=1,_e=0,tt=0){return this.radius=$,this.phi=_e,this.theta=tt,this}set($,_e,tt){return this.radius=$,this.phi=_e,this.theta=tt,this}copy($){return this.radius=$.radius,this.phi=$.phi,this.theta=$.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3($){return this.setFromCartesianCoords($.x,$.y,$.z)}setFromCartesianCoords($,_e,tt){return this.radius=Math.sqrt($*$+_e*_e+tt*tt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2($,tt),this.phi=Math.acos(clamp$1(_e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor($=1,_e=0,tt=0){return this.radius=$,this.theta=_e,this.y=tt,this}set($,_e,tt){return this.radius=$,this.theta=_e,this.y=tt,this}copy($){return this.radius=$.radius,this.theta=$.theta,this.y=$.y,this}setFromVector3($){return this.setFromCartesianCoords($.x,$.y,$.z)}setFromCartesianCoords($,_e,tt){return this.radius=Math.sqrt($*$+tt*tt),this.theta=Math.atan2($,tt),this.y=_e,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor($=new Vector2(1/0,1/0),_e=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=$,this.max=_e}set($,_e){return this.min.copy($),this.max.copy(_e),this}setFromPoints($){this.makeEmpty();for(let _e=0,tt=$.length;_e<tt;_e++)this.expandByPoint($[_e]);return this}setFromCenterAndSize($,_e){const tt=_vector$4.copy(_e).multiplyScalar(.5);return this.min.copy($).sub(tt),this.max.copy($).add(tt),this}clone(){return new this.constructor().copy(this)}copy($){return this.min.copy($.min),this.max.copy($.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter($){return this.isEmpty()?$.set(0,0):$.addVectors(this.min,this.max).multiplyScalar(.5)}getSize($){return this.isEmpty()?$.set(0,0):$.subVectors(this.max,this.min)}expandByPoint($){return this.min.min($),this.max.max($),this}expandByVector($){return this.min.sub($),this.max.add($),this}expandByScalar($){return this.min.addScalar(-$),this.max.addScalar($),this}containsPoint($){return!($.x<this.min.x||$.x>this.max.x||$.y<this.min.y||$.y>this.max.y)}containsBox($){return this.min.x<=$.min.x&&$.max.x<=this.max.x&&this.min.y<=$.min.y&&$.max.y<=this.max.y}getParameter($,_e){return _e.set(($.x-this.min.x)/(this.max.x-this.min.x),($.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox($){return!($.max.x<this.min.x||$.min.x>this.max.x||$.max.y<this.min.y||$.min.y>this.max.y)}clampPoint($,_e){return _e.copy($).clamp(this.min,this.max)}distanceToPoint($){return this.clampPoint($,_vector$4).distanceTo($)}intersect($){return this.min.max($.min),this.max.min($.max),this.isEmpty()&&this.makeEmpty(),this}union($){return this.min.min($.min),this.max.max($.max),this}translate($){return this.min.add($),this.max.add($),this}equals($){return $.min.equals(this.min)&&$.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor($=new Vector3,_e=new Vector3){this.start=$,this.end=_e}set($,_e){return this.start.copy($),this.end.copy(_e),this}copy($){return this.start.copy($.start),this.end.copy($.end),this}getCenter($){return $.addVectors(this.start,this.end).multiplyScalar(.5)}delta($){return $.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at($,_e){return this.delta(_e).multiplyScalar($).add(this.start)}closestPointToPointParameter($,_e){_startP.subVectors($,this.start),_startEnd.subVectors(this.end,this.start);const tt=_startEnd.dot(_startEnd);let rt=_startEnd.dot(_startP)/tt;return _e&&(rt=clamp$1(rt,0,1)),rt}closestPointToPoint($,_e,tt){const nt=this.closestPointToPointParameter($,_e);return this.delta(tt).multiplyScalar(nt).add(this.start)}applyMatrix4($){return this.start.applyMatrix4($),this.end.applyMatrix4($),this}equals($){return $.start.equals(this.start)&&$.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor($,_e){super(),this.light=$,this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1,this.color=_e,this.type="SpotLightHelper";const tt=new BufferGeometry,nt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let it=0,st=1,ot=32;it<ot;it++,st++){const at=it/ot*Math.PI*2,lt=st/ot*Math.PI*2;nt.push(Math.cos(at),Math.sin(at),1,Math.cos(lt),Math.sin(lt),1)}tt.setAttribute("position",new Float32BufferAttribute(nt,3));const rt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(tt,rt),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const $=this.light.distance?this.light.distance:1e3,_e=$*Math.tan(this.light.angle);this.cone.scale.set(_e,_e,$),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor($){const _e=getBoneList($),tt=new BufferGeometry,nt=[],rt=[],it=new Color(0,0,1),st=new Color(0,1,0);for(let at=0;at<_e.length;at++){const lt=_e[at];lt.parent&&lt.parent.isBone&&(nt.push(0,0,0),nt.push(0,0,0),rt.push(it.r,it.g,it.b),rt.push(st.r,st.g,st.b))}tt.setAttribute("position",new Float32BufferAttribute(nt,3)),tt.setAttribute("color",new Float32BufferAttribute(rt,3));const ot=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(tt,ot),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=$,this.bones=_e,this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld($){const _e=this.bones,tt=this.geometry,nt=tt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let rt=0,it=0;rt<_e.length;rt++){const st=_e[rt];st.parent&&st.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,st.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,st.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it+1,_vector$2.x,_vector$2.y,_vector$2.z),it+=2)}tt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld($)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(et){const $=[];et.isBone===!0&&$.push(et);for(let _e=0;_e<et.children.length;_e++)$.push.apply($,getBoneList(et.children[_e]));return $}class PointLightHelper extends Mesh{constructor($,_e,tt){const nt=new SphereGeometry(_e,4,2),rt=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(nt,rt),this.light=$,this.color=tt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor($,_e,tt){super(),this.light=$,this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,this.type="HemisphereLightHelper";const nt=new OctahedronGeometry(_e);nt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const rt=nt.getAttribute("position"),it=new Float32Array(rt.count*3);nt.setAttribute("color",new BufferAttribute(it,3)),this.add(new Mesh(nt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const $=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const _e=$.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let tt=0,nt=_e.count;tt<nt;tt++){const rt=tt<nt/2?_color1:_color2;_e.setXYZ(tt,rt.r,rt.g,rt.b)}_e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),$.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor($=10,_e=10,tt=4473924,nt=8947848){tt=new Color(tt),nt=new Color(nt);const rt=_e/2,it=$/_e,st=$/2,ot=[],at=[];for(let ct=0,pt=0,mt=-st;ct<=_e;ct++,mt+=it){ot.push(-st,0,mt,st,0,mt),ot.push(mt,0,-st,mt,0,st);const ht=ct===rt?tt:nt;ht.toArray(at,pt),pt+=3,ht.toArray(at,pt),pt+=3,ht.toArray(at,pt),pt+=3,ht.toArray(at,pt),pt+=3}const lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(ot,3)),lt.setAttribute("color",new Float32BufferAttribute(at,3));const dt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(lt,dt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor($=10,_e=16,tt=8,nt=64,rt=4473924,it=8947848){rt=new Color(rt),it=new Color(it);const st=[],ot=[];if(_e>1)for(let dt=0;dt<_e;dt++){const ct=dt/_e*(Math.PI*2),pt=Math.sin(ct)*$,mt=Math.cos(ct)*$;st.push(0,0,0),st.push(pt,0,mt);const ht=dt&1?rt:it;ot.push(ht.r,ht.g,ht.b),ot.push(ht.r,ht.g,ht.b)}for(let dt=0;dt<tt;dt++){const ct=dt&1?rt:it,pt=$-$/tt*dt;for(let mt=0;mt<nt;mt++){let ht=mt/nt*(Math.PI*2),gt=Math.sin(ht)*pt,vt=Math.cos(ht)*pt;st.push(gt,0,vt),ot.push(ct.r,ct.g,ct.b),ht=(mt+1)/nt*(Math.PI*2),gt=Math.sin(ht)*pt,vt=Math.cos(ht)*pt,st.push(gt,0,vt),ot.push(ct.r,ct.g,ct.b)}}const at=new BufferGeometry;at.setAttribute("position",new Float32BufferAttribute(st,3)),at.setAttribute("color",new Float32BufferAttribute(ot,3));const lt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(at,lt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor($,_e,tt){super(),this.light=$,this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,this.type="DirectionalLightHelper",_e===void 0&&(_e=1);let nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute([-_e,_e,0,_e,_e,0,_e,-_e,0,-_e,-_e,0,-_e,_e,0],3));const rt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(nt,rt),this.add(this.lightPlane),nt=new BufferGeometry,nt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(nt,rt),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor($){const _e=new BufferGeometry,tt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),nt=[],rt=[],it={};st("n1","n2"),st("n2","n4"),st("n4","n3"),st("n3","n1"),st("f1","f2"),st("f2","f4"),st("f4","f3"),st("f3","f1"),st("n1","f1"),st("n2","f2"),st("n3","f3"),st("n4","f4"),st("p","n1"),st("p","n2"),st("p","n3"),st("p","n4"),st("u1","u2"),st("u2","u3"),st("u3","u1"),st("c","t"),st("p","c"),st("cn1","cn2"),st("cn3","cn4"),st("cf1","cf2"),st("cf3","cf4");function st(mt,ht){ot(mt),ot(ht)}function ot(mt){nt.push(0,0,0),rt.push(0,0,0),it[mt]===void 0&&(it[mt]=[]),it[mt].push(nt.length/3-1)}_e.setAttribute("position",new Float32BufferAttribute(nt,3)),_e.setAttribute("color",new Float32BufferAttribute(rt,3)),super(_e,tt),this.type="CameraHelper",this.camera=$,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=it,this.update();const at=new Color(16755200),lt=new Color(16711680),dt=new Color(43775),ct=new Color(16777215),pt=new Color(3355443);this.setColors(at,lt,dt,ct,pt)}setColors($,_e,tt,nt,rt){const st=this.geometry.getAttribute("color");st.setXYZ(0,$.r,$.g,$.b),st.setXYZ(1,$.r,$.g,$.b),st.setXYZ(2,$.r,$.g,$.b),st.setXYZ(3,$.r,$.g,$.b),st.setXYZ(4,$.r,$.g,$.b),st.setXYZ(5,$.r,$.g,$.b),st.setXYZ(6,$.r,$.g,$.b),st.setXYZ(7,$.r,$.g,$.b),st.setXYZ(8,$.r,$.g,$.b),st.setXYZ(9,$.r,$.g,$.b),st.setXYZ(10,$.r,$.g,$.b),st.setXYZ(11,$.r,$.g,$.b),st.setXYZ(12,$.r,$.g,$.b),st.setXYZ(13,$.r,$.g,$.b),st.setXYZ(14,$.r,$.g,$.b),st.setXYZ(15,$.r,$.g,$.b),st.setXYZ(16,$.r,$.g,$.b),st.setXYZ(17,$.r,$.g,$.b),st.setXYZ(18,$.r,$.g,$.b),st.setXYZ(19,$.r,$.g,$.b),st.setXYZ(20,$.r,$.g,$.b),st.setXYZ(21,$.r,$.g,$.b),st.setXYZ(22,$.r,$.g,$.b),st.setXYZ(23,$.r,$.g,$.b),st.setXYZ(24,_e.r,_e.g,_e.b),st.setXYZ(25,_e.r,_e.g,_e.b),st.setXYZ(26,_e.r,_e.g,_e.b),st.setXYZ(27,_e.r,_e.g,_e.b),st.setXYZ(28,_e.r,_e.g,_e.b),st.setXYZ(29,_e.r,_e.g,_e.b),st.setXYZ(30,_e.r,_e.g,_e.b),st.setXYZ(31,_e.r,_e.g,_e.b),st.setXYZ(32,tt.r,tt.g,tt.b),st.setXYZ(33,tt.r,tt.g,tt.b),st.setXYZ(34,tt.r,tt.g,tt.b),st.setXYZ(35,tt.r,tt.g,tt.b),st.setXYZ(36,tt.r,tt.g,tt.b),st.setXYZ(37,tt.r,tt.g,tt.b),st.setXYZ(38,nt.r,nt.g,nt.b),st.setXYZ(39,nt.r,nt.g,nt.b),st.setXYZ(40,rt.r,rt.g,rt.b),st.setXYZ(41,rt.r,rt.g,rt.b),st.setXYZ(42,rt.r,rt.g,rt.b),st.setXYZ(43,rt.r,rt.g,rt.b),st.setXYZ(44,rt.r,rt.g,rt.b),st.setXYZ(45,rt.r,rt.g,rt.b),st.setXYZ(46,rt.r,rt.g,rt.b),st.setXYZ(47,rt.r,rt.g,rt.b),st.setXYZ(48,rt.r,rt.g,rt.b),st.setXYZ(49,rt.r,rt.g,rt.b),st.needsUpdate=!0}update(){const $=this.geometry,_e=this.pointMap,tt=1,nt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",_e,$,_camera,0,0,-1),setPoint("t",_e,$,_camera,0,0,1),setPoint("n1",_e,$,_camera,-tt,-nt,-1),setPoint("n2",_e,$,_camera,tt,-nt,-1),setPoint("n3",_e,$,_camera,-tt,nt,-1),setPoint("n4",_e,$,_camera,tt,nt,-1),setPoint("f1",_e,$,_camera,-tt,-nt,1),setPoint("f2",_e,$,_camera,tt,-nt,1),setPoint("f3",_e,$,_camera,-tt,nt,1),setPoint("f4",_e,$,_camera,tt,nt,1),setPoint("u1",_e,$,_camera,tt*.7,nt*1.1,-1),setPoint("u2",_e,$,_camera,-tt*.7,nt*1.1,-1),setPoint("u3",_e,$,_camera,0,nt*2,-1),setPoint("cf1",_e,$,_camera,-tt,0,1),setPoint("cf2",_e,$,_camera,tt,0,1),setPoint("cf3",_e,$,_camera,0,-nt,1),setPoint("cf4",_e,$,_camera,0,nt,1),setPoint("cn1",_e,$,_camera,-tt,0,-1),setPoint("cn2",_e,$,_camera,tt,0,-1),setPoint("cn3",_e,$,_camera,0,-nt,-1),setPoint("cn4",_e,$,_camera,0,nt,-1),$.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(et,$,_e,tt,nt,rt,it){_vector.set(nt,rt,it).unproject(tt);const st=$[et];if(st!==void 0){const ot=_e.getAttribute("position");for(let at=0,lt=st.length;at<lt;at++)ot.setXYZ(st[at],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor($,_e=16776960){const tt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=new Float32Array(8*3),rt=new BufferGeometry;rt.setIndex(new BufferAttribute(tt,1)),rt.setAttribute("position",new BufferAttribute(nt,3)),super(rt,new LineBasicMaterial({color:_e,toneMapped:!1})),this.object=$,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update($){if($!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const _e=_box.min,tt=_box.max,nt=this.geometry.attributes.position,rt=nt.array;rt[0]=tt.x,rt[1]=tt.y,rt[2]=tt.z,rt[3]=_e.x,rt[4]=tt.y,rt[5]=tt.z,rt[6]=_e.x,rt[7]=_e.y,rt[8]=tt.z,rt[9]=tt.x,rt[10]=_e.y,rt[11]=tt.z,rt[12]=tt.x,rt[13]=tt.y,rt[14]=_e.z,rt[15]=_e.x,rt[16]=tt.y,rt[17]=_e.z,rt[18]=_e.x,rt[19]=_e.y,rt[20]=_e.z,rt[21]=tt.x,rt[22]=_e.y,rt[23]=_e.z,nt.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject($){return this.object=$,this.update(),this}copy($,_e){return super.copy($,_e),this.object=$.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor($,_e=16776960){const tt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],rt=new BufferGeometry;rt.setIndex(new BufferAttribute(tt,1)),rt.setAttribute("position",new Float32BufferAttribute(nt,3)),super(rt,new LineBasicMaterial({color:_e,toneMapped:!1})),this.box=$,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld($){const _e=this.box;_e.isEmpty()||(_e.getCenter(this.position),_e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld($))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor($,_e=1,tt=16776960){const nt=tt,rt=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute(rt,3)),it.computeBoundingSphere(),super(it,new LineBasicMaterial({color:nt,toneMapped:!1})),this.type="PlaneHelper",this.plane=$,this.size=_e;const st=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(st,3)),ot.computeBoundingSphere(),this.add(new Mesh(ot,new MeshBasicMaterial({color:nt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld($){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld($)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor($=new Vector3(0,0,1),_e=new Vector3(0,0,0),tt=1,nt=16776960,rt=tt*.2,it=rt*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(_e),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:nt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:nt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection($),this.setLength(tt,rt,it)}setDirection($){if($.y>.99999)this.quaternion.set(0,0,0,1);else if($.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set($.z,0,-$.x).normalize();const _e=Math.acos($.y);this.quaternion.setFromAxisAngle(_axis,_e)}}setLength($,_e=$*.2,tt=_e*.2){this.line.scale.set(1,Math.max(1e-4,$-_e),1),this.line.updateMatrix(),this.cone.scale.set(tt,_e,tt),this.cone.position.y=$,this.cone.updateMatrix()}setColor($){this.line.material.color.set($),this.cone.material.color.set($)}copy($){return super.copy($,!1),this.line.copy($.line),this.cone.copy($.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor($=1){const _e=[0,0,0,$,0,0,0,0,0,0,$,0,0,0,0,0,0,$],tt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(_e,3)),nt.setAttribute("color",new Float32BufferAttribute(tt,3));const rt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(nt,rt),this.type="AxesHelper"}setColors($,_e,tt){const nt=new Color,rt=this.geometry.attributes.color.array;return nt.set($),nt.toArray(rt,0),nt.toArray(rt,3),nt.set(_e),nt.toArray(rt,6),nt.toArray(rt,9),nt.set(tt),nt.toArray(rt,12),nt.toArray(rt,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo($,_e){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo($,_e),this}lineTo($,_e){return this.currentPath.lineTo($,_e),this}quadraticCurveTo($,_e,tt,nt){return this.currentPath.quadraticCurveTo($,_e,tt,nt),this}bezierCurveTo($,_e,tt,nt,rt,it){return this.currentPath.bezierCurveTo($,_e,tt,nt,rt,it),this}splineThru($){return this.currentPath.splineThru($),this}toShapes($){function _e(vt){const _t=[];for(let yt=0,xt=vt.length;yt<xt;yt++){const At=vt[yt],Ct=new Shape;Ct.curves=At.curves,_t.push(Ct)}return _t}function tt(vt,_t){const yt=_t.length;let xt=!1;for(let At=yt-1,Ct=0;Ct<yt;At=Ct++){let Pt=_t[At],bt=_t[Ct],Mt=bt.x-Pt.x,Tt=bt.y-Pt.y;if(Math.abs(Tt)>Number.EPSILON){if(Tt<0&&(Pt=_t[Ct],Mt=-Mt,bt=_t[At],Tt=-Tt),vt.y<Pt.y||vt.y>bt.y)continue;if(vt.y===Pt.y){if(vt.x===Pt.x)return!0}else{const Ft=Tt*(vt.x-Pt.x)-Mt*(vt.y-Pt.y);if(Ft===0)return!0;if(Ft<0)continue;xt=!xt}}else{if(vt.y!==Pt.y)continue;if(bt.x<=vt.x&&vt.x<=Pt.x||Pt.x<=vt.x&&vt.x<=bt.x)return!0}}return xt}const nt=ShapeUtils.isClockWise,rt=this.subPaths;if(rt.length===0)return[];let it,st,ot;const at=[];if(rt.length===1)return st=rt[0],ot=new Shape,ot.curves=st.curves,at.push(ot),at;let lt=!nt(rt[0].getPoints());lt=$?!lt:lt;const dt=[],ct=[];let pt=[],mt=0,ht;ct[mt]=void 0,pt[mt]=[];for(let vt=0,_t=rt.length;vt<_t;vt++)st=rt[vt],ht=st.getPoints(),it=nt(ht),it=$?!it:it,it?(!lt&&ct[mt]&&mt++,ct[mt]={s:new Shape,p:ht},ct[mt].s.curves=st.curves,lt&&mt++,pt[mt]=[]):pt[mt].push({h:st,p:ht[0]});if(!ct[0])return _e(rt);if(ct.length>1){let vt=!1,_t=0;for(let yt=0,xt=ct.length;yt<xt;yt++)dt[yt]=[];for(let yt=0,xt=ct.length;yt<xt;yt++){const At=pt[yt];for(let Ct=0;Ct<At.length;Ct++){const Pt=At[Ct];let bt=!0;for(let Mt=0;Mt<ct.length;Mt++)tt(Pt.p,ct[Mt].p)&&(yt!==Mt&&_t++,bt?(bt=!1,dt[Mt].push(Pt)):vt=!0);bt&&dt[yt].push(Pt)}}_t>0&&vt===!1&&(pt=dt)}let gt;for(let vt=0,_t=ct.length;vt<_t;vt++){ot=ct[vt].s,at.push(ot),gt=pt[vt];for(let yt=0,xt=gt.length;yt<xt;yt++)ot.holes.push(gt[yt].h)}return at}}const _tables=_generateTables();function _generateTables(){const et=new ArrayBuffer(4),$=new Float32Array(et),_e=new Uint32Array(et),tt=new Uint32Array(512),nt=new Uint32Array(512);for(let ot=0;ot<256;++ot){const at=ot-127;at<-27?(tt[ot]=0,tt[ot|256]=32768,nt[ot]=24,nt[ot|256]=24):at<-14?(tt[ot]=1024>>-at-14,tt[ot|256]=1024>>-at-14|32768,nt[ot]=-at-1,nt[ot|256]=-at-1):at<=15?(tt[ot]=at+15<<10,tt[ot|256]=at+15<<10|32768,nt[ot]=13,nt[ot|256]=13):at<128?(tt[ot]=31744,tt[ot|256]=64512,nt[ot]=24,nt[ot|256]=24):(tt[ot]=31744,tt[ot|256]=64512,nt[ot]=13,nt[ot|256]=13)}const rt=new Uint32Array(2048),it=new Uint32Array(64),st=new Uint32Array(64);for(let ot=1;ot<1024;++ot){let at=ot<<13,lt=0;for(;!(at&8388608);)at<<=1,lt-=8388608;at&=-8388609,lt+=947912704,rt[ot]=at|lt}for(let ot=1024;ot<2048;++ot)rt[ot]=939524096+(ot-1024<<13);for(let ot=1;ot<31;++ot)it[ot]=ot<<23;it[31]=1199570944,it[32]=2147483648;for(let ot=33;ot<63;++ot)it[ot]=2147483648+(ot-32<<23);it[63]=3347054592;for(let ot=1;ot<64;++ot)ot!==32&&(st[ot]=1024);return{floatView:$,uint32View:_e,baseTable:tt,shiftTable:nt,mantissaTable:rt,exponentTable:it,offsetTable:st}}function toHalfFloat(et){Math.abs(et)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),et=clamp$1(et,-65504,65504),_tables.floatView[0]=et;const $=_tables.uint32View[0],_e=$>>23&511;return _tables.baseTable[_e]+(($&8388607)>>_tables.shiftTable[_e])}function fromHalfFloat(et){const $=et>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[$]+(et&1023)]+_tables.exponentTable[$],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat};class BoxBufferGeometry extends BoxGeometry{constructor($,_e,tt,nt,rt,it){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super($,_e,tt,nt,rt,it)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor($,_e,tt,nt){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super($,_e,tt,nt)}}class CircleBufferGeometry extends CircleGeometry{constructor($,_e,tt,nt){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super($,_e,tt,nt)}}class ConeBufferGeometry extends ConeGeometry{constructor($,_e,tt,nt,rt,it,st){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super($,_e,tt,nt,rt,it,st)}}class CylinderBufferGeometry extends CylinderGeometry{constructor($,_e,tt,nt,rt,it,st,ot){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super($,_e,tt,nt,rt,it,st,ot)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor($,_e){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super($,_e)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor($,_e){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super($,_e)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor($,_e){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super($,_e)}}class LatheBufferGeometry extends LatheGeometry{constructor($,_e,tt,nt){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super($,_e,tt,nt)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor($,_e){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super($,_e)}}class PlaneBufferGeometry extends PlaneGeometry{constructor($,_e,tt,nt){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super($,_e,tt,nt)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor($,_e,tt,nt){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super($,_e,tt,nt)}}class RingBufferGeometry extends RingGeometry{constructor($,_e,tt,nt,rt,it){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super($,_e,tt,nt,rt,it)}}class ShapeBufferGeometry extends ShapeGeometry{constructor($,_e){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super($,_e)}}class SphereBufferGeometry extends SphereGeometry{constructor($,_e,tt,nt,rt,it,st){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super($,_e,tt,nt,rt,it,st)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor($,_e){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super($,_e)}}class TorusBufferGeometry extends TorusGeometry{constructor($,_e,tt,nt,rt){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super($,_e,tt,nt,rt)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor($,_e,tt,nt,rt,it){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super($,_e,tt,nt,rt,it)}}class TubeBufferGeometry extends TubeGeometry{constructor($,_e,tt,nt,rt){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super($,_e,tt,nt,rt)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement:ColorManagement$1,CompressedArrayTexture,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constantsExports={},constants={get exports(){return constantsExports},set exports(et){constantsExports=et}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;(function(et){et.exports=reactReconcilerConstants_production_min})(constants);function createStore$1(et){let $;const _e=new Set,tt=(at,lt)=>{const dt=typeof at=="function"?at($):at;if(dt!==$){const ct=$;$=lt?dt:Object.assign({},$,dt),_e.forEach(pt=>pt($,ct))}},nt=()=>$,rt=(at,lt=nt,dt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ct=lt($);function pt(){const mt=lt($);if(!dt(ct,mt)){const ht=ct;at(ct=mt,ht)}}return _e.add(pt),()=>_e.delete(pt)},ot={setState:tt,getState:nt,subscribe:(at,lt,dt)=>lt||dt?rt(at,lt,dt):(_e.add(at),()=>_e.delete(at)),destroy:()=>_e.clear()};return $=et(tt,nt,ot),ot}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(et){const $=typeof et=="function"?createStore$1(et):et,_e=(tt=$.getState,nt=Object.is)=>{const[,rt]=reactExports.useReducer(gt=>gt+1,0),it=$.getState(),st=reactExports.useRef(it),ot=reactExports.useRef(tt),at=reactExports.useRef(nt),lt=reactExports.useRef(!1),dt=reactExports.useRef();dt.current===void 0&&(dt.current=tt(it));let ct,pt=!1;(st.current!==it||ot.current!==tt||at.current!==nt||lt.current)&&(ct=tt(it),pt=!nt(dt.current,ct)),useIsomorphicLayoutEffect$2(()=>{pt&&(dt.current=ct),st.current=it,ot.current=tt,at.current=nt,lt.current=!1});const mt=reactExports.useRef(it);useIsomorphicLayoutEffect$2(()=>{const gt=()=>{try{const _t=$.getState(),yt=ot.current(_t);at.current(dt.current,yt)||(st.current=_t,dt.current=yt,rt())}catch{lt.current=!0,rt()}},vt=$.subscribe(gt);return $.getState()!==mt.current&&gt(),vt},[]);const ht=pt?ct:dt.current;return reactExports.useDebugValue(ht),ht};return Object.assign(_e,$),_e[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const tt=[_e,$];return{next(){const nt=tt.length<=0;return{value:tt.shift(),done:nt}}}},_e}var reactReconcilerExports={},reactReconciler={get exports(){return reactReconcilerExports},set exports(et){reactReconcilerExports=et}},schedulerExports$1={},scheduler$1={get exports(){return schedulerExports$1},set exports(et){schedulerExports$1=et}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(et){function $(Dt,qt){var Jt=Dt.length;Dt.push(qt);e:for(;0<Jt;){var on=Jt-1>>>1,tn=Dt[on];if(0<nt(tn,qt))Dt[on]=qt,Dt[Jt]=tn,Jt=on;else break e}}function _e(Dt){return Dt.length===0?null:Dt[0]}function tt(Dt){if(Dt.length===0)return null;var qt=Dt[0],Jt=Dt.pop();if(Jt!==qt){Dt[0]=Jt;e:for(var on=0,tn=Dt.length,yn=tn>>>1;on<yn;){var Yt=2*(on+1)-1,kt=Dt[Yt],Bt=Yt+1,Ht=Dt[Bt];if(0>nt(kt,Jt))Bt<tn&&0>nt(Ht,kt)?(Dt[on]=Ht,Dt[Bt]=Jt,on=Bt):(Dt[on]=kt,Dt[Yt]=Jt,on=Yt);else if(Bt<tn&&0>nt(Ht,Jt))Dt[on]=Ht,Dt[Bt]=Jt,on=Bt;else break e}}return qt}function nt(Dt,qt){var Jt=Dt.sortIndex-qt.sortIndex;return Jt!==0?Jt:Dt.id-qt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;et.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();et.unstable_now=function(){return it.now()-st}}var ot=[],at=[],lt=1,dt=null,ct=3,pt=!1,mt=!1,ht=!1,gt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Dt){for(var qt=_e(at);qt!==null;){if(qt.callback===null)tt(at);else if(qt.startTime<=Dt)tt(at),qt.sortIndex=qt.expirationTime,$(ot,qt);else break;qt=_e(at)}}function xt(Dt){if(ht=!1,yt(Dt),!mt)if(_e(ot)!==null)mt=!0,Ut(At);else{var qt=_e(at);qt!==null&&Qt(xt,qt.startTime-Dt)}}function At(Dt,qt){mt=!1,ht&&(ht=!1,vt(bt),bt=-1),pt=!0;var Jt=ct;try{for(yt(qt),dt=_e(ot);dt!==null&&(!(dt.expirationTime>qt)||Dt&&!Ft());){var on=dt.callback;if(typeof on=="function"){dt.callback=null,ct=dt.priorityLevel;var tn=on(dt.expirationTime<=qt);qt=et.unstable_now(),typeof tn=="function"?dt.callback=tn:dt===_e(ot)&&tt(ot),yt(qt)}else tt(ot);dt=_e(ot)}if(dt!==null)var yn=!0;else{var Yt=_e(at);Yt!==null&&Qt(xt,Yt.startTime-qt),yn=!1}return yn}finally{dt=null,ct=Jt,pt=!1}}var Ct=!1,Pt=null,bt=-1,Mt=5,Tt=-1;function Ft(){return!(et.unstable_now()-Tt<Mt)}function Gt(){if(Pt!==null){var Dt=et.unstable_now();Tt=Dt;var qt=!0;try{qt=Pt(!0,Dt)}finally{qt?Wt():(Ct=!1,Pt=null)}}else Ct=!1}var Wt;if(typeof _t=="function")Wt=function(){_t(Gt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Kt=It.port2;It.port1.onmessage=Gt,Wt=function(){Kt.postMessage(null)}}else Wt=function(){gt(Gt,0)};function Ut(Dt){Pt=Dt,Ct||(Ct=!0,Wt())}function Qt(Dt,qt){bt=gt(function(){Dt(et.unstable_now())},qt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Dt){Dt.callback=null},et.unstable_continueExecution=function(){mt||pt||(mt=!0,Ut(At))},et.unstable_forceFrameRate=function(Dt){0>Dt||125<Dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mt=0<Dt?Math.floor(1e3/Dt):5},et.unstable_getCurrentPriorityLevel=function(){return ct},et.unstable_getFirstCallbackNode=function(){return _e(ot)},et.unstable_next=function(Dt){switch(ct){case 1:case 2:case 3:var qt=3;break;default:qt=ct}var Jt=ct;ct=qt;try{return Dt()}finally{ct=Jt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Dt,qt){switch(Dt){case 1:case 2:case 3:case 4:case 5:break;default:Dt=3}var Jt=ct;ct=Dt;try{return qt()}finally{ct=Jt}},et.unstable_scheduleCallback=function(Dt,qt,Jt){var on=et.unstable_now();switch(typeof Jt=="object"&&Jt!==null?(Jt=Jt.delay,Jt=typeof Jt=="number"&&0<Jt?on+Jt:on):Jt=on,Dt){case 1:var tn=-1;break;case 2:tn=250;break;case 5:tn=1073741823;break;case 4:tn=1e4;break;default:tn=5e3}return tn=Jt+tn,Dt={id:lt++,callback:qt,priorityLevel:Dt,startTime:Jt,expirationTime:tn,sortIndex:-1},Jt>on?(Dt.sortIndex=Jt,$(at,Dt),_e(ot)===null&&Dt===_e(at)&&(ht?(vt(bt),bt=-1):ht=!0,Qt(xt,Jt-on))):(Dt.sortIndex=tn,$(ot,Dt),mt||pt||(mt=!0,Ut(At))),Dt},et.unstable_shouldYield=Ft,et.unstable_wrapCallback=function(Dt){var qt=ct;return function(){var Jt=ct;ct=qt;try{return Dt.apply(this,arguments)}finally{ct=Jt}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,function(et){et.exports=requireScheduler_production_min()}(scheduler$1)),schedulerExports$1}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function($){var _e={},tt=reactExports,nt=requireScheduler(),rt=Object.assign;function it(ut){for(var ft="https://reactjs.org/docs/error-decoder.html?invariant="+ut,St=1;St<arguments.length;St++)ft+="&args[]="+encodeURIComponent(arguments[St]);return"Minified React error #"+ut+"; visit "+ft+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var st=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ot=Symbol.for("react.element"),at=Symbol.for("react.portal"),lt=Symbol.for("react.fragment"),dt=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),mt=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),xt=Symbol.for("react.offscreen"),At=Symbol.iterator;function Ct(ut){return ut===null||typeof ut!="object"?null:(ut=At&&ut[At]||ut["@@iterator"],typeof ut=="function"?ut:null)}function Pt(ut){if(ut==null)return null;if(typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case lt:return"Fragment";case at:return"Portal";case ct:return"Profiler";case dt:return"StrictMode";case gt:return"Suspense";case vt:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case mt:return(ut.displayName||"Context")+".Consumer";case pt:return(ut._context.displayName||"Context")+".Provider";case ht:var ft=ut.render;return ut=ut.displayName,ut||(ut=ft.displayName||ft.name||"",ut=ut!==""?"ForwardRef("+ut+")":"ForwardRef"),ut;case _t:return ft=ut.displayName||null,ft!==null?ft:Pt(ut.type)||"Memo";case yt:ft=ut._payload,ut=ut._init;try{return Pt(ut(ft))}catch{}}return null}function bt(ut){var ft=ut.type;switch(ut.tag){case 24:return"Cache";case 9:return(ft.displayName||"Context")+".Consumer";case 10:return(ft._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ut=ft.render,ut=ut.displayName||ut.name||"",ft.displayName||(ut!==""?"ForwardRef("+ut+")":"ForwardRef");case 7:return"Fragment";case 5:return ft;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pt(ft);case 8:return ft===dt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ft=="function")return ft.displayName||ft.name||null;if(typeof ft=="string")return ft}return null}function Mt(ut){var ft=ut,St=ut;if(ut.alternate)for(;ft.return;)ft=ft.return;else{ut=ft;do ft=ut,ft.flags&4098&&(St=ft.return),ut=ft.return;while(ut)}return ft.tag===3?St:null}function Tt(ut){if(Mt(ut)!==ut)throw Error(it(188))}function Ft(ut){var ft=ut.alternate;if(!ft){if(ft=Mt(ut),ft===null)throw Error(it(188));return ft!==ut?null:ut}for(var St=ut,Et=ft;;){var Rt=St.return;if(Rt===null)break;var zt=Rt.alternate;if(zt===null){if(Et=Rt.return,Et!==null){St=Et;continue}break}if(Rt.child===zt.child){for(zt=Rt.child;zt;){if(zt===St)return Tt(Rt),ut;if(zt===Et)return Tt(Rt),ft;zt=zt.sibling}throw Error(it(188))}if(St.return!==Et.return)St=Rt,Et=zt;else{for(var mn=!1,kn=Rt.child;kn;){if(kn===St){mn=!0,St=Rt,Et=zt;break}if(kn===Et){mn=!0,Et=Rt,St=zt;break}kn=kn.sibling}if(!mn){for(kn=zt.child;kn;){if(kn===St){mn=!0,St=zt,Et=Rt;break}if(kn===Et){mn=!0,Et=zt,St=Rt;break}kn=kn.sibling}if(!mn)throw Error(it(189))}}if(St.alternate!==Et)throw Error(it(190))}if(St.tag!==3)throw Error(it(188));return St.stateNode.current===St?ut:ft}function Gt(ut){return ut=Ft(ut),ut!==null?Wt(ut):null}function Wt(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){var ft=Wt(ut);if(ft!==null)return ft;ut=ut.sibling}return null}function It(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){if(ut.tag!==4){var ft=It(ut);if(ft!==null)return ft}ut=ut.sibling}return null}var Kt=Array.isArray,Ut=$.getPublicInstance,Qt=$.getRootHostContext,Dt=$.getChildHostContext,qt=$.prepareForCommit,Jt=$.resetAfterCommit,on=$.createInstance,tn=$.appendInitialChild,yn=$.finalizeInitialChildren,Yt=$.prepareUpdate,kt=$.shouldSetTextContent,Bt=$.createTextInstance,Ht=$.scheduleTimeout,wt=$.cancelTimeout,Lt=$.noTimeout,Ot=$.isPrimaryRenderer,$t=$.supportsMutation,Vt=$.supportsPersistence,Zt=$.supportsHydration,sn=$.getInstanceFromNode,hn=$.preparePortalMount,ln=$.getCurrentEventPriority,xn=$.detachDeletedInstance,un=$.supportsMicrotasks,fn=$.scheduleMicrotask,Gn=$.supportsTestSelectors,Xn=$.findFiberRoot,nn=$.getBoundingRect,jt=$.getTextContent,Mn=$.isHiddenSubtree,cn=$.matchAccessibilityRole,_n=$.setFocusIfFocusable,Un=$.setupIntersectionObserver,or=$.appendChild,Kn=$.appendChildToContainer,Vn=$.commitTextUpdate,ur=$.commitMount,Sn=$.commitUpdate,Bn=$.insertBefore,ir=$.insertInContainerBefore,er=$.removeChild,En=$.removeChildFromContainer,On=$.resetTextContent,wn=$.hideInstance,Xt=$.hideTextInstance,rn=$.unhideInstance,Tn=$.unhideTextInstance,Nn=$.clearContainer,Yn=$.cloneInstance,hr=$.createContainerChildSet,wr=$.appendChildToContainerChildSet,ts=$.finalizeContainerChildren,Wr=$.replaceContainerChildren,xr=$.cloneHiddenInstance,ps=$.cloneHiddenTextInstance,vs=$.canHydrateInstance,Xs=$.canHydrateTextInstance,ys=$.canHydrateSuspenseInstance,Ls=$.isSuspenseInstancePending,dn=$.isSuspenseInstanceFallback,Fn=$.registerSuspenseInstanceRetry,jn=$.getNextHydratableSibling,Dn=$.getFirstHydratableChild,Hn=$.getFirstHydratableChildWithinContainer,Sr=$.getFirstHydratableChildWithinSuspenseInstance,Or=$.hydrateInstance,Qr=$.hydrateTextInstance,ns=$.hydrateSuspenseInstance,ms=$.getNextHydratableInstanceAfterSuspenseInstance,as=$.commitHydratedContainer,us=$.commitHydratedSuspenseInstance,Ns=$.clearSuspenseBoundary,oo=$.clearSuspenseBoundaryFromContainer,Ao=$.shouldDeleteUnhydratedTailInstances,$o=$.didNotMatchHydratedContainerTextInstance,$s=$.didNotMatchHydratedTextInstance,ss;function vo(ut){if(ss===void 0)try{throw Error()}catch(St){var ft=St.stack.trim().match(/\n( *(at )?)/);ss=ft&&ft[1]||""}return`
`+ss+ut}var Vs=!1;function Eo(ut,ft){if(!ut||Vs)return"";Vs=!0;var St=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ft)if(ft=function(){throw Error()},Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(cr){var Et=cr}Reflect.construct(ut,[],ft)}else{try{ft.call()}catch(cr){Et=cr}ut.call(ft.prototype)}else{try{throw Error()}catch(cr){Et=cr}ut()}}catch(cr){if(cr&&Et&&typeof cr.stack=="string"){for(var Rt=cr.stack.split(`
`),zt=Et.stack.split(`
`),mn=Rt.length-1,kn=zt.length-1;1<=mn&&0<=kn&&Rt[mn]!==zt[kn];)kn--;for(;1<=mn&&0<=kn;mn--,kn--)if(Rt[mn]!==zt[kn]){if(mn!==1||kn!==1)do if(mn--,kn--,0>kn||Rt[mn]!==zt[kn]){var qn=`
`+Rt[mn].replace(" at new "," at ");return ut.displayName&&qn.includes("<anonymous>")&&(qn=qn.replace("<anonymous>",ut.displayName)),qn}while(1<=mn&&0<=kn);break}}}finally{Vs=!1,Error.prepareStackTrace=St}return(ut=ut?ut.displayName||ut.name:"")?vo(ut):""}var Yl=Object.prototype.hasOwnProperty,Vo=[],Ro=-1;function ks(ut){return{current:ut}}function ds(ut){0>Ro||(ut.current=Vo[Ro],Vo[Ro]=null,Ro--)}function Ss(ut,ft){Ro++,Vo[Ro]=ut.current,ut.current=ft}var Fs={},zs=ks(Fs),Hs=ks(!1),Lo=Fs;function Qo(ut,ft){var St=ut.type.contextTypes;if(!St)return Fs;var Et=ut.stateNode;if(Et&&Et.__reactInternalMemoizedUnmaskedChildContext===ft)return Et.__reactInternalMemoizedMaskedChildContext;var Rt={},zt;for(zt in St)Rt[zt]=ft[zt];return Et&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=ft,ut.__reactInternalMemoizedMaskedChildContext=Rt),Rt}function co(ut){return ut=ut.childContextTypes,ut!=null}function Zo(){ds(Hs),ds(zs)}function Tu(ut,ft,St){if(zs.current!==Fs)throw Error(it(168));Ss(zs,ft),Ss(Hs,St)}function Pu(ut,ft,St){var Et=ut.stateNode;if(ft=ft.childContextTypes,typeof Et.getChildContext!="function")return St;Et=Et.getChildContext();for(var Rt in Et)if(!(Rt in ft))throw Error(it(108,bt(ut)||"Unknown",Rt));return rt({},St,Et)}function Ll(ut){return ut=(ut=ut.stateNode)&&ut.__reactInternalMemoizedMergedChildContext||Fs,Lo=zs.current,Ss(zs,ut),Ss(Hs,Hs.current),!0}function cu(ut,ft,St){var Et=ut.stateNode;if(!Et)throw Error(it(169));St?(ut=Pu(ut,ft,Lo),Et.__reactInternalMemoizedMergedChildContext=ut,ds(Hs),ds(zs),Ss(zs,ut)):ds(Hs),Ss(Hs,St)}var Mo=Math.clz32?Math.clz32:dp,up=Math.log,uu=Math.LN2;function dp(ut){return ut>>>=0,ut===0?32:31-(up(ut)/uu|0)|0}var Il=64,Dl=4194304;function Bl(ut){switch(ut&-ut){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ut&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ut&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ut}}function na(ut,ft){var St=ut.pendingLanes;if(St===0)return 0;var Et=0,Rt=ut.suspendedLanes,zt=ut.pingedLanes,mn=St&268435455;if(mn!==0){var kn=mn&~Rt;kn!==0?Et=Bl(kn):(zt&=mn,zt!==0&&(Et=Bl(zt)))}else mn=St&~Rt,mn!==0?Et=Bl(mn):zt!==0&&(Et=Bl(zt));if(Et===0)return 0;if(ft!==0&&ft!==Et&&!(ft&Rt)&&(Rt=Et&-Et,zt=ft&-ft,Rt>=zt||Rt===16&&(zt&4194240)!==0))return ft;if(Et&4&&(Et|=St&16),ft=ut.entangledLanes,ft!==0)for(ut=ut.entanglements,ft&=Et;0<ft;)St=31-Mo(ft),Rt=1<<St,Et|=ut[St],ft&=~Rt;return Et}function hp(ut,ft){switch(ut){case 1:case 2:case 4:return ft+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ft+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fp(ut,ft){for(var St=ut.suspendedLanes,Et=ut.pingedLanes,Rt=ut.expirationTimes,zt=ut.pendingLanes;0<zt;){var mn=31-Mo(zt),kn=1<<mn,qn=Rt[mn];qn===-1?(!(kn&St)||kn&Et)&&(Rt[mn]=hp(kn,ft)):qn<=ft&&(ut.expiredLanes|=kn),zt&=~kn}}function Wo(ut){return ut=ut.pendingLanes&-1073741825,ut!==0?ut:ut&1073741824?1073741824:0}function du(ut){for(var ft=[],St=0;31>St;St++)ft.push(ut);return ft}function ga(ut,ft,St){ut.pendingLanes|=ft,ft!==536870912&&(ut.suspendedLanes=0,ut.pingedLanes=0),ut=ut.eventTimes,ft=31-Mo(ft),ut[ft]=St}function pp(ut,ft){var St=ut.pendingLanes&~ft;ut.pendingLanes=ft,ut.suspendedLanes=0,ut.pingedLanes=0,ut.expiredLanes&=ft,ut.mutableReadLanes&=ft,ut.entangledLanes&=ft,ft=ut.entanglements;var Et=ut.eventTimes;for(ut=ut.expirationTimes;0<St;){var Rt=31-Mo(St),zt=1<<Rt;ft[Rt]=0,Et[Rt]=-1,ut[Rt]=-1,St&=~zt}}function _a(ut,ft){var St=ut.entangledLanes|=ft;for(ut=ut.entanglements;St;){var Et=31-Mo(St),Rt=1<<Et;Rt&ft|ut[Et]&ft&&(ut[Et]|=ft),St&=~Rt}}var gs=0;function Ru(ut){return ut&=-ut,1<ut?4<ut?ut&268435455?16:536870912:4:1}var Ql=nt.unstable_scheduleCallback,hu=nt.unstable_cancelCallback,fu=nt.unstable_shouldYield,mp=nt.unstable_requestPaint,qs=nt.unstable_now,pu=nt.unstable_ImmediatePriority,Nt=nt.unstable_UserBlockingPriority,en=nt.unstable_NormalPriority,pn=nt.unstable_IdlePriority,vn=null,bn=null;function An(ut){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(vn,ut,void 0,(ut.current.flags&128)===128)}catch{}}function Ln(ut,ft){return ut===ft&&(ut!==0||1/ut===1/ft)||ut!==ut&&ft!==ft}var Cn=typeof Object.is=="function"?Object.is:Ln,gn=null,Rn=!1,Pn=!1;function Qn(ut){gn===null?gn=[ut]:gn.push(ut)}function Jn(ut){Rn=!0,Qn(ut)}function zn(){if(!Pn&&gn!==null){Pn=!0;var ut=0,ft=gs;try{var St=gn;for(gs=1;ut<St.length;ut++){var Et=St[ut];do Et=Et(!0);while(Et!==null)}gn=null,Rn=!1}catch(Rt){throw gn!==null&&(gn=gn.slice(ut+1)),Ql(pu,zn),Rt}finally{gs=ft,Pn=!1}}return null}var ar=st.ReactCurrentBatchConfig;function sr(ut,ft){if(Cn(ut,ft))return!0;if(typeof ut!="object"||ut===null||typeof ft!="object"||ft===null)return!1;var St=Object.keys(ut),Et=Object.keys(ft);if(St.length!==Et.length)return!1;for(Et=0;Et<St.length;Et++){var Rt=St[Et];if(!Yl.call(ft,Rt)||!Cn(ut[Rt],ft[Rt]))return!1}return!0}function rr(ut){switch(ut.tag){case 5:return vo(ut.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return ut=Eo(ut.type,!1),ut;case 11:return ut=Eo(ut.type.render,!1),ut;case 1:return ut=Eo(ut.type,!0),ut;default:return""}}function Rr(ut,ft){if(ut&&ut.defaultProps){ft=rt({},ft),ut=ut.defaultProps;for(var St in ut)ft[St]===void 0&&(ft[St]=ut[St]);return ft}return ft}var br=ks(null),Ar=null,Mr=null,mr=null;function Ir(){mr=Mr=Ar=null}function Tr(ut,ft,St){Ot?(Ss(br,ft._currentValue),ft._currentValue=St):(Ss(br,ft._currentValue2),ft._currentValue2=St)}function ls(ut){var ft=br.current;ds(br),Ot?ut._currentValue=ft:ut._currentValue2=ft}function rs(ut,ft,St){for(;ut!==null;){var Et=ut.alternate;if((ut.childLanes&ft)!==ft?(ut.childLanes|=ft,Et!==null&&(Et.childLanes|=ft)):Et!==null&&(Et.childLanes&ft)!==ft&&(Et.childLanes|=ft),ut===St)break;ut=ut.return}}function Zr(ut,ft){Ar=ut,mr=Mr=null,ut=ut.dependencies,ut!==null&&ut.firstContext!==null&&(ut.lanes&ft&&(wo=!0),ut.firstContext=null)}function Hr(ut){var ft=Ot?ut._currentValue:ut._currentValue2;if(mr!==ut)if(ut={context:ut,memoizedValue:ft,next:null},Mr===null){if(Ar===null)throw Error(it(308));Mr=ut,Ar.dependencies={lanes:0,firstContext:ut}}else Mr=Mr.next=ut;return ft}var Xr=null,Cs=!1;function ws(ut){ut.updateQueue={baseState:ut.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Us(ut,ft){ut=ut.updateQueue,ft.updateQueue===ut&&(ft.updateQueue={baseState:ut.baseState,firstBaseUpdate:ut.firstBaseUpdate,lastBaseUpdate:ut.lastBaseUpdate,shared:ut.shared,effects:ut.effects})}function _s(ut,ft){return{eventTime:ut,lane:ft,tag:0,payload:null,callback:null,next:null}}function bs(ut,ft){var St=ut.updateQueue;St!==null&&(St=St.shared,Zs!==null&&ut.mode&1&&!(cs&2)?(ut=St.interleaved,ut===null?(ft.next=ft,Xr===null?Xr=[St]:Xr.push(St)):(ft.next=ut.next,ut.next=ft),St.interleaved=ft):(ut=St.pending,ut===null?ft.next=ft:(ft.next=ut.next,ut.next=ft),St.pending=ft))}function Ts(ut,ft,St){if(ft=ft.updateQueue,ft!==null&&(ft=ft.shared,(St&4194240)!==0)){var Et=ft.lanes;Et&=ut.pendingLanes,St|=Et,ft.lanes=St,_a(ut,St)}}function Ps(ut,ft){var St=ut.updateQueue,Et=ut.alternate;if(Et!==null&&(Et=Et.updateQueue,St===Et)){var Rt=null,zt=null;if(St=St.firstBaseUpdate,St!==null){do{var mn={eventTime:St.eventTime,lane:St.lane,tag:St.tag,payload:St.payload,callback:St.callback,next:null};zt===null?Rt=zt=mn:zt=zt.next=mn,St=St.next}while(St!==null);zt===null?Rt=zt=ft:zt=zt.next=ft}else Rt=zt=ft;St={baseState:Et.baseState,firstBaseUpdate:Rt,lastBaseUpdate:zt,shared:Et.shared,effects:Et.effects},ut.updateQueue=St;return}ut=St.lastBaseUpdate,ut===null?St.firstBaseUpdate=ft:ut.next=ft,St.lastBaseUpdate=ft}function js(ut,ft,St,Et){var Rt=ut.updateQueue;Cs=!1;var zt=Rt.firstBaseUpdate,mn=Rt.lastBaseUpdate,kn=Rt.shared.pending;if(kn!==null){Rt.shared.pending=null;var qn=kn,cr=qn.next;qn.next=null,mn===null?zt=cr:mn.next=cr,mn=qn;var Er=ut.alternate;Er!==null&&(Er=Er.updateQueue,kn=Er.lastBaseUpdate,kn!==mn&&(kn===null?Er.firstBaseUpdate=cr:kn.next=cr,Er.lastBaseUpdate=qn))}if(zt!==null){var qr=Rt.baseState;mn=0,Er=cr=qn=null,kn=zt;do{var Gr=kn.lane,Rs=kn.eventTime;if((Et&Gr)===Gr){Er!==null&&(Er=Er.next={eventTime:Rs,lane:0,tag:kn.tag,payload:kn.payload,callback:kn.callback,next:null});e:{var Br=ut,fo=kn;switch(Gr=ft,Rs=St,fo.tag){case 1:if(Br=fo.payload,typeof Br=="function"){qr=Br.call(Rs,qr,Gr);break e}qr=Br;break e;case 3:Br.flags=Br.flags&-65537|128;case 0:if(Br=fo.payload,Gr=typeof Br=="function"?Br.call(Rs,qr,Gr):Br,Gr==null)break e;qr=rt({},qr,Gr);break e;case 2:Cs=!0}}kn.callback!==null&&kn.lane!==0&&(ut.flags|=64,Gr=Rt.effects,Gr===null?Rt.effects=[kn]:Gr.push(kn))}else Rs={eventTime:Rs,lane:Gr,tag:kn.tag,payload:kn.payload,callback:kn.callback,next:null},Er===null?(cr=Er=Rs,qn=qr):Er=Er.next=Rs,mn|=Gr;if(kn=kn.next,kn===null){if(kn=Rt.shared.pending,kn===null)break;Gr=kn,kn=Gr.next,Gr.next=null,Rt.lastBaseUpdate=Gr,Rt.shared.pending=null}}while(1);if(Er===null&&(qn=qr),Rt.baseState=qn,Rt.firstBaseUpdate=cr,Rt.lastBaseUpdate=Er,ft=Rt.shared.interleaved,ft!==null){Rt=ft;do mn|=Rt.lane,Rt=Rt.next;while(Rt!==ft)}else zt===null&&(Rt.shared.lanes=0);su|=mn,ut.lanes=mn,ut.memoizedState=qr}}function Co(ut,ft,St){if(ut=ft.effects,ft.effects=null,ut!==null)for(ft=0;ft<ut.length;ft++){var Et=ut[ft],Rt=Et.callback;if(Rt!==null){if(Et.callback=null,Et=St,typeof Rt!="function")throw Error(it(191,Rt));Rt.call(Et)}}}var yo=new tt.Component().refs;function Gs(ut,ft,St,Et){ft=ut.memoizedState,St=St(Et,ft),St=St==null?ft:rt({},ft,St),ut.memoizedState=St,ut.lanes===0&&(ut.updateQueue.baseState=St)}var to={isMounted:function(ut){return(ut=ut._reactInternals)?Mt(ut)===ut:!1},enqueueSetState:function(ut,ft,St){ut=ut._reactInternals;var Et=go(),Rt=Cl(ut),zt=_s(Et,Rt);zt.payload=ft,St!=null&&(zt.callback=St),bs(ut,zt),ft=Fo(ut,Rt,Et),ft!==null&&Ts(ft,ut,Rt)},enqueueReplaceState:function(ut,ft,St){ut=ut._reactInternals;var Et=go(),Rt=Cl(ut),zt=_s(Et,Rt);zt.tag=1,zt.payload=ft,St!=null&&(zt.callback=St),bs(ut,zt),ft=Fo(ut,Rt,Et),ft!==null&&Ts(ft,ut,Rt)},enqueueForceUpdate:function(ut,ft){ut=ut._reactInternals;var St=go(),Et=Cl(ut),Rt=_s(St,Et);Rt.tag=2,ft!=null&&(Rt.callback=ft),bs(ut,Rt),ft=Fo(ut,Et,St),ft!==null&&Ts(ft,ut,Et)}};function ko(ut,ft,St,Et,Rt,zt,mn){return ut=ut.stateNode,typeof ut.shouldComponentUpdate=="function"?ut.shouldComponentUpdate(Et,zt,mn):ft.prototype&&ft.prototype.isPureReactComponent?!sr(St,Et)||!sr(Rt,zt):!0}function Pr(ut,ft,St){var Et=!1,Rt=Fs,zt=ft.contextType;return typeof zt=="object"&&zt!==null?zt=Hr(zt):(Rt=co(ft)?Lo:zs.current,Et=ft.contextTypes,zt=(Et=Et!=null)?Qo(ut,Rt):Fs),ft=new ft(St,zt),ut.memoizedState=ft.state!==null&&ft.state!==void 0?ft.state:null,ft.updater=to,ut.stateNode=ft,ft._reactInternals=ut,Et&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=Rt,ut.__reactInternalMemoizedMaskedChildContext=zt),ft}function Cr(ut,ft,St,Et){ut=ft.state,typeof ft.componentWillReceiveProps=="function"&&ft.componentWillReceiveProps(St,Et),typeof ft.UNSAFE_componentWillReceiveProps=="function"&&ft.UNSAFE_componentWillReceiveProps(St,Et),ft.state!==ut&&to.enqueueReplaceState(ft,ft.state,null)}function vr(ut,ft,St,Et){var Rt=ut.stateNode;Rt.props=St,Rt.state=ut.memoizedState,Rt.refs=yo,ws(ut);var zt=ft.contextType;typeof zt=="object"&&zt!==null?Rt.context=Hr(zt):(zt=co(ft)?Lo:zs.current,Rt.context=Qo(ut,zt)),Rt.state=ut.memoizedState,zt=ft.getDerivedStateFromProps,typeof zt=="function"&&(Gs(ut,ft,zt,St),Rt.state=ut.memoizedState),typeof ft.getDerivedStateFromProps=="function"||typeof Rt.getSnapshotBeforeUpdate=="function"||typeof Rt.UNSAFE_componentWillMount!="function"&&typeof Rt.componentWillMount!="function"||(ft=Rt.state,typeof Rt.componentWillMount=="function"&&Rt.componentWillMount(),typeof Rt.UNSAFE_componentWillMount=="function"&&Rt.UNSAFE_componentWillMount(),ft!==Rt.state&&to.enqueueReplaceState(Rt,Rt.state,null),js(ut,St,Rt,Et),Rt.state=ut.memoizedState),typeof Rt.componentDidMount=="function"&&(ut.flags|=4194308)}var yr=[],pr=0,Lr=null,Fr=0,fr=[],lr=0,Dr=null,Nr=1,hs="";function fs(ut,ft){yr[pr++]=Fr,yr[pr++]=Lr,Lr=ut,Fr=ft}function Ks(ut,ft,St){fr[lr++]=Nr,fr[lr++]=hs,fr[lr++]=Dr,Dr=ut;var Et=Nr;ut=hs;var Rt=32-Mo(Et)-1;Et&=~(1<<Rt),St+=1;var zt=32-Mo(ft)+Rt;if(30<zt){var mn=Rt-Rt%5;zt=(Et&(1<<mn)-1).toString(32),Et>>=mn,Rt-=mn,Nr=1<<32-Mo(ft)+Rt|St<<Rt|Et,hs=zt+ut}else Nr=1<<zt|St<<Rt|Et,hs=ut}function ao(ut){ut.return!==null&&(fs(ut,1),Ks(ut,1,0))}function Vr(ut){for(;ut===Lr;)Lr=yr[--pr],yr[pr]=null,Fr=yr[--pr],yr[pr]=null;for(;ut===Dr;)Dr=fr[--lr],fr[lr]=null,hs=fr[--lr],fr[lr]=null,Nr=fr[--lr],fr[lr]=null}var As=null,_i=null,Ur=!1,Is=!1,Jr=null;function Uo(ut,ft){var St=Oo(5,null,null,0);St.elementType="DELETED",St.stateNode=ft,St.return=ut,ft=ut.deletions,ft===null?(ut.deletions=[St],ut.flags|=16):ft.push(St)}function Jo(ut,ft){switch(ut.tag){case 5:return ft=vs(ft,ut.type,ut.pendingProps),ft!==null?(ut.stateNode=ft,As=ut,_i=Dn(ft),!0):!1;case 6:return ft=Xs(ft,ut.pendingProps),ft!==null?(ut.stateNode=ft,As=ut,_i=null,!0):!1;case 13:if(ft=ys(ft),ft!==null){var St=Dr!==null?{id:Nr,overflow:hs}:null;return ut.memoizedState={dehydrated:ft,treeContext:St,retryLane:1073741824},St=Oo(18,null,null,0),St.stateNode=ft,St.return=ut,ut.child=St,As=ut,_i=null,!0}return!1;default:return!1}}function xa(ut){return(ut.mode&1)!==0&&(ut.flags&128)===0}function Go(ut){if(Ur){var ft=_i;if(ft){var St=ft;if(!Jo(ut,ft)){if(xa(ut))throw Error(it(418));ft=jn(St);var Et=As;ft&&Jo(ut,ft)?Uo(Et,St):(ut.flags=ut.flags&-4097|2,Ur=!1,As=ut)}}else{if(xa(ut))throw Error(it(418));ut.flags=ut.flags&-4097|2,Ur=!1,As=ut}}}function ba(ut){for(ut=ut.return;ut!==null&&ut.tag!==5&&ut.tag!==3&&ut.tag!==13;)ut=ut.return;As=ut}function Fl(ut){if(!Zt||ut!==As)return!1;if(!Ur)return ba(ut),Ur=!0,!1;if(ut.tag!==3&&(ut.tag!==5||Ao(ut.type)&&!kt(ut.type,ut.memoizedProps))){var ft=_i;if(ft){if(xa(ut)){for(ut=_i;ut;)ut=jn(ut);throw Error(it(418))}for(;ft;)Uo(ut,ft),ft=jn(ft)}}if(ba(ut),ut.tag===13){if(!Zt)throw Error(it(316));if(ut=ut.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(it(317));_i=ms(ut)}else _i=As?jn(ut.stateNode):null;return!0}function Ys(){Zt&&(_i=As=null,Is=Ur=!1)}function Zl(ut){Jr===null?Jr=[ut]:Jr.push(ut)}function Ol(ut,ft,St){if(ut=St.ref,ut!==null&&typeof ut!="function"&&typeof ut!="object"){if(St._owner){if(St=St._owner,St){if(St.tag!==1)throw Error(it(309));var Et=St.stateNode}if(!Et)throw Error(it(147,ut));var Rt=Et,zt=""+ut;return ft!==null&&ft.ref!==null&&typeof ft.ref=="function"&&ft.ref._stringRef===zt?ft.ref:(ft=function(mn){var kn=Rt.refs;kn===yo&&(kn=Rt.refs={}),mn===null?delete kn[zt]:kn[zt]=mn},ft._stringRef=zt,ft)}if(typeof ut!="string")throw Error(it(284));if(!St._owner)throw Error(it(290,ut))}return ut}function xs(ut,ft){throw ut=Object.prototype.toString.call(ft),Error(it(31,ut==="[object Object]"?"object with keys {"+Object.keys(ft).join(", ")+"}":ut))}function Lu(ut){var ft=ut._init;return ft(ut._payload)}function zo(ut){function ft($n,In){if(ut){var Wn=$n.deletions;Wn===null?($n.deletions=[In],$n.flags|=16):Wn.push(In)}}function St($n,In){if(!ut)return null;for(;In!==null;)ft($n,In),In=In.sibling;return null}function Et($n,In){for($n=new Map;In!==null;)In.key!==null?$n.set(In.key,In):$n.set(In.index,In),In=In.sibling;return $n}function Rt($n,In){return $n=Pl($n,In),$n.index=0,$n.sibling=null,$n}function zt($n,In,Wn){return $n.index=Wn,ut?(Wn=$n.alternate,Wn!==null?(Wn=Wn.index,Wn<In?($n.flags|=2,In):Wn):($n.flags|=2,In)):($n.flags|=1048576,In)}function mn($n){return ut&&$n.alternate===null&&($n.flags|=2),$n}function kn($n,In,Wn,_r){return In===null||In.tag!==6?(In=jp(Wn,$n.mode,_r),In.return=$n,In):(In=Rt(In,Wn),In.return=$n,In)}function qn($n,In,Wn,_r){var kr=Wn.type;return kr===lt?Er($n,In,Wn.props.children,_r,Wn.key):In!==null&&(In.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===yt&&Lu(kr)===In.type)?(_r=Rt(In,Wn.props),_r.ref=Ol($n,In,Wn),_r.return=$n,_r):(_r=np(Wn.type,Wn.key,Wn.props,null,$n.mode,_r),_r.ref=Ol($n,In,Wn),_r.return=$n,_r)}function cr($n,In,Wn,_r){return In===null||In.tag!==4||In.stateNode.containerInfo!==Wn.containerInfo||In.stateNode.implementation!==Wn.implementation?(In=Wp(Wn,$n.mode,_r),In.return=$n,In):(In=Rt(In,Wn.children||[]),In.return=$n,In)}function Er($n,In,Wn,_r,kr){return In===null||In.tag!==7?(In=Jl(Wn,$n.mode,_r,kr),In.return=$n,In):(In=Rt(In,Wn),In.return=$n,In)}function qr($n,In,Wn){if(typeof In=="string"&&In!==""||typeof In=="number")return In=jp(""+In,$n.mode,Wn),In.return=$n,In;if(typeof In=="object"&&In!==null){switch(In.$$typeof){case ot:return Wn=np(In.type,In.key,In.props,null,$n.mode,Wn),Wn.ref=Ol($n,null,In),Wn.return=$n,Wn;case at:return In=Wp(In,$n.mode,Wn),In.return=$n,In;case yt:var _r=In._init;return qr($n,_r(In._payload),Wn)}if(Kt(In)||Ct(In))return In=Jl(In,$n.mode,Wn,null),In.return=$n,In;xs($n,In)}return null}function Gr($n,In,Wn,_r){var kr=In!==null?In.key:null;if(typeof Wn=="string"&&Wn!==""||typeof Wn=="number")return kr!==null?null:kn($n,In,""+Wn,_r);if(typeof Wn=="object"&&Wn!==null){switch(Wn.$$typeof){case ot:return Wn.key===kr?qn($n,In,Wn,_r):null;case at:return Wn.key===kr?cr($n,In,Wn,_r):null;case yt:return kr=Wn._init,Gr($n,In,kr(Wn._payload),_r)}if(Kt(Wn)||Ct(Wn))return kr!==null?null:Er($n,In,Wn,_r,null);xs($n,Wn)}return null}function Rs($n,In,Wn,_r,kr){if(typeof _r=="string"&&_r!==""||typeof _r=="number")return $n=$n.get(Wn)||null,kn(In,$n,""+_r,kr);if(typeof _r=="object"&&_r!==null){switch(_r.$$typeof){case ot:return $n=$n.get(_r.key===null?Wn:_r.key)||null,qn(In,$n,_r,kr);case at:return $n=$n.get(_r.key===null?Wn:_r.key)||null,cr(In,$n,_r,kr);case yt:var os=_r._init;return Rs($n,In,Wn,os(_r._payload),kr)}if(Kt(_r)||Ct(_r))return $n=$n.get(Wn)||null,Er(In,$n,_r,kr,null);xs(In,_r)}return null}function Br($n,In,Wn,_r){for(var kr=null,os=null,Yr=In,Es=In=0,so=null;Yr!==null&&Es<Wn.length;Es++){Yr.index>Es?(so=Yr,Yr=null):so=Yr.sibling;var Ms=Gr($n,Yr,Wn[Es],_r);if(Ms===null){Yr===null&&(Yr=so);break}ut&&Yr&&Ms.alternate===null&&ft($n,Yr),In=zt(Ms,In,Es),os===null?kr=Ms:os.sibling=Ms,os=Ms,Yr=so}if(Es===Wn.length)return St($n,Yr),Ur&&fs($n,Es),kr;if(Yr===null){for(;Es<Wn.length;Es++)Yr=qr($n,Wn[Es],_r),Yr!==null&&(In=zt(Yr,In,Es),os===null?kr=Yr:os.sibling=Yr,os=Yr);return Ur&&fs($n,Es),kr}for(Yr=Et($n,Yr);Es<Wn.length;Es++)so=Rs(Yr,$n,Es,Wn[Es],_r),so!==null&&(ut&&so.alternate!==null&&Yr.delete(so.key===null?Es:so.key),In=zt(so,In,Es),os===null?kr=so:os.sibling=so,os=so);return ut&&Yr.forEach(function(Rl){return ft($n,Rl)}),Ur&&fs($n,Es),kr}function fo($n,In,Wn,_r){var kr=Ct(Wn);if(typeof kr!="function")throw Error(it(150));if(Wn=kr.call(Wn),Wn==null)throw Error(it(151));for(var os=kr=null,Yr=In,Es=In=0,so=null,Ms=Wn.next();Yr!==null&&!Ms.done;Es++,Ms=Wn.next()){Yr.index>Es?(so=Yr,Yr=null):so=Yr.sibling;var Rl=Gr($n,Yr,Ms.value,_r);if(Rl===null){Yr===null&&(Yr=so);break}ut&&Yr&&Rl.alternate===null&&ft($n,Yr),In=zt(Rl,In,Es),os===null?kr=Rl:os.sibling=Rl,os=Rl,Yr=so}if(Ms.done)return St($n,Yr),Ur&&fs($n,Es),kr;if(Yr===null){for(;!Ms.done;Es++,Ms=Wn.next())Ms=qr($n,Ms.value,_r),Ms!==null&&(In=zt(Ms,In,Es),os===null?kr=Ms:os.sibling=Ms,os=Ms);return Ur&&fs($n,Es),kr}for(Yr=Et($n,Yr);!Ms.done;Es++,Ms=Wn.next())Ms=Rs(Yr,$n,Es,Ms.value,_r),Ms!==null&&(ut&&Ms.alternate!==null&&Yr.delete(Ms.key===null?Es:Ms.key),In=zt(Ms,In,Es),os===null?kr=Ms:os.sibling=Ms,os=Ms);return ut&&Yr.forEach(function(hv){return ft($n,hv)}),Ur&&fs($n,Es),kr}function No($n,In,Wn,_r){if(typeof Wn=="object"&&Wn!==null&&Wn.type===lt&&Wn.key===null&&(Wn=Wn.props.children),typeof Wn=="object"&&Wn!==null){switch(Wn.$$typeof){case ot:e:{for(var kr=Wn.key,os=In;os!==null;){if(os.key===kr){if(kr=Wn.type,kr===lt){if(os.tag===7){St($n,os.sibling),In=Rt(os,Wn.props.children),In.return=$n,$n=In;break e}}else if(os.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===yt&&Lu(kr)===os.type){St($n,os.sibling),In=Rt(os,Wn.props),In.ref=Ol($n,os,Wn),In.return=$n,$n=In;break e}St($n,os);break}else ft($n,os);os=os.sibling}Wn.type===lt?(In=Jl(Wn.props.children,$n.mode,_r,Wn.key),In.return=$n,$n=In):(_r=np(Wn.type,Wn.key,Wn.props,null,$n.mode,_r),_r.ref=Ol($n,In,Wn),_r.return=$n,$n=_r)}return mn($n);case at:e:{for(os=Wn.key;In!==null;){if(In.key===os)if(In.tag===4&&In.stateNode.containerInfo===Wn.containerInfo&&In.stateNode.implementation===Wn.implementation){St($n,In.sibling),In=Rt(In,Wn.children||[]),In.return=$n,$n=In;break e}else{St($n,In);break}else ft($n,In);In=In.sibling}In=Wp(Wn,$n.mode,_r),In.return=$n,$n=In}return mn($n);case yt:return os=Wn._init,No($n,In,os(Wn._payload),_r)}if(Kt(Wn))return Br($n,In,Wn,_r);if(Ct(Wn))return fo($n,In,Wn,_r);xs($n,Wn)}return typeof Wn=="string"&&Wn!==""||typeof Wn=="number"?(Wn=""+Wn,In!==null&&In.tag===6?(St($n,In.sibling),In=Rt(In,Wn),In.return=$n,$n=In):(St($n,In),In=jp(Wn,$n.mode,_r),In.return=$n,$n=In),mn($n)):St($n,In)}return No}var $a=zo(!0),ku=zo(!1),Nl={},uo=ks(Nl),yl=ks(Nl),_l=ks(Nl);function Io(ut){if(ut===Nl)throw Error(it(174));return ut}function mu(ut,ft){Ss(_l,ft),Ss(yl,ut),Ss(uo,Nl),ut=Qt(ft),ds(uo),Ss(uo,ut)}function po(){ds(uo),ds(yl),ds(_l)}function Iu(ut){var ft=Io(_l.current),St=Io(uo.current);ft=Dt(St,ut.type,ft),St!==ft&&(Ss(yl,ut),Ss(uo,ft))}function _c(ut){yl.current===ut&&(ds(uo),ds(yl))}var Ds=ks(0);function xl(ut){for(var ft=ut;ft!==null;){if(ft.tag===13){var St=ft.memoizedState;if(St!==null&&(St=St.dehydrated,St===null||Ls(St)||dn(St)))return ft}else if(ft.tag===19&&ft.memoizedProps.revealOrder!==void 0){if(ft.flags&128)return ft}else if(ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===ut)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===ut)return null;ft=ft.return}ft.sibling.return=ft.return,ft=ft.sibling}return null}var eu=[];function tu(){for(var ut=0;ut<eu.length;ut++){var ft=eu[ut];Ot?ft._workInProgressVersionPrimary=null:ft._workInProgressVersionSecondary=null}eu.length=0}var Do=st.ReactCurrentDispatcher,_o=st.ReactCurrentBatchConfig,Sl=0,Bs=null,Qs=null,Ws=null,$l=!1,Vl=!1,qo=0,gp=0;function io(){throw Error(it(321))}function nu(ut,ft){if(ft===null)return!1;for(var St=0;St<ft.length&&St<ut.length;St++)if(!Cn(ut[St],ft[St]))return!1;return!0}function tr(ut,ft,St,Et,Rt,zt){if(Sl=zt,Bs=ft,ft.memoizedState=null,ft.updateQueue=null,ft.lanes=0,Do.current=ut===null||ut.memoizedState===null?U0:G0,ut=St(Et,Rt),Vl){zt=0;do{if(Vl=!1,qo=0,25<=zt)throw Error(it(301));zt+=1,Ws=Qs=null,ft.updateQueue=null,Do.current=z0,ut=St(Et,Rt)}while(Vl)}if(Do.current=Fu,ft=Qs!==null&&Qs.next!==null,Sl=0,Ws=Qs=Bs=null,$l=!1,ft)throw Error(it(300));return ut}function $r(){var ut=qo!==0;return qo=0,ut}function zr(){var ut={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ws===null?Bs.memoizedState=Ws=ut:Ws=Ws.next=ut,Ws}function Kr(){if(Qs===null){var ut=Bs.alternate;ut=ut!==null?ut.memoizedState:null}else ut=Qs.next;var ft=Ws===null?Bs.memoizedState:Ws.next;if(ft!==null)Ws=ft,Qs=ut;else{if(ut===null)throw Error(it(310));Qs=ut,ut={memoizedState:Qs.memoizedState,baseState:Qs.baseState,baseQueue:Qs.baseQueue,queue:Qs.queue,next:null},Ws===null?Bs.memoizedState=Ws=ut:Ws=Ws.next=ut}return Ws}function es(ut,ft){return typeof ft=="function"?ft(ut):ft}function jr(ut){var ft=Kr(),St=ft.queue;if(St===null)throw Error(it(311));St.lastRenderedReducer=ut;var Et=Qs,Rt=Et.baseQueue,zt=St.pending;if(zt!==null){if(Rt!==null){var mn=Rt.next;Rt.next=zt.next,zt.next=mn}Et.baseQueue=Rt=zt,St.pending=null}if(Rt!==null){zt=Rt.next,Et=Et.baseState;var kn=mn=null,qn=null,cr=zt;do{var Er=cr.lane;if((Sl&Er)===Er)qn!==null&&(qn=qn.next={lane:0,action:cr.action,hasEagerState:cr.hasEagerState,eagerState:cr.eagerState,next:null}),Et=cr.hasEagerState?cr.eagerState:ut(Et,cr.action);else{var qr={lane:Er,action:cr.action,hasEagerState:cr.hasEagerState,eagerState:cr.eagerState,next:null};qn===null?(kn=qn=qr,mn=Et):qn=qn.next=qr,Bs.lanes|=Er,su|=Er}cr=cr.next}while(cr!==null&&cr!==zt);qn===null?mn=Et:qn.next=kn,Cn(Et,ft.memoizedState)||(wo=!0),ft.memoizedState=Et,ft.baseState=mn,ft.baseQueue=qn,St.lastRenderedState=Et}if(ut=St.interleaved,ut!==null){Rt=ut;do zt=Rt.lane,Bs.lanes|=zt,su|=zt,Rt=Rt.next;while(Rt!==ut)}else Rt===null&&(St.lanes=0);return[ft.memoizedState,St.dispatch]}function Os(ut){var ft=Kr(),St=ft.queue;if(St===null)throw Error(it(311));St.lastRenderedReducer=ut;var Et=St.dispatch,Rt=St.pending,zt=ft.memoizedState;if(Rt!==null){St.pending=null;var mn=Rt=Rt.next;do zt=ut(zt,mn.action),mn=mn.next;while(mn!==Rt);Cn(zt,ft.memoizedState)||(wo=!0),ft.memoizedState=zt,ft.baseQueue===null&&(ft.baseState=zt),St.lastRenderedState=zt}return[zt,Et]}function Ho(){}function ru(ut,ft){var St=Bs,Et=Kr(),Rt=ft(),zt=!Cn(Et.memoizedState,Rt);if(zt&&(Et.memoizedState=Rt,wo=!0),Et=Et.queue,vu(Gl.bind(null,St,Et,ut),[ut]),Et.getSnapshot!==ft||zt||Ws!==null&&Ws.memoizedState.tag&1){if(St.flags|=2048,Bo(9,jo.bind(null,St,Et,Rt,ft),void 0,null),Zs===null)throw Error(it(349));Sl&30||Ul(St,ft,Rt)}return Rt}function Ul(ut,ft,St){ut.flags|=16384,ut={getSnapshot:ft,value:St},ft=Bs.updateQueue,ft===null?(ft={lastEffect:null,stores:null},Bs.updateQueue=ft,ft.stores=[ut]):(St=ft.stores,St===null?ft.stores=[ut]:St.push(ut))}function jo(ut,ft,St,Et){ft.value=St,ft.getSnapshot=Et,gu(ft)&&Fo(ut,1,-1)}function Gl(ut,ft,St){return St(function(){gu(ft)&&Fo(ut,1,-1)})}function gu(ut){var ft=ut.getSnapshot;ut=ut.value;try{var St=ft();return!Cn(ut,St)}catch{return!0}}function Al(ut){var ft=zr();return typeof ut=="function"&&(ut=ut()),ft.memoizedState=ft.baseState=ut,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ut},ft.queue=ut,ut=ut.dispatch=V0.bind(null,Bs,ut),[ft.memoizedState,ut]}function Bo(ut,ft,St,Et){return ut={tag:ut,create:ft,destroy:St,deps:Et,next:null},ft=Bs.updateQueue,ft===null?(ft={lastEffect:null,stores:null},Bs.updateQueue=ft,ft.lastEffect=ut.next=ut):(St=ft.lastEffect,St===null?ft.lastEffect=ut.next=ut:(Et=St.next,St.next=ut,ut.next=Et,ft.lastEffect=ut)),ut}function fm(){return Kr().memoizedState}function Du(ut,ft,St,Et){var Rt=zr();Bs.flags|=ut,Rt.memoizedState=Bo(1|ft,St,void 0,Et===void 0?null:Et)}function Bu(ut,ft,St,Et){var Rt=Kr();Et=Et===void 0?null:Et;var zt=void 0;if(Qs!==null){var mn=Qs.memoizedState;if(zt=mn.destroy,Et!==null&&nu(Et,mn.deps)){Rt.memoizedState=Bo(ft,St,zt,Et);return}}Bs.flags|=ut,Rt.memoizedState=Bo(1|ft,St,zt,Et)}function vp(ut,ft){return Du(8390656,8,ut,ft)}function vu(ut,ft){return Bu(2048,8,ut,ft)}function pm(ut,ft){return Bu(4,2,ut,ft)}function mm(ut,ft){return Bu(4,4,ut,ft)}function gm(ut,ft){if(typeof ft=="function")return ut=ut(),ft(ut),function(){ft(null)};if(ft!=null)return ut=ut(),ft.current=ut,function(){ft.current=null}}function vm(ut,ft,St){return St=St!=null?St.concat([ut]):null,Bu(4,4,gm.bind(null,ft,ut),St)}function yp(){}function ym(ut,ft){var St=Kr();ft=ft===void 0?null:ft;var Et=St.memoizedState;return Et!==null&&ft!==null&&nu(ft,Et[1])?Et[0]:(St.memoizedState=[ut,ft],ut)}function _m(ut,ft){var St=Kr();ft=ft===void 0?null:ft;var Et=St.memoizedState;return Et!==null&&ft!==null&&nu(ft,Et[1])?Et[0]:(ut=ut(),St.memoizedState=[ut,ft],ut)}function N0(ut,ft){var St=gs;gs=St!==0&&4>St?St:4,ut(!0);var Et=_o.transition;_o.transition={};try{ut(!1),ft()}finally{gs=St,_o.transition=Et}}function xm(){return Kr().memoizedState}function $0(ut,ft,St){var Et=Cl(ut);St={lane:Et,action:St,hasEagerState:!1,eagerState:null,next:null},Sm(ut)?bm(ft,St):(Am(ut,ft,St),St=go(),ut=Fo(ut,Et,St),ut!==null&&Em(ut,ft,Et))}function V0(ut,ft,St){var Et=Cl(ut),Rt={lane:Et,action:St,hasEagerState:!1,eagerState:null,next:null};if(Sm(ut))bm(ft,Rt);else{Am(ut,ft,Rt);var zt=ut.alternate;if(ut.lanes===0&&(zt===null||zt.lanes===0)&&(zt=ft.lastRenderedReducer,zt!==null))try{var mn=ft.lastRenderedState,kn=zt(mn,St);if(Rt.hasEagerState=!0,Rt.eagerState=kn,Cn(kn,mn))return}catch{}finally{}St=go(),ut=Fo(ut,Et,St),ut!==null&&Em(ut,ft,Et)}}function Sm(ut){var ft=ut.alternate;return ut===Bs||ft!==null&&ft===Bs}function bm(ut,ft){Vl=$l=!0;var St=ut.pending;St===null?ft.next=ft:(ft.next=St.next,St.next=ft),ut.pending=ft}function Am(ut,ft,St){Zs!==null&&ut.mode&1&&!(cs&2)?(ut=ft.interleaved,ut===null?(St.next=St,Xr===null?Xr=[ft]:Xr.push(ft)):(St.next=ut.next,ut.next=St),ft.interleaved=St):(ut=ft.pending,ut===null?St.next=St:(St.next=ut.next,ut.next=St),ft.pending=St)}function Em(ut,ft,St){if(St&4194240){var Et=ft.lanes;Et&=ut.pendingLanes,St|=Et,ft.lanes=St,_a(ut,St)}}var Fu={readContext:Hr,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useInsertionEffect:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useSyncExternalStore:io,useId:io,unstable_isNewReconciler:!1},U0={readContext:Hr,useCallback:function(ut,ft){return zr().memoizedState=[ut,ft===void 0?null:ft],ut},useContext:Hr,useEffect:vp,useImperativeHandle:function(ut,ft,St){return St=St!=null?St.concat([ut]):null,Du(4194308,4,gm.bind(null,ft,ut),St)},useLayoutEffect:function(ut,ft){return Du(4194308,4,ut,ft)},useInsertionEffect:function(ut,ft){return Du(4,2,ut,ft)},useMemo:function(ut,ft){var St=zr();return ft=ft===void 0?null:ft,ut=ut(),St.memoizedState=[ut,ft],ut},useReducer:function(ut,ft,St){var Et=zr();return ft=St!==void 0?St(ft):ft,Et.memoizedState=Et.baseState=ft,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ut,lastRenderedState:ft},Et.queue=ut,ut=ut.dispatch=$0.bind(null,Bs,ut),[Et.memoizedState,ut]},useRef:function(ut){var ft=zr();return ut={current:ut},ft.memoizedState=ut},useState:Al,useDebugValue:yp,useDeferredValue:function(ut){var ft=Al(ut),St=ft[0],Et=ft[1];return vp(function(){var Rt=_o.transition;_o.transition={};try{Et(ut)}finally{_o.transition=Rt}},[ut]),St},useTransition:function(){var ut=Al(!1),ft=ut[0];return ut=N0.bind(null,ut[1]),zr().memoizedState=ut,[ft,ut]},useMutableSource:function(){},useSyncExternalStore:function(ut,ft,St){var Et=Bs,Rt=zr();if(Ur){if(St===void 0)throw Error(it(407));St=St()}else{if(St=ft(),Zs===null)throw Error(it(349));Sl&30||Ul(Et,ft,St)}Rt.memoizedState=St;var zt={value:St,getSnapshot:ft};return Rt.queue=zt,vp(Gl.bind(null,Et,zt,ut),[ut]),Et.flags|=2048,Bo(9,jo.bind(null,Et,zt,St,ft),void 0,null),St},useId:function(){var ut=zr(),ft=Zs.identifierPrefix;if(Ur){var St=hs,Et=Nr;St=(Et&~(1<<32-Mo(Et)-1)).toString(32)+St,ft=":"+ft+"R"+St,St=qo++,0<St&&(ft+="H"+St.toString(32)),ft+=":"}else St=gp++,ft=":"+ft+"r"+St.toString(32)+":";return ut.memoizedState=ft},unstable_isNewReconciler:!1},G0={readContext:Hr,useCallback:ym,useContext:Hr,useEffect:vu,useImperativeHandle:vm,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:_m,useReducer:jr,useRef:fm,useState:function(){return jr(es)},useDebugValue:yp,useDeferredValue:function(ut){var ft=jr(es),St=ft[0],Et=ft[1];return vu(function(){var Rt=_o.transition;_o.transition={};try{Et(ut)}finally{_o.transition=Rt}},[ut]),St},useTransition:function(){var ut=jr(es)[0],ft=Kr().memoizedState;return[ut,ft]},useMutableSource:Ho,useSyncExternalStore:ru,useId:xm,unstable_isNewReconciler:!1},z0={readContext:Hr,useCallback:ym,useContext:Hr,useEffect:vu,useImperativeHandle:vm,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:_m,useReducer:Os,useRef:fm,useState:function(){return Os(es)},useDebugValue:yp,useDeferredValue:function(ut){var ft=Os(es),St=ft[0],Et=ft[1];return vu(function(){var Rt=_o.transition;_o.transition={};try{Et(ut)}finally{_o.transition=Rt}},[ut]),St},useTransition:function(){var ut=Os(es)[0],ft=Kr().memoizedState;return[ut,ft]},useMutableSource:Ho,useSyncExternalStore:ru,useId:xm,unstable_isNewReconciler:!1};function _p(ut,ft){try{var St="",Et=ft;do St+=rr(Et),Et=Et.return;while(Et);var Rt=St}catch(zt){Rt=`
Error generating stack: `+zt.message+`
`+zt.stack}return{value:ut,source:ft,stack:Rt}}function xp(ut,ft){try{console.error(ft.value)}catch(St){setTimeout(function(){throw St})}}var H0=typeof WeakMap=="function"?WeakMap:Map;function Mm(ut,ft,St){St=_s(-1,St),St.tag=3,St.payload={element:null};var Et=ft.value;return St.callback=function(){Qu||(Qu=!0,Np=Et),xp(ut,ft)},St}function Cm(ut,ft,St){St=_s(-1,St),St.tag=3;var Et=ut.type.getDerivedStateFromError;if(typeof Et=="function"){var Rt=ft.value;St.payload=function(){return Et(Rt)},St.callback=function(){xp(ut,ft)}}var zt=ut.stateNode;return zt!==null&&typeof zt.componentDidCatch=="function"&&(St.callback=function(){xp(ut,ft),typeof Et!="function"&&(El===null?El=new Set([this]):El.add(this));var mn=ft.stack;this.componentDidCatch(ft.value,{componentStack:mn!==null?mn:""})}),St}function wm(ut,ft,St){var Et=ut.pingCache;if(Et===null){Et=ut.pingCache=new H0;var Rt=new Set;Et.set(ft,Rt)}else Rt=Et.get(ft),Rt===void 0&&(Rt=new Set,Et.set(ft,Rt));Rt.has(St)||(Rt.add(St),ut=iv.bind(null,ut,ft,St),ft.then(ut,ut))}function Tm(ut){do{var ft;if((ft=ut.tag===13)&&(ft=ut.memoizedState,ft=ft!==null?ft.dehydrated!==null:!0),ft)return ut;ut=ut.return}while(ut!==null);return null}function Pm(ut,ft,St,Et,Rt){return ut.mode&1?(ut.flags|=65536,ut.lanes=Rt,ut):(ut===ft?ut.flags|=65536:(ut.flags|=128,St.flags|=131072,St.flags&=-52805,St.tag===1&&(St.alternate===null?St.tag=17:(ft=_s(-1,1),ft.tag=2,bs(St,ft))),St.lanes|=1),ut)}function Xo(ut){ut.flags|=4}function Rm(ut,ft){if(ut!==null&&ut.child===ft.child)return!0;if(ft.flags&16)return!1;for(ut=ft.child;ut!==null;){if(ut.flags&12854||ut.subtreeFlags&12854)return!1;ut=ut.sibling}return!0}var yu,_u,Ou,Nu;if($t)yu=function(ut,ft){for(var St=ft.child;St!==null;){if(St.tag===5||St.tag===6)tn(ut,St.stateNode);else if(St.tag!==4&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===ft)break;for(;St.sibling===null;){if(St.return===null||St.return===ft)return;St=St.return}St.sibling.return=St.return,St=St.sibling}},_u=function(){},Ou=function(ut,ft,St,Et,Rt){if(ut=ut.memoizedProps,ut!==Et){var zt=ft.stateNode,mn=Io(uo.current);St=Yt(zt,St,ut,Et,Rt,mn),(ft.updateQueue=St)&&Xo(ft)}},Nu=function(ut,ft,St,Et){St!==Et&&Xo(ft)};else if(Vt){yu=function(ut,ft,St,Et){for(var Rt=ft.child;Rt!==null;){if(Rt.tag===5){var zt=Rt.stateNode;St&&Et&&(zt=xr(zt,Rt.type,Rt.memoizedProps,Rt)),tn(ut,zt)}else if(Rt.tag===6)zt=Rt.stateNode,St&&Et&&(zt=ps(zt,Rt.memoizedProps,Rt)),tn(ut,zt);else if(Rt.tag!==4){if(Rt.tag===22&&Rt.memoizedState!==null)zt=Rt.child,zt!==null&&(zt.return=Rt),yu(ut,Rt,!0,!0);else if(Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}}if(Rt===ft)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===ft)return;Rt=Rt.return}Rt.sibling.return=Rt.return,Rt=Rt.sibling}};var Lm=function(ut,ft,St,Et){for(var Rt=ft.child;Rt!==null;){if(Rt.tag===5){var zt=Rt.stateNode;St&&Et&&(zt=xr(zt,Rt.type,Rt.memoizedProps,Rt)),wr(ut,zt)}else if(Rt.tag===6)zt=Rt.stateNode,St&&Et&&(zt=ps(zt,Rt.memoizedProps,Rt)),wr(ut,zt);else if(Rt.tag!==4){if(Rt.tag===22&&Rt.memoizedState!==null)zt=Rt.child,zt!==null&&(zt.return=Rt),Lm(ut,Rt,!0,!0);else if(Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}}if(Rt===ft)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===ft)return;Rt=Rt.return}Rt.sibling.return=Rt.return,Rt=Rt.sibling}};_u=function(ut,ft){var St=ft.stateNode;if(!Rm(ut,ft)){ut=St.containerInfo;var Et=hr(ut);Lm(Et,ft,!1,!1),St.pendingChildren=Et,Xo(ft),ts(ut,Et)}},Ou=function(ut,ft,St,Et,Rt){var zt=ut.stateNode,mn=ut.memoizedProps;if((ut=Rm(ut,ft))&&mn===Et)ft.stateNode=zt;else{var kn=ft.stateNode,qn=Io(uo.current),cr=null;mn!==Et&&(cr=Yt(kn,St,mn,Et,Rt,qn)),ut&&cr===null?ft.stateNode=zt:(zt=Yn(zt,cr,St,mn,Et,ft,ut,kn),yn(zt,St,Et,Rt,qn)&&Xo(ft),ft.stateNode=zt,ut?Xo(ft):yu(zt,ft,!1,!1))}},Nu=function(ut,ft,St,Et){St!==Et?(ut=Io(_l.current),St=Io(uo.current),ft.stateNode=Bt(Et,ut,St,ft),Xo(ft)):ft.stateNode=ut.stateNode}}else _u=function(){},Ou=function(){},Nu=function(){};function xu(ut,ft){if(!Ur)switch(ut.tailMode){case"hidden":ft=ut.tail;for(var St=null;ft!==null;)ft.alternate!==null&&(St=ft),ft=ft.sibling;St===null?ut.tail=null:St.sibling=null;break;case"collapsed":St=ut.tail;for(var Et=null;St!==null;)St.alternate!==null&&(Et=St),St=St.sibling;Et===null?ft||ut.tail===null?ut.tail=null:ut.tail.sibling=null:Et.sibling=null}}function ho(ut){var ft=ut.alternate!==null&&ut.alternate.child===ut.child,St=0,Et=0;if(ft)for(var Rt=ut.child;Rt!==null;)St|=Rt.lanes|Rt.childLanes,Et|=Rt.subtreeFlags&14680064,Et|=Rt.flags&14680064,Rt.return=ut,Rt=Rt.sibling;else for(Rt=ut.child;Rt!==null;)St|=Rt.lanes|Rt.childLanes,Et|=Rt.subtreeFlags,Et|=Rt.flags,Rt.return=ut,Rt=Rt.sibling;return ut.subtreeFlags|=Et,ut.childLanes=St,ft}function j0(ut,ft,St){var Et=ft.pendingProps;switch(Vr(ft),ft.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ho(ft),null;case 1:return co(ft.type)&&Zo(),ho(ft),null;case 3:return Et=ft.stateNode,po(),ds(Hs),ds(zs),tu(),Et.pendingContext&&(Et.context=Et.pendingContext,Et.pendingContext=null),(ut===null||ut.child===null)&&(Fl(ft)?Xo(ft):ut===null||ut.memoizedState.isDehydrated&&!(ft.flags&256)||(ft.flags|=1024,Jr!==null&&(Up(Jr),Jr=null))),_u(ut,ft),ho(ft),null;case 5:_c(ft),St=Io(_l.current);var Rt=ft.type;if(ut!==null&&ft.stateNode!=null)Ou(ut,ft,Rt,Et,St),ut.ref!==ft.ref&&(ft.flags|=512,ft.flags|=2097152);else{if(!Et){if(ft.stateNode===null)throw Error(it(166));return ho(ft),null}if(ut=Io(uo.current),Fl(ft)){if(!Zt)throw Error(it(175));ut=Or(ft.stateNode,ft.type,ft.memoizedProps,St,ut,ft,!Is),ft.updateQueue=ut,ut!==null&&Xo(ft)}else{var zt=on(Rt,Et,St,ut,ft);yu(zt,ft,!1,!1),ft.stateNode=zt,yn(zt,Rt,Et,St,ut)&&Xo(ft)}ft.ref!==null&&(ft.flags|=512,ft.flags|=2097152)}return ho(ft),null;case 6:if(ut&&ft.stateNode!=null)Nu(ut,ft,ut.memoizedProps,Et);else{if(typeof Et!="string"&&ft.stateNode===null)throw Error(it(166));if(ut=Io(_l.current),St=Io(uo.current),Fl(ft)){if(!Zt)throw Error(it(176));if(ut=ft.stateNode,Et=ft.memoizedProps,(St=Qr(ut,Et,ft,!Is))&&(Rt=As,Rt!==null))switch(zt=(Rt.mode&1)!==0,Rt.tag){case 3:$o(Rt.stateNode.containerInfo,ut,Et,zt);break;case 5:$s(Rt.type,Rt.memoizedProps,Rt.stateNode,ut,Et,zt)}St&&Xo(ft)}else ft.stateNode=Bt(Et,ut,St,ft)}return ho(ft),null;case 13:if(ds(Ds),Et=ft.memoizedState,Ur&&_i!==null&&ft.mode&1&&!(ft.flags&128)){for(ut=_i;ut;)ut=jn(ut);return Ys(),ft.flags|=98560,ft}if(Et!==null&&Et.dehydrated!==null){if(Et=Fl(ft),ut===null){if(!Et)throw Error(it(318));if(!Zt)throw Error(it(344));if(ut=ft.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(it(317));ns(ut,ft)}else Ys(),!(ft.flags&128)&&(ft.memoizedState=null),ft.flags|=4;return ho(ft),null}return Jr!==null&&(Up(Jr),Jr=null),ft.flags&128?(ft.lanes=St,ft):(Et=Et!==null,St=!1,ut===null?Fl(ft):St=ut.memoizedState!==null,Et&&!St&&(ft.child.flags|=8192,ft.mode&1&&(ut===null||Ds.current&1?no===0&&(no=3):zp())),ft.updateQueue!==null&&(ft.flags|=4),ho(ft),null);case 4:return po(),_u(ut,ft),ut===null&&hn(ft.stateNode.containerInfo),ho(ft),null;case 10:return ls(ft.type._context),ho(ft),null;case 17:return co(ft.type)&&Zo(),ho(ft),null;case 19:if(ds(Ds),Rt=ft.memoizedState,Rt===null)return ho(ft),null;if(Et=(ft.flags&128)!==0,zt=Rt.rendering,zt===null)if(Et)xu(Rt,!1);else{if(no!==0||ut!==null&&ut.flags&128)for(ut=ft.child;ut!==null;){if(zt=xl(ut),zt!==null){for(ft.flags|=128,xu(Rt,!1),ut=zt.updateQueue,ut!==null&&(ft.updateQueue=ut,ft.flags|=4),ft.subtreeFlags=0,ut=St,Et=ft.child;Et!==null;)St=Et,Rt=ut,St.flags&=14680066,zt=St.alternate,zt===null?(St.childLanes=0,St.lanes=Rt,St.child=null,St.subtreeFlags=0,St.memoizedProps=null,St.memoizedState=null,St.updateQueue=null,St.dependencies=null,St.stateNode=null):(St.childLanes=zt.childLanes,St.lanes=zt.lanes,St.child=zt.child,St.subtreeFlags=0,St.deletions=null,St.memoizedProps=zt.memoizedProps,St.memoizedState=zt.memoizedState,St.updateQueue=zt.updateQueue,St.type=zt.type,Rt=zt.dependencies,St.dependencies=Rt===null?null:{lanes:Rt.lanes,firstContext:Rt.firstContext}),Et=Et.sibling;return Ss(Ds,Ds.current&1|2),ft.child}ut=ut.sibling}Rt.tail!==null&&qs()>Op&&(ft.flags|=128,Et=!0,xu(Rt,!1),ft.lanes=4194304)}else{if(!Et)if(ut=xl(zt),ut!==null){if(ft.flags|=128,Et=!0,ut=ut.updateQueue,ut!==null&&(ft.updateQueue=ut,ft.flags|=4),xu(Rt,!0),Rt.tail===null&&Rt.tailMode==="hidden"&&!zt.alternate&&!Ur)return ho(ft),null}else 2*qs()-Rt.renderingStartTime>Op&&St!==1073741824&&(ft.flags|=128,Et=!0,xu(Rt,!1),ft.lanes=4194304);Rt.isBackwards?(zt.sibling=ft.child,ft.child=zt):(ut=Rt.last,ut!==null?ut.sibling=zt:ft.child=zt,Rt.last=zt)}return Rt.tail!==null?(ft=Rt.tail,Rt.rendering=ft,Rt.tail=ft.sibling,Rt.renderingStartTime=qs(),ft.sibling=null,ut=Ds.current,Ss(Ds,Et?ut&1|2:ut&1),ft):(ho(ft),null);case 22:case 23:return Gp(),Et=ft.memoizedState!==null,ut!==null&&ut.memoizedState!==null!==Et&&(ft.flags|=8192),Et&&ft.mode&1?To&1073741824&&(ho(ft),$t&&ft.subtreeFlags&6&&(ft.flags|=8192)):ho(ft),null;case 24:return null;case 25:return null}throw Error(it(156,ft.tag))}var W0=st.ReactCurrentOwner,wo=!1;function mo(ut,ft,St,Et){ft.child=ut===null?ku(ft,null,St,Et):$a(ft,ut.child,St,Et)}function km(ut,ft,St,Et,Rt){St=St.render;var zt=ft.ref;return Zr(ft,Rt),Et=tr(ut,ft,St,Et,zt,Rt),St=$r(),ut!==null&&!wo?(ft.updateQueue=ut.updateQueue,ft.flags&=-2053,ut.lanes&=~Rt,Yo(ut,ft,Rt)):(Ur&&St&&ao(ft),ft.flags|=1,mo(ut,ft,Et,Rt),ft.child)}function Im(ut,ft,St,Et,Rt){if(ut===null){var zt=St.type;return typeof zt=="function"&&!Hp(zt)&&zt.defaultProps===void 0&&St.compare===null&&St.defaultProps===void 0?(ft.tag=15,ft.type=zt,Dm(ut,ft,zt,Et,Rt)):(ut=np(St.type,null,Et,ft,ft.mode,Rt),ut.ref=ft.ref,ut.return=ft,ft.child=ut)}if(zt=ut.child,!(ut.lanes&Rt)){var mn=zt.memoizedProps;if(St=St.compare,St=St!==null?St:sr,St(mn,Et)&&ut.ref===ft.ref)return Yo(ut,ft,Rt)}return ft.flags|=1,ut=Pl(zt,Et),ut.ref=ft.ref,ut.return=ft,ft.child=ut}function Dm(ut,ft,St,Et,Rt){if(ut!==null&&sr(ut.memoizedProps,Et)&&ut.ref===ft.ref)if(wo=!1,(ut.lanes&Rt)!==0)ut.flags&131072&&(wo=!0);else return ft.lanes=ut.lanes,Yo(ut,ft,Rt);return Sp(ut,ft,St,Et,Rt)}function Bm(ut,ft,St){var Et=ft.pendingProps,Rt=Et.children,zt=ut!==null?ut.memoizedState:null;if(Et.mode==="hidden")if(!(ft.mode&1))ft.memoizedState={baseLanes:0,cachePool:null},Ss(iu,To),To|=St;else if(St&1073741824)ft.memoizedState={baseLanes:0,cachePool:null},Et=zt!==null?zt.baseLanes:St,Ss(iu,To),To|=Et;else return ut=zt!==null?zt.baseLanes|St:St,ft.lanes=ft.childLanes=1073741824,ft.memoizedState={baseLanes:ut,cachePool:null},ft.updateQueue=null,Ss(iu,To),To|=ut,null;else zt!==null?(Et=zt.baseLanes|St,ft.memoizedState=null):Et=St,Ss(iu,To),To|=Et;return mo(ut,ft,Rt,St),ft.child}function Fm(ut,ft){var St=ft.ref;(ut===null&&St!==null||ut!==null&&ut.ref!==St)&&(ft.flags|=512,ft.flags|=2097152)}function Sp(ut,ft,St,Et,Rt){var zt=co(St)?Lo:zs.current;return zt=Qo(ft,zt),Zr(ft,Rt),St=tr(ut,ft,St,Et,zt,Rt),Et=$r(),ut!==null&&!wo?(ft.updateQueue=ut.updateQueue,ft.flags&=-2053,ut.lanes&=~Rt,Yo(ut,ft,Rt)):(Ur&&Et&&ao(ft),ft.flags|=1,mo(ut,ft,St,Rt),ft.child)}function Om(ut,ft,St,Et,Rt){if(co(St)){var zt=!0;Ll(ft)}else zt=!1;if(Zr(ft,Rt),ft.stateNode===null)ut!==null&&(ut.alternate=null,ft.alternate=null,ft.flags|=2),Pr(ft,St,Et),vr(ft,St,Et,Rt),Et=!0;else if(ut===null){var mn=ft.stateNode,kn=ft.memoizedProps;mn.props=kn;var qn=mn.context,cr=St.contextType;typeof cr=="object"&&cr!==null?cr=Hr(cr):(cr=co(St)?Lo:zs.current,cr=Qo(ft,cr));var Er=St.getDerivedStateFromProps,qr=typeof Er=="function"||typeof mn.getSnapshotBeforeUpdate=="function";qr||typeof mn.UNSAFE_componentWillReceiveProps!="function"&&typeof mn.componentWillReceiveProps!="function"||(kn!==Et||qn!==cr)&&Cr(ft,mn,Et,cr),Cs=!1;var Gr=ft.memoizedState;mn.state=Gr,js(ft,Et,mn,Rt),qn=ft.memoizedState,kn!==Et||Gr!==qn||Hs.current||Cs?(typeof Er=="function"&&(Gs(ft,St,Er,Et),qn=ft.memoizedState),(kn=Cs||ko(ft,St,kn,Et,Gr,qn,cr))?(qr||typeof mn.UNSAFE_componentWillMount!="function"&&typeof mn.componentWillMount!="function"||(typeof mn.componentWillMount=="function"&&mn.componentWillMount(),typeof mn.UNSAFE_componentWillMount=="function"&&mn.UNSAFE_componentWillMount()),typeof mn.componentDidMount=="function"&&(ft.flags|=4194308)):(typeof mn.componentDidMount=="function"&&(ft.flags|=4194308),ft.memoizedProps=Et,ft.memoizedState=qn),mn.props=Et,mn.state=qn,mn.context=cr,Et=kn):(typeof mn.componentDidMount=="function"&&(ft.flags|=4194308),Et=!1)}else{mn=ft.stateNode,Us(ut,ft),kn=ft.memoizedProps,cr=ft.type===ft.elementType?kn:Rr(ft.type,kn),mn.props=cr,qr=ft.pendingProps,Gr=mn.context,qn=St.contextType,typeof qn=="object"&&qn!==null?qn=Hr(qn):(qn=co(St)?Lo:zs.current,qn=Qo(ft,qn));var Rs=St.getDerivedStateFromProps;(Er=typeof Rs=="function"||typeof mn.getSnapshotBeforeUpdate=="function")||typeof mn.UNSAFE_componentWillReceiveProps!="function"&&typeof mn.componentWillReceiveProps!="function"||(kn!==qr||Gr!==qn)&&Cr(ft,mn,Et,qn),Cs=!1,Gr=ft.memoizedState,mn.state=Gr,js(ft,Et,mn,Rt);var Br=ft.memoizedState;kn!==qr||Gr!==Br||Hs.current||Cs?(typeof Rs=="function"&&(Gs(ft,St,Rs,Et),Br=ft.memoizedState),(cr=Cs||ko(ft,St,cr,Et,Gr,Br,qn)||!1)?(Er||typeof mn.UNSAFE_componentWillUpdate!="function"&&typeof mn.componentWillUpdate!="function"||(typeof mn.componentWillUpdate=="function"&&mn.componentWillUpdate(Et,Br,qn),typeof mn.UNSAFE_componentWillUpdate=="function"&&mn.UNSAFE_componentWillUpdate(Et,Br,qn)),typeof mn.componentDidUpdate=="function"&&(ft.flags|=4),typeof mn.getSnapshotBeforeUpdate=="function"&&(ft.flags|=1024)):(typeof mn.componentDidUpdate!="function"||kn===ut.memoizedProps&&Gr===ut.memoizedState||(ft.flags|=4),typeof mn.getSnapshotBeforeUpdate!="function"||kn===ut.memoizedProps&&Gr===ut.memoizedState||(ft.flags|=1024),ft.memoizedProps=Et,ft.memoizedState=Br),mn.props=Et,mn.state=Br,mn.context=qn,Et=cr):(typeof mn.componentDidUpdate!="function"||kn===ut.memoizedProps&&Gr===ut.memoizedState||(ft.flags|=4),typeof mn.getSnapshotBeforeUpdate!="function"||kn===ut.memoizedProps&&Gr===ut.memoizedState||(ft.flags|=1024),Et=!1)}return bp(ut,ft,St,Et,zt,Rt)}function bp(ut,ft,St,Et,Rt,zt){Fm(ut,ft);var mn=(ft.flags&128)!==0;if(!Et&&!mn)return Rt&&cu(ft,St,!1),Yo(ut,ft,zt);Et=ft.stateNode,W0.current=ft;var kn=mn&&typeof St.getDerivedStateFromError!="function"?null:Et.render();return ft.flags|=1,ut!==null&&mn?(ft.child=$a(ft,ut.child,null,zt),ft.child=$a(ft,null,kn,zt)):mo(ut,ft,kn,zt),ft.memoizedState=Et.state,Rt&&cu(ft,St,!0),ft.child}function Nm(ut){var ft=ut.stateNode;ft.pendingContext?Tu(ut,ft.pendingContext,ft.pendingContext!==ft.context):ft.context&&Tu(ut,ft.context,!1),mu(ut,ft.containerInfo)}function $m(ut,ft,St,Et,Rt){return Ys(),Zl(Rt),ft.flags|=256,mo(ut,ft,St,Et),ft.child}var $u={dehydrated:null,treeContext:null,retryLane:0};function Vu(ut){return{baseLanes:ut,cachePool:null}}function Vm(ut,ft,St){var Et=ft.pendingProps,Rt=Ds.current,zt=!1,mn=(ft.flags&128)!==0,kn;if((kn=mn)||(kn=ut!==null&&ut.memoizedState===null?!1:(Rt&2)!==0),kn?(zt=!0,ft.flags&=-129):(ut===null||ut.memoizedState!==null)&&(Rt|=1),Ss(Ds,Rt&1),ut===null)return Go(ft),ut=ft.memoizedState,ut!==null&&(ut=ut.dehydrated,ut!==null)?(ft.mode&1?dn(ut)?ft.lanes=8:ft.lanes=1073741824:ft.lanes=1,null):(Rt=Et.children,ut=Et.fallback,zt?(Et=ft.mode,zt=ft.child,Rt={mode:"hidden",children:Rt},!(Et&1)&&zt!==null?(zt.childLanes=0,zt.pendingProps=Rt):zt=rp(Rt,Et,0,null),ut=Jl(ut,Et,St,null),zt.return=ft,ut.return=ft,zt.sibling=ut,ft.child=zt,ft.child.memoizedState=Vu(St),ft.memoizedState=$u,ut):Ap(ft,Rt));if(Rt=ut.memoizedState,Rt!==null){if(kn=Rt.dehydrated,kn!==null){if(mn)return ft.flags&256?(ft.flags&=-257,Uu(ut,ft,St,Error(it(422)))):ft.memoizedState!==null?(ft.child=ut.child,ft.flags|=128,null):(zt=Et.fallback,Rt=ft.mode,Et=rp({mode:"visible",children:Et.children},Rt,0,null),zt=Jl(zt,Rt,St,null),zt.flags|=2,Et.return=ft,zt.return=ft,Et.sibling=zt,ft.child=Et,ft.mode&1&&$a(ft,ut.child,null,St),ft.child.memoizedState=Vu(St),ft.memoizedState=$u,zt);if(!(ft.mode&1))ft=Uu(ut,ft,St,null);else if(dn(kn))ft=Uu(ut,ft,St,Error(it(419)));else if(Et=(St&ut.childLanes)!==0,wo||Et){if(Et=Zs,Et!==null){switch(St&-St){case 4:zt=2;break;case 16:zt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:zt=32;break;case 536870912:zt=268435456;break;default:zt=0}Et=zt&(Et.suspendedLanes|St)?0:zt,Et!==0&&Et!==Rt.retryLane&&(Rt.retryLane=Et,Fo(ut,Et,-1))}zp(),ft=Uu(ut,ft,St,Error(it(421)))}else Ls(kn)?(ft.flags|=128,ft.child=ut.child,ft=sv.bind(null,ut),Fn(kn,ft),ft=null):(St=Rt.treeContext,Zt&&(_i=Sr(kn),As=ft,Ur=!0,Jr=null,Is=!1,St!==null&&(fr[lr++]=Nr,fr[lr++]=hs,fr[lr++]=Dr,Nr=St.id,hs=St.overflow,Dr=ft)),ft=Ap(ft,ft.pendingProps.children),ft.flags|=4096);return ft}return zt?(Et=Gm(ut,ft,Et.children,Et.fallback,St),zt=ft.child,Rt=ut.child.memoizedState,zt.memoizedState=Rt===null?Vu(St):{baseLanes:Rt.baseLanes|St,cachePool:null},zt.childLanes=ut.childLanes&~St,ft.memoizedState=$u,Et):(St=Um(ut,ft,Et.children,St),ft.memoizedState=null,St)}return zt?(Et=Gm(ut,ft,Et.children,Et.fallback,St),zt=ft.child,Rt=ut.child.memoizedState,zt.memoizedState=Rt===null?Vu(St):{baseLanes:Rt.baseLanes|St,cachePool:null},zt.childLanes=ut.childLanes&~St,ft.memoizedState=$u,Et):(St=Um(ut,ft,Et.children,St),ft.memoizedState=null,St)}function Ap(ut,ft){return ft=rp({mode:"visible",children:ft},ut.mode,0,null),ft.return=ut,ut.child=ft}function Um(ut,ft,St,Et){var Rt=ut.child;return ut=Rt.sibling,St=Pl(Rt,{mode:"visible",children:St}),!(ft.mode&1)&&(St.lanes=Et),St.return=ft,St.sibling=null,ut!==null&&(Et=ft.deletions,Et===null?(ft.deletions=[ut],ft.flags|=16):Et.push(ut)),ft.child=St}function Gm(ut,ft,St,Et,Rt){var zt=ft.mode;ut=ut.child;var mn=ut.sibling,kn={mode:"hidden",children:St};return!(zt&1)&&ft.child!==ut?(St=ft.child,St.childLanes=0,St.pendingProps=kn,ft.deletions=null):(St=Pl(ut,kn),St.subtreeFlags=ut.subtreeFlags&14680064),mn!==null?Et=Pl(mn,Et):(Et=Jl(Et,zt,Rt,null),Et.flags|=2),Et.return=ft,St.return=ft,St.sibling=Et,ft.child=St,Et}function Uu(ut,ft,St,Et){return Et!==null&&Zl(Et),$a(ft,ut.child,null,St),ut=Ap(ft,ft.pendingProps.children),ut.flags|=2,ft.memoizedState=null,ut}function zm(ut,ft,St){ut.lanes|=ft;var Et=ut.alternate;Et!==null&&(Et.lanes|=ft),rs(ut.return,ft,St)}function Ep(ut,ft,St,Et,Rt){var zt=ut.memoizedState;zt===null?ut.memoizedState={isBackwards:ft,rendering:null,renderingStartTime:0,last:Et,tail:St,tailMode:Rt}:(zt.isBackwards=ft,zt.rendering=null,zt.renderingStartTime=0,zt.last=Et,zt.tail=St,zt.tailMode=Rt)}function Hm(ut,ft,St){var Et=ft.pendingProps,Rt=Et.revealOrder,zt=Et.tail;if(mo(ut,ft,Et.children,St),Et=Ds.current,Et&2)Et=Et&1|2,ft.flags|=128;else{if(ut!==null&&ut.flags&128)e:for(ut=ft.child;ut!==null;){if(ut.tag===13)ut.memoizedState!==null&&zm(ut,St,ft);else if(ut.tag===19)zm(ut,St,ft);else if(ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===ft)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===ft)break e;ut=ut.return}ut.sibling.return=ut.return,ut=ut.sibling}Et&=1}if(Ss(Ds,Et),!(ft.mode&1))ft.memoizedState=null;else switch(Rt){case"forwards":for(St=ft.child,Rt=null;St!==null;)ut=St.alternate,ut!==null&&xl(ut)===null&&(Rt=St),St=St.sibling;St=Rt,St===null?(Rt=ft.child,ft.child=null):(Rt=St.sibling,St.sibling=null),Ep(ft,!1,Rt,St,zt);break;case"backwards":for(St=null,Rt=ft.child,ft.child=null;Rt!==null;){if(ut=Rt.alternate,ut!==null&&xl(ut)===null){ft.child=Rt;break}ut=Rt.sibling,Rt.sibling=St,St=Rt,Rt=ut}Ep(ft,!0,St,null,zt);break;case"together":Ep(ft,!1,null,null,void 0);break;default:ft.memoizedState=null}return ft.child}function Yo(ut,ft,St){if(ut!==null&&(ft.dependencies=ut.dependencies),su|=ft.lanes,!(St&ft.childLanes))return null;if(ut!==null&&ft.child!==ut.child)throw Error(it(153));if(ft.child!==null){for(ut=ft.child,St=Pl(ut,ut.pendingProps),ft.child=St,St.return=ft;ut.sibling!==null;)ut=ut.sibling,St=St.sibling=Pl(ut,ut.pendingProps),St.return=ft;St.sibling=null}return ft.child}function X0(ut,ft,St){switch(ft.tag){case 3:Nm(ft),Ys();break;case 5:Iu(ft);break;case 1:co(ft.type)&&Ll(ft);break;case 4:mu(ft,ft.stateNode.containerInfo);break;case 10:Tr(ft,ft.type._context,ft.memoizedProps.value);break;case 13:var Et=ft.memoizedState;if(Et!==null)return Et.dehydrated!==null?(Ss(Ds,Ds.current&1),ft.flags|=128,null):St&ft.child.childLanes?Vm(ut,ft,St):(Ss(Ds,Ds.current&1),ut=Yo(ut,ft,St),ut!==null?ut.sibling:null);Ss(Ds,Ds.current&1);break;case 19:if(Et=(St&ft.childLanes)!==0,ut.flags&128){if(Et)return Hm(ut,ft,St);ft.flags|=128}var Rt=ft.memoizedState;if(Rt!==null&&(Rt.rendering=null,Rt.tail=null,Rt.lastEffect=null),Ss(Ds,Ds.current),Et)break;return null;case 22:case 23:return ft.lanes=0,Bm(ut,ft,St)}return Yo(ut,ft,St)}function K0(ut,ft){switch(Vr(ft),ft.tag){case 1:return co(ft.type)&&Zo(),ut=ft.flags,ut&65536?(ft.flags=ut&-65537|128,ft):null;case 3:return po(),ds(Hs),ds(zs),tu(),ut=ft.flags,ut&65536&&!(ut&128)?(ft.flags=ut&-65537|128,ft):null;case 5:return _c(ft),null;case 13:if(ds(Ds),ut=ft.memoizedState,ut!==null&&ut.dehydrated!==null){if(ft.alternate===null)throw Error(it(340));Ys()}return ut=ft.flags,ut&65536?(ft.flags=ut&-65537|128,ft):null;case 19:return ds(Ds),null;case 4:return po(),null;case 10:return ls(ft.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var Gu=!1,zl=!1,J0=typeof WeakSet=="function"?WeakSet:Set,gr=null;function zu(ut,ft){var St=ut.ref;if(St!==null)if(typeof St=="function")try{St(null)}catch(Et){bo(ut,ft,Et)}else St.current=null}function Mp(ut,ft,St){try{St()}catch(Et){bo(ut,ft,Et)}}var jm=!1;function q0(ut,ft){for(qt(ut.containerInfo),gr=ft;gr!==null;)if(ut=gr,ft=ut.child,(ut.subtreeFlags&1028)!==0&&ft!==null)ft.return=ut,gr=ft;else for(;gr!==null;){ut=gr;try{var St=ut.alternate;if(ut.flags&1024)switch(ut.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var Et=St.memoizedProps,Rt=St.memoizedState,zt=ut.stateNode,mn=zt.getSnapshotBeforeUpdate(ut.elementType===ut.type?Et:Rr(ut.type,Et),Rt);zt.__reactInternalSnapshotBeforeUpdate=mn}break;case 3:$t&&Nn(ut.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(kn){bo(ut,ut.return,kn)}if(ft=ut.sibling,ft!==null){ft.return=ut.return,gr=ft;break}gr=ut.return}return St=jm,jm=!1,St}function Hl(ut,ft,St){var Et=ft.updateQueue;if(Et=Et!==null?Et.lastEffect:null,Et!==null){var Rt=Et=Et.next;do{if((Rt.tag&ut)===ut){var zt=Rt.destroy;Rt.destroy=void 0,zt!==void 0&&Mp(ft,St,zt)}Rt=Rt.next}while(Rt!==Et)}}function Su(ut,ft){if(ft=ft.updateQueue,ft=ft!==null?ft.lastEffect:null,ft!==null){var St=ft=ft.next;do{if((St.tag&ut)===ut){var Et=St.create;St.destroy=Et()}St=St.next}while(St!==ft)}}function Cp(ut){var ft=ut.ref;if(ft!==null){var St=ut.stateNode;switch(ut.tag){case 5:ut=Ut(St);break;default:ut=St}typeof ft=="function"?ft(ut):ft.current=ut}}function Wm(ut,ft,St){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(vn,ft)}catch{}switch(ft.tag){case 0:case 11:case 14:case 15:if(ut=ft.updateQueue,ut!==null&&(ut=ut.lastEffect,ut!==null)){var Et=ut=ut.next;do{var Rt=Et,zt=Rt.destroy;Rt=Rt.tag,zt!==void 0&&(Rt&2||Rt&4)&&Mp(ft,St,zt),Et=Et.next}while(Et!==ut)}break;case 1:if(zu(ft,St),ut=ft.stateNode,typeof ut.componentWillUnmount=="function")try{ut.props=ft.memoizedProps,ut.state=ft.memoizedState,ut.componentWillUnmount()}catch(mn){bo(ft,St,mn)}break;case 5:zu(ft,St);break;case 4:$t?Qm(ut,ft,St):Vt&&Vt&&(ft=ft.stateNode.containerInfo,St=hr(ft),Wr(ft,St))}}function Xm(ut,ft,St){for(var Et=ft;;)if(Wm(ut,Et,St),Et.child===null||$t&&Et.tag===4){if(Et===ft)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===ft)return;Et=Et.return}Et.sibling.return=Et.return,Et=Et.sibling}else Et.child.return=Et,Et=Et.child}function Km(ut){var ft=ut.alternate;ft!==null&&(ut.alternate=null,Km(ft)),ut.child=null,ut.deletions=null,ut.sibling=null,ut.tag===5&&(ft=ut.stateNode,ft!==null&&xn(ft)),ut.stateNode=null,ut.return=null,ut.dependencies=null,ut.memoizedProps=null,ut.memoizedState=null,ut.pendingProps=null,ut.stateNode=null,ut.updateQueue=null}function Jm(ut){return ut.tag===5||ut.tag===3||ut.tag===4}function qm(ut){e:for(;;){for(;ut.sibling===null;){if(ut.return===null||Jm(ut.return))return null;ut=ut.return}for(ut.sibling.return=ut.return,ut=ut.sibling;ut.tag!==5&&ut.tag!==6&&ut.tag!==18;){if(ut.flags&2||ut.child===null||ut.tag===4)continue e;ut.child.return=ut,ut=ut.child}if(!(ut.flags&2))return ut.stateNode}}function Ym(ut){if($t){e:{for(var ft=ut.return;ft!==null;){if(Jm(ft))break e;ft=ft.return}throw Error(it(160))}var St=ft;switch(St.tag){case 5:ft=St.stateNode,St.flags&32&&(On(ft),St.flags&=-33),St=qm(ut),Tp(ut,St,ft);break;case 3:case 4:ft=St.stateNode.containerInfo,St=qm(ut),wp(ut,St,ft);break;default:throw Error(it(161))}}}function wp(ut,ft,St){var Et=ut.tag;if(Et===5||Et===6)ut=ut.stateNode,ft?ir(St,ut,ft):Kn(St,ut);else if(Et!==4&&(ut=ut.child,ut!==null))for(wp(ut,ft,St),ut=ut.sibling;ut!==null;)wp(ut,ft,St),ut=ut.sibling}function Tp(ut,ft,St){var Et=ut.tag;if(Et===5||Et===6)ut=ut.stateNode,ft?Bn(St,ut,ft):or(St,ut);else if(Et!==4&&(ut=ut.child,ut!==null))for(Tp(ut,ft,St),ut=ut.sibling;ut!==null;)Tp(ut,ft,St),ut=ut.sibling}function Qm(ut,ft,St){for(var Et=ft,Rt=!1,zt,mn;;){if(!Rt){Rt=Et.return;e:for(;;){if(Rt===null)throw Error(it(160));switch(zt=Rt.stateNode,Rt.tag){case 5:mn=!1;break e;case 3:zt=zt.containerInfo,mn=!0;break e;case 4:zt=zt.containerInfo,mn=!0;break e}Rt=Rt.return}Rt=!0}if(Et.tag===5||Et.tag===6)Xm(ut,Et,St),mn?En(zt,Et.stateNode):er(zt,Et.stateNode);else if(Et.tag===18)mn?oo(zt,Et.stateNode):Ns(zt,Et.stateNode);else if(Et.tag===4){if(Et.child!==null){zt=Et.stateNode.containerInfo,mn=!0,Et.child.return=Et,Et=Et.child;continue}}else if(Wm(ut,Et,St),Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===ft)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===ft)return;Et=Et.return,Et.tag===4&&(Rt=!1)}Et.sibling.return=Et.return,Et=Et.sibling}}function Pp(ut,ft){if($t){switch(ft.tag){case 0:case 11:case 14:case 15:Hl(3,ft,ft.return),Su(3,ft),Hl(5,ft,ft.return);return;case 1:return;case 5:var St=ft.stateNode;if(St!=null){var Et=ft.memoizedProps;ut=ut!==null?ut.memoizedProps:Et;var Rt=ft.type,zt=ft.updateQueue;ft.updateQueue=null,zt!==null&&Sn(St,zt,Rt,ut,Et,ft)}return;case 6:if(ft.stateNode===null)throw Error(it(162));St=ft.memoizedProps,Vn(ft.stateNode,ut!==null?ut.memoizedProps:St,St);return;case 3:Zt&&ut!==null&&ut.memoizedState.isDehydrated&&as(ft.stateNode.containerInfo);return;case 12:return;case 13:Hu(ft);return;case 19:Hu(ft);return;case 17:return}throw Error(it(163))}switch(ft.tag){case 0:case 11:case 14:case 15:Hl(3,ft,ft.return),Su(3,ft),Hl(5,ft,ft.return);return;case 12:return;case 13:Hu(ft);return;case 19:Hu(ft);return;case 3:Zt&&ut!==null&&ut.memoizedState.isDehydrated&&as(ft.stateNode.containerInfo);break;case 22:case 23:return}e:if(Vt){switch(ft.tag){case 1:case 5:case 6:break e;case 3:case 4:ft=ft.stateNode,Wr(ft.containerInfo,ft.pendingChildren);break e}throw Error(it(163))}}function Hu(ut){var ft=ut.updateQueue;if(ft!==null){ut.updateQueue=null;var St=ut.stateNode;St===null&&(St=ut.stateNode=new J0),ft.forEach(function(Et){var Rt=ov.bind(null,ut,Et);St.has(Et)||(St.add(Et),Et.then(Rt,Rt))})}}function Y0(ut,ft){for(gr=ft;gr!==null;){ft=gr;var St=ft.deletions;if(St!==null)for(var Et=0;Et<St.length;Et++){var Rt=St[Et];try{var zt=ut;$t?Qm(zt,Rt,ft):Xm(zt,Rt,ft);var mn=Rt.alternate;mn!==null&&(mn.return=null),Rt.return=null}catch(kr){bo(Rt,ft,kr)}}if(St=ft.child,ft.subtreeFlags&12854&&St!==null)St.return=ft,gr=St;else for(;gr!==null;){ft=gr;try{var kn=ft.flags;if(kn&32&&$t&&On(ft.stateNode),kn&512){var qn=ft.alternate;if(qn!==null){var cr=qn.ref;cr!==null&&(typeof cr=="function"?cr(null):cr.current=null)}}if(kn&8192)switch(ft.tag){case 13:if(ft.memoizedState!==null){var Er=ft.alternate;(Er===null||Er.memoizedState===null)&&(Fp=qs())}break;case 22:var qr=ft.memoizedState!==null,Gr=ft.alternate,Rs=Gr!==null&&Gr.memoizedState!==null;if(St=ft,$t){e:if(Et=St,Rt=qr,zt=null,$t)for(var Br=Et;;){if(Br.tag===5){if(zt===null){zt=Br;var fo=Br.stateNode;Rt?wn(fo):rn(Br.stateNode,Br.memoizedProps)}}else if(Br.tag===6){if(zt===null){var No=Br.stateNode;Rt?Xt(No):Tn(No,Br.memoizedProps)}}else if((Br.tag!==22&&Br.tag!==23||Br.memoizedState===null||Br===Et)&&Br.child!==null){Br.child.return=Br,Br=Br.child;continue}if(Br===Et)break;for(;Br.sibling===null;){if(Br.return===null||Br.return===Et)break e;zt===Br&&(zt=null),Br=Br.return}zt===Br&&(zt=null),Br.sibling.return=Br.return,Br=Br.sibling}}if(qr&&!Rs&&St.mode&1){gr=St;for(var $n=St.child;$n!==null;){for(St=gr=$n;gr!==null;){Et=gr;var In=Et.child;switch(Et.tag){case 0:case 11:case 14:case 15:Hl(4,Et,Et.return);break;case 1:zu(Et,Et.return);var Wn=Et.stateNode;if(typeof Wn.componentWillUnmount=="function"){var _r=Et.return;try{Wn.props=Et.memoizedProps,Wn.state=Et.memoizedState,Wn.componentWillUnmount()}catch(kr){bo(Et,_r,kr)}}break;case 5:zu(Et,Et.return);break;case 22:if(Et.memoizedState!==null){e0(St);continue}}In!==null?(In.return=Et,gr=In):e0(St)}$n=$n.sibling}}}switch(kn&4102){case 2:Ym(ft),ft.flags&=-3;break;case 6:Ym(ft),ft.flags&=-3,Pp(ft.alternate,ft);break;case 4096:ft.flags&=-4097;break;case 4100:ft.flags&=-4097,Pp(ft.alternate,ft);break;case 4:Pp(ft.alternate,ft)}}catch(kr){bo(ft,ft.return,kr)}if(St=ft.sibling,St!==null){St.return=ft.return,gr=St;break}gr=ft.return}}}function Q0(ut,ft,St){gr=ut,Zm(ut)}function Zm(ut,ft,St){for(var Et=(ut.mode&1)!==0;gr!==null;){var Rt=gr,zt=Rt.child;if(Rt.tag===22&&Et){var mn=Rt.memoizedState!==null||Gu;if(!mn){var kn=Rt.alternate,qn=kn!==null&&kn.memoizedState!==null||zl;kn=Gu;var cr=zl;if(Gu=mn,(zl=qn)&&!cr)for(gr=Rt;gr!==null;)mn=gr,qn=mn.child,mn.tag===22&&mn.memoizedState!==null?t0(Rt):qn!==null?(qn.return=mn,gr=qn):t0(Rt);for(;zt!==null;)gr=zt,Zm(zt),zt=zt.sibling;gr=Rt,Gu=kn,zl=cr}_g(ut)}else Rt.subtreeFlags&8772&&zt!==null?(zt.return=Rt,gr=zt):_g(ut)}}function _g(ut){for(;gr!==null;){var ft=gr;if(ft.flags&8772){var St=ft.alternate;try{if(ft.flags&8772)switch(ft.tag){case 0:case 11:case 15:zl||Su(5,ft);break;case 1:var Et=ft.stateNode;if(ft.flags&4&&!zl)if(St===null)Et.componentDidMount();else{var Rt=ft.elementType===ft.type?St.memoizedProps:Rr(ft.type,St.memoizedProps);Et.componentDidUpdate(Rt,St.memoizedState,Et.__reactInternalSnapshotBeforeUpdate)}var zt=ft.updateQueue;zt!==null&&Co(ft,zt,Et);break;case 3:var mn=ft.updateQueue;if(mn!==null){if(St=null,ft.child!==null)switch(ft.child.tag){case 5:St=Ut(ft.child.stateNode);break;case 1:St=ft.child.stateNode}Co(ft,mn,St)}break;case 5:var kn=ft.stateNode;St===null&&ft.flags&4&&ur(kn,ft.type,ft.memoizedProps,ft);break;case 6:break;case 4:break;case 12:break;case 13:if(Zt&&ft.memoizedState===null){var qn=ft.alternate;if(qn!==null){var cr=qn.memoizedState;if(cr!==null){var Er=cr.dehydrated;Er!==null&&us(Er)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(it(163))}zl||ft.flags&512&&Cp(ft)}catch(qr){bo(ft,ft.return,qr)}}if(ft===ut){gr=null;break}if(St=ft.sibling,St!==null){St.return=ft.return,gr=St;break}gr=ft.return}}function e0(ut){for(;gr!==null;){var ft=gr;if(ft===ut){gr=null;break}var St=ft.sibling;if(St!==null){St.return=ft.return,gr=St;break}gr=ft.return}}function t0(ut){for(;gr!==null;){var ft=gr;try{switch(ft.tag){case 0:case 11:case 15:var St=ft.return;try{Su(4,ft)}catch(qn){bo(ft,St,qn)}break;case 1:var Et=ft.stateNode;if(typeof Et.componentDidMount=="function"){var Rt=ft.return;try{Et.componentDidMount()}catch(qn){bo(ft,Rt,qn)}}var zt=ft.return;try{Cp(ft)}catch(qn){bo(ft,zt,qn)}break;case 5:var mn=ft.return;try{Cp(ft)}catch(qn){bo(ft,mn,qn)}}}catch(qn){bo(ft,ft.return,qn)}if(ft===ut){gr=null;break}var kn=ft.sibling;if(kn!==null){kn.return=ft.return,gr=kn;break}gr=ft.return}}var ju=0,Wu=1,Xu=2,Ku=3,Ju=4;if(typeof Symbol=="function"&&Symbol.for){var bu=Symbol.for;ju=bu("selector.component"),Wu=bu("selector.has_pseudo_class"),Xu=bu("selector.role"),Ku=bu("selector.test_id"),Ju=bu("selector.text")}function Rp(ut){var ft=sn(ut);if(ft!=null){if(typeof ft.memoizedProps["data-testname"]!="string")throw Error(it(364));return ft}if(ut=Xn(ut),ut===null)throw Error(it(362));return ut.stateNode.current}function Lp(ut,ft){switch(ft.$$typeof){case ju:if(ut.type===ft.value)return!0;break;case Wu:e:{ft=ft.value,ut=[ut,0];for(var St=0;St<ut.length;){var Et=ut[St++],Rt=ut[St++],zt=ft[Rt];if(Et.tag!==5||!Mn(Et)){for(;zt!=null&&Lp(Et,zt);)Rt++,zt=ft[Rt];if(Rt===ft.length){ft=!0;break e}else for(Et=Et.child;Et!==null;)ut.push(Et,Rt),Et=Et.sibling}}ft=!1}return ft;case Xu:if(ut.tag===5&&cn(ut.stateNode,ft.value))return!0;break;case Ju:if((ut.tag===5||ut.tag===6)&&(ut=jt(ut),ut!==null&&0<=ut.indexOf(ft.value)))return!0;break;case Ku:if(ut.tag===5&&(ut=ut.memoizedProps["data-testname"],typeof ut=="string"&&ut.toLowerCase()===ft.value.toLowerCase()))return!0;break;default:throw Error(it(365))}return!1}function kp(ut){switch(ut.$$typeof){case ju:return"<"+(Pt(ut.value)||"Unknown")+">";case Wu:return":has("+(kp(ut)||"")+")";case Xu:return'[role="'+ut.value+'"]';case Ju:return'"'+ut.value+'"';case Ku:return'[data-testname="'+ut.value+'"]';default:throw Error(it(365))}}function n0(ut,ft){var St=[];ut=[ut,0];for(var Et=0;Et<ut.length;){var Rt=ut[Et++],zt=ut[Et++],mn=ft[zt];if(Rt.tag!==5||!Mn(Rt)){for(;mn!=null&&Lp(Rt,mn);)zt++,mn=ft[zt];if(zt===ft.length)St.push(Rt);else for(Rt=Rt.child;Rt!==null;)ut.push(Rt,zt),Rt=Rt.sibling}}return St}function Ip(ut,ft){if(!Gn)throw Error(it(363));ut=Rp(ut),ut=n0(ut,ft),ft=[],ut=Array.from(ut);for(var St=0;St<ut.length;){var Et=ut[St++];if(Et.tag===5)Mn(Et)||ft.push(Et.stateNode);else for(Et=Et.child;Et!==null;)ut.push(Et),Et=Et.sibling}return ft}var Z0=Math.ceil,qu=st.ReactCurrentDispatcher,Dp=st.ReactCurrentOwner,Js=st.ReactCurrentBatchConfig,cs=0,Zs=null,eo=null,lo=0,To=0,iu=ks(0),no=0,Au=null,su=0,Yu=0,Bp=0,Eu=null,xo=null,Fp=0,Op=1/0;function ou(){Op=qs()+500}var Qu=!1,Np=null,El=null,Zu=!1,Ml=null,_d=0,Mu=0,$p=null,_h=-1,_f=0;function go(){return cs&6?qs():_h!==-1?_h:_h=qs()}function Cl(ut){return ut.mode&1?cs&2&&lo!==0?lo&-lo:ar.transition!==null?(_f===0&&(ut=Il,Il<<=1,!(Il&4194240)&&(Il=64),_f=ut),_f):(ut=gs,ut!==0?ut:ln()):1}function Fo(ut,ft,St){if(50<Mu)throw Mu=0,$p=null,Error(it(185));var Et=ep(ut,ft);return Et===null?null:(ga(Et,ft,St),(!(cs&2)||Et!==Zs)&&(Et===Zs&&(!(cs&2)&&(Yu|=ft),no===4&&Tl(Et,lo)),So(Et,St),ft===1&&cs===0&&!(ut.mode&1)&&(ou(),Rn&&zn())),Et)}function ep(ut,ft){ut.lanes|=ft;var St=ut.alternate;for(St!==null&&(St.lanes|=ft),St=ut,ut=ut.return;ut!==null;)ut.childLanes|=ft,St=ut.alternate,St!==null&&(St.childLanes|=ft),St=ut,ut=ut.return;return St.tag===3?St.stateNode:null}function So(ut,ft){var St=ut.callbackNode;fp(ut,ft);var Et=na(ut,ut===Zs?lo:0);if(Et===0)St!==null&&hu(St),ut.callbackNode=null,ut.callbackPriority=0;else if(ft=Et&-Et,ut.callbackPriority!==ft){if(St!=null&&hu(St),ft===1)ut.tag===0?Jn(i0.bind(null,ut)):Qn(i0.bind(null,ut)),un?fn(function(){cs===0&&zn()}):Ql(pu,zn),St=null;else{switch(Ru(Et)){case 1:St=pu;break;case 4:St=Nt;break;case 16:St=en;break;case 536870912:St=pn;break;default:St=en}St=f0(St,r0.bind(null,ut))}ut.callbackPriority=ft,ut.callbackNode=St}}function r0(ut,ft){if(_h=-1,_f=0,cs&6)throw Error(it(327));var St=ut.callbackNode;if(Kl()&&ut.callbackNode!==St)return null;var Et=na(ut,ut===Zs?lo:0);if(Et===0)return null;if(Et&30||Et&ut.expiredLanes||ft)ft=tp(ut,Et);else{ft=Et;var Rt=cs;cs|=2;var zt=a0();(Zs!==ut||lo!==ft)&&(ou(),Wl(ut,ft));do try{nv();break}catch(kn){o0(ut,kn)}while(1);Ir(),qu.current=zt,cs=Rt,eo!==null?ft=0:(Zs=null,lo=0,ft=no)}if(ft!==0){if(ft===2&&(Rt=Wo(ut),Rt!==0&&(Et=Rt,ft=Vp(ut,Rt))),ft===1)throw St=Au,Wl(ut,0),Tl(ut,Et),So(ut,qs()),St;if(ft===6)Tl(ut,Et);else{if(Rt=ut.current.alternate,!(Et&30)&&!ev(Rt)&&(ft=tp(ut,Et),ft===2&&(zt=Wo(ut),zt!==0&&(Et=zt,ft=Vp(ut,zt))),ft===1))throw St=Au,Wl(ut,0),Tl(ut,Et),So(ut,qs()),St;switch(ut.finishedWork=Rt,ut.finishedLanes=Et,ft){case 0:case 1:throw Error(it(345));case 2:Xl(ut,xo);break;case 3:if(Tl(ut,Et),(Et&130023424)===Et&&(ft=Fp+500-qs(),10<ft)){if(na(ut,0)!==0)break;if(Rt=ut.suspendedLanes,(Rt&Et)!==Et){go(),ut.pingedLanes|=ut.suspendedLanes&Rt;break}ut.timeoutHandle=Ht(Xl.bind(null,ut,xo),ft);break}Xl(ut,xo);break;case 4:if(Tl(ut,Et),(Et&4194240)===Et)break;for(ft=ut.eventTimes,Rt=-1;0<Et;){var mn=31-Mo(Et);zt=1<<mn,mn=ft[mn],mn>Rt&&(Rt=mn),Et&=~zt}if(Et=Rt,Et=qs()-Et,Et=(120>Et?120:480>Et?480:1080>Et?1080:1920>Et?1920:3e3>Et?3e3:4320>Et?4320:1960*Z0(Et/1960))-Et,10<Et){ut.timeoutHandle=Ht(Xl.bind(null,ut,xo),Et);break}Xl(ut,xo);break;case 5:Xl(ut,xo);break;default:throw Error(it(329))}}}return So(ut,qs()),ut.callbackNode===St?r0.bind(null,ut):null}function Vp(ut,ft){var St=Eu;return ut.current.memoizedState.isDehydrated&&(Wl(ut,ft).flags|=256),ut=tp(ut,ft),ut!==2&&(ft=xo,xo=St,ft!==null&&Up(ft)),ut}function Up(ut){xo===null?xo=ut:xo.push.apply(xo,ut)}function ev(ut){for(var ft=ut;;){if(ft.flags&16384){var St=ft.updateQueue;if(St!==null&&(St=St.stores,St!==null))for(var Et=0;Et<St.length;Et++){var Rt=St[Et],zt=Rt.getSnapshot;Rt=Rt.value;try{if(!Cn(zt(),Rt))return!1}catch{return!1}}}if(St=ft.child,ft.subtreeFlags&16384&&St!==null)St.return=ft,ft=St;else{if(ft===ut)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===ut)return!0;ft=ft.return}ft.sibling.return=ft.return,ft=ft.sibling}}return!0}function Tl(ut,ft){for(ft&=~Bp,ft&=~Yu,ut.suspendedLanes|=ft,ut.pingedLanes&=~ft,ut=ut.expirationTimes;0<ft;){var St=31-Mo(ft),Et=1<<St;ut[St]=-1,ft&=~Et}}function i0(ut){if(cs&6)throw Error(it(327));Kl();var ft=na(ut,0);if(!(ft&1))return So(ut,qs()),null;var St=tp(ut,ft);if(ut.tag!==0&&St===2){var Et=Wo(ut);Et!==0&&(ft=Et,St=Vp(ut,Et))}if(St===1)throw St=Au,Wl(ut,0),Tl(ut,ft),So(ut,qs()),St;if(St===6)throw Error(it(345));return ut.finishedWork=ut.current.alternate,ut.finishedLanes=ft,Xl(ut,xo),So(ut,qs()),null}function s0(ut){Ml!==null&&Ml.tag===0&&!(cs&6)&&Kl();var ft=cs;cs|=1;var St=Js.transition,Et=gs;try{if(Js.transition=null,gs=1,ut)return ut()}finally{gs=Et,Js.transition=St,cs=ft,!(cs&6)&&zn()}}function Gp(){To=iu.current,ds(iu)}function Wl(ut,ft){ut.finishedWork=null,ut.finishedLanes=0;var St=ut.timeoutHandle;if(St!==Lt&&(ut.timeoutHandle=Lt,wt(St)),eo!==null)for(St=eo.return;St!==null;){var Et=St;switch(Vr(Et),Et.tag){case 1:Et=Et.type.childContextTypes,Et!=null&&Zo();break;case 3:po(),ds(Hs),ds(zs),tu();break;case 5:_c(Et);break;case 4:po();break;case 13:ds(Ds);break;case 19:ds(Ds);break;case 10:ls(Et.type._context);break;case 22:case 23:Gp()}St=St.return}if(Zs=ut,eo=ut=Pl(ut.current,null),lo=To=ft,no=0,Au=null,Bp=Yu=su=0,xo=Eu=null,Xr!==null){for(ft=0;ft<Xr.length;ft++)if(St=Xr[ft],Et=St.interleaved,Et!==null){St.interleaved=null;var Rt=Et.next,zt=St.pending;if(zt!==null){var mn=zt.next;zt.next=Rt,Et.next=mn}St.pending=Et}Xr=null}return ut}function o0(ut,ft){do{var St=eo;try{if(Ir(),Do.current=Fu,$l){for(var Et=Bs.memoizedState;Et!==null;){var Rt=Et.queue;Rt!==null&&(Rt.pending=null),Et=Et.next}$l=!1}if(Sl=0,Ws=Qs=Bs=null,Vl=!1,qo=0,Dp.current=null,St===null||St.return===null){no=1,Au=ft,eo=null;break}e:{var zt=ut,mn=St.return,kn=St,qn=ft;if(ft=lo,kn.flags|=32768,qn!==null&&typeof qn=="object"&&typeof qn.then=="function"){var cr=qn,Er=kn,qr=Er.tag;if(!(Er.mode&1)&&(qr===0||qr===11||qr===15)){var Gr=Er.alternate;Gr?(Er.updateQueue=Gr.updateQueue,Er.memoizedState=Gr.memoizedState,Er.lanes=Gr.lanes):(Er.updateQueue=null,Er.memoizedState=null)}var Rs=Tm(mn);if(Rs!==null){Rs.flags&=-257,Pm(Rs,mn,kn,zt,ft),Rs.mode&1&&wm(zt,cr,ft),ft=Rs,qn=cr;var Br=ft.updateQueue;if(Br===null){var fo=new Set;fo.add(qn),ft.updateQueue=fo}else Br.add(qn);break e}else{if(!(ft&1)){wm(zt,cr,ft),zp();break e}qn=Error(it(426))}}else if(Ur&&kn.mode&1){var No=Tm(mn);if(No!==null){!(No.flags&65536)&&(No.flags|=256),Pm(No,mn,kn,zt,ft),Zl(qn);break e}}zt=qn,no!==4&&(no=2),Eu===null?Eu=[zt]:Eu.push(zt),qn=_p(qn,kn),kn=mn;do{switch(kn.tag){case 3:kn.flags|=65536,ft&=-ft,kn.lanes|=ft;var $n=Mm(kn,qn,ft);Ps(kn,$n);break e;case 1:zt=qn;var In=kn.type,Wn=kn.stateNode;if(!(kn.flags&128)&&(typeof In.getDerivedStateFromError=="function"||Wn!==null&&typeof Wn.componentDidCatch=="function"&&(El===null||!El.has(Wn)))){kn.flags|=65536,ft&=-ft,kn.lanes|=ft;var _r=Cm(kn,zt,ft);Ps(kn,_r);break e}}kn=kn.return}while(kn!==null)}c0(St)}catch(kr){ft=kr,eo===St&&St!==null&&(eo=St=St.return);continue}break}while(1)}function a0(){var ut=qu.current;return qu.current=Fu,ut===null?Fu:ut}function zp(){(no===0||no===3||no===2)&&(no=4),Zs===null||!(su&268435455)&&!(Yu&268435455)||Tl(Zs,lo)}function tp(ut,ft){var St=cs;cs|=2;var Et=a0();Zs===ut&&lo===ft||Wl(ut,ft);do try{tv();break}catch(Rt){o0(ut,Rt)}while(1);if(Ir(),cs=St,qu.current=Et,eo!==null)throw Error(it(261));return Zs=null,lo=0,no}function tv(){for(;eo!==null;)l0(eo)}function nv(){for(;eo!==null&&!fu();)l0(eo)}function l0(ut){var ft=h0(ut.alternate,ut,To);ut.memoizedProps=ut.pendingProps,ft===null?c0(ut):eo=ft,Dp.current=null}function c0(ut){var ft=ut;do{var St=ft.alternate;if(ut=ft.return,ft.flags&32768){if(St=K0(St,ft),St!==null){St.flags&=32767,eo=St;return}if(ut!==null)ut.flags|=32768,ut.subtreeFlags=0,ut.deletions=null;else{no=6,eo=null;return}}else if(St=j0(St,ft,To),St!==null){eo=St;return}if(ft=ft.sibling,ft!==null){eo=ft;return}eo=ft=ut}while(ft!==null);no===0&&(no=5)}function Xl(ut,ft){var St=gs,Et=Js.transition;try{Js.transition=null,gs=1,rv(ut,ft,St)}finally{Js.transition=Et,gs=St}return null}function rv(ut,ft,St){do Kl();while(Ml!==null);if(cs&6)throw Error(it(327));var Et=ut.finishedWork,Rt=ut.finishedLanes;if(Et===null)return null;if(ut.finishedWork=null,ut.finishedLanes=0,Et===ut.current)throw Error(it(177));ut.callbackNode=null,ut.callbackPriority=0;var zt=Et.lanes|Et.childLanes;if(pp(ut,zt),ut===Zs&&(eo=Zs=null,lo=0),!(Et.subtreeFlags&2064)&&!(Et.flags&2064)||Zu||(Zu=!0,f0(en,function(){return Kl(),null})),zt=(Et.flags&15990)!==0,Et.subtreeFlags&15990||zt){zt=Js.transition,Js.transition=null;var mn=gs;gs=1;var kn=cs;cs|=4,Dp.current=null,q0(ut,Et),Y0(ut,Et),Jt(ut.containerInfo),ut.current=Et,Q0(Et),mp(),cs=kn,gs=mn,Js.transition=zt}else ut.current=Et;if(Zu&&(Zu=!1,Ml=ut,_d=Rt),zt=ut.pendingLanes,zt===0&&(El=null),An(Et.stateNode),So(ut,qs()),ft!==null)for(St=ut.onRecoverableError,Et=0;Et<ft.length;Et++)St(ft[Et]);if(Qu)throw Qu=!1,ut=Np,Np=null,ut;return _d&1&&ut.tag!==0&&Kl(),zt=ut.pendingLanes,zt&1?ut===$p?Mu++:(Mu=0,$p=ut):Mu=0,zn(),null}function Kl(){if(Ml!==null){var ut=Ru(_d),ft=Js.transition,St=gs;try{if(Js.transition=null,gs=16>ut?16:ut,Ml===null)var Et=!1;else{if(ut=Ml,Ml=null,_d=0,cs&6)throw Error(it(331));var Rt=cs;for(cs|=4,gr=ut.current;gr!==null;){var zt=gr,mn=zt.child;if(gr.flags&16){var kn=zt.deletions;if(kn!==null){for(var qn=0;qn<kn.length;qn++){var cr=kn[qn];for(gr=cr;gr!==null;){var Er=gr;switch(Er.tag){case 0:case 11:case 15:Hl(8,Er,zt)}var qr=Er.child;if(qr!==null)qr.return=Er,gr=qr;else for(;gr!==null;){Er=gr;var Gr=Er.sibling,Rs=Er.return;if(Km(Er),Er===cr){gr=null;break}if(Gr!==null){Gr.return=Rs,gr=Gr;break}gr=Rs}}}var Br=zt.alternate;if(Br!==null){var fo=Br.child;if(fo!==null){Br.child=null;do{var No=fo.sibling;fo.sibling=null,fo=No}while(fo!==null)}}gr=zt}}if(zt.subtreeFlags&2064&&mn!==null)mn.return=zt,gr=mn;else e:for(;gr!==null;){if(zt=gr,zt.flags&2048)switch(zt.tag){case 0:case 11:case 15:Hl(9,zt,zt.return)}var $n=zt.sibling;if($n!==null){$n.return=zt.return,gr=$n;break e}gr=zt.return}}var In=ut.current;for(gr=In;gr!==null;){mn=gr;var Wn=mn.child;if(mn.subtreeFlags&2064&&Wn!==null)Wn.return=mn,gr=Wn;else e:for(mn=In;gr!==null;){if(kn=gr,kn.flags&2048)try{switch(kn.tag){case 0:case 11:case 15:Su(9,kn)}}catch(kr){bo(kn,kn.return,kr)}if(kn===mn){gr=null;break e}var _r=kn.sibling;if(_r!==null){_r.return=kn.return,gr=_r;break e}gr=kn.return}}if(cs=Rt,zn(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(vn,ut)}catch{}Et=!0}return Et}finally{gs=St,Js.transition=ft}}return!1}function u0(ut,ft,St){ft=_p(St,ft),ft=Mm(ut,ft,1),bs(ut,ft),ft=go(),ut=ep(ut,1),ut!==null&&(ga(ut,1,ft),So(ut,ft))}function bo(ut,ft,St){if(ut.tag===3)u0(ut,ut,St);else for(;ft!==null;){if(ft.tag===3){u0(ft,ut,St);break}else if(ft.tag===1){var Et=ft.stateNode;if(typeof ft.type.getDerivedStateFromError=="function"||typeof Et.componentDidCatch=="function"&&(El===null||!El.has(Et))){ut=_p(St,ut),ut=Cm(ft,ut,1),bs(ft,ut),ut=go(),ft=ep(ft,1),ft!==null&&(ga(ft,1,ut),So(ft,ut));break}}ft=ft.return}}function iv(ut,ft,St){var Et=ut.pingCache;Et!==null&&Et.delete(ft),ft=go(),ut.pingedLanes|=ut.suspendedLanes&St,Zs===ut&&(lo&St)===St&&(no===4||no===3&&(lo&130023424)===lo&&500>qs()-Fp?Wl(ut,0):Bp|=St),So(ut,ft)}function d0(ut,ft){ft===0&&(ut.mode&1?(ft=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):ft=1);var St=go();ut=ep(ut,ft),ut!==null&&(ga(ut,ft,St),So(ut,St))}function sv(ut){var ft=ut.memoizedState,St=0;ft!==null&&(St=ft.retryLane),d0(ut,St)}function ov(ut,ft){var St=0;switch(ut.tag){case 13:var Et=ut.stateNode,Rt=ut.memoizedState;Rt!==null&&(St=Rt.retryLane);break;case 19:Et=ut.stateNode;break;default:throw Error(it(314))}Et!==null&&Et.delete(ft),d0(ut,St)}var h0;h0=function(ut,ft,St){if(ut!==null)if(ut.memoizedProps!==ft.pendingProps||Hs.current)wo=!0;else{if(!(ut.lanes&St)&&!(ft.flags&128))return wo=!1,X0(ut,ft,St);wo=!!(ut.flags&131072)}else wo=!1,Ur&&ft.flags&1048576&&Ks(ft,Fr,ft.index);switch(ft.lanes=0,ft.tag){case 2:var Et=ft.type;ut!==null&&(ut.alternate=null,ft.alternate=null,ft.flags|=2),ut=ft.pendingProps;var Rt=Qo(ft,zs.current);Zr(ft,St),Rt=tr(null,ft,Et,ut,Rt,St);var zt=$r();return ft.flags|=1,typeof Rt=="object"&&Rt!==null&&typeof Rt.render=="function"&&Rt.$$typeof===void 0?(ft.tag=1,ft.memoizedState=null,ft.updateQueue=null,co(Et)?(zt=!0,Ll(ft)):zt=!1,ft.memoizedState=Rt.state!==null&&Rt.state!==void 0?Rt.state:null,ws(ft),Rt.updater=to,ft.stateNode=Rt,Rt._reactInternals=ft,vr(ft,Et,ut,St),ft=bp(null,ft,Et,!0,zt,St)):(ft.tag=0,Ur&&zt&&ao(ft),mo(null,ft,Rt,St),ft=ft.child),ft;case 16:Et=ft.elementType;e:{switch(ut!==null&&(ut.alternate=null,ft.alternate=null,ft.flags|=2),ut=ft.pendingProps,Rt=Et._init,Et=Rt(Et._payload),ft.type=Et,Rt=ft.tag=lv(Et),ut=Rr(Et,ut),Rt){case 0:ft=Sp(null,ft,Et,ut,St);break e;case 1:ft=Om(null,ft,Et,ut,St);break e;case 11:ft=km(null,ft,Et,ut,St);break e;case 14:ft=Im(null,ft,Et,Rr(Et.type,ut),St);break e}throw Error(it(306,Et,""))}return ft;case 0:return Et=ft.type,Rt=ft.pendingProps,Rt=ft.elementType===Et?Rt:Rr(Et,Rt),Sp(ut,ft,Et,Rt,St);case 1:return Et=ft.type,Rt=ft.pendingProps,Rt=ft.elementType===Et?Rt:Rr(Et,Rt),Om(ut,ft,Et,Rt,St);case 3:e:{if(Nm(ft),ut===null)throw Error(it(387));Et=ft.pendingProps,zt=ft.memoizedState,Rt=zt.element,Us(ut,ft),js(ft,Et,null,St);var mn=ft.memoizedState;if(Et=mn.element,Zt&&zt.isDehydrated)if(zt={element:Et,isDehydrated:!1,cache:mn.cache,transitions:mn.transitions},ft.updateQueue.baseState=zt,ft.memoizedState=zt,ft.flags&256){Rt=Error(it(423)),ft=$m(ut,ft,Et,St,Rt);break e}else if(Et!==Rt){Rt=Error(it(424)),ft=$m(ut,ft,Et,St,Rt);break e}else for(Zt&&(_i=Hn(ft.stateNode.containerInfo),As=ft,Ur=!0,Jr=null,Is=!1),St=ku(ft,null,Et,St),ft.child=St;St;)St.flags=St.flags&-3|4096,St=St.sibling;else{if(Ys(),Et===Rt){ft=Yo(ut,ft,St);break e}mo(ut,ft,Et,St)}ft=ft.child}return ft;case 5:return Iu(ft),ut===null&&Go(ft),Et=ft.type,Rt=ft.pendingProps,zt=ut!==null?ut.memoizedProps:null,mn=Rt.children,kt(Et,Rt)?mn=null:zt!==null&&kt(Et,zt)&&(ft.flags|=32),Fm(ut,ft),mo(ut,ft,mn,St),ft.child;case 6:return ut===null&&Go(ft),null;case 13:return Vm(ut,ft,St);case 4:return mu(ft,ft.stateNode.containerInfo),Et=ft.pendingProps,ut===null?ft.child=$a(ft,null,Et,St):mo(ut,ft,Et,St),ft.child;case 11:return Et=ft.type,Rt=ft.pendingProps,Rt=ft.elementType===Et?Rt:Rr(Et,Rt),km(ut,ft,Et,Rt,St);case 7:return mo(ut,ft,ft.pendingProps,St),ft.child;case 8:return mo(ut,ft,ft.pendingProps.children,St),ft.child;case 12:return mo(ut,ft,ft.pendingProps.children,St),ft.child;case 10:e:{if(Et=ft.type._context,Rt=ft.pendingProps,zt=ft.memoizedProps,mn=Rt.value,Tr(ft,Et,mn),zt!==null)if(Cn(zt.value,mn)){if(zt.children===Rt.children&&!Hs.current){ft=Yo(ut,ft,St);break e}}else for(zt=ft.child,zt!==null&&(zt.return=ft);zt!==null;){var kn=zt.dependencies;if(kn!==null){mn=zt.child;for(var qn=kn.firstContext;qn!==null;){if(qn.context===Et){if(zt.tag===1){qn=_s(-1,St&-St),qn.tag=2;var cr=zt.updateQueue;if(cr!==null){cr=cr.shared;var Er=cr.pending;Er===null?qn.next=qn:(qn.next=Er.next,Er.next=qn),cr.pending=qn}}zt.lanes|=St,qn=zt.alternate,qn!==null&&(qn.lanes|=St),rs(zt.return,St,ft),kn.lanes|=St;break}qn=qn.next}}else if(zt.tag===10)mn=zt.type===ft.type?null:zt.child;else if(zt.tag===18){if(mn=zt.return,mn===null)throw Error(it(341));mn.lanes|=St,kn=mn.alternate,kn!==null&&(kn.lanes|=St),rs(mn,St,ft),mn=zt.sibling}else mn=zt.child;if(mn!==null)mn.return=zt;else for(mn=zt;mn!==null;){if(mn===ft){mn=null;break}if(zt=mn.sibling,zt!==null){zt.return=mn.return,mn=zt;break}mn=mn.return}zt=mn}mo(ut,ft,Rt.children,St),ft=ft.child}return ft;case 9:return Rt=ft.type,Et=ft.pendingProps.children,Zr(ft,St),Rt=Hr(Rt),Et=Et(Rt),ft.flags|=1,mo(ut,ft,Et,St),ft.child;case 14:return Et=ft.type,Rt=Rr(Et,ft.pendingProps),Rt=Rr(Et.type,Rt),Im(ut,ft,Et,Rt,St);case 15:return Dm(ut,ft,ft.type,ft.pendingProps,St);case 17:return Et=ft.type,Rt=ft.pendingProps,Rt=ft.elementType===Et?Rt:Rr(Et,Rt),ut!==null&&(ut.alternate=null,ft.alternate=null,ft.flags|=2),ft.tag=1,co(Et)?(ut=!0,Ll(ft)):ut=!1,Zr(ft,St),Pr(ft,Et,Rt),vr(ft,Et,Rt,St),bp(null,ft,Et,!0,ut,St);case 19:return Hm(ut,ft,St);case 22:return Bm(ut,ft,St)}throw Error(it(156,ft.tag))};function f0(ut,ft){return Ql(ut,ft)}function av(ut,ft,St,Et){this.tag=ut,this.key=St,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ft,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(ut,ft,St,Et){return new av(ut,ft,St,Et)}function Hp(ut){return ut=ut.prototype,!(!ut||!ut.isReactComponent)}function lv(ut){if(typeof ut=="function")return Hp(ut)?1:0;if(ut!=null){if(ut=ut.$$typeof,ut===ht)return 11;if(ut===_t)return 14}return 2}function Pl(ut,ft){var St=ut.alternate;return St===null?(St=Oo(ut.tag,ft,ut.key,ut.mode),St.elementType=ut.elementType,St.type=ut.type,St.stateNode=ut.stateNode,St.alternate=ut,ut.alternate=St):(St.pendingProps=ft,St.type=ut.type,St.flags=0,St.subtreeFlags=0,St.deletions=null),St.flags=ut.flags&14680064,St.childLanes=ut.childLanes,St.lanes=ut.lanes,St.child=ut.child,St.memoizedProps=ut.memoizedProps,St.memoizedState=ut.memoizedState,St.updateQueue=ut.updateQueue,ft=ut.dependencies,St.dependencies=ft===null?null:{lanes:ft.lanes,firstContext:ft.firstContext},St.sibling=ut.sibling,St.index=ut.index,St.ref=ut.ref,St}function np(ut,ft,St,Et,Rt,zt){var mn=2;if(Et=ut,typeof ut=="function")Hp(ut)&&(mn=1);else if(typeof ut=="string")mn=5;else e:switch(ut){case lt:return Jl(St.children,Rt,zt,ft);case dt:mn=8,Rt|=8;break;case ct:return ut=Oo(12,St,ft,Rt|2),ut.elementType=ct,ut.lanes=zt,ut;case gt:return ut=Oo(13,St,ft,Rt),ut.elementType=gt,ut.lanes=zt,ut;case vt:return ut=Oo(19,St,ft,Rt),ut.elementType=vt,ut.lanes=zt,ut;case xt:return rp(St,Rt,zt,ft);default:if(typeof ut=="object"&&ut!==null)switch(ut.$$typeof){case pt:mn=10;break e;case mt:mn=9;break e;case ht:mn=11;break e;case _t:mn=14;break e;case yt:mn=16,Et=null;break e}throw Error(it(130,ut==null?ut:typeof ut,""))}return ft=Oo(mn,St,ft,Rt),ft.elementType=ut,ft.type=Et,ft.lanes=zt,ft}function Jl(ut,ft,St,Et){return ut=Oo(7,ut,Et,ft),ut.lanes=St,ut}function rp(ut,ft,St,Et){return ut=Oo(22,ut,Et,ft),ut.elementType=xt,ut.lanes=St,ut.stateNode={},ut}function jp(ut,ft,St){return ut=Oo(6,ut,null,ft),ut.lanes=St,ut}function Wp(ut,ft,St){return ft=Oo(4,ut.children!==null?ut.children:[],ut.key,ft),ft.lanes=St,ft.stateNode={containerInfo:ut.containerInfo,pendingChildren:null,implementation:ut.implementation},ft}function cv(ut,ft,St,Et,Rt){this.tag=ft,this.containerInfo=ut,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Lt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=du(0),this.expirationTimes=du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=du(0),this.identifierPrefix=Et,this.onRecoverableError=Rt,Zt&&(this.mutableSourceEagerHydrationData=null)}function p0(ut,ft,St,Et,Rt,zt,mn,kn,qn){return ut=new cv(ut,ft,St,kn,qn),ft===1?(ft=1,zt===!0&&(ft|=8)):ft=0,zt=Oo(3,null,null,ft),ut.current=zt,zt.stateNode=ut,zt.memoizedState={element:Et,isDehydrated:St,cache:null,transitions:null},ws(zt),ut}function m0(ut){if(!ut)return Fs;ut=ut._reactInternals;e:{if(Mt(ut)!==ut||ut.tag!==1)throw Error(it(170));var ft=ut;do{switch(ft.tag){case 3:ft=ft.stateNode.context;break e;case 1:if(co(ft.type)){ft=ft.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ft=ft.return}while(ft!==null);throw Error(it(171))}if(ut.tag===1){var St=ut.type;if(co(St))return Pu(ut,St,ft)}return ft}function g0(ut){var ft=ut._reactInternals;if(ft===void 0)throw typeof ut.render=="function"?Error(it(188)):(ut=Object.keys(ut).join(","),Error(it(268,ut)));return ut=Gt(ft),ut===null?null:ut.stateNode}function v0(ut,ft){if(ut=ut.memoizedState,ut!==null&&ut.dehydrated!==null){var St=ut.retryLane;ut.retryLane=St!==0&&St<ft?St:ft}}function Xp(ut,ft){v0(ut,ft),(ut=ut.alternate)&&v0(ut,ft)}function uv(ut){return ut=Gt(ut),ut===null?null:ut.stateNode}function dv(){return null}return _e.attemptContinuousHydration=function(ut){if(ut.tag===13){var ft=go();Fo(ut,134217728,ft),Xp(ut,134217728)}},_e.attemptHydrationAtCurrentPriority=function(ut){if(ut.tag===13){var ft=go(),St=Cl(ut);Fo(ut,St,ft),Xp(ut,St)}},_e.attemptSynchronousHydration=function(ut){switch(ut.tag){case 3:var ft=ut.stateNode;if(ft.current.memoizedState.isDehydrated){var St=Bl(ft.pendingLanes);St!==0&&(_a(ft,St|1),So(ft,qs()),!(cs&6)&&(ou(),zn()))}break;case 13:var Et=go();s0(function(){return Fo(ut,1,Et)}),Xp(ut,1)}},_e.batchedUpdates=function(ut,ft){var St=cs;cs|=1;try{return ut(ft)}finally{cs=St,cs===0&&(ou(),Rn&&zn())}},_e.createComponentSelector=function(ut){return{$$typeof:ju,value:ut}},_e.createContainer=function(ut,ft,St,Et,Rt,zt,mn){return p0(ut,ft,!1,null,St,Et,Rt,zt,mn)},_e.createHasPseudoClassSelector=function(ut){return{$$typeof:Wu,value:ut}},_e.createHydrationContainer=function(ut,ft,St,Et,Rt,zt,mn,kn,qn){return ut=p0(St,Et,!0,ut,Rt,zt,mn,kn,qn),ut.context=m0(null),St=ut.current,Et=go(),Rt=Cl(St),zt=_s(Et,Rt),zt.callback=ft??null,bs(St,zt),ut.current.lanes=Rt,ga(ut,Rt,Et),So(ut,Et),ut},_e.createPortal=function(ut,ft,St){var Et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:at,key:Et==null?null:""+Et,children:ut,containerInfo:ft,implementation:St}},_e.createRoleSelector=function(ut){return{$$typeof:Xu,value:ut}},_e.createTestNameSelector=function(ut){return{$$typeof:Ku,value:ut}},_e.createTextSelector=function(ut){return{$$typeof:Ju,value:ut}},_e.deferredUpdates=function(ut){var ft=gs,St=Js.transition;try{return Js.transition=null,gs=16,ut()}finally{gs=ft,Js.transition=St}},_e.discreteUpdates=function(ut,ft,St,Et,Rt){var zt=gs,mn=Js.transition;try{return Js.transition=null,gs=1,ut(ft,St,Et,Rt)}finally{gs=zt,Js.transition=mn,cs===0&&ou()}},_e.findAllNodes=Ip,_e.findBoundingRects=function(ut,ft){if(!Gn)throw Error(it(363));ft=Ip(ut,ft),ut=[];for(var St=0;St<ft.length;St++)ut.push(nn(ft[St]));for(ft=ut.length-1;0<ft;ft--){St=ut[ft];for(var Et=St.x,Rt=Et+St.width,zt=St.y,mn=zt+St.height,kn=ft-1;0<=kn;kn--)if(ft!==kn){var qn=ut[kn],cr=qn.x,Er=cr+qn.width,qr=qn.y,Gr=qr+qn.height;if(Et>=cr&&zt>=qr&&Rt<=Er&&mn<=Gr){ut.splice(ft,1);break}else if(Et!==cr||St.width!==qn.width||Gr<zt||qr>mn){if(!(zt!==qr||St.height!==qn.height||Er<Et||cr>Rt)){cr>Et&&(qn.width+=cr-Et,qn.x=Et),Er<Rt&&(qn.width=Rt-cr),ut.splice(ft,1);break}}else{qr>zt&&(qn.height+=qr-zt,qn.y=zt),Gr<mn&&(qn.height=mn-qr),ut.splice(ft,1);break}}}return ut},_e.findHostInstance=g0,_e.findHostInstanceWithNoPortals=function(ut){return ut=Ft(ut),ut=ut!==null?It(ut):null,ut===null?null:ut.stateNode},_e.findHostInstanceWithWarning=function(ut){return g0(ut)},_e.flushControlled=function(ut){var ft=cs;cs|=1;var St=Js.transition,Et=gs;try{Js.transition=null,gs=1,ut()}finally{gs=Et,Js.transition=St,cs=ft,cs===0&&(ou(),zn())}},_e.flushPassiveEffects=Kl,_e.flushSync=s0,_e.focusWithin=function(ut,ft){if(!Gn)throw Error(it(363));for(ut=Rp(ut),ft=n0(ut,ft),ft=Array.from(ft),ut=0;ut<ft.length;){var St=ft[ut++];if(!Mn(St)){if(St.tag===5&&_n(St.stateNode))return!0;for(St=St.child;St!==null;)ft.push(St),St=St.sibling}}return!1},_e.getCurrentUpdatePriority=function(){return gs},_e.getFindAllNodesFailureDescription=function(ut,ft){if(!Gn)throw Error(it(363));var St=0,Et=[];ut=[Rp(ut),0];for(var Rt=0;Rt<ut.length;){var zt=ut[Rt++],mn=ut[Rt++],kn=ft[mn];if((zt.tag!==5||!Mn(zt))&&(Lp(zt,kn)&&(Et.push(kp(kn)),mn++,mn>St&&(St=mn)),mn<ft.length))for(zt=zt.child;zt!==null;)ut.push(zt,mn),zt=zt.sibling}if(St<ft.length){for(ut=[];St<ft.length;St++)ut.push(kp(ft[St]));return`findAllNodes was able to match part of the selector:
  `+(Et.join(" > ")+`

No matching component was found for:
  `)+ut.join(" > ")}return null},_e.getPublicRootInstance=function(ut){if(ut=ut.current,!ut.child)return null;switch(ut.child.tag){case 5:return Ut(ut.child.stateNode);default:return ut.child.stateNode}},_e.injectIntoDevTools=function(ut){if(ut={bundleType:ut.bundleType,version:ut.version,rendererPackageName:ut.rendererPackageName,rendererConfig:ut.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:st.ReactCurrentDispatcher,findHostInstanceByFiber:uv,findFiberByHostInstance:ut.findFiberByHostInstance||dv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")ut=!1;else{var ft=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(ft.isDisabled||!ft.supportsFiber)ut=!0;else{try{vn=ft.inject(ut),bn=ft}catch{}ut=!!ft.checkDCE}}return ut},_e.isAlreadyRendering=function(){return!1},_e.observeVisibleRects=function(ut,ft,St,Et){if(!Gn)throw Error(it(363));ut=Ip(ut,ft);var Rt=Un(ut,St,Et).disconnect;return{disconnect:function(){Rt()}}},_e.registerMutableSourceForHydration=function(ut,ft){var St=ft._getVersion;St=St(ft._source),ut.mutableSourceEagerHydrationData==null?ut.mutableSourceEagerHydrationData=[ft,St]:ut.mutableSourceEagerHydrationData.push(ft,St)},_e.runWithPriority=function(ut,ft){var St=gs;try{return gs=ut,ft()}finally{gs=St}},_e.shouldError=function(){return null},_e.shouldSuspend=function(){return!1},_e.updateContainer=function(ut,ft,St,Et){var Rt=ft.current,zt=go(),mn=Cl(Rt);return St=m0(St),ft.context===null?ft.context=St:ft.pendingContext=St,ft=_s(zt,mn),ft.payload={element:ut},Et=Et===void 0?null:Et,Et!==null&&(ft.callback=Et),bs(Rt,ft),ut=Fo(Rt,mn,zt),ut!==null&&Ts(ut,Rt,mn),mn},_e};(function(et){et.exports=reactReconciler_production_min})(reactReconciler);const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(et){schedulerExports=et}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function $(Dt,qt){var Jt=Dt.length;Dt.push(qt);e:for(;0<Jt;){var on=Jt-1>>>1,tn=Dt[on];if(0<nt(tn,qt))Dt[on]=qt,Dt[Jt]=tn,Jt=on;else break e}}function _e(Dt){return Dt.length===0?null:Dt[0]}function tt(Dt){if(Dt.length===0)return null;var qt=Dt[0],Jt=Dt.pop();if(Jt!==qt){Dt[0]=Jt;e:for(var on=0,tn=Dt.length,yn=tn>>>1;on<yn;){var Yt=2*(on+1)-1,kt=Dt[Yt],Bt=Yt+1,Ht=Dt[Bt];if(0>nt(kt,Jt))Bt<tn&&0>nt(Ht,kt)?(Dt[on]=Ht,Dt[Bt]=Jt,on=Bt):(Dt[on]=kt,Dt[Yt]=Jt,on=Yt);else if(Bt<tn&&0>nt(Ht,Jt))Dt[on]=Ht,Dt[Bt]=Jt,on=Bt;else break e}}return qt}function nt(Dt,qt){var Jt=Dt.sortIndex-qt.sortIndex;return Jt!==0?Jt:Dt.id-qt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;et.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();et.unstable_now=function(){return it.now()-st}}var ot=[],at=[],lt=1,dt=null,ct=3,pt=!1,mt=!1,ht=!1,gt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(Dt){for(var qt=_e(at);qt!==null;){if(qt.callback===null)tt(at);else if(qt.startTime<=Dt)tt(at),qt.sortIndex=qt.expirationTime,$(ot,qt);else break;qt=_e(at)}}function xt(Dt){if(ht=!1,yt(Dt),!mt)if(_e(ot)!==null)mt=!0,Ut(At);else{var qt=_e(at);qt!==null&&Qt(xt,qt.startTime-Dt)}}function At(Dt,qt){mt=!1,ht&&(ht=!1,vt(bt),bt=-1),pt=!0;var Jt=ct;try{for(yt(qt),dt=_e(ot);dt!==null&&(!(dt.expirationTime>qt)||Dt&&!Ft());){var on=dt.callback;if(typeof on=="function"){dt.callback=null,ct=dt.priorityLevel;var tn=on(dt.expirationTime<=qt);qt=et.unstable_now(),typeof tn=="function"?dt.callback=tn:dt===_e(ot)&&tt(ot),yt(qt)}else tt(ot);dt=_e(ot)}if(dt!==null)var yn=!0;else{var Yt=_e(at);Yt!==null&&Qt(xt,Yt.startTime-qt),yn=!1}return yn}finally{dt=null,ct=Jt,pt=!1}}var Ct=!1,Pt=null,bt=-1,Mt=5,Tt=-1;function Ft(){return!(et.unstable_now()-Tt<Mt)}function Gt(){if(Pt!==null){var Dt=et.unstable_now();Tt=Dt;var qt=!0;try{qt=Pt(!0,Dt)}finally{qt?Wt():(Ct=!1,Pt=null)}}else Ct=!1}var Wt;if(typeof _t=="function")Wt=function(){_t(Gt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Kt=It.port2;It.port1.onmessage=Gt,Wt=function(){Kt.postMessage(null)}}else Wt=function(){gt(Gt,0)};function Ut(Dt){Pt=Dt,Ct||(Ct=!0,Wt())}function Qt(Dt,qt){bt=gt(function(){Dt(et.unstable_now())},qt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Dt){Dt.callback=null},et.unstable_continueExecution=function(){mt||pt||(mt=!0,Ut(At))},et.unstable_forceFrameRate=function(Dt){0>Dt||125<Dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mt=0<Dt?Math.floor(1e3/Dt):5},et.unstable_getCurrentPriorityLevel=function(){return ct},et.unstable_getFirstCallbackNode=function(){return _e(ot)},et.unstable_next=function(Dt){switch(ct){case 1:case 2:case 3:var qt=3;break;default:qt=ct}var Jt=ct;ct=qt;try{return Dt()}finally{ct=Jt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Dt,qt){switch(Dt){case 1:case 2:case 3:case 4:case 5:break;default:Dt=3}var Jt=ct;ct=Dt;try{return qt()}finally{ct=Jt}},et.unstable_scheduleCallback=function(Dt,qt,Jt){var on=et.unstable_now();switch(typeof Jt=="object"&&Jt!==null?(Jt=Jt.delay,Jt=typeof Jt=="number"&&0<Jt?on+Jt:on):Jt=on,Dt){case 1:var tn=-1;break;case 2:tn=250;break;case 5:tn=1073741823;break;case 4:tn=1e4;break;default:tn=5e3}return tn=Jt+tn,Dt={id:lt++,callback:qt,priorityLevel:Dt,startTime:Jt,expirationTime:tn,sortIndex:-1},Jt>on?(Dt.sortIndex=Jt,$(at,Dt),_e(ot)===null&&Dt===_e(at)&&(ht?(vt(bt),bt=-1):ht=!0,Qt(xt,Jt-on))):(Dt.sortIndex=tn,$(ot,Dt),mt||pt||(mt=!0,Ut(At))),Dt},et.unstable_shouldYield=Ft,et.unstable_wrapCallback=function(Dt){var qt=ct;return function(){var Jt=ct;ct=qt;try{return Dt.apply(this,arguments)}finally{ct=Jt}}}})(scheduler_production_min);(function(et){et.exports=scheduler_production_min})(scheduler);function shallowEqualArrays(et,$,_e=(tt,nt)=>tt===nt){if(et===$)return!0;if(!et||!$)return!1;const tt=et.length;if($.length!==tt)return!1;for(let nt=0;nt<tt;nt++)if(!_e(et[nt],$[nt]))return!1;return!0}const globalCache=[];function query(et,$,_e=!1,tt={}){for(const rt of globalCache)if(shallowEqualArrays($,rt.keys,rt.equal)){if(_e)return;if(Object.prototype.hasOwnProperty.call(rt,"error"))throw rt.error;if(Object.prototype.hasOwnProperty.call(rt,"response"))return rt.response;if(!_e)throw rt.promise}const nt={keys:$,equal:tt.equal,promise:et(...$).then(rt=>nt.response=rt).then(()=>{tt.lifespan&&tt.lifespan>0&&setTimeout(()=>{const rt=globalCache.indexOf(nt);rt!==-1&&globalCache.splice(rt,1)},tt.lifespan)}).catch(rt=>nt.error=rt)};if(globalCache.push(nt),!_e)throw nt.promise}const suspend=(et,$,_e)=>query(et,$,!1,_e),preload=(et,$,_e)=>void query(et,$,!0,_e),clear=et=>{if(et===void 0||et.length===0)globalCache.splice(0,globalCache.length);else{const $=globalCache.find(_e=>shallowEqualArrays(et,_e.keys,_e.equal));if($){const _e=globalCache.indexOf($);_e!==-1&&globalCache.splice(_e,1)}}};var _window$document,_window$navigator;const getDeep=(et,...$)=>$.reduce((_e,tt)=>_e==null?void 0:_e[tt],et),ColorManagement="ColorManagement"in THREE&&getDeep(THREE,"ColorManagement")||null,isOrthographicCamera=et=>et&&et.isOrthographicCamera,isRef=et=>et&&et.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(et){const $=reactExports.useRef(et);return useIsomorphicLayoutEffect$1(()=>void($.current=et),[et]),$}function Block({set:et}){return useIsomorphicLayoutEffect$1(()=>(et(new Promise(()=>null)),()=>et(!1)),[et]),null}class ErrorBoundary extends reactExports.Component{constructor(...$){super(...$),this.state={error:!1}}componentDidCatch($){this.props.set($)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=et=>et&&!!et.memoized&&!!et.changes;function calculateDpr(et){const $=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(et)?Math.min(Math.max(et[0],$),et[1]):et}const getRootState=et=>{var $;return($=et.__r3f)==null?void 0:$.root.getState()},is={obj:et=>et===Object(et)&&!is.arr(et)&&typeof et!="function",fun:et=>typeof et=="function",str:et=>typeof et=="string",num:et=>typeof et=="number",boo:et=>typeof et=="boolean",und:et=>et===void 0,arr:et=>Array.isArray(et),equ(et,$,{arrays:_e="shallow",objects:tt="reference",strict:nt=!0}={}){if(typeof et!=typeof $||!!et!=!!$)return!1;if(is.str(et)||is.num(et))return et===$;const rt=is.obj(et);if(rt&&tt==="reference")return et===$;const it=is.arr(et);if(it&&_e==="reference")return et===$;if((it||rt)&&et===$)return!0;let st;for(st in et)if(!(st in $))return!1;if(rt&&_e==="shallow"&&tt==="shallow"){for(st in nt?$:et)if(!is.equ(et[st],$[st],{strict:nt,objects:"reference"}))return!1}else for(st in nt?$:et)if(et[st]!==$[st])return!1;if(is.und(st)){if(it&&et.length===0&&$.length===0||rt&&Object.keys(et).length===0&&Object.keys($).length===0)return!0;if(et!==$)return!1}return!0}};function buildGraph(et){const $={nodes:{},materials:{}};return et&&et.traverse(_e=>{_e.name&&($.nodes[_e.name]=_e),_e.material&&!$.materials[_e.material.name]&&($.materials[_e.material.name]=_e.material)}),$}function dispose(et){et.dispose&&et.type!=="Scene"&&et.dispose();for(const $ in et)$.dispose==null||$.dispose(),delete et[$]}function prepare(et,$){const _e=et;return($!=null&&$.primitive||!_e.__r3f)&&(_e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...$}),et}function resolve(et,$){let _e=et;if($.includes("-")){const tt=$.split("-"),nt=tt.pop();return _e=tt.reduce((rt,it)=>rt[it],et),{target:_e,key:nt}}else return{target:_e,key:$}}const INDEX_REGEX=/-\d+$/;function attach(et,$,_e){if(is.str(_e)){if(INDEX_REGEX.test(_e)){const rt=_e.replace(INDEX_REGEX,""),{target:it,key:st}=resolve(et,rt);Array.isArray(it[st])||(it[st]=[])}const{target:tt,key:nt}=resolve(et,_e);$.__r3f.previousAttach=tt[nt],tt[nt]=$}else $.__r3f.previousAttach=_e(et,$)}function detach(et,$,_e){var tt,nt;if(is.str(_e)){const{target:rt,key:it}=resolve(et,_e),st=$.__r3f.previousAttach;st===void 0?delete rt[it]:rt[it]=st}else(tt=$.__r3f)==null||tt.previousAttach==null||tt.previousAttach(et,$);(nt=$.__r3f)==null||delete nt.previousAttach}function diffProps(et,{children:$,key:_e,ref:tt,...nt},{children:rt,key:it,ref:st,...ot}={},at=!1){var lt;const dt=(lt=et==null?void 0:et.__r3f)!=null?lt:{},ct=Object.entries(nt),pt=[];if(at){const ht=Object.keys(ot);for(let gt=0;gt<ht.length;gt++)nt.hasOwnProperty(ht[gt])||ct.unshift([ht[gt],DEFAULT+"remove"])}ct.forEach(([ht,gt])=>{var vt;if((vt=et.__r3f)!=null&&vt.primitive&&ht==="object"||is.equ(gt,ot[ht]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ht))return pt.push([ht,gt,!0,[]]);let _t=[];ht.includes("-")&&(_t=ht.split("-")),pt.push([ht,gt,!1,_t]);for(const yt in nt){const xt=nt[yt];yt.startsWith(`${ht}-`)&&pt.push([yt,xt,!1,yt.split("-")])}});const mt={...nt};return dt.memoizedProps&&dt.memoizedProps.args&&(mt.args=dt.memoizedProps.args),dt.memoizedProps&&dt.memoizedProps.attach&&(mt.attach=dt.memoizedProps.attach),{memoized:mt,changes:pt}}function applyProps$1(et,$){var _e,tt,nt;const rt=(_e=et.__r3f)!=null?_e:{},it=rt.root,st=(tt=it==null||it.getState==null?void 0:it.getState())!=null?tt:{},{memoized:ot,changes:at}=isDiffSet($)?$:diffProps(et,$),lt=rt.eventCount;et.__r3f&&(et.__r3f.memoizedProps=ot);for(let ct=0;ct<at.length;ct++){let[pt,mt,ht,gt]=at[ct],vt=et,_t=vt[pt];if(gt.length&&(_t=gt.reduce((yt,xt)=>yt[xt],et),!(_t&&_t.set))){const[yt,...xt]=gt.reverse();vt=xt.reverse().reduce((At,Ct)=>At[Ct],et),pt=yt}if(mt===DEFAULT+"remove")if(vt.constructor){let yt=DEFAULTS.get(vt.constructor);yt||(yt=new vt.constructor,DEFAULTS.set(vt.constructor,yt)),mt=yt[pt]}else mt=0;if(ht)mt?rt.handlers[pt]=mt:delete rt.handlers[pt],rt.eventCount=Object.keys(rt.handlers).length;else if(_t&&_t.set&&(_t.copy||_t instanceof Layers)){if(Array.isArray(mt))_t.fromArray?_t.fromArray(mt):_t.set(...mt);else if(_t.copy&&mt&&mt.constructor&&_t.constructor===mt.constructor)_t.copy(mt);else if(mt!==void 0){const yt=_t instanceof Color;!yt&&_t.setScalar?_t.setScalar(mt):_t instanceof Layers&&mt instanceof Layers?_t.mask=mt.mask:_t.set(mt),!ColorManagement&&!st.linear&&yt&&_t.convertSRGBToLinear()}}else vt[pt]=mt,!st.linear&&vt[pt]instanceof Texture&&vt[pt].format===RGBAFormat&&vt[pt].type===UnsignedByteType&&(vt[pt].encoding=sRGBEncoding);invalidateInstance(et)}if(rt.parent&&st.internal&&et.raycast&&lt!==rt.eventCount){const ct=st.internal.interaction.indexOf(et);ct>-1&&st.internal.interaction.splice(ct,1),rt.eventCount&&st.internal.interaction.push(et)}return!(at.length===1&&at[0][0]==="onUpdate")&&at.length&&(nt=et.__r3f)!=null&&nt.parent&&updateInstance(et),et}function invalidateInstance(et){var $,_e;const tt=($=et.__r3f)==null||(_e=$.root)==null||_e.getState==null?void 0:_e.getState();tt&&tt.internal.frames===0&&tt.invalidate()}function updateInstance(et){et.onUpdate==null||et.onUpdate(et)}function updateCamera(et,$){et.manual||(isOrthographicCamera(et)?(et.left=$.width/-2,et.right=$.width/2,et.top=$.height/2,et.bottom=$.height/-2):et.aspect=$.width/$.height,et.updateProjectionMatrix(),et.updateMatrixWorld())}function makeId(et){return(et.eventObject||et.object).uuid+"/"+et.index+et.instanceId}function getEventPriority(){var et;const $=typeof self<"u"&&self||typeof window<"u"&&window;if(!$)return constantsExports.DefaultEventPriority;switch((et=$.event)==null?void 0:et.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(et,$,_e,tt){const nt=_e.get($);nt&&(_e.delete($),_e.size===0&&(et.delete(tt),nt.target.releasePointerCapture(tt)))}function removeInteractivity(et,$){const{internal:_e}=et.getState();_e.interaction=_e.interaction.filter(tt=>tt!==$),_e.initialHits=_e.initialHits.filter(tt=>tt!==$),_e.hovered.forEach((tt,nt)=>{(tt.eventObject===$||tt.object===$)&&_e.hovered.delete(nt)}),_e.capturedMap.forEach((tt,nt)=>{releaseInternalPointerCapture(_e.capturedMap,$,tt,nt)})}function createEvents(et){function $(ot){const{internal:at}=et.getState(),lt=ot.offsetX-at.initialClick[0],dt=ot.offsetY-at.initialClick[1];return Math.round(Math.sqrt(lt*lt+dt*dt))}function _e(ot){return ot.filter(at=>["Move","Over","Enter","Out","Leave"].some(lt=>{var dt;return(dt=at.__r3f)==null?void 0:dt.handlers["onPointer"+lt]}))}function tt(ot,at){const lt=et.getState(),dt=new Set,ct=[],pt=at?at(lt.internal.interaction):lt.internal.interaction;for(let vt=0;vt<pt.length;vt++){const _t=getRootState(pt[vt]);_t&&(_t.raycaster.camera=void 0)}lt.previousRoot||lt.events.compute==null||lt.events.compute(ot,lt);function mt(vt){const _t=getRootState(vt);if(!_t||!_t.events.enabled||_t.raycaster.camera===null)return[];if(_t.raycaster.camera===void 0){var yt;_t.events.compute==null||_t.events.compute(ot,_t,(yt=_t.previousRoot)==null?void 0:yt.getState()),_t.raycaster.camera===void 0&&(_t.raycaster.camera=null)}return _t.raycaster.camera?_t.raycaster.intersectObject(vt,!0):[]}let ht=pt.flatMap(mt).sort((vt,_t)=>{const yt=getRootState(vt.object),xt=getRootState(_t.object);return!yt||!xt?vt.distance-_t.distance:xt.events.priority-yt.events.priority||vt.distance-_t.distance}).filter(vt=>{const _t=makeId(vt);return dt.has(_t)?!1:(dt.add(_t),!0)});lt.events.filter&&(ht=lt.events.filter(ht,lt));for(const vt of ht){let _t=vt.object;for(;_t;){var gt;(gt=_t.__r3f)!=null&&gt.eventCount&&ct.push({...vt,eventObject:_t}),_t=_t.parent}}if("pointerId"in ot&&lt.internal.capturedMap.has(ot.pointerId))for(let vt of lt.internal.capturedMap.get(ot.pointerId).values())dt.has(makeId(vt.intersection))||ct.push(vt.intersection);return ct}function nt(ot,at,lt,dt){const ct=et.getState();if(ot.length){const pt={stopped:!1};for(const mt of ot){const ht=getRootState(mt.object)||ct,{raycaster:gt,pointer:vt,camera:_t,internal:yt}=ht,xt=new Vector3(vt.x,vt.y,0).unproject(_t),At=Tt=>{var Ft,Gt;return(Ft=(Gt=yt.capturedMap.get(Tt))==null?void 0:Gt.has(mt.eventObject))!=null?Ft:!1},Ct=Tt=>{const Ft={intersection:mt,target:at.target};yt.capturedMap.has(Tt)?yt.capturedMap.get(Tt).set(mt.eventObject,Ft):yt.capturedMap.set(Tt,new Map([[mt.eventObject,Ft]])),at.target.setPointerCapture(Tt)},Pt=Tt=>{const Ft=yt.capturedMap.get(Tt);Ft&&releaseInternalPointerCapture(yt.capturedMap,mt.eventObject,Ft,Tt)};let bt={};for(let Tt in at){let Ft=at[Tt];typeof Ft!="function"&&(bt[Tt]=Ft)}let Mt={...mt,...bt,pointer:vt,intersections:ot,stopped:pt.stopped,delta:lt,unprojectedPoint:xt,ray:gt.ray,camera:_t,stopPropagation(){const Tt="pointerId"in at&&yt.capturedMap.get(at.pointerId);if((!Tt||Tt.has(mt.eventObject))&&(Mt.stopped=pt.stopped=!0,yt.hovered.size&&Array.from(yt.hovered.values()).find(Ft=>Ft.eventObject===mt.eventObject))){const Ft=ot.slice(0,ot.indexOf(mt));rt([...Ft,mt])}},target:{hasPointerCapture:At,setPointerCapture:Ct,releasePointerCapture:Pt},currentTarget:{hasPointerCapture:At,setPointerCapture:Ct,releasePointerCapture:Pt},nativeEvent:at};if(dt(Mt),pt.stopped===!0)break}}return ot}function rt(ot){const{internal:at}=et.getState();for(const lt of at.hovered.values())if(!ot.length||!ot.find(dt=>dt.object===lt.object&&dt.index===lt.index&&dt.instanceId===lt.instanceId)){const ct=lt.eventObject.__r3f,pt=ct==null?void 0:ct.handlers;if(at.hovered.delete(makeId(lt)),ct!=null&&ct.eventCount){const mt={...lt,intersections:ot};pt.onPointerOut==null||pt.onPointerOut(mt),pt.onPointerLeave==null||pt.onPointerLeave(mt)}}}function it(ot,at){for(let lt=0;lt<at.length;lt++){const dt=at[lt].__r3f;dt==null||dt.handlers.onPointerMissed==null||dt.handlers.onPointerMissed(ot)}}function st(ot){switch(ot){case"onPointerLeave":case"onPointerCancel":return()=>rt([]);case"onLostPointerCapture":return at=>{const{internal:lt}=et.getState();"pointerId"in at&&lt.capturedMap.has(at.pointerId)&&(lt.capturedMap.delete(at.pointerId),rt([]))}}return function(lt){const{onPointerMissed:dt,internal:ct}=et.getState();ct.lastEvent.current=lt;const pt=ot==="onPointerMove",mt=ot==="onClick"||ot==="onContextMenu"||ot==="onDoubleClick",gt=tt(lt,pt?_e:void 0),vt=mt?$(lt):0;ot==="onPointerDown"&&(ct.initialClick=[lt.offsetX,lt.offsetY],ct.initialHits=gt.map(yt=>yt.eventObject)),mt&&!gt.length&&vt<=2&&(it(lt,ct.interaction),dt&&dt(lt)),pt&&rt(gt);function _t(yt){const xt=yt.eventObject,At=xt.__r3f,Ct=At==null?void 0:At.handlers;if(At!=null&&At.eventCount)if(pt){if(Ct.onPointerOver||Ct.onPointerEnter||Ct.onPointerOut||Ct.onPointerLeave){const Pt=makeId(yt),bt=ct.hovered.get(Pt);bt?bt.stopped&&yt.stopPropagation():(ct.hovered.set(Pt,yt),Ct.onPointerOver==null||Ct.onPointerOver(yt),Ct.onPointerEnter==null||Ct.onPointerEnter(yt))}Ct.onPointerMove==null||Ct.onPointerMove(yt)}else{const Pt=Ct[ot];Pt?(!mt||ct.initialHits.includes(xt))&&(it(lt,ct.interaction.filter(bt=>!ct.initialHits.includes(bt))),Pt(yt)):mt&&ct.initialHits.includes(xt)&&it(lt,ct.interaction.filter(bt=>!ct.initialHits.includes(bt)))}}nt(gt,lt,vt,_t)}}return{handlePointer:st}}let catalogue={},extend=et=>void(catalogue={...catalogue,...et});function createRenderer(et,$){function _e(lt,{args:dt=[],attach:ct,...pt},mt){let ht=`${lt[0].toUpperCase()}${lt.slice(1)}`,gt;if(lt==="primitive"){if(pt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const vt=pt.object;gt=prepare(vt,{type:lt,root:mt,attach:ct,primitive:!0})}else{const vt=catalogue[ht];if(!vt)throw new Error(`R3F: ${ht} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(dt))throw new Error("R3F: The args prop must be an array!");gt=prepare(new vt(...dt),{type:lt,root:mt,attach:ct,memoizedProps:{args:dt}})}return gt.__r3f.attach===void 0&&(gt instanceof BufferGeometry?gt.__r3f.attach="geometry":gt instanceof Material&&(gt.__r3f.attach="material")),ht!=="inject"&&applyProps$1(gt,pt),gt}function tt(lt,dt){let ct=!1;if(dt){var pt,mt;(pt=dt.__r3f)!=null&&pt.attach?attach(lt,dt,dt.__r3f.attach):dt.isObject3D&&lt.isObject3D&&(lt.add(dt),ct=!0),ct||(mt=lt.__r3f)==null||mt.objects.push(dt),dt.__r3f||prepare(dt,{}),dt.__r3f.parent=lt,updateInstance(dt),invalidateInstance(dt)}}function nt(lt,dt,ct){let pt=!1;if(dt){var mt,ht;if((mt=dt.__r3f)!=null&&mt.attach)attach(lt,dt,dt.__r3f.attach);else if(dt.isObject3D&&lt.isObject3D){dt.parent=lt,dt.dispatchEvent({type:"added"});const gt=lt.children.filter(_t=>_t!==dt),vt=gt.indexOf(ct);lt.children=[...gt.slice(0,vt),dt,...gt.slice(vt)],pt=!0}pt||(ht=lt.__r3f)==null||ht.objects.push(dt),dt.__r3f||prepare(dt,{}),dt.__r3f.parent=lt,updateInstance(dt),invalidateInstance(dt)}}function rt(lt,dt,ct=!1){lt&&[...lt].forEach(pt=>it(dt,pt,ct))}function it(lt,dt,ct){if(dt){var pt,mt,ht;if(dt.__r3f&&(dt.__r3f.parent=null),(pt=lt.__r3f)!=null&&pt.objects&&(lt.__r3f.objects=lt.__r3f.objects.filter(xt=>xt!==dt)),(mt=dt.__r3f)!=null&&mt.attach)detach(lt,dt,dt.__r3f.attach);else if(dt.isObject3D&&lt.isObject3D){var gt;lt.remove(dt),(gt=dt.__r3f)!=null&&gt.root&&removeInteractivity(dt.__r3f.root,dt)}const _t=(ht=dt.__r3f)==null?void 0:ht.primitive,yt=ct===void 0?dt.dispose!==null&&!_t:ct;if(!_t){var vt;rt((vt=dt.__r3f)==null?void 0:vt.objects,dt,yt),rt(dt.children,dt,yt)}dt.__r3f&&(delete dt.__r3f.root,delete dt.__r3f.objects,delete dt.__r3f.handlers,delete dt.__r3f.memoizedProps,_t||delete dt.__r3f),yt&&dt.dispose&&dt.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{dt.dispose()}catch{}}),invalidateInstance(lt)}}function st(lt,dt,ct,pt){var mt;const ht=(mt=lt.__r3f)==null?void 0:mt.parent;if(!ht)return;const gt=_e(dt,ct,lt.__r3f.root);if(lt.children){for(const vt of lt.children)vt.__r3f&&tt(gt,vt);lt.children=lt.children.filter(vt=>!vt.__r3f)}lt.__r3f.objects.forEach(vt=>tt(gt,vt)),lt.__r3f.objects=[],lt.__r3f.autoRemovedBeforeAppend||it(ht,lt),gt.parent&&(gt.__r3f.autoRemovedBeforeAppend=!0),tt(ht,gt),gt.raycast&&gt.__r3f.eventCount&&gt.__r3f.root.getState().internal.interaction.push(gt),[pt,pt.alternate].forEach(vt=>{vt!==null&&(vt.stateNode=gt,vt.ref&&(typeof vt.ref=="function"?vt.ref(gt):vt.ref.current=gt))})}const ot=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:_e,removeChild:it,appendChild:tt,appendInitialChild:tt,insertBefore:nt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(lt,dt)=>{if(!dt)return;const ct=lt.getState().scene;ct.__r3f&&(ct.__r3f.root=lt,tt(ct,dt))},removeChildFromContainer:(lt,dt)=>{dt&&it(lt.getState().scene,dt)},insertInContainerBefore:(lt,dt,ct)=>{if(!dt||!ct)return;const pt=lt.getState().scene;pt.__r3f&&nt(pt,dt,ct)},getRootHostContext:()=>null,getChildHostContext:lt=>lt,finalizeInitialChildren(lt){var dt;const ct=(dt=lt==null?void 0:lt.__r3f)!=null?dt:{};return Boolean(ct.handlers)},prepareUpdate(lt,dt,ct,pt){if(lt.__r3f.primitive&&pt.object&&pt.object!==lt)return[!0];{const{args:mt=[],children:ht,...gt}=pt,{args:vt=[],children:_t,...yt}=ct;if(!Array.isArray(mt))throw new Error("R3F: the args prop must be an array!");if(mt.some((At,Ct)=>At!==vt[Ct]))return[!0];const xt=diffProps(lt,gt,yt,!0);return xt.changes.length?[!1,xt]:null}},commitUpdate(lt,[dt,ct],pt,mt,ht,gt){dt?st(lt,pt,ht,gt):applyProps$1(lt,ct)},commitMount(lt,dt,ct,pt){var mt;const ht=(mt=lt.__r3f)!=null?mt:{};lt.raycast&&ht.handlers&&ht.eventCount&&lt.__r3f.root.getState().internal.interaction.push(lt)},getPublicInstance:lt=>lt,prepareForCommit:()=>null,preparePortalMount:lt=>prepare(lt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(lt){var dt;const{attach:ct,parent:pt}=(dt=lt.__r3f)!=null?dt:{};ct&&pt&&detach(pt,lt,ct),lt.isObject3D&&(lt.visible=!1),invalidateInstance(lt)},unhideInstance(lt,dt){var ct;const{attach:pt,parent:mt}=(ct=lt.__r3f)!=null?ct:{};pt&&mt&&attach(mt,lt,pt),(lt.isObject3D&&dt.visible==null||dt.visible)&&(lt.visible=!0),invalidateInstance(lt)},createTextInstance:ot,hideTextInstance:ot,unhideTextInstance:ot,getCurrentEventPriority:()=>$?$():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}const isRenderer=et=>!!(et!=null&&et.render),context=reactExports.createContext(null),createStore=(et,$)=>{const _e=create((st,ot)=>{const at=new Vector3,lt=new Vector3,dt=new Vector3;function ct(vt=ot().camera,_t=lt,yt=ot().size){const{width:xt,height:At,top:Ct,left:Pt}=yt,bt=xt/At;_t instanceof Vector3?dt.copy(_t):dt.set(..._t);const Mt=vt.getWorldPosition(at).distanceTo(dt);if(isOrthographicCamera(vt))return{width:xt/vt.zoom,height:At/vt.zoom,top:Ct,left:Pt,factor:1,distance:Mt,aspect:bt};{const Tt=vt.fov*Math.PI/180,Ft=2*Math.tan(Tt/2)*Mt,Gt=Ft*(xt/At);return{width:Gt,height:Ft,top:Ct,left:Pt,factor:xt/Gt,distance:Mt,aspect:bt}}}let pt;const mt=vt=>st(_t=>({performance:{..._t.performance,current:vt}})),ht=new Vector2;return{set:st,get:ot,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(vt=1)=>et(ot(),vt),advance:(vt,_t)=>$(vt,_t,ot()),legacy:!1,linear:!1,flat:!1,scene:prepare(new Scene),controls:null,clock:new Clock,pointer:ht,mouse:ht,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const vt=ot();pt&&clearTimeout(pt),vt.performance.current!==vt.performance.min&&mt(vt.performance.min),pt=setTimeout(()=>mt(ot().performance.max),vt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ct},setEvents:vt=>st(_t=>({..._t,events:{..._t.events,...vt}})),setSize:(vt,_t,yt,xt,At)=>{const Ct=ot().camera,Pt={width:vt,height:_t,top:xt||0,left:At||0,updateStyle:yt};st(bt=>({size:Pt,viewport:{...bt.viewport,...ct(Ct,lt,Pt)}}))},setDpr:vt=>st(_t=>{const yt=calculateDpr(vt);return{viewport:{..._t.viewport,dpr:yt,initialDpr:_t.viewport.initialDpr||yt}}}),setFrameloop:(vt="always")=>{const _t=ot().clock;_t.stop(),_t.elapsedTime=0,vt!=="never"&&(_t.start(),_t.elapsedTime=0),st(()=>({frameloop:vt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(vt,_t,yt)=>{const xt=ot().internal;return xt.priority=xt.priority+(_t>0?1:0),xt.subscribers.push({ref:vt,priority:_t,store:yt}),xt.subscribers=xt.subscribers.sort((At,Ct)=>At.priority-Ct.priority),()=>{const At=ot().internal;At!=null&&At.subscribers&&(At.priority=At.priority-(_t>0?1:0),At.subscribers=At.subscribers.filter(Ct=>Ct.ref!==vt))}}}}}),tt=_e.getState();let nt=tt.size,rt=tt.viewport.dpr,it=tt.camera;return _e.subscribe(()=>{const{camera:st,size:ot,viewport:at,gl:lt,set:dt}=_e.getState();if(ot!==nt||at.dpr!==rt){var ct;nt=ot,rt=at.dpr,updateCamera(st,ot),lt.setPixelRatio(at.dpr);const pt=(ct=ot.updateStyle)!=null?ct:typeof HTMLCanvasElement<"u"&&lt.domElement instanceof HTMLCanvasElement;lt.setSize(ot.width,ot.height,pt)}st!==it&&(it=st,dt(pt=>({viewport:{...pt.viewport,...pt.viewport.getCurrentViewport(st)}})))}),_e.subscribe(st=>et(st)),_e};let i$e,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(et,$){if(et.size)for(const{callback:_e}of et.values())_e($)}function flushGlobalEffects(et,$){switch(et){case"before":return run(globalEffects,$);case"after":return run(globalAfterEffects,$);case"tail":return run(globalTailEffects,$)}}let subscribers,subscription;function render$1(et,$,_e){let tt=$.clock.getDelta();for($.frameloop==="never"&&typeof et=="number"&&(tt=et-$.clock.elapsedTime,$.clock.oldTime=$.clock.elapsedTime,$.clock.elapsedTime=et),subscribers=$.internal.subscribers,i$e=0;i$e<subscribers.length;i$e++)subscription=subscribers[i$e],subscription.ref.current(subscription.store.getState(),tt,_e);return!$.internal.priority&&$.gl.render&&$.gl.render($.scene,$.camera),$.internal.frames=Math.max(0,$.internal.frames-1),$.frameloop==="always"?1:$.internal.frames}function createLoop(et){let $=!1,_e,tt,nt;function rt(ot){tt=requestAnimationFrame(rt),$=!0,_e=0,flushGlobalEffects("before",ot);for(const lt of et.values()){var at;nt=lt.store.getState(),nt.internal.active&&(nt.frameloop==="always"||nt.internal.frames>0)&&!((at=nt.gl.xr)!=null&&at.isPresenting)&&(_e+=render$1(ot,nt))}if(flushGlobalEffects("after",ot),_e===0)return flushGlobalEffects("tail",ot),$=!1,cancelAnimationFrame(tt)}function it(ot,at=1){var lt;if(!ot)return et.forEach(dt=>it(dt.store.getState()),at);(lt=ot.gl.xr)!=null&&lt.isPresenting||!ot.internal.active||ot.frameloop==="never"||(ot.internal.frames=Math.min(60,ot.internal.frames+at),$||($=!0,requestAnimationFrame(rt)))}function st(ot,at=!0,lt,dt){if(at&&flushGlobalEffects("before",ot),lt)render$1(ot,lt,dt);else for(const ct of et.values())render$1(ot,ct.store.getState());at&&flushGlobalEffects("after",ot)}return{loop:rt,invalidate:it,advance:st}}function useStore(){const et=reactExports.useContext(context);if(!et)throw new Error("R3F: Hooks can only be used within the Canvas component!");return et}function useThree(et=_e=>_e,$){return useStore()(et,$)}function useFrame(et,$=0){const _e=useStore(),tt=_e.getState().internal.subscribe,nt=useMutableCallback(et);return useIsomorphicLayoutEffect$1(()=>tt(nt,$,_e),[$,tt,_e]),null}function loadingFn(et,$){return function(_e,...tt){const nt=new _e;return et&&et(nt),Promise.all(tt.map(rt=>new Promise((it,st)=>nt.load(rt,ot=>{ot.scene&&Object.assign(ot,buildGraph(ot.scene)),it(ot)},$,ot=>st(new Error(`Could not load ${rt}: ${ot.message})`))))))}}function useLoader(et,$,_e,tt){const nt=Array.isArray($)?$:[$],rt=suspend(loadingFn(_e,tt),[et,...nt],{equal:is.equ});return Array.isArray($)?rt:rt[0]}useLoader.preload=function(et,$,_e){const tt=Array.isArray($)?$:[$];return preload(loadingFn(_e),[et,...tt])};useLoader.clear=function(et,$){const _e=Array.isArray($)?$:[$];return clear([et,..._e])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(et,$)=>{const _e=typeof et=="function"?et($):et;return isRenderer(_e)?_e:new WebGLRenderer({powerPreference:"high-performance",canvas:$,antialias:!0,alpha:!0,...et})};function computeInitialSize(et,$){if($)return $;if(typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement&&et.parentElement){const{width:_e,height:tt,top:nt,left:rt}=et.parentElement.getBoundingClientRect();return{width:_e,height:tt,top:nt,left:rt}}else if(typeof OffscreenCanvas<"u"&&et instanceof OffscreenCanvas)return{width:et.width,height:et.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function createRoot(et){const $=roots.get(et),_e=$==null?void 0:$.fiber,tt=$==null?void 0:$.store;$&&console.warn("R3F.createRoot should only be called once!");const nt=typeof reportError=="function"?reportError:console.error,rt=tt||createStore(invalidate,advance),it=_e||reconciler.createContainer(rt,constantsExports.ConcurrentRoot,null,!1,null,"",nt,null);$||roots.set(et,{fiber:it,store:rt});let st,ot=!1,at;return{configure(lt={}){let{gl:dt,size:ct,events:pt,onCreated:mt,shadows:ht=!1,linear:gt=!1,flat:vt=!1,legacy:_t=!1,orthographic:yt=!1,frameloop:xt="always",dpr:At=[1,2],performance:Ct,raycaster:Pt,camera:bt,onPointerMissed:Mt}=lt,Tt=rt.getState(),Ft=Tt.gl;Tt.gl||Tt.set({gl:Ft=createRendererInstance(dt,et)});let Gt=Tt.raycaster;Gt||Tt.set({raycaster:Gt=new Raycaster});const{params:Wt,...It}=Pt||{};if(is.equ(It,Gt,shallowLoose)||applyProps(Gt,{...It}),is.equ(Wt,Gt.params,shallowLoose)||applyProps(Gt,{params:{...Gt.params,...Wt}}),!Tt.camera||Tt.camera===at&&!is.equ(at,bt,shallowLoose)){at=bt;const qt=bt instanceof Camera,Jt=qt?bt:yt?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);qt||(Jt.position.z=5,bt&&applyProps(Jt,bt),!Tt.camera&&!(bt!=null&&bt.rotation)&&Jt.lookAt(0,0,0)),Tt.set({camera:Jt})}if(!Tt.xr){const qt=(tn,yn)=>{const Yt=rt.getState();Yt.frameloop!=="never"&&advance(tn,!0,Yt,yn)},Jt=()=>{const tn=rt.getState();tn.gl.xr.enabled=tn.gl.xr.isPresenting,tn.gl.xr.setAnimationLoop(tn.gl.xr.isPresenting?qt:null),tn.gl.xr.isPresenting||invalidate(tn)},on={connect(){const tn=rt.getState().gl;tn.xr.addEventListener("sessionstart",Jt),tn.xr.addEventListener("sessionend",Jt)},disconnect(){const tn=rt.getState().gl;tn.xr.removeEventListener("sessionstart",Jt),tn.xr.removeEventListener("sessionend",Jt)}};Ft.xr&&on.connect(),Tt.set({xr:on})}if(Ft.shadowMap){const qt=Ft.shadowMap.enabled,Jt=Ft.shadowMap.type;if(Ft.shadowMap.enabled=!!ht,is.boo(ht))Ft.shadowMap.type=PCFSoftShadowMap;else if(is.str(ht)){var Kt;const on={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};Ft.shadowMap.type=(Kt=on[ht])!=null?Kt:PCFSoftShadowMap}else is.obj(ht)&&Object.assign(Ft.shadowMap,ht);(qt!==Ft.shadowMap.enabled||Jt!==Ft.shadowMap.type)&&(Ft.shadowMap.needsUpdate=!0)}ColorManagement&&("enabled"in ColorManagement?ColorManagement.enabled=!_t:"legacyMode"in ColorManagement&&(ColorManagement.legacyMode=_t));const Ut=gt?LinearEncoding:sRGBEncoding,Qt=vt?NoToneMapping:ACESFilmicToneMapping;Ft.outputEncoding!==Ut&&(Ft.outputEncoding=Ut),Ft.toneMapping!==Qt&&(Ft.toneMapping=Qt),Tt.legacy!==_t&&Tt.set(()=>({legacy:_t})),Tt.linear!==gt&&Tt.set(()=>({linear:gt})),Tt.flat!==vt&&Tt.set(()=>({flat:vt})),dt&&!is.fun(dt)&&!isRenderer(dt)&&!is.equ(dt,Ft,shallowLoose)&&applyProps(Ft,dt),pt&&!Tt.events.handlers&&Tt.set({events:pt(rt)});const Dt=computeInitialSize(et,ct);return is.equ(Dt,Tt.size,shallowLoose)||Tt.setSize(Dt.width,Dt.height,Dt.updateStyle,Dt.top,Dt.left),At&&Tt.viewport.dpr!==calculateDpr(At)&&Tt.setDpr(At),Tt.frameloop!==xt&&Tt.setFrameloop(xt),Tt.onPointerMissed||Tt.set({onPointerMissed:Mt}),Ct&&!is.equ(Ct,Tt.performance,shallowLoose)&&Tt.set(qt=>({performance:{...qt.performance,...Ct}})),st=mt,ot=!0,this},render(lt){return ot||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:rt,children:lt,onCreated:st,rootElement:et}),it,null,()=>{}),rt},unmount(){unmountComponentAtNode(et)}}}function Provider({store:et,children:$,onCreated:_e,rootElement:tt}){return useIsomorphicLayoutEffect$1(()=>{const nt=et.getState();nt.set(rt=>({internal:{...rt.internal,active:!0}})),_e&&_e(nt),et.getState().events.connected||nt.events.connect==null||nt.events.connect(tt)},[]),reactExports.createElement(context.Provider,{value:et},$)}function unmountComponentAtNode(et,$){const _e=roots.get(et),tt=_e==null?void 0:_e.fiber;if(tt){const nt=_e==null?void 0:_e.store.getState();nt&&(nt.internal.active=!1),reconciler.updateContainer(null,tt,null,()=>{nt&&setTimeout(()=>{try{var rt,it,st,ot;nt.events.disconnect==null||nt.events.disconnect(),(rt=nt.gl)==null||(it=rt.renderLists)==null||it.dispose==null||it.dispose(),(st=nt.gl)==null||st.forceContextLoss==null||st.forceContextLoss(),(ot=nt.gl)!=null&&ot.xr&&nt.xr.disconnect(),dispose(nt),roots.delete(et),$&&$(et)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=_e[tt])}return et},_extends$2.apply(this,arguments)}function debounce(et,$,_e){var tt,nt,rt,it,st;$==null&&($=100);function ot(){var lt=Date.now()-it;lt<$&&lt>=0?tt=setTimeout(ot,$-lt):(tt=null,_e||(st=et.apply(rt,nt),rt=nt=null))}var at=function(){rt=this,nt=arguments,it=Date.now();var lt=_e&&!tt;return tt||(tt=setTimeout(ot,$)),lt&&(st=et.apply(rt,nt),rt=nt=null),st};return at.clear=function(){tt&&(clearTimeout(tt),tt=null)},at.flush=function(){tt&&(st=et.apply(rt,nt),rt=nt=null,clearTimeout(tt),tt=null)},at}debounce.debounce=debounce;var debounce_1=debounce;function useMeasure(et){let{debounce:$,scroll:_e,polyfill:tt,offsetSize:nt}=et===void 0?{debounce:0,scroll:!1,offsetSize:!1}:et;const rt=tt||(typeof window>"u"?class{}:window.ResizeObserver);if(!rt)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[it,st]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),ot=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:it}),at=$?typeof $=="number"?$:$.scroll:null,lt=$?typeof $=="number"?$:$.resize:null,dt=reactExports.useRef(!1);reactExports.useEffect(()=>(dt.current=!0,()=>void(dt.current=!1)));const[ct,pt,mt]=reactExports.useMemo(()=>{const _t=()=>{if(!ot.current.element)return;const{left:yt,top:xt,width:At,height:Ct,bottom:Pt,right:bt,x:Mt,y:Tt}=ot.current.element.getBoundingClientRect(),Ft={left:yt,top:xt,width:At,height:Ct,bottom:Pt,right:bt,x:Mt,y:Tt};ot.current.element instanceof HTMLElement&&nt&&(Ft.height=ot.current.element.offsetHeight,Ft.width=ot.current.element.offsetWidth),Object.freeze(Ft),dt.current&&!areBoundsEqual(ot.current.lastBounds,Ft)&&st(ot.current.lastBounds=Ft)};return[_t,lt?debounce_1(_t,lt):_t,at?debounce_1(_t,at):_t]},[st,nt,at,lt]);function ht(){ot.current.scrollContainers&&(ot.current.scrollContainers.forEach(_t=>_t.removeEventListener("scroll",mt,!0)),ot.current.scrollContainers=null),ot.current.resizeObserver&&(ot.current.resizeObserver.disconnect(),ot.current.resizeObserver=null)}function gt(){ot.current.element&&(ot.current.resizeObserver=new rt(mt),ot.current.resizeObserver.observe(ot.current.element),_e&&ot.current.scrollContainers&&ot.current.scrollContainers.forEach(_t=>_t.addEventListener("scroll",mt,{capture:!0,passive:!0})))}const vt=_t=>{!_t||_t===ot.current.element||(ht(),ot.current.element=_t,ot.current.scrollContainers=findScrollContainers(_t),gt())};return useOnWindowScroll(mt,Boolean(_e)),useOnWindowResize(pt),reactExports.useEffect(()=>{ht(),gt()},[_e,mt,pt]),reactExports.useEffect(()=>ht,[]),[vt,it,ct]}function useOnWindowResize(et){reactExports.useEffect(()=>{const $=et;return window.addEventListener("resize",$),()=>void window.removeEventListener("resize",$)},[et])}function useOnWindowScroll(et,$){reactExports.useEffect(()=>{if($){const _e=et;return window.addEventListener("scroll",_e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",_e,!0)}},[et,$])}function findScrollContainers(et){const $=[];if(!et||et===document.body)return $;const{overflow:_e,overflowX:tt,overflowY:nt}=window.getComputedStyle(et);return[_e,tt,nt].some(rt=>rt==="auto"||rt==="scroll")&&$.push(et),[...$,...findScrollContainers(et.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(et,$)=>keys.every(_e=>et[_e]===$[_e]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(et,$,_e)=>$ in et?__defProp(et,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):et[$]=_e,__spreadValues=(et,$)=>{for(var _e in $||($={}))__hasOwnProp.call($,_e)&&__defNormalProp(et,_e,$[_e]);if(__getOwnPropSymbols)for(var _e of __getOwnPropSymbols($))__propIsEnum.call($,_e)&&__defNormalProp(et,_e,$[_e]);return et},__spreadProps=(et,$)=>__defProps(et,__getOwnPropDescs($));function traverseFiber(et,$,_e){if(!et)return;if(_e(et)===!0)return et;let tt=$?et.return:et.child;for(;tt;){const nt=traverseFiber(tt,$,_e);if(nt)return nt;tt=$?null:tt.sibling}}function wrapContext(et){try{return Object.defineProperties(et,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return et}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const et=reactExports.useContext(FiberContext);if(!et)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const $=reactExports.useId();return reactExports.useMemo(()=>{var tt;return(tt=ReactCurrentOwner.current)!=null?tt:traverseFiber(et,!1,nt=>{let rt=nt.memoizedState;for(;rt;){if(rt.memoizedState===$)return!0;rt=rt.next}})},[et,$])}function useContextBridge(){var et,$;const _e=useFiber(),[tt]=reactExports.useState(()=>new Map);tt.clear();let nt=_e;for(;nt;){const rt=(et=nt.type)==null?void 0:et._context;rt&&rt!==FiberContext&&!tt.has(rt)&&tt.set(rt,($=ReactCurrentDispatcher.current)==null?void 0:$.readContext(wrapContext(rt))),nt=nt.return}return reactExports.useMemo(()=>Array.from(tt.keys()).reduce((rt,it)=>st=>reactExports.createElement(rt,null,reactExports.createElement(it.Provider,__spreadProps(__spreadValues({},st),{value:tt.get(it)}))),rt=>reactExports.createElement(FiberProvider,__spreadValues({},rt))),[tt])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(et){const{handlePointer:$}=createEvents(et);return{priority:1,enabled:!0,compute(_e,tt,nt){tt.pointer.set(_e.offsetX/tt.size.width*2-1,-(_e.offsetY/tt.size.height)*2+1),tt.raycaster.setFromCamera(tt.pointer,tt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((_e,tt)=>({..._e,[tt]:$(tt)}),{}),update:()=>{var _e;const{events:tt,internal:nt}=et.getState();(_e=nt.lastEvent)!=null&&_e.current&&tt.handlers&&tt.handlers.onPointerMove(nt.lastEvent.current)},connect:_e=>{var tt;const{set:nt,events:rt}=et.getState();rt.disconnect==null||rt.disconnect(),nt(it=>({events:{...it.events,connected:_e}})),Object.entries((tt=rt.handlers)!=null?tt:[]).forEach(([it,st])=>{const[ot,at]=DOM_EVENTS[it];_e.addEventListener(ot,st,{passive:at})})},disconnect:()=>{const{set:_e,events:tt}=et.getState();if(tt.connected){var nt;Object.entries((nt=tt.handlers)!=null?nt:[]).forEach(([rt,it])=>{if(tt&&tt.connected instanceof HTMLElement){const[st]=DOM_EVENTS[rt];tt.connected.removeEventListener(st,it)}}),_e(rt=>({events:{...rt.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function({children:$,fallback:_e,resize:tt,style:nt,gl:rt,events:it=createPointerEvents,eventSource:st,eventPrefix:ot,shadows:at,linear:lt,flat:dt,legacy:ct,orthographic:pt,frameloop:mt,dpr:ht,performance:gt,raycaster:vt,camera:_t,onPointerMissed:yt,onCreated:xt,...At},Ct){reactExports.useMemo(()=>extend(THREE),[]);const Pt=useContextBridge(),[bt,Mt]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...tt}),Tt=reactExports.useRef(null),Ft=reactExports.useRef(null),[Gt,Wt]=reactExports.useState(null);reactExports.useImperativeHandle(Ct,()=>Tt.current);const It=useMutableCallback(yt),[Kt,Ut]=reactExports.useState(!1),[Qt,Dt]=reactExports.useState(!1);if(Kt)throw Kt;if(Qt)throw Qt;const qt=reactExports.useRef(null);Mt.width>0&&Mt.height>0&&Gt&&(qt.current||(qt.current=createRoot(Gt)),qt.current.configure({gl:rt,events:it,shadows:at,linear:lt,flat:dt,legacy:ct,orthographic:pt,frameloop:mt,dpr:ht,performance:gt,raycaster:vt,camera:_t,size:Mt,onPointerMissed:(...on)=>It.current==null?void 0:It.current(...on),onCreated:on=>{on.events.connect==null||on.events.connect(st?isRef(st)?st.current:st:Ft.current),ot&&on.setEvents({compute:(tn,yn)=>{const Yt=tn[ot+"X"],kt=tn[ot+"Y"];yn.pointer.set(Yt/yn.size.width*2-1,-(kt/yn.size.height)*2+1),yn.raycaster.setFromCamera(yn.pointer,yn.camera)}}),xt==null||xt(on)}}),qt.current.render(reactExports.createElement(Pt,null,reactExports.createElement(ErrorBoundary,{set:Dt},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:Ut})},$))))),useIsomorphicLayoutEffect$1(()=>{Wt(Tt.current)},[]),reactExports.useEffect(()=>{if(Gt)return()=>unmountComponentAtNode(Gt)},[Gt]);const Jt=st?"none":"auto";return reactExports.createElement("div",_extends$2({ref:Ft,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Jt,...nt}},At),reactExports.createElement("div",{ref:bt,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:Tt,style:{display:"block"}},_e)))}),Canvas=reactExports.forwardRef(function($,_e){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends$2({},$,{ref:_e})))}),v1=new Vector3,v2=new Vector3,v3=new Vector3;function defaultCalculatePosition(et,$,_e){const tt=v1.setFromMatrixPosition(et.matrixWorld);tt.project($);const nt=_e.width/2,rt=_e.height/2;return[tt.x*nt+nt,-(tt.y*rt)+rt]}function isObjectBehindCamera(et,$){const _e=v1.setFromMatrixPosition(et.matrixWorld),tt=v2.setFromMatrixPosition($.matrixWorld),nt=_e.sub(tt),rt=$.getWorldDirection(v3);return nt.angleTo(rt)>Math.PI/2}function isObjectVisible(et,$,_e,tt){const nt=v1.setFromMatrixPosition(et.matrixWorld),rt=nt.clone();rt.project($),_e.setFromCamera(rt,$);const it=_e.intersectObjects(tt,!0);if(it.length){const st=it[0].distance;return nt.distanceTo(_e.ray.origin)<st}return!0}function objectScale(et,$){if($ instanceof OrthographicCamera)return $.zoom;if($ instanceof PerspectiveCamera){const _e=v1.setFromMatrixPosition(et.matrixWorld),tt=v2.setFromMatrixPosition($.matrixWorld),nt=$.fov*Math.PI/180,rt=_e.distanceTo(tt);return 1/(2*Math.tan(nt/2)*rt)}else return 1}function objectZIndex(et,$,_e){if($ instanceof PerspectiveCamera||$ instanceof OrthographicCamera){const tt=v1.setFromMatrixPosition(et.matrixWorld),nt=v2.setFromMatrixPosition($.matrixWorld),rt=tt.distanceTo(nt),it=(_e[1]-_e[0])/($.far-$.near),st=_e[1]-it*$.far;return Math.round(it*rt+st)}}const epsilon=et=>Math.abs(et)<1e-10?0:et;function getCSSMatrix(et,$,_e=""){let tt="matrix3d(";for(let nt=0;nt!==16;nt++)tt+=epsilon($[nt]*et.elements[nt])+(nt!==15?",":")");return _e+tt}const getCameraCSSMatrix=(et=>$=>getCSSMatrix($,et))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(et=>($,_e)=>getCSSMatrix($,et(_e),"translate(-50%,-50%)"))(et=>[1/et,1/et,1/et,1,-1/et,-1/et,-1/et,-1,1/et,1/et,1/et,1,1,1,1,1]);function isRefObject$1(et){return et&&typeof et=="object"&&"current"in et}const Html=reactExports.forwardRef(({children:et,eps:$=.001,style:_e,className:tt,prepend:nt,center:rt,fullscreen:it,portal:st,distanceFactor:ot,sprite:at=!1,transform:lt=!1,occlude:dt,onOcclude:ct,castShadow:pt,receiveShadow:mt,material:ht,geometry:gt,zIndexRange:vt=[16777271,0],calculatePosition:_t=defaultCalculatePosition,as:yt="div",wrapperClass:xt,pointerEvents:At="auto",...Ct},Pt)=>{const{gl:bt,camera:Mt,scene:Tt,size:Ft,raycaster:Gt,events:Wt,viewport:It}=useThree(),[Kt]=reactExports.useState(()=>document.createElement(yt)),Ut=reactExports.useRef(),Qt=reactExports.useRef(null),Dt=reactExports.useRef(0),qt=reactExports.useRef([0,0]),Jt=reactExports.useRef(null),on=reactExports.useRef(null),tn=(st==null?void 0:st.current)||Wt.connected||bt.domElement.parentNode,yn=reactExports.useRef(null),Yt=reactExports.useRef(!1),kt=reactExports.useMemo(()=>dt&&dt!=="blending"||Array.isArray(dt)&&dt.length&&isRefObject$1(dt[0]),[dt]);reactExports.useLayoutEffect(()=>{const Ot=bt.domElement;dt&&dt==="blending"?(Ot.style.zIndex=`${Math.floor(vt[0]/2)}`,Ot.style.position="absolute",Ot.style.pointerEvents="none"):(Ot.style.zIndex=null,Ot.style.position=null,Ot.style.pointerEvents=null)},[dt]),reactExports.useLayoutEffect(()=>{if(Qt.current){const Ot=Ut.current=createRoot$1(Kt);if(Tt.updateMatrixWorld(),lt)Kt.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const $t=_t(Qt.current,Mt,Ft);Kt.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${$t[0]}px,${$t[1]}px,0);transform-origin:0 0;`}return tn&&(nt?tn.prepend(Kt):tn.appendChild(Kt)),()=>{tn&&tn.removeChild(Kt),Ot.unmount()}}},[tn,lt]),reactExports.useLayoutEffect(()=>{xt&&(Kt.className=xt)},[xt]);const Bt=reactExports.useMemo(()=>lt?{position:"absolute",top:0,left:0,width:Ft.width,height:Ft.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:rt?"translate3d(-50%,-50%,0)":"none",...it&&{top:-Ft.height/2,left:-Ft.width/2,width:Ft.width,height:Ft.height},..._e},[_e,rt,it,Ft,lt]),Ht=reactExports.useMemo(()=>({position:"absolute",pointerEvents:At}),[At]);reactExports.useLayoutEffect(()=>{if(Yt.current=!1,lt){var Ot;(Ot=Ut.current)==null||Ot.render(reactExports.createElement("div",{ref:Jt,style:Bt},reactExports.createElement("div",{ref:on,style:Ht},reactExports.createElement("div",{ref:Pt,className:tt,style:_e,children:et}))))}else{var $t;($t=Ut.current)==null||$t.render(reactExports.createElement("div",{ref:Pt,style:Bt,className:tt,children:et}))}});const wt=reactExports.useRef(!0);useFrame(Ot=>{if(Qt.current){Mt.updateMatrixWorld(),Qt.current.updateWorldMatrix(!0,!1);const $t=lt?qt.current:_t(Qt.current,Mt,Ft);if(lt||Math.abs(Dt.current-Mt.zoom)>$||Math.abs(qt.current[0]-$t[0])>$||Math.abs(qt.current[1]-$t[1])>$){const Vt=isObjectBehindCamera(Qt.current,Mt);let Zt=!1;kt&&(dt!=="blending"?Zt=[Tt]:Array.isArray(dt)&&(Zt=dt.map(xn=>xn.current)));const sn=wt.current;if(Zt){const xn=isObjectVisible(Qt.current,Mt,Gt,Zt);wt.current=xn&&!Vt}else wt.current=!Vt;sn!==wt.current&&(ct?ct(!wt.current):Kt.style.display=wt.current?"block":"none");const hn=Math.floor(vt[0]/2),ln=dt?kt?[vt[0],hn]:[hn-1,0]:vt;if(Kt.style.zIndex=`${objectZIndex(Qt.current,Mt,ln)}`,lt){const[xn,un]=[Ft.width/2,Ft.height/2],fn=Mt.projectionMatrix.elements[5]*un,{isOrthographicCamera:Gn,top:Xn,left:nn,bottom:jt,right:Mn}=Mt,cn=getCameraCSSMatrix(Mt.matrixWorldInverse),_n=Gn?`scale(${fn})translate(${epsilon(-(Mn+nn)/2)}px,${epsilon((Xn+jt)/2)}px)`:`translateZ(${fn}px)`;let Un=Qt.current.matrixWorld;at&&(Un=Mt.matrixWorldInverse.clone().transpose().copyPosition(Un).scale(Qt.current.scale),Un.elements[3]=Un.elements[7]=Un.elements[11]=0,Un.elements[15]=1),Kt.style.width=Ft.width+"px",Kt.style.height=Ft.height+"px",Kt.style.perspective=Gn?"":`${fn}px`,Jt.current&&on.current&&(Jt.current.style.transform=`${_n}${cn}translate(${xn}px,${un}px)`,on.current.style.transform=getObjectCSSMatrix(Un,1/((ot||10)/400)))}else{const xn=ot===void 0?1:objectScale(Qt.current,Mt)*ot;Kt.style.transform=`translate3d(${$t[0]}px,${$t[1]}px,0) scale(${xn})`}qt.current=$t,Dt.current=Mt.zoom}}if(!kt&&yn.current&&!Yt.current)if(lt){if(Jt.current){const $t=Jt.current.children[0];if($t!=null&&$t.clientWidth&&$t!=null&&$t.clientHeight){const{isOrthographicCamera:Vt}=Mt;if(Vt||gt)Ct.scale&&(Array.isArray(Ct.scale)?Ct.scale instanceof Vector3?yn.current.scale.copy(Ct.scale.clone().divideScalar(1)):yn.current.scale.set(1/Ct.scale[0],1/Ct.scale[1],1/Ct.scale[2]):yn.current.scale.setScalar(1/Ct.scale));else{const Zt=(ot||10)/400,sn=$t.clientWidth*Zt,hn=$t.clientHeight*Zt;yn.current.scale.set(sn,hn,1)}Yt.current=!0}}}else{const $t=Kt.children[0];if($t!=null&&$t.clientWidth&&$t!=null&&$t.clientHeight){const Vt=1/It.factor,Zt=$t.clientWidth*Vt,sn=$t.clientHeight*Vt;yn.current.scale.set(Zt,sn,1),Yt.current=!0}yn.current.lookAt(Ot.camera.position)}});const Lt=reactExports.useMemo(()=>({vertexShader:lt?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[lt]);return reactExports.createElement("group",_extends$2({},Ct,{ref:Qt}),dt&&!kt&&reactExports.createElement("mesh",{castShadow:pt,receiveShadow:mt,ref:yn},gt||reactExports.createElement("planeGeometry",null),ht||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:Lt.vertexShader,fragmentShader:Lt.fragmentShader})))});let saveLastTotalLoaded=0;const useProgress=create(et=>(DefaultLoadingManager.onStart=($,_e,tt)=>{et({active:!0,item:$,loaded:_e,total:tt,progress:(_e-saveLastTotalLoaded)/(tt-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{et({active:!1})},DefaultLoadingManager.onError=$=>et(_e=>({errors:[..._e.errors,$]})),DefaultLoadingManager.onProgress=($,_e,tt)=>{_e===tt&&(saveLastTotalLoaded=tt),et({active:!0,item:$,loaded:_e,total:tt,progress:(_e-saveLastTotalLoaded)/(tt-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function _typeof(et){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(et)}function _toPrimitive(et,$){if(_typeof(et)!=="object"||et===null)return et;var _e=et[Symbol.toPrimitive];if(_e!==void 0){var tt=_e.call(et,$||"default");if(_typeof(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(et)}function _toPropertyKey(et){var $=_toPrimitive(et,"string");return _typeof($)==="symbol"?$:String($)}function _defineProperty(et,$,_e){return $=_toPropertyKey($),$ in et?Object.defineProperty(et,$,{value:_e,enumerable:!0,configurable:!0,writable:!0}):et[$]=_e,et}const moduloWrapAround=(et,$)=>(et%$+$)%$;let OrbitControls$1=class extends EventDispatcher{constructor($,_e){super(),_defineProperty(this,"object",void 0),_defineProperty(this,"domElement",void 0),_defineProperty(this,"enabled",!0),_defineProperty(this,"target",new Vector3),_defineProperty(this,"minDistance",0),_defineProperty(this,"maxDistance",1/0),_defineProperty(this,"minZoom",0),_defineProperty(this,"maxZoom",1/0),_defineProperty(this,"minPolarAngle",0),_defineProperty(this,"maxPolarAngle",Math.PI),_defineProperty(this,"minAzimuthAngle",-1/0),_defineProperty(this,"maxAzimuthAngle",1/0),_defineProperty(this,"enableDamping",!1),_defineProperty(this,"dampingFactor",.05),_defineProperty(this,"enableZoom",!0),_defineProperty(this,"zoomSpeed",1),_defineProperty(this,"enableRotate",!0),_defineProperty(this,"rotateSpeed",1),_defineProperty(this,"enablePan",!0),_defineProperty(this,"panSpeed",1),_defineProperty(this,"screenSpacePanning",!0),_defineProperty(this,"keyPanSpeed",7),_defineProperty(this,"autoRotate",!1),_defineProperty(this,"autoRotateSpeed",2),_defineProperty(this,"reverseOrbit",!1),_defineProperty(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),_defineProperty(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),_defineProperty(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),_defineProperty(this,"target0",void 0),_defineProperty(this,"position0",void 0),_defineProperty(this,"zoom0",void 0),_defineProperty(this,"_domElementKeyEvents",null),_defineProperty(this,"getPolarAngle",void 0),_defineProperty(this,"getAzimuthalAngle",void 0),_defineProperty(this,"setPolarAngle",void 0),_defineProperty(this,"setAzimuthalAngle",void 0),_defineProperty(this,"getDistance",void 0),_defineProperty(this,"listenToKeyEvents",void 0),_defineProperty(this,"saveState",void 0),_defineProperty(this,"reset",void 0),_defineProperty(this,"update",void 0),_defineProperty(this,"connect",void 0),_defineProperty(this,"dispose",void 0),this.object=$,this.domElement=_e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof PerspectiveCamera?this.object.zoom:1,this.getPolarAngle=()=>lt.phi,this.getAzimuthalAngle=()=>lt.theta,this.setPolarAngle=Sn=>{let Bn=moduloWrapAround(Sn,2*Math.PI),ir=lt.phi;ir<0&&(ir+=2*Math.PI),Bn<0&&(Bn+=2*Math.PI);let er=Math.abs(Bn-ir);2*Math.PI-er<er&&(Bn<ir?Bn+=2*Math.PI:ir+=2*Math.PI),dt.phi=Bn-ir,tt.update()},this.setAzimuthalAngle=Sn=>{let Bn=moduloWrapAround(Sn,2*Math.PI),ir=lt.theta;ir<0&&(ir+=2*Math.PI),Bn<0&&(Bn+=2*Math.PI);let er=Math.abs(Bn-ir);2*Math.PI-er<er&&(Bn<ir?Bn+=2*Math.PI:ir+=2*Math.PI),dt.theta=Bn-ir,tt.update()},this.getDistance=()=>tt.object.position.distanceTo(tt.target),this.listenToKeyEvents=Sn=>{Sn.addEventListener("keydown",Mn),this._domElementKeyEvents=Sn},this.saveState=()=>{tt.target0.copy(tt.target),tt.position0.copy(tt.object.position),tt.zoom0=tt.object instanceof PerspectiveCamera?tt.object.zoom:1},this.reset=()=>{tt.target.copy(tt.target0),tt.object.position.copy(tt.position0),tt.object instanceof PerspectiveCamera&&(tt.object.zoom=tt.zoom0,tt.object.updateProjectionMatrix()),tt.dispatchEvent(nt),tt.update(),ot=st.NONE},this.update=(()=>{const Sn=new Vector3,Bn=new Quaternion().setFromUnitVectors($.up,new Vector3(0,1,0)),ir=Bn.clone().invert(),er=new Vector3,En=new Quaternion,On=2*Math.PI;return function(){const Xt=tt.object.position;Sn.copy(Xt).sub(tt.target),Sn.applyQuaternion(Bn),lt.setFromVector3(Sn),tt.autoRotate&&ot===st.NONE&&Gt(Tt()),tt.enableDamping?(lt.theta+=dt.theta*tt.dampingFactor,lt.phi+=dt.phi*tt.dampingFactor):(lt.theta+=dt.theta,lt.phi+=dt.phi);let rn=tt.minAzimuthAngle,Tn=tt.maxAzimuthAngle;return isFinite(rn)&&isFinite(Tn)&&(rn<-Math.PI?rn+=On:rn>Math.PI&&(rn-=On),Tn<-Math.PI?Tn+=On:Tn>Math.PI&&(Tn-=On),rn<=Tn?lt.theta=Math.max(rn,Math.min(Tn,lt.theta)):lt.theta=lt.theta>(rn+Tn)/2?Math.max(rn,lt.theta):Math.min(Tn,lt.theta)),lt.phi=Math.max(tt.minPolarAngle,Math.min(tt.maxPolarAngle,lt.phi)),lt.makeSafe(),lt.radius*=ct,lt.radius=Math.max(tt.minDistance,Math.min(tt.maxDistance,lt.radius)),tt.enableDamping===!0?tt.target.addScaledVector(pt,tt.dampingFactor):tt.target.add(pt),Sn.setFromSpherical(lt),Sn.applyQuaternion(ir),Xt.copy(tt.target).add(Sn),tt.object.lookAt(tt.target),tt.enableDamping===!0?(dt.theta*=1-tt.dampingFactor,dt.phi*=1-tt.dampingFactor,pt.multiplyScalar(1-tt.dampingFactor)):(dt.set(0,0,0),pt.set(0,0,0)),ct=1,mt||er.distanceToSquared(tt.object.position)>at||8*(1-En.dot(tt.object.quaternion))>at?(tt.dispatchEvent(nt),er.copy(tt.object.position),En.copy(tt.object.quaternion),mt=!1,!0):!1}})(),this.connect=Sn=>{Sn===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),tt.domElement=Sn,tt.domElement.style.touchAction="none",tt.domElement.addEventListener("contextmenu",Un),tt.domElement.addEventListener("pointerdown",xn),tt.domElement.addEventListener("pointercancel",Gn),tt.domElement.addEventListener("wheel",jt)},this.dispose=()=>{var Sn,Bn,ir,er,En,On;(Sn=tt.domElement)===null||Sn===void 0||Sn.removeEventListener("contextmenu",Un),(Bn=tt.domElement)===null||Bn===void 0||Bn.removeEventListener("pointerdown",xn),(ir=tt.domElement)===null||ir===void 0||ir.removeEventListener("pointercancel",Gn),(er=tt.domElement)===null||er===void 0||er.removeEventListener("wheel",jt),(En=tt.domElement)===null||En===void 0||En.ownerDocument.removeEventListener("pointermove",un),(On=tt.domElement)===null||On===void 0||On.ownerDocument.removeEventListener("pointerup",fn),tt._domElementKeyEvents!==null&&tt._domElementKeyEvents.removeEventListener("keydown",Mn)};const tt=this,nt={type:"change"},rt={type:"start"},it={type:"end"},st={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let ot=st.NONE;const at=1e-6,lt=new Spherical,dt=new Spherical;let ct=1;const pt=new Vector3;let mt=!1;const ht=new Vector2,gt=new Vector2,vt=new Vector2,_t=new Vector2,yt=new Vector2,xt=new Vector2,At=new Vector2,Ct=new Vector2,Pt=new Vector2,bt=[],Mt={};function Tt(){return 2*Math.PI/60/60*tt.autoRotateSpeed}function Ft(){return Math.pow(.95,tt.zoomSpeed)}function Gt(Sn){tt.reverseOrbit?dt.theta+=Sn:dt.theta-=Sn}function Wt(Sn){tt.reverseOrbit?dt.phi+=Sn:dt.phi-=Sn}const It=(()=>{const Sn=new Vector3;return function(ir,er){Sn.setFromMatrixColumn(er,0),Sn.multiplyScalar(-ir),pt.add(Sn)}})(),Kt=(()=>{const Sn=new Vector3;return function(ir,er){tt.screenSpacePanning===!0?Sn.setFromMatrixColumn(er,1):(Sn.setFromMatrixColumn(er,0),Sn.crossVectors(tt.object.up,Sn)),Sn.multiplyScalar(ir),pt.add(Sn)}})(),Ut=(()=>{const Sn=new Vector3;return function(ir,er){const En=tt.domElement;if(En&&tt.object instanceof PerspectiveCamera&&tt.object.isPerspectiveCamera){const On=tt.object.position;Sn.copy(On).sub(tt.target);let wn=Sn.length();wn*=Math.tan(tt.object.fov/2*Math.PI/180),It(2*ir*wn/En.clientHeight,tt.object.matrix),Kt(2*er*wn/En.clientHeight,tt.object.matrix)}else En&&tt.object instanceof OrthographicCamera&&tt.object.isOrthographicCamera?(It(ir*(tt.object.right-tt.object.left)/tt.object.zoom/En.clientWidth,tt.object.matrix),Kt(er*(tt.object.top-tt.object.bottom)/tt.object.zoom/En.clientHeight,tt.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),tt.enablePan=!1)}})();function Qt(Sn){tt.object instanceof PerspectiveCamera&&tt.object.isPerspectiveCamera?ct/=Sn:tt.object instanceof OrthographicCamera&&tt.object.isOrthographicCamera?(tt.object.zoom=Math.max(tt.minZoom,Math.min(tt.maxZoom,tt.object.zoom*Sn)),tt.object.updateProjectionMatrix(),mt=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),tt.enableZoom=!1)}function Dt(Sn){tt.object instanceof PerspectiveCamera&&tt.object.isPerspectiveCamera?ct*=Sn:tt.object instanceof OrthographicCamera&&tt.object.isOrthographicCamera?(tt.object.zoom=Math.max(tt.minZoom,Math.min(tt.maxZoom,tt.object.zoom/Sn)),tt.object.updateProjectionMatrix(),mt=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),tt.enableZoom=!1)}function qt(Sn){ht.set(Sn.clientX,Sn.clientY)}function Jt(Sn){At.set(Sn.clientX,Sn.clientY)}function on(Sn){_t.set(Sn.clientX,Sn.clientY)}function tn(Sn){gt.set(Sn.clientX,Sn.clientY),vt.subVectors(gt,ht).multiplyScalar(tt.rotateSpeed);const Bn=tt.domElement;Bn&&(Gt(2*Math.PI*vt.x/Bn.clientHeight),Wt(2*Math.PI*vt.y/Bn.clientHeight)),ht.copy(gt),tt.update()}function yn(Sn){Ct.set(Sn.clientX,Sn.clientY),Pt.subVectors(Ct,At),Pt.y>0?Qt(Ft()):Pt.y<0&&Dt(Ft()),At.copy(Ct),tt.update()}function Yt(Sn){yt.set(Sn.clientX,Sn.clientY),xt.subVectors(yt,_t).multiplyScalar(tt.panSpeed),Ut(xt.x,xt.y),_t.copy(yt),tt.update()}function kt(Sn){Sn.deltaY<0?Dt(Ft()):Sn.deltaY>0&&Qt(Ft()),tt.update()}function Bt(Sn){let Bn=!1;switch(Sn.code){case tt.keys.UP:Ut(0,tt.keyPanSpeed),Bn=!0;break;case tt.keys.BOTTOM:Ut(0,-tt.keyPanSpeed),Bn=!0;break;case tt.keys.LEFT:Ut(tt.keyPanSpeed,0),Bn=!0;break;case tt.keys.RIGHT:Ut(-tt.keyPanSpeed,0),Bn=!0;break}Bn&&(Sn.preventDefault(),tt.update())}function Ht(){if(bt.length==1)ht.set(bt[0].pageX,bt[0].pageY);else{const Sn=.5*(bt[0].pageX+bt[1].pageX),Bn=.5*(bt[0].pageY+bt[1].pageY);ht.set(Sn,Bn)}}function wt(){if(bt.length==1)_t.set(bt[0].pageX,bt[0].pageY);else{const Sn=.5*(bt[0].pageX+bt[1].pageX),Bn=.5*(bt[0].pageY+bt[1].pageY);_t.set(Sn,Bn)}}function Lt(){const Sn=bt[0].pageX-bt[1].pageX,Bn=bt[0].pageY-bt[1].pageY,ir=Math.sqrt(Sn*Sn+Bn*Bn);At.set(0,ir)}function Ot(){tt.enableZoom&&Lt(),tt.enablePan&&wt()}function $t(){tt.enableZoom&&Lt(),tt.enableRotate&&Ht()}function Vt(Sn){if(bt.length==1)gt.set(Sn.pageX,Sn.pageY);else{const ir=ur(Sn),er=.5*(Sn.pageX+ir.x),En=.5*(Sn.pageY+ir.y);gt.set(er,En)}vt.subVectors(gt,ht).multiplyScalar(tt.rotateSpeed);const Bn=tt.domElement;Bn&&(Gt(2*Math.PI*vt.x/Bn.clientHeight),Wt(2*Math.PI*vt.y/Bn.clientHeight)),ht.copy(gt)}function Zt(Sn){if(bt.length==1)yt.set(Sn.pageX,Sn.pageY);else{const Bn=ur(Sn),ir=.5*(Sn.pageX+Bn.x),er=.5*(Sn.pageY+Bn.y);yt.set(ir,er)}xt.subVectors(yt,_t).multiplyScalar(tt.panSpeed),Ut(xt.x,xt.y),_t.copy(yt)}function sn(Sn){const Bn=ur(Sn),ir=Sn.pageX-Bn.x,er=Sn.pageY-Bn.y,En=Math.sqrt(ir*ir+er*er);Ct.set(0,En),Pt.set(0,Math.pow(Ct.y/At.y,tt.zoomSpeed)),Qt(Pt.y),At.copy(Ct)}function hn(Sn){tt.enableZoom&&sn(Sn),tt.enablePan&&Zt(Sn)}function ln(Sn){tt.enableZoom&&sn(Sn),tt.enableRotate&&Vt(Sn)}function xn(Sn){if(tt.enabled!==!1){if(bt.length===0){var Bn,ir;(Bn=tt.domElement)===null||Bn===void 0||Bn.ownerDocument.addEventListener("pointermove",un),(ir=tt.domElement)===null||ir===void 0||ir.ownerDocument.addEventListener("pointerup",fn)}or(Sn),Sn.pointerType==="touch"?cn(Sn):Xn(Sn)}}function un(Sn){tt.enabled!==!1&&(Sn.pointerType==="touch"?_n(Sn):nn(Sn))}function fn(Sn){if(Kn(Sn),bt.length===0){var Bn,ir,er;(Bn=tt.domElement)===null||Bn===void 0||Bn.releasePointerCapture(Sn.pointerId),(ir=tt.domElement)===null||ir===void 0||ir.ownerDocument.removeEventListener("pointermove",un),(er=tt.domElement)===null||er===void 0||er.ownerDocument.removeEventListener("pointerup",fn)}tt.dispatchEvent(it),ot=st.NONE}function Gn(Sn){Kn(Sn)}function Xn(Sn){let Bn;switch(Sn.button){case 0:Bn=tt.mouseButtons.LEFT;break;case 1:Bn=tt.mouseButtons.MIDDLE;break;case 2:Bn=tt.mouseButtons.RIGHT;break;default:Bn=-1}switch(Bn){case MOUSE.DOLLY:if(tt.enableZoom===!1)return;Jt(Sn),ot=st.DOLLY;break;case MOUSE.ROTATE:if(Sn.ctrlKey||Sn.metaKey||Sn.shiftKey){if(tt.enablePan===!1)return;on(Sn),ot=st.PAN}else{if(tt.enableRotate===!1)return;qt(Sn),ot=st.ROTATE}break;case MOUSE.PAN:if(Sn.ctrlKey||Sn.metaKey||Sn.shiftKey){if(tt.enableRotate===!1)return;qt(Sn),ot=st.ROTATE}else{if(tt.enablePan===!1)return;on(Sn),ot=st.PAN}break;default:ot=st.NONE}ot!==st.NONE&&tt.dispatchEvent(rt)}function nn(Sn){if(tt.enabled!==!1)switch(ot){case st.ROTATE:if(tt.enableRotate===!1)return;tn(Sn);break;case st.DOLLY:if(tt.enableZoom===!1)return;yn(Sn);break;case st.PAN:if(tt.enablePan===!1)return;Yt(Sn);break}}function jt(Sn){tt.enabled===!1||tt.enableZoom===!1||ot!==st.NONE&&ot!==st.ROTATE||(Sn.preventDefault(),tt.dispatchEvent(rt),kt(Sn),tt.dispatchEvent(it))}function Mn(Sn){tt.enabled===!1||tt.enablePan===!1||Bt(Sn)}function cn(Sn){switch(Vn(Sn),bt.length){case 1:switch(tt.touches.ONE){case TOUCH.ROTATE:if(tt.enableRotate===!1)return;Ht(),ot=st.TOUCH_ROTATE;break;case TOUCH.PAN:if(tt.enablePan===!1)return;wt(),ot=st.TOUCH_PAN;break;default:ot=st.NONE}break;case 2:switch(tt.touches.TWO){case TOUCH.DOLLY_PAN:if(tt.enableZoom===!1&&tt.enablePan===!1)return;Ot(),ot=st.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(tt.enableZoom===!1&&tt.enableRotate===!1)return;$t(),ot=st.TOUCH_DOLLY_ROTATE;break;default:ot=st.NONE}break;default:ot=st.NONE}ot!==st.NONE&&tt.dispatchEvent(rt)}function _n(Sn){switch(Vn(Sn),ot){case st.TOUCH_ROTATE:if(tt.enableRotate===!1)return;Vt(Sn),tt.update();break;case st.TOUCH_PAN:if(tt.enablePan===!1)return;Zt(Sn),tt.update();break;case st.TOUCH_DOLLY_PAN:if(tt.enableZoom===!1&&tt.enablePan===!1)return;hn(Sn),tt.update();break;case st.TOUCH_DOLLY_ROTATE:if(tt.enableZoom===!1&&tt.enableRotate===!1)return;ln(Sn),tt.update();break;default:ot=st.NONE}}function Un(Sn){tt.enabled!==!1&&Sn.preventDefault()}function or(Sn){bt.push(Sn)}function Kn(Sn){delete Mt[Sn.pointerId];for(let Bn=0;Bn<bt.length;Bn++)if(bt[Bn].pointerId==Sn.pointerId){bt.splice(Bn,1);return}}function Vn(Sn){let Bn=Mt[Sn.pointerId];Bn===void 0&&(Bn=new Vector2,Mt[Sn.pointerId]=Bn),Bn.set(Sn.pageX,Sn.pageY)}function ur(Sn){const Bn=Sn.pointerId===bt[0].pointerId?bt[1]:bt[0];return Mt[Bn.pointerId]}_e!==void 0&&this.connect(_e),this.update()}};class GLTFLoader extends Loader{constructor($){super($),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(_e){return new GLTFMaterialsClearcoatExtension(_e)}),this.register(function(_e){return new GLTFTextureBasisUExtension(_e)}),this.register(function(_e){return new GLTFTextureWebPExtension(_e)}),this.register(function(_e){return new GLTFMaterialsSheenExtension(_e)}),this.register(function(_e){return new GLTFMaterialsTransmissionExtension(_e)}),this.register(function(_e){return new GLTFMaterialsVolumeExtension(_e)}),this.register(function(_e){return new GLTFMaterialsIorExtension(_e)}),this.register(function(_e){return new GLTFMaterialsEmissiveStrengthExtension(_e)}),this.register(function(_e){return new GLTFMaterialsSpecularExtension(_e)}),this.register(function(_e){return new GLTFMaterialsIridescenceExtension(_e)}),this.register(function(_e){return new GLTFLightsExtension(_e)}),this.register(function(_e){return new GLTFMeshoptCompression(_e)})}load($,_e,tt,nt){const rt=this;let it;this.resourcePath!==""?it=this.resourcePath:this.path!==""?it=this.path:it=LoaderUtils.extractUrlBase($),this.manager.itemStart($);const st=function(at){nt?nt(at):console.error(at),rt.manager.itemError($),rt.manager.itemEnd($)},ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials),ot.load($,function(at){try{rt.parse(at,it,function(lt){_e(lt),rt.manager.itemEnd($)},st)}catch(lt){st(lt)}},tt,st)}setDRACOLoader($){return this.dracoLoader=$,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader($){return this.ktx2Loader=$,this}setMeshoptDecoder($){return this.meshoptDecoder=$,this}register($){return this.pluginCallbacks.indexOf($)===-1&&this.pluginCallbacks.push($),this}unregister($){return this.pluginCallbacks.indexOf($)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf($),1),this}parse($,_e,tt,nt){let rt;const it={},st={};if(typeof $=="string")rt=$;else if(LoaderUtils.decodeText(new Uint8Array($,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{it[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension($)}catch(dt){nt&&nt(dt);return}rt=it[EXTENSIONS.KHR_BINARY_GLTF].content}else rt=LoaderUtils.decodeText(new Uint8Array($));const ot=JSON.parse(rt);if(ot.asset===void 0||ot.asset.version[0]<2){nt&&nt(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const at=new GLTFParser(ot,{path:_e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});at.fileLoader.setRequestHeader(this.requestHeader);for(let lt=0;lt<this.pluginCallbacks.length;lt++){const dt=this.pluginCallbacks[lt](at);st[dt.name]=dt,it[dt.name]=!0}if(ot.extensionsUsed)for(let lt=0;lt<ot.extensionsUsed.length;++lt){const dt=ot.extensionsUsed[lt],ct=ot.extensionsRequired||[];switch(dt){case EXTENSIONS.KHR_MATERIALS_UNLIT:it[dt]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:it[dt]=new GLTFMaterialsPbrSpecularGlossinessExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:it[dt]=new GLTFDracoMeshCompressionExtension(ot,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:it[dt]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:it[dt]=new GLTFMeshQuantizationExtension;break;default:ct.indexOf(dt)>=0&&st[dt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+dt+'".')}}at.setExtensions(it),at.setPlugins(st),at.parse(tt,nt)}parseAsync($,_e){const tt=this;return new Promise(function(nt,rt){tt.parse($,_e,nt,rt)})}}function GLTFRegistry(){let et={};return{get:function($){return et[$]},add:function($,_e){et[$]=_e},remove:function($){delete et[$]},removeAll:function(){et={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class GLTFLightsExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const $=this.parser,_e=this.parser.json.nodes||[];for(let tt=0,nt=_e.length;tt<nt;tt++){const rt=_e[tt];rt.extensions&&rt.extensions[this.name]&&rt.extensions[this.name].light!==void 0&&$._addNodeRef(this.cache,rt.extensions[this.name].light)}}_loadLight($){const _e=this.parser,tt="light:"+$;let nt=_e.cache.get(tt);if(nt)return nt;const rt=_e.json,ot=((rt.extensions&&rt.extensions[this.name]||{}).lights||[])[$];let at;const lt=new Color(16777215);ot.color!==void 0&&lt.fromArray(ot.color);const dt=ot.range!==void 0?ot.range:0;switch(ot.type){case"directional":at=new DirectionalLight(lt),at.target.position.set(0,0,-1),at.add(at.target);break;case"point":at=new PointLight(lt),at.distance=dt;break;case"spot":at=new SpotLight(lt),at.distance=dt,ot.spot=ot.spot||{},ot.spot.innerConeAngle=ot.spot.innerConeAngle!==void 0?ot.spot.innerConeAngle:0,ot.spot.outerConeAngle=ot.spot.outerConeAngle!==void 0?ot.spot.outerConeAngle:Math.PI/4,at.angle=ot.spot.outerConeAngle,at.penumbra=1-ot.spot.innerConeAngle/ot.spot.outerConeAngle,at.target.position.set(0,0,-1),at.add(at.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+ot.type)}return at.position.set(0,0,0),at.decay=2,ot.intensity!==void 0&&(at.intensity=ot.intensity),at.name=_e.createUniqueName(ot.name||"light_"+$),nt=Promise.resolve(at),_e.cache.add(tt,nt),nt}createNodeAttachment($){const _e=this,tt=this.parser,rt=tt.json.nodes[$],st=(rt.extensions&&rt.extensions[this.name]||{}).light;return st===void 0?null:this._loadLight(st).then(function(ot){return tt._getNodeRef(_e.cache,st,ot)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams($,_e,tt){const nt=[];$.color=new Color(1,1,1),$.opacity=1;const rt=_e.pbrMetallicRoughness;if(rt){if(Array.isArray(rt.baseColorFactor)){const it=rt.baseColorFactor;$.color.fromArray(it),$.opacity=it[3]}rt.baseColorTexture!==void 0&&nt.push(tt.assignTexture($,"map",rt.baseColorTexture,sRGBEncoding))}return Promise.all(nt)}}class GLTFMaterialsEmissiveStrengthExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams($,_e){const nt=this.parser.json.materials[$];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=nt.extensions[this.name].emissiveStrength;return rt!==void 0&&(_e.emissiveIntensity=rt),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType($){const tt=this.parser.json.materials[$];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,_e){const tt=this.parser,nt=tt.json.materials[$];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];if(it.clearcoatFactor!==void 0&&(_e.clearcoat=it.clearcoatFactor),it.clearcoatTexture!==void 0&&rt.push(tt.assignTexture(_e,"clearcoatMap",it.clearcoatTexture)),it.clearcoatRoughnessFactor!==void 0&&(_e.clearcoatRoughness=it.clearcoatRoughnessFactor),it.clearcoatRoughnessTexture!==void 0&&rt.push(tt.assignTexture(_e,"clearcoatRoughnessMap",it.clearcoatRoughnessTexture)),it.clearcoatNormalTexture!==void 0&&(rt.push(tt.assignTexture(_e,"clearcoatNormalMap",it.clearcoatNormalTexture)),it.clearcoatNormalTexture.scale!==void 0)){const st=it.clearcoatNormalTexture.scale;_e.clearcoatNormalScale=new Vector2(st,st)}return Promise.all(rt)}}class GLTFMaterialsIridescenceExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType($){const tt=this.parser.json.materials[$];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,_e){const tt=this.parser,nt=tt.json.materials[$];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];return it.iridescenceFactor!==void 0&&(_e.iridescence=it.iridescenceFactor),it.iridescenceTexture!==void 0&&rt.push(tt.assignTexture(_e,"iridescenceMap",it.iridescenceTexture)),it.iridescenceIor!==void 0&&(_e.iridescenceIOR=it.iridescenceIor),_e.iridescenceThicknessRange===void 0&&(_e.iridescenceThicknessRange=[100,400]),it.iridescenceThicknessMinimum!==void 0&&(_e.iridescenceThicknessRange[0]=it.iridescenceThicknessMinimum),it.iridescenceThicknessMaximum!==void 0&&(_e.iridescenceThicknessRange[1]=it.iridescenceThicknessMaximum),it.iridescenceThicknessTexture!==void 0&&rt.push(tt.assignTexture(_e,"iridescenceThicknessMap",it.iridescenceThicknessTexture)),Promise.all(rt)}}class GLTFMaterialsSheenExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType($){const tt=this.parser.json.materials[$];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,_e){const tt=this.parser,nt=tt.json.materials[$];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[];_e.sheenColor=new Color(0,0,0),_e.sheenRoughness=0,_e.sheen=1;const it=nt.extensions[this.name];return it.sheenColorFactor!==void 0&&_e.sheenColor.fromArray(it.sheenColorFactor),it.sheenRoughnessFactor!==void 0&&(_e.sheenRoughness=it.sheenRoughnessFactor),it.sheenColorTexture!==void 0&&rt.push(tt.assignTexture(_e,"sheenColorMap",it.sheenColorTexture,sRGBEncoding)),it.sheenRoughnessTexture!==void 0&&rt.push(tt.assignTexture(_e,"sheenRoughnessMap",it.sheenRoughnessTexture)),Promise.all(rt)}}class GLTFMaterialsTransmissionExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType($){const tt=this.parser.json.materials[$];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,_e){const tt=this.parser,nt=tt.json.materials[$];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];return it.transmissionFactor!==void 0&&(_e.transmission=it.transmissionFactor),it.transmissionTexture!==void 0&&rt.push(tt.assignTexture(_e,"transmissionMap",it.transmissionTexture)),Promise.all(rt)}}class GLTFMaterialsVolumeExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType($){const tt=this.parser.json.materials[$];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,_e){const tt=this.parser,nt=tt.json.materials[$];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];_e.thickness=it.thicknessFactor!==void 0?it.thicknessFactor:0,it.thicknessTexture!==void 0&&rt.push(tt.assignTexture(_e,"thicknessMap",it.thicknessTexture)),_e.attenuationDistance=it.attenuationDistance||1/0;const st=it.attenuationColor||[1,1,1];return _e.attenuationColor=new Color(st[0],st[1],st[2]),Promise.all(rt)}}class GLTFMaterialsIorExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType($){const tt=this.parser.json.materials[$];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,_e){const nt=this.parser.json.materials[$];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=nt.extensions[this.name];return _e.ior=rt.ior!==void 0?rt.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType($){const tt=this.parser.json.materials[$];return!tt.extensions||!tt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,_e){const tt=this.parser,nt=tt.json.materials[$];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const rt=[],it=nt.extensions[this.name];_e.specularIntensity=it.specularFactor!==void 0?it.specularFactor:1,it.specularTexture!==void 0&&rt.push(tt.assignTexture(_e,"specularIntensityMap",it.specularTexture));const st=it.specularColorFactor||[1,1,1];return _e.specularColor=new Color(st[0],st[1],st[2]),it.specularColorTexture!==void 0&&rt.push(tt.assignTexture(_e,"specularColorMap",it.specularColorTexture,sRGBEncoding)),Promise.all(rt)}}class GLTFTextureBasisUExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture($){const _e=this.parser,tt=_e.json,nt=tt.textures[$];if(!nt.extensions||!nt.extensions[this.name])return null;const rt=nt.extensions[this.name],it=_e.options.ktx2Loader;if(!it){if(tt.extensionsRequired&&tt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return _e.loadTextureImage($,rt.source,it)}}class GLTFTextureWebPExtension{constructor($){this.parser=$,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture($){const _e=this.name,tt=this.parser,nt=tt.json,rt=nt.textures[$];if(!rt.extensions||!rt.extensions[_e])return null;const it=rt.extensions[_e],st=nt.images[it.source];let ot=tt.textureLoader;if(st.uri){const at=tt.options.manager.getHandler(st.uri);at!==null&&(ot=at)}return this.detectSupport().then(function(at){if(at)return tt.loadTextureImage($,it.source,ot);if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(_e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return tt.loadTexture($)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function($){const _e=new Image;_e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",_e.onload=_e.onerror=function(){$(_e.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor($){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=$}loadBufferView($){const _e=this.parser.json,tt=_e.bufferViews[$];if(tt.extensions&&tt.extensions[this.name]){const nt=tt.extensions[this.name],rt=this.parser.getDependency("buffer",nt.buffer),it=this.parser.options.meshoptDecoder;if(!it||!it.supported){if(_e.extensionsRequired&&_e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return rt.then(function(st){const ot=nt.byteOffset||0,at=nt.byteLength||0,lt=nt.count,dt=nt.byteStride,ct=new Uint8Array(st,ot,at);return it.decodeGltfBufferAsync?it.decodeGltfBufferAsync(lt,dt,ct,nt.mode,nt.filter).then(function(pt){return pt.buffer}):it.ready.then(function(){const pt=new ArrayBuffer(lt*dt);return it.decodeGltfBuffer(new Uint8Array(pt),lt,dt,ct,nt.mode,nt.filter),pt})})}else return null}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor($){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const _e=new DataView($,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array($.slice(0,4))),version:_e.getUint32(4,!0),length:_e.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const tt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,nt=new DataView($,BINARY_EXTENSION_HEADER_LENGTH);let rt=0;for(;rt<tt;){const it=nt.getUint32(rt,!0);rt+=4;const st=nt.getUint32(rt,!0);if(rt+=4,st===BINARY_EXTENSION_CHUNK_TYPES.JSON){const ot=new Uint8Array($,BINARY_EXTENSION_HEADER_LENGTH+rt,it);this.content=LoaderUtils.decodeText(ot)}else if(st===BINARY_EXTENSION_CHUNK_TYPES.BIN){const ot=BINARY_EXTENSION_HEADER_LENGTH+rt;this.body=$.slice(ot,ot+it)}rt+=it}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor($,_e){if(!_e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=$,this.dracoLoader=_e,this.dracoLoader.preload()}decodePrimitive($,_e){const tt=this.json,nt=this.dracoLoader,rt=$.extensions[this.name].bufferView,it=$.extensions[this.name].attributes,st={},ot={},at={};for(const lt in it){const dt=ATTRIBUTES[lt]||lt.toLowerCase();st[dt]=it[lt]}for(const lt in $.attributes){const dt=ATTRIBUTES[lt]||lt.toLowerCase();if(it[lt]!==void 0){const ct=tt.accessors[$.attributes[lt]],pt=WEBGL_COMPONENT_TYPES[ct.componentType];at[dt]=pt.name,ot[dt]=ct.normalized===!0}}return _e.getDependency("bufferView",rt).then(function(lt){return new Promise(function(dt){nt.decodeDracoFile(lt,function(ct){for(const pt in ct.attributes){const mt=ct.attributes[pt],ht=ot[pt];ht!==void 0&&(mt.normalized=ht)}dt(ct)},st,at)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture($,_e){return _e.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),_e.offset===void 0&&_e.rotation===void 0&&_e.scale===void 0||($=$.clone(),_e.offset!==void 0&&$.offset.fromArray(_e.offset),_e.rotation!==void 0&&($.rotation=_e.rotation),_e.scale!==void 0&&$.repeat.fromArray(_e.scale),$.needsUpdate=!0),$}}class GLTFMeshStandardSGMaterial extends MeshStandardMaterial{constructor($){super(),this.isGLTFSpecularGlossinessMaterial=!0;const _e=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),tt=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),nt=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),rt=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),it=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),st={specular:{value:new Color().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=st,this.onBeforeCompile=function(ot){for(const at in st)ot.uniforms[at]=st[at];ot.fragmentShader=ot.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",_e).replace("#include <metalnessmap_pars_fragment>",tt).replace("#include <roughnessmap_fragment>",nt).replace("#include <metalnessmap_fragment>",rt).replace("#include <lights_physical_fragment>",it)},Object.defineProperties(this,{specular:{get:function(){return st.specular.value},set:function(ot){st.specular.value=ot}},specularMap:{get:function(){return st.specularMap.value},set:function(ot){st.specularMap.value=ot,ot?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return st.glossiness.value},set:function(ot){st.glossiness.value=ot}},glossinessMap:{get:function(){return st.glossinessMap.value},set:function(ot){st.glossinessMap.value=ot,ot?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues($)}copy($){return super.copy($),this.specularMap=$.specularMap,this.specular.copy($.specular),this.glossinessMap=$.glossinessMap,this.glossiness=$.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class GLTFMaterialsPbrSpecularGlossinessExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return GLTFMeshStandardSGMaterial}extendParams($,_e,tt){const nt=_e.extensions[this.name];$.color=new Color(1,1,1),$.opacity=1;const rt=[];if(Array.isArray(nt.diffuseFactor)){const it=nt.diffuseFactor;$.color.fromArray(it),$.opacity=it[3]}if(nt.diffuseTexture!==void 0&&rt.push(tt.assignTexture($,"map",nt.diffuseTexture,sRGBEncoding)),$.emissive=new Color(0,0,0),$.glossiness=nt.glossinessFactor!==void 0?nt.glossinessFactor:1,$.specular=new Color(1,1,1),Array.isArray(nt.specularFactor)&&$.specular.fromArray(nt.specularFactor),nt.specularGlossinessTexture!==void 0){const it=nt.specularGlossinessTexture;rt.push(tt.assignTexture($,"glossinessMap",it)),rt.push(tt.assignTexture($,"specularMap",it,sRGBEncoding))}return Promise.all(rt)}createMaterial($){const _e=new GLTFMeshStandardSGMaterial($);return _e.fog=!0,_e.color=$.color,_e.map=$.map===void 0?null:$.map,_e.lightMap=null,_e.lightMapIntensity=1,_e.aoMap=$.aoMap===void 0?null:$.aoMap,_e.aoMapIntensity=1,_e.emissive=$.emissive,_e.emissiveIntensity=$.emissiveIntensity===void 0?1:$.emissiveIntensity,_e.emissiveMap=$.emissiveMap===void 0?null:$.emissiveMap,_e.bumpMap=$.bumpMap===void 0?null:$.bumpMap,_e.bumpScale=1,_e.normalMap=$.normalMap===void 0?null:$.normalMap,_e.normalMapType=TangentSpaceNormalMap,$.normalScale&&(_e.normalScale=$.normalScale),_e.displacementMap=null,_e.displacementScale=1,_e.displacementBias=0,_e.specularMap=$.specularMap===void 0?null:$.specularMap,_e.specular=$.specular,_e.glossinessMap=$.glossinessMap===void 0?null:$.glossinessMap,_e.glossiness=$.glossiness,_e.alphaMap=null,_e.envMap=$.envMap===void 0?null:$.envMap,_e.envMapIntensity=1,_e.refractionRatio=.98,_e}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor($,_e,tt,nt){super($,_e,tt,nt)}copySampleValue_($){const _e=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=$*nt*3+nt;for(let it=0;it!==nt;it++)_e[it]=tt[rt+it];return _e}interpolate_($,_e,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=st*2,at=st*3,lt=nt-_e,dt=(tt-_e)/lt,ct=dt*dt,pt=ct*dt,mt=$*at,ht=mt-at,gt=-2*pt+3*ct,vt=pt-ct,_t=1-gt,yt=vt-ct+dt;for(let xt=0;xt!==st;xt++){const At=it[ht+xt+st],Ct=it[ht+xt+ot]*lt,Pt=it[mt+xt+st],bt=it[mt+xt]*lt;rt[xt]=_t*At+yt*Ct+gt*Pt+vt*bt}return rt}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_($,_e,tt,nt){const rt=super.interpolate_($,_e,tt,nt);return _q.fromArray(rt).normalize().toArray(rt),rt}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(et){return et.DefaultMaterial===void 0&&(et.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),et.DefaultMaterial}function addUnknownExtensionsToUserData(et,$,_e){for(const tt in _e.extensions)et[tt]===void 0&&($.userData.gltfExtensions=$.userData.gltfExtensions||{},$.userData.gltfExtensions[tt]=_e.extensions[tt])}function assignExtrasToUserData(et,$){$.extras!==void 0&&(typeof $.extras=="object"?Object.assign(et.userData,$.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+$.extras))}function addMorphTargets(et,$,_e){let tt=!1,nt=!1,rt=!1;for(let at=0,lt=$.length;at<lt;at++){const dt=$[at];if(dt.POSITION!==void 0&&(tt=!0),dt.NORMAL!==void 0&&(nt=!0),dt.COLOR_0!==void 0&&(rt=!0),tt&&nt&&rt)break}if(!tt&&!nt&&!rt)return Promise.resolve(et);const it=[],st=[],ot=[];for(let at=0,lt=$.length;at<lt;at++){const dt=$[at];if(tt){const ct=dt.POSITION!==void 0?_e.getDependency("accessor",dt.POSITION):et.attributes.position;it.push(ct)}if(nt){const ct=dt.NORMAL!==void 0?_e.getDependency("accessor",dt.NORMAL):et.attributes.normal;st.push(ct)}if(rt){const ct=dt.COLOR_0!==void 0?_e.getDependency("accessor",dt.COLOR_0):et.attributes.color;ot.push(ct)}}return Promise.all([Promise.all(it),Promise.all(st),Promise.all(ot)]).then(function(at){const lt=at[0],dt=at[1],ct=at[2];return tt&&(et.morphAttributes.position=lt),nt&&(et.morphAttributes.normal=dt),rt&&(et.morphAttributes.color=ct),et.morphTargetsRelative=!0,et})}function updateMorphTargets(et,$){if(et.updateMorphTargets(),$.weights!==void 0)for(let _e=0,tt=$.weights.length;_e<tt;_e++)et.morphTargetInfluences[_e]=$.weights[_e];if($.extras&&Array.isArray($.extras.targetNames)){const _e=$.extras.targetNames;if(et.morphTargetInfluences.length===_e.length){et.morphTargetDictionary={};for(let tt=0,nt=_e.length;tt<nt;tt++)et.morphTargetDictionary[_e[tt]]=tt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(et){const $=et.extensions&&et.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];let _e;return $?_e="draco:"+$.bufferView+":"+$.indices+":"+createAttributesKey($.attributes):_e=et.indices+":"+createAttributesKey(et.attributes)+":"+et.mode,_e}function createAttributesKey(et){let $="";const _e=Object.keys(et).sort();for(let tt=0,nt=_e.length;tt<nt;tt++)$+=_e[tt]+":"+et[_e[tt]]+";";return $}function getNormalizedComponentScale(et){switch(et){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(et){return et.search(/\.jpe?g($|\?)/i)>0||et.search(/^data\:image\/jpeg/)===0?"image/jpeg":et.search(/\.webp($|\?)/i)>0||et.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class GLTFParser{constructor($={},_e={}){var tt,nt;this.json=$,this.extensions={},this.plugins={},this.options=_e,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const rt=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,it=typeof navigator<"u"&&((tt=navigator.userAgent)===null||tt===void 0?void 0:tt.indexOf("Firefox"))>-1,st=typeof navigator<"u"&&it?(nt=navigator.userAgent)===null||nt===void 0?void 0:nt.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||rt||it&&st<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions($){this.extensions=$}setPlugins($){this.plugins=$}parse($,_e){const tt=this,nt=this.json,rt=this.extensions;this.cache.removeAll(),this._invokeAll(function(it){return it._markDefs&&it._markDefs()}),Promise.all(this._invokeAll(function(it){return it.beforeRoot&&it.beforeRoot()})).then(function(){return Promise.all([tt.getDependencies("scene"),tt.getDependencies("animation"),tt.getDependencies("camera")])}).then(function(it){const st={scene:it[0][nt.scene||0],scenes:it[0],animations:it[1],cameras:it[2],asset:nt.asset,parser:tt,userData:{}};addUnknownExtensionsToUserData(rt,st,nt),assignExtrasToUserData(st,nt),Promise.all(tt._invokeAll(function(ot){return ot.afterRoot&&ot.afterRoot(st)})).then(function(){$(st)})}).catch(_e)}_markDefs(){const $=this.json.nodes||[],_e=this.json.skins||[],tt=this.json.meshes||[];for(let nt=0,rt=_e.length;nt<rt;nt++){const it=_e[nt].joints;for(let st=0,ot=it.length;st<ot;st++)$[it[st]].isBone=!0}for(let nt=0,rt=$.length;nt<rt;nt++){const it=$[nt];it.mesh!==void 0&&(this._addNodeRef(this.meshCache,it.mesh),it.skin!==void 0&&(tt[it.mesh].isSkinnedMesh=!0)),it.camera!==void 0&&this._addNodeRef(this.cameraCache,it.camera)}}_addNodeRef($,_e){_e!==void 0&&($.refs[_e]===void 0&&($.refs[_e]=$.uses[_e]=0),$.refs[_e]++)}_getNodeRef($,_e,tt){if($.refs[_e]<=1)return tt;const nt=tt.clone(),rt=(it,st)=>{const ot=this.associations.get(it);ot!=null&&this.associations.set(st,ot);for(const[at,lt]of it.children.entries())rt(lt,st.children[at])};return rt(tt,nt),nt.name+="_instance_"+$.uses[_e]++,nt}_invokeOne($){const _e=Object.values(this.plugins);_e.push(this);for(let tt=0;tt<_e.length;tt++){const nt=$(_e[tt]);if(nt)return nt}return null}_invokeAll($){const _e=Object.values(this.plugins);_e.unshift(this);const tt=[];for(let nt=0;nt<_e.length;nt++){const rt=$(_e[nt]);rt&&tt.push(rt)}return tt}getDependency($,_e){const tt=$+":"+_e;let nt=this.cache.get(tt);if(!nt){switch($){case"scene":nt=this.loadScene(_e);break;case"node":nt=this.loadNode(_e);break;case"mesh":nt=this._invokeOne(function(rt){return rt.loadMesh&&rt.loadMesh(_e)});break;case"accessor":nt=this.loadAccessor(_e);break;case"bufferView":nt=this._invokeOne(function(rt){return rt.loadBufferView&&rt.loadBufferView(_e)});break;case"buffer":nt=this.loadBuffer(_e);break;case"material":nt=this._invokeOne(function(rt){return rt.loadMaterial&&rt.loadMaterial(_e)});break;case"texture":nt=this._invokeOne(function(rt){return rt.loadTexture&&rt.loadTexture(_e)});break;case"skin":nt=this.loadSkin(_e);break;case"animation":nt=this._invokeOne(function(rt){return rt.loadAnimation&&rt.loadAnimation(_e)});break;case"camera":nt=this.loadCamera(_e);break;default:throw new Error("Unknown type: "+$)}this.cache.add(tt,nt)}return nt}getDependencies($){let _e=this.cache.get($);if(!_e){const tt=this,nt=this.json[$+($==="mesh"?"es":"s")]||[];_e=Promise.all(nt.map(function(rt,it){return tt.getDependency($,it)})),this.cache.add($,_e)}return _e}loadBuffer($){const _e=this.json.buffers[$],tt=this.fileLoader;if(_e.type&&_e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+_e.type+" buffer type is not supported.");if(_e.uri===void 0&&$===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const nt=this.options;return new Promise(function(rt,it){tt.load(LoaderUtils.resolveURL(_e.uri,nt.path),rt,void 0,function(){it(new Error('THREE.GLTFLoader: Failed to load buffer "'+_e.uri+'".'))})})}loadBufferView($){const _e=this.json.bufferViews[$];return this.getDependency("buffer",_e.buffer).then(function(tt){const nt=_e.byteLength||0,rt=_e.byteOffset||0;return tt.slice(rt,rt+nt)})}loadAccessor($){const _e=this,tt=this.json,nt=this.json.accessors[$];if(nt.bufferView===void 0&&nt.sparse===void 0)return Promise.resolve(null);const rt=[];return nt.bufferView!==void 0?rt.push(this.getDependency("bufferView",nt.bufferView)):rt.push(null),nt.sparse!==void 0&&(rt.push(this.getDependency("bufferView",nt.sparse.indices.bufferView)),rt.push(this.getDependency("bufferView",nt.sparse.values.bufferView))),Promise.all(rt).then(function(it){const st=it[0],ot=WEBGL_TYPE_SIZES[nt.type],at=WEBGL_COMPONENT_TYPES[nt.componentType],lt=at.BYTES_PER_ELEMENT,dt=lt*ot,ct=nt.byteOffset||0,pt=nt.bufferView!==void 0?tt.bufferViews[nt.bufferView].byteStride:void 0,mt=nt.normalized===!0;let ht,gt;if(pt&&pt!==dt){const vt=Math.floor(ct/pt),_t="InterleavedBuffer:"+nt.bufferView+":"+nt.componentType+":"+vt+":"+nt.count;let yt=_e.cache.get(_t);yt||(ht=new at(st,vt*pt,nt.count*pt/lt),yt=new InterleavedBuffer(ht,pt/lt),_e.cache.add(_t,yt)),gt=new InterleavedBufferAttribute(yt,ot,ct%pt/lt,mt)}else st===null?ht=new at(nt.count*ot):ht=new at(st,ct,nt.count*ot),gt=new BufferAttribute(ht,ot,mt);if(nt.sparse!==void 0){const vt=WEBGL_TYPE_SIZES.SCALAR,_t=WEBGL_COMPONENT_TYPES[nt.sparse.indices.componentType],yt=nt.sparse.indices.byteOffset||0,xt=nt.sparse.values.byteOffset||0,At=new _t(it[1],yt,nt.sparse.count*vt),Ct=new at(it[2],xt,nt.sparse.count*ot);st!==null&&(gt=new BufferAttribute(gt.array.slice(),gt.itemSize,gt.normalized));for(let Pt=0,bt=At.length;Pt<bt;Pt++){const Mt=At[Pt];if(gt.setX(Mt,Ct[Pt*ot]),ot>=2&&gt.setY(Mt,Ct[Pt*ot+1]),ot>=3&&gt.setZ(Mt,Ct[Pt*ot+2]),ot>=4&&gt.setW(Mt,Ct[Pt*ot+3]),ot>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return gt})}loadTexture($){const _e=this.json,tt=this.options,rt=_e.textures[$].source,it=_e.images[rt];let st=this.textureLoader;if(it.uri){const ot=tt.manager.getHandler(it.uri);ot!==null&&(st=ot)}return this.loadTextureImage($,rt,st)}loadTextureImage($,_e,tt){const nt=this,rt=this.json,it=rt.textures[$],st=rt.images[_e],ot=(st.uri||st.bufferView)+":"+it.sampler;if(this.textureCache[ot])return this.textureCache[ot];const at=this.loadImageSource(_e,tt).then(function(lt){lt.flipY=!1,it.name&&(lt.name=it.name);const ct=(rt.samplers||{})[it.sampler]||{};return lt.magFilter=WEBGL_FILTERS[ct.magFilter]||LinearFilter,lt.minFilter=WEBGL_FILTERS[ct.minFilter]||LinearMipmapLinearFilter,lt.wrapS=WEBGL_WRAPPINGS[ct.wrapS]||RepeatWrapping,lt.wrapT=WEBGL_WRAPPINGS[ct.wrapT]||RepeatWrapping,nt.associations.set(lt,{textures:$}),lt}).catch(function(){return null});return this.textureCache[ot]=at,at}loadImageSource($,_e){const tt=this,nt=this.json,rt=this.options;if(this.sourceCache[$]!==void 0)return this.sourceCache[$].then(dt=>dt.clone());const it=nt.images[$],st=self.URL||self.webkitURL;let ot=it.uri||"",at=!1;if(it.bufferView!==void 0)ot=tt.getDependency("bufferView",it.bufferView).then(function(dt){at=!0;const ct=new Blob([dt],{type:it.mimeType});return ot=st.createObjectURL(ct),ot});else if(it.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+$+" is missing URI and bufferView");const lt=Promise.resolve(ot).then(function(dt){return new Promise(function(ct,pt){let mt=ct;_e.isImageBitmapLoader===!0&&(mt=function(ht){const gt=new Texture(ht);gt.needsUpdate=!0,ct(gt)}),_e.load(LoaderUtils.resolveURL(dt,rt.path),mt,void 0,pt)})}).then(function(dt){return at===!0&&st.revokeObjectURL(ot),dt.userData.mimeType=it.mimeType||getImageURIMimeType(it.uri),dt}).catch(function(dt){throw console.error("THREE.GLTFLoader: Couldn't load texture",ot),dt});return this.sourceCache[$]=lt,lt}assignTexture($,_e,tt,nt){const rt=this;return this.getDependency("texture",tt.index).then(function(it){if(tt.texCoord!==void 0&&tt.texCoord!=0&&!(_e==="aoMap"&&tt.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+tt.texCoord+" for texture "+_e+" not yet supported."),rt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const st=tt.extensions!==void 0?tt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(st){const ot=rt.associations.get(it);it=rt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(it,st),rt.associations.set(it,ot)}}return nt!==void 0&&(it.encoding=nt),$[_e]=it,it})}assignFinalMaterial($){const _e=$.geometry;let tt=$.material;const nt=_e.attributes.tangent===void 0,rt=_e.attributes.color!==void 0,it=_e.attributes.normal===void 0;if($.isPoints){const st="PointsMaterial:"+tt.uuid;let ot=this.cache.get(st);ot||(ot=new PointsMaterial,Material.prototype.copy.call(ot,tt),ot.color.copy(tt.color),ot.map=tt.map,ot.sizeAttenuation=!1,this.cache.add(st,ot)),tt=ot}else if($.isLine){const st="LineBasicMaterial:"+tt.uuid;let ot=this.cache.get(st);ot||(ot=new LineBasicMaterial,Material.prototype.copy.call(ot,tt),ot.color.copy(tt.color),this.cache.add(st,ot)),tt=ot}if(nt||rt||it){let st="ClonedMaterial:"+tt.uuid+":";tt.isGLTFSpecularGlossinessMaterial&&(st+="specular-glossiness:"),nt&&(st+="derivative-tangents:"),rt&&(st+="vertex-colors:"),it&&(st+="flat-shading:");let ot=this.cache.get(st);ot||(ot=tt.clone(),rt&&(ot.vertexColors=!0),it&&(ot.flatShading=!0),nt&&(ot.normalScale&&(ot.normalScale.y*=-1),ot.clearcoatNormalScale&&(ot.clearcoatNormalScale.y*=-1)),this.cache.add(st,ot),this.associations.set(ot,this.associations.get(tt))),tt=ot}tt.aoMap&&_e.attributes.uv2===void 0&&_e.attributes.uv!==void 0&&_e.setAttribute("uv2",_e.attributes.uv),$.material=tt}getMaterialType(){return MeshStandardMaterial}loadMaterial($){const _e=this,tt=this.json,nt=this.extensions,rt=tt.materials[$];let it;const st={},ot=rt.extensions||{},at=[];if(ot[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const dt=nt[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];it=dt.getMaterialType(),at.push(dt.extendParams(st,rt,_e))}else if(ot[EXTENSIONS.KHR_MATERIALS_UNLIT]){const dt=nt[EXTENSIONS.KHR_MATERIALS_UNLIT];it=dt.getMaterialType(),at.push(dt.extendParams(st,rt,_e))}else{const dt=rt.pbrMetallicRoughness||{};if(st.color=new Color(1,1,1),st.opacity=1,Array.isArray(dt.baseColorFactor)){const ct=dt.baseColorFactor;st.color.fromArray(ct),st.opacity=ct[3]}dt.baseColorTexture!==void 0&&at.push(_e.assignTexture(st,"map",dt.baseColorTexture,sRGBEncoding)),st.metalness=dt.metallicFactor!==void 0?dt.metallicFactor:1,st.roughness=dt.roughnessFactor!==void 0?dt.roughnessFactor:1,dt.metallicRoughnessTexture!==void 0&&(at.push(_e.assignTexture(st,"metalnessMap",dt.metallicRoughnessTexture)),at.push(_e.assignTexture(st,"roughnessMap",dt.metallicRoughnessTexture))),it=this._invokeOne(function(ct){return ct.getMaterialType&&ct.getMaterialType($)}),at.push(Promise.all(this._invokeAll(function(ct){return ct.extendMaterialParams&&ct.extendMaterialParams($,st)})))}rt.doubleSided===!0&&(st.side=DoubleSide);const lt=rt.alphaMode||ALPHA_MODES.OPAQUE;if(lt===ALPHA_MODES.BLEND?(st.transparent=!0,st.depthWrite=!1):(st.transparent=!1,lt===ALPHA_MODES.MASK&&(st.alphaTest=rt.alphaCutoff!==void 0?rt.alphaCutoff:.5)),rt.normalTexture!==void 0&&it!==MeshBasicMaterial&&(at.push(_e.assignTexture(st,"normalMap",rt.normalTexture)),st.normalScale=new Vector2(1,1),rt.normalTexture.scale!==void 0)){const dt=rt.normalTexture.scale;st.normalScale.set(dt,dt)}return rt.occlusionTexture!==void 0&&it!==MeshBasicMaterial&&(at.push(_e.assignTexture(st,"aoMap",rt.occlusionTexture)),rt.occlusionTexture.strength!==void 0&&(st.aoMapIntensity=rt.occlusionTexture.strength)),rt.emissiveFactor!==void 0&&it!==MeshBasicMaterial&&(st.emissive=new Color().fromArray(rt.emissiveFactor)),rt.emissiveTexture!==void 0&&it!==MeshBasicMaterial&&at.push(_e.assignTexture(st,"emissiveMap",rt.emissiveTexture,sRGBEncoding)),Promise.all(at).then(function(){let dt;return it===GLTFMeshStandardSGMaterial?dt=nt[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(st):dt=new it(st),rt.name&&(dt.name=rt.name),assignExtrasToUserData(dt,rt),_e.associations.set(dt,{materials:$}),rt.extensions&&addUnknownExtensionsToUserData(nt,dt,rt),dt})}createUniqueName($){const _e=PropertyBinding.sanitizeNodeName($||"");let tt=_e;for(let nt=1;this.nodeNamesUsed[tt];++nt)tt=_e+"_"+nt;return this.nodeNamesUsed[tt]=!0,tt}loadGeometries($){const _e=this,tt=this.extensions,nt=this.primitiveCache;function rt(st){return tt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(st,_e).then(function(ot){return addPrimitiveAttributes(ot,st,_e)})}const it=[];for(let st=0,ot=$.length;st<ot;st++){const at=$[st],lt=createPrimitiveKey(at),dt=nt[lt];if(dt)it.push(dt.promise);else{let ct;at.extensions&&at.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?ct=rt(at):ct=addPrimitiveAttributes(new BufferGeometry,at,_e),nt[lt]={primitive:at,promise:ct},it.push(ct)}}return Promise.all(it)}loadMesh($){const _e=this,tt=this.json,nt=this.extensions,rt=tt.meshes[$],it=rt.primitives,st=[];for(let ot=0,at=it.length;ot<at;ot++){const lt=it[ot].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",it[ot].material);st.push(lt)}return st.push(_e.loadGeometries(it)),Promise.all(st).then(function(ot){const at=ot.slice(0,ot.length-1),lt=ot[ot.length-1],dt=[];for(let pt=0,mt=lt.length;pt<mt;pt++){const ht=lt[pt],gt=it[pt];let vt;const _t=at[pt];if(gt.mode===WEBGL_CONSTANTS.TRIANGLES||gt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||gt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||gt.mode===void 0)vt=rt.isSkinnedMesh===!0?new SkinnedMesh(ht,_t):new Mesh(ht,_t),vt.isSkinnedMesh===!0&&!vt.geometry.attributes.skinWeight.normalized&&vt.normalizeSkinWeights(),gt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?vt.geometry=toTrianglesDrawMode(vt.geometry,TriangleStripDrawMode):gt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(vt.geometry=toTrianglesDrawMode(vt.geometry,TriangleFanDrawMode));else if(gt.mode===WEBGL_CONSTANTS.LINES)vt=new LineSegments(ht,_t);else if(gt.mode===WEBGL_CONSTANTS.LINE_STRIP)vt=new Line(ht,_t);else if(gt.mode===WEBGL_CONSTANTS.LINE_LOOP)vt=new LineLoop(ht,_t);else if(gt.mode===WEBGL_CONSTANTS.POINTS)vt=new Points(ht,_t);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+gt.mode);Object.keys(vt.geometry.morphAttributes).length>0&&updateMorphTargets(vt,rt),vt.name=_e.createUniqueName(rt.name||"mesh_"+$),assignExtrasToUserData(vt,rt),gt.extensions&&addUnknownExtensionsToUserData(nt,vt,gt),_e.assignFinalMaterial(vt),dt.push(vt)}for(let pt=0,mt=dt.length;pt<mt;pt++)_e.associations.set(dt[pt],{meshes:$,primitives:pt});if(dt.length===1)return dt[0];const ct=new Group;_e.associations.set(ct,{meshes:$});for(let pt=0,mt=dt.length;pt<mt;pt++)ct.add(dt[pt]);return ct})}loadCamera($){let _e;const tt=this.json.cameras[$],nt=tt[tt.type];if(!nt){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return tt.type==="perspective"?_e=new PerspectiveCamera(MathUtils.radToDeg(nt.yfov),nt.aspectRatio||1,nt.znear||1,nt.zfar||2e6):tt.type==="orthographic"&&(_e=new OrthographicCamera(-nt.xmag,nt.xmag,nt.ymag,-nt.ymag,nt.znear,nt.zfar)),tt.name&&(_e.name=this.createUniqueName(tt.name)),assignExtrasToUserData(_e,tt),Promise.resolve(_e)}loadSkin($){const _e=this.json.skins[$],tt={joints:_e.joints};return _e.inverseBindMatrices===void 0?Promise.resolve(tt):this.getDependency("accessor",_e.inverseBindMatrices).then(function(nt){return tt.inverseBindMatrices=nt,tt})}loadAnimation($){const tt=this.json.animations[$],nt=[],rt=[],it=[],st=[],ot=[];for(let at=0,lt=tt.channels.length;at<lt;at++){const dt=tt.channels[at],ct=tt.samplers[dt.sampler],pt=dt.target,mt=pt.node,ht=tt.parameters!==void 0?tt.parameters[ct.input]:ct.input,gt=tt.parameters!==void 0?tt.parameters[ct.output]:ct.output;nt.push(this.getDependency("node",mt)),rt.push(this.getDependency("accessor",ht)),it.push(this.getDependency("accessor",gt)),st.push(ct),ot.push(pt)}return Promise.all([Promise.all(nt),Promise.all(rt),Promise.all(it),Promise.all(st),Promise.all(ot)]).then(function(at){const lt=at[0],dt=at[1],ct=at[2],pt=at[3],mt=at[4],ht=[];for(let vt=0,_t=lt.length;vt<_t;vt++){const yt=lt[vt],xt=dt[vt],At=ct[vt],Ct=pt[vt],Pt=mt[vt];if(yt===void 0)continue;yt.updateMatrix();let bt;switch(PATH_PROPERTIES[Pt.path]){case PATH_PROPERTIES.weights:bt=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:bt=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:bt=VectorKeyframeTrack;break}const Mt=yt.name?yt.name:yt.uuid,Tt=Ct.interpolation!==void 0?INTERPOLATION[Ct.interpolation]:InterpolateLinear,Ft=[];PATH_PROPERTIES[Pt.path]===PATH_PROPERTIES.weights?yt.traverse(function(Wt){Wt.morphTargetInfluences&&Ft.push(Wt.name?Wt.name:Wt.uuid)}):Ft.push(Mt);let Gt=At.array;if(At.normalized){const Wt=getNormalizedComponentScale(Gt.constructor),It=new Float32Array(Gt.length);for(let Kt=0,Ut=Gt.length;Kt<Ut;Kt++)It[Kt]=Gt[Kt]*Wt;Gt=It}for(let Wt=0,It=Ft.length;Wt<It;Wt++){const Kt=new bt(Ft[Wt]+"."+PATH_PROPERTIES[Pt.path],xt.array,Gt,Tt);Ct.interpolation==="CUBICSPLINE"&&(Kt.createInterpolant=function(Qt){const Dt=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new Dt(this.times,this.values,this.getValueSize()/3,Qt)},Kt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),ht.push(Kt)}}const gt=tt.name?tt.name:"animation_"+$;return new AnimationClip(gt,void 0,ht)})}createNodeMesh($){const _e=this.json,tt=this,nt=_e.nodes[$];return nt.mesh===void 0?null:tt.getDependency("mesh",nt.mesh).then(function(rt){const it=tt._getNodeRef(tt.meshCache,nt.mesh,rt);return nt.weights!==void 0&&it.traverse(function(st){if(st.isMesh)for(let ot=0,at=nt.weights.length;ot<at;ot++)st.morphTargetInfluences[ot]=nt.weights[ot]}),it})}loadNode($){const _e=this.json,tt=this.extensions,nt=this,rt=_e.nodes[$],it=rt.name?nt.createUniqueName(rt.name):"";return function(){const st=[],ot=nt._invokeOne(function(at){return at.createNodeMesh&&at.createNodeMesh($)});return ot&&st.push(ot),rt.camera!==void 0&&st.push(nt.getDependency("camera",rt.camera).then(function(at){return nt._getNodeRef(nt.cameraCache,rt.camera,at)})),nt._invokeAll(function(at){return at.createNodeAttachment&&at.createNodeAttachment($)}).forEach(function(at){st.push(at)}),Promise.all(st)}().then(function(st){let ot;if(rt.isBone===!0?ot=new Bone:st.length>1?ot=new Group:st.length===1?ot=st[0]:ot=new Object3D,ot!==st[0])for(let at=0,lt=st.length;at<lt;at++)ot.add(st[at]);if(rt.name&&(ot.userData.name=rt.name,ot.name=it),assignExtrasToUserData(ot,rt),rt.extensions&&addUnknownExtensionsToUserData(tt,ot,rt),rt.matrix!==void 0){const at=new Matrix4;at.fromArray(rt.matrix),ot.applyMatrix4(at)}else rt.translation!==void 0&&ot.position.fromArray(rt.translation),rt.rotation!==void 0&&ot.quaternion.fromArray(rt.rotation),rt.scale!==void 0&&ot.scale.fromArray(rt.scale);return nt.associations.has(ot)||nt.associations.set(ot,{}),nt.associations.get(ot).nodes=$,ot})}loadScene($){const _e=this.json,tt=this.extensions,nt=this.json.scenes[$],rt=this,it=new Group;nt.name&&(it.name=rt.createUniqueName(nt.name)),assignExtrasToUserData(it,nt),nt.extensions&&addUnknownExtensionsToUserData(tt,it,nt);const st=nt.nodes||[],ot=[];for(let at=0,lt=st.length;at<lt;at++)ot.push(buildNodeHierarchy(st[at],it,_e,rt));return Promise.all(ot).then(function(){const at=lt=>{const dt=new Map;for(const[ct,pt]of rt.associations)(ct instanceof Material||ct instanceof Texture)&&dt.set(ct,pt);return lt.traverse(ct=>{const pt=rt.associations.get(ct);pt!=null&&dt.set(ct,pt)}),dt};return rt.associations=at(it),it})}}function buildNodeHierarchy(et,$,_e,tt){const nt=_e.nodes[et];return tt.getDependency("node",et).then(function(rt){if(nt.skin===void 0)return rt;let it;return tt.getDependency("skin",nt.skin).then(function(st){it=st;const ot=[];for(let at=0,lt=it.joints.length;at<lt;at++)ot.push(tt.getDependency("node",it.joints[at]));return Promise.all(ot)}).then(function(st){return rt.traverse(function(ot){if(!ot.isMesh)return;const at=[],lt=[];for(let dt=0,ct=st.length;dt<ct;dt++){const pt=st[dt];if(pt){at.push(pt);const mt=new Matrix4;it.inverseBindMatrices!==void 0&&mt.fromArray(it.inverseBindMatrices.array,dt*16),lt.push(mt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',it.joints[dt])}ot.bind(new Skeleton(at,lt),ot.matrixWorld)}),rt})}).then(function(rt){$.add(rt);const it=[];if(nt.children){const st=nt.children;for(let ot=0,at=st.length;ot<at;ot++){const lt=st[ot];it.push(buildNodeHierarchy(lt,rt,_e,tt))}}return Promise.all(it)})}function computeBounds(et,$,_e){const tt=$.attributes,nt=new Box3;if(tt.POSITION!==void 0){const st=_e.json.accessors[tt.POSITION],ot=st.min,at=st.max;if(ot!==void 0&&at!==void 0){if(nt.set(new Vector3(ot[0],ot[1],ot[2]),new Vector3(at[0],at[1],at[2])),st.normalized){const lt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[st.componentType]);nt.min.multiplyScalar(lt),nt.max.multiplyScalar(lt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const rt=$.targets;if(rt!==void 0){const st=new Vector3,ot=new Vector3;for(let at=0,lt=rt.length;at<lt;at++){const dt=rt[at];if(dt.POSITION!==void 0){const ct=_e.json.accessors[dt.POSITION],pt=ct.min,mt=ct.max;if(pt!==void 0&&mt!==void 0){if(ot.setX(Math.max(Math.abs(pt[0]),Math.abs(mt[0]))),ot.setY(Math.max(Math.abs(pt[1]),Math.abs(mt[1]))),ot.setZ(Math.max(Math.abs(pt[2]),Math.abs(mt[2]))),ct.normalized){const ht=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ct.componentType]);ot.multiplyScalar(ht)}st.max(ot)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}nt.expandByVector(st)}et.boundingBox=nt;const it=new Sphere;nt.getCenter(it.center),it.radius=nt.min.distanceTo(nt.max)/2,et.boundingSphere=it}function addPrimitiveAttributes(et,$,_e){const tt=$.attributes,nt=[];function rt(it,st){return _e.getDependency("accessor",it).then(function(ot){et.setAttribute(st,ot)})}for(const it in tt){const st=ATTRIBUTES[it]||it.toLowerCase();st in et.attributes||nt.push(rt(tt[it],st))}if($.indices!==void 0&&!et.index){const it=_e.getDependency("accessor",$.indices).then(function(st){et.setIndex(st)});nt.push(it)}return assignExtrasToUserData(et,$),computeBounds(et,$,_e),Promise.all(nt).then(function(){return $.targets!==void 0?addMorphTargets(et,$.targets,_e):et})}function toTrianglesDrawMode(et,$){let _e=et.getIndex();if(_e===null){const it=[],st=et.getAttribute("position");if(st!==void 0){for(let ot=0;ot<st.count;ot++)it.push(ot);et.setIndex(it),_e=et.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),et}const tt=_e.count-2,nt=[];if($===TriangleFanDrawMode)for(let it=1;it<=tt;it++)nt.push(_e.getX(0)),nt.push(_e.getX(it)),nt.push(_e.getX(it+1));else for(let it=0;it<tt;it++)it%2===0?(nt.push(_e.getX(it)),nt.push(_e.getX(it+1)),nt.push(_e.getX(it+2))):(nt.push(_e.getX(it+2)),nt.push(_e.getX(it+1)),nt.push(_e.getX(it)));nt.length/3!==tt&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const rt=et.clone();return rt.setIndex(nt),rt}const _taskCache=new WeakMap;class DRACOLoader extends Loader{constructor($){super($),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath($){return this.decoderPath=$,this}setDecoderConfig($){return this.decoderConfig=$,this}setWorkerLimit($){return this.workerLimit=$,this}load($,_e,tt,nt){const rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setResponseType("arraybuffer"),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials),rt.load($,it=>{const st={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(it,st).then(_e).catch(nt)},tt,nt)}decodeDracoFile($,_e,tt,nt){const rt={attributeIDs:tt||this.defaultAttributeIDs,attributeTypes:nt||this.defaultAttributeTypes,useUniqueIDs:!!tt};this.decodeGeometry($,rt).then(_e)}decodeGeometry($,_e){for(const ot in _e.attributeTypes){const at=_e.attributeTypes[ot];at.BYTES_PER_ELEMENT!==void 0&&(_e.attributeTypes[ot]=at.name)}const tt=JSON.stringify(_e);if(_taskCache.has($)){const ot=_taskCache.get($);if(ot.key===tt)return ot.promise;if($.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let nt;const rt=this.workerNextTaskID++,it=$.byteLength,st=this._getWorker(rt,it).then(ot=>(nt=ot,new Promise((at,lt)=>{nt._callbacks[rt]={resolve:at,reject:lt},nt.postMessage({type:"decode",id:rt,taskConfig:_e,buffer:$},[$])}))).then(ot=>this._createGeometry(ot.geometry));return st.catch(()=>!0).then(()=>{nt&&rt&&this._releaseTask(nt,rt)}),_taskCache.set($,{key:tt,promise:st}),st}_createGeometry($){const _e=new BufferGeometry;$.index&&_e.setIndex(new BufferAttribute($.index.array,1));for(let tt=0;tt<$.attributes.length;tt++){const nt=$.attributes[tt],rt=nt.name,it=nt.array,st=nt.itemSize;_e.setAttribute(rt,new BufferAttribute(it,st))}return _e}_loadLibrary($,_e){const tt=new FileLoader(this.manager);return tt.setPath(this.decoderPath),tt.setResponseType(_e),tt.setWithCredentials(this.withCredentials),new Promise((nt,rt)=>{tt.load($,nt,void 0,rt)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const $=typeof WebAssembly!="object"||this.decoderConfig.type==="js",_e=[];return $?_e.push(this._loadLibrary("draco_decoder.js","text")):(_e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),_e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(_e).then(tt=>{const nt=tt[0];$||(this.decoderConfig.wasmBinary=tt[1]);const rt=DRACOWorker.toString(),it=["/* draco decoder */",nt,"","/* worker */",rt.substring(rt.indexOf("{")+1,rt.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([it]))}),this.decoderPending}_getWorker($,_e){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const nt=new Worker(this.workerSourceURL);nt._callbacks={},nt._taskCosts={},nt._taskLoad=0,nt.postMessage({type:"init",decoderConfig:this.decoderConfig}),nt.onmessage=function(rt){const it=rt.data;switch(it.type){case"decode":nt._callbacks[it.id].resolve(it);break;case"error":nt._callbacks[it.id].reject(it);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+it.type+'"')}},this.workerPool.push(nt)}else this.workerPool.sort(function(nt,rt){return nt._taskLoad>rt._taskLoad?-1:1});const tt=this.workerPool[this.workerPool.length-1];return tt._taskCosts[$]=_e,tt._taskLoad+=_e,tt})}_releaseTask($,_e){$._taskLoad-=$._taskCosts[_e],delete $._callbacks[_e],delete $._taskCosts[_e]}debug(){console.log("Task load: ",this.workerPool.map($=>$._taskLoad))}dispose(){for(let $=0;$<this.workerPool.length;++$)this.workerPool[$].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let et,$;onmessage=function(it){const st=it.data;switch(st.type){case"init":et=st.decoderConfig,$=new Promise(function(lt){et.onModuleLoaded=function(dt){lt({draco:dt})},DracoDecoderModule(et)});break;case"decode":const ot=st.buffer,at=st.taskConfig;$.then(lt=>{const dt=lt.draco,ct=new dt.Decoder,pt=new dt.DecoderBuffer;pt.Init(new Int8Array(ot),ot.byteLength);try{const mt=_e(dt,ct,pt,at),ht=mt.attributes.map(gt=>gt.array.buffer);mt.index&&ht.push(mt.index.array.buffer),self.postMessage({type:"decode",id:st.id,geometry:mt},ht)}catch(mt){console.error(mt),self.postMessage({type:"error",id:st.id,error:mt.message})}finally{dt.destroy(pt),dt.destroy(ct)}});break}};function _e(it,st,ot,at){const lt=at.attributeIDs,dt=at.attributeTypes;let ct,pt;const mt=st.GetEncodedGeometryType(ot);if(mt===it.TRIANGULAR_MESH)ct=new it.Mesh,pt=st.DecodeBufferToMesh(ot,ct);else if(mt===it.POINT_CLOUD)ct=new it.PointCloud,pt=st.DecodeBufferToPointCloud(ot,ct);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!pt.ok()||ct.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+pt.error_msg());const ht={index:null,attributes:[]};for(const gt in lt){const vt=self[dt[gt]];let _t,yt;if(at.useUniqueIDs)yt=lt[gt],_t=st.GetAttributeByUniqueId(ct,yt);else{if(yt=st.GetAttributeId(ct,it[lt[gt]]),yt===-1)continue;_t=st.GetAttribute(ct,yt)}ht.attributes.push(nt(it,st,ct,gt,vt,_t))}return mt===it.TRIANGULAR_MESH&&(ht.index=tt(it,st,ct)),it.destroy(ct),ht}function tt(it,st,ot){const lt=ot.num_faces()*3,dt=lt*4,ct=it._malloc(dt);st.GetTrianglesUInt32Array(ot,dt,ct);const pt=new Uint32Array(it.HEAPF32.buffer,ct,lt).slice();return it._free(ct),{array:pt,itemSize:1}}function nt(it,st,ot,at,lt,dt){const ct=dt.num_components(),mt=ot.num_points()*ct,ht=mt*lt.BYTES_PER_ELEMENT,gt=rt(it,lt),vt=it._malloc(ht);st.GetAttributeDataArrayForAllPoints(ot,dt,gt,ht,vt);const _t=new lt(it.HEAPF32.buffer,vt,mt).slice();return it._free(vt),{name:at,array:_t,itemSize:ct}}function rt(it,st){switch(st){case Float32Array:return it.DT_FLOAT32;case Int8Array:return it.DT_INT8;case Int16Array:return it.DT_INT16;case Int32Array:return it.DT_INT32;case Uint8Array:return it.DT_UINT8;case Uint16Array:return it.DT_UINT16;case Uint32Array:return it.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const et="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",$="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",_e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),tt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let nt=et;WebAssembly.validate(_e)&&(nt=$);let rt;const it=WebAssembly.instantiate(st(nt),{}).then(dt=>{rt=dt.instance,rt.exports.__wasm_call_ctors()});function st(dt){const ct=new Uint8Array(dt.length);for(let mt=0;mt<dt.length;++mt){const ht=dt.charCodeAt(mt);ct[mt]=ht>96?ht-71:ht>64?ht-65:ht>47?ht+4:ht>46?63:62}let pt=0;for(let mt=0;mt<dt.length;++mt)ct[pt++]=ct[mt]<60?tt[ct[mt]]:(ct[mt]-60)*64+ct[++mt];return ct.buffer.slice(0,pt)}function ot(dt,ct,pt,mt,ht,gt){const vt=rt.exports.sbrk,_t=pt+3&-4,yt=vt(_t*mt),xt=vt(ht.length),At=new Uint8Array(rt.exports.memory.buffer);At.set(ht,xt);const Ct=dt(yt,pt,mt,xt,ht.length);if(Ct===0&&gt&&gt(yt,_t,mt),ct.set(At.subarray(yt,yt+pt*mt)),vt(yt-vt(0)),Ct!==0)throw new Error(`Malformed buffer data: ${Ct}`)}const at={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},lt={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:it,supported:!0,decodeVertexBuffer(dt,ct,pt,mt,ht){ot(rt.exports.meshopt_decodeVertexBuffer,dt,ct,pt,mt,rt.exports[at[ht]])},decodeIndexBuffer(dt,ct,pt,mt){ot(rt.exports.meshopt_decodeIndexBuffer,dt,ct,pt,mt)},decodeIndexSequence(dt,ct,pt,mt){ot(rt.exports.meshopt_decodeIndexSequence,dt,ct,pt,mt)},decodeGltfBuffer(dt,ct,pt,mt,ht,gt){ot(rt.exports[lt[ht]],dt,ct,pt,mt,rt.exports[at[gt]])}},generated};let dracoLoader=null;function extensions(et,$,_e){return tt=>{_e&&_e(tt),et&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof et=="string"?et:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),tt.setDRACOLoader(dracoLoader)),$&&tt.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(et,$=!0,_e=!0,tt){return useLoader(GLTFLoader,et,extensions($,_e,tt))}useGLTF.preload=(et,$=!0,_e=!0,tt)=>useLoader.preload(GLTFLoader,et,extensions($,_e,tt));useGLTF.clear=et=>useLoader.clear(GLTFLoader,et);const OrbitControls=reactExports.forwardRef(({makeDefault:et,camera:$,regress:_e,domElement:tt,enableDamping:nt=!0,onChange:rt,onStart:it,onEnd:st,...ot},at)=>{const lt=useThree(At=>At.invalidate),dt=useThree(At=>At.camera),ct=useThree(At=>At.gl),pt=useThree(At=>At.events),mt=useThree(At=>At.setEvents),ht=useThree(At=>At.set),gt=useThree(At=>At.get),vt=useThree(At=>At.performance),_t=$||dt,yt=tt||pt.connected||ct.domElement,xt=reactExports.useMemo(()=>new OrbitControls$1(_t),[_t]);return useFrame(()=>{xt.enabled&&xt.update()},-1),reactExports.useEffect(()=>(xt.connect(yt),()=>void xt.dispose()),[yt,_e,xt,lt]),reactExports.useEffect(()=>{const At=bt=>{lt(),_e&&vt.regress(),rt&&rt(bt)},Ct=bt=>{it&&it(bt)},Pt=bt=>{st&&st(bt)};return xt.addEventListener("change",At),xt.addEventListener("start",Ct),xt.addEventListener("end",Pt),()=>{xt.removeEventListener("start",Ct),xt.removeEventListener("end",Pt),xt.removeEventListener("change",At)}},[rt,it,st,xt,lt,mt]),reactExports.useEffect(()=>{if(et){const At=gt().controls;return ht({controls:xt}),()=>ht({controls:At})}},[et,xt]),reactExports.createElement("primitive",_extends$2({ref:at,object:xt,enableDamping:nt},ot))});var propTypesExports={},propTypes={get exports(){return propTypesExports},set exports(et){propTypesExports=et}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function et(tt,nt,rt,it,st,ot){if(ot!==ReactPropTypesSecret){var at=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw at.name="Invariant Violation",at}}et.isRequired=et;function $(){return et}var _e={array:et,bigint:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:$,element:et,elementType:et,instanceOf:$,node:et,objectOf:$,oneOf:$,oneOfType:$,shape:$,exact:$,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _e.PropTypes=_e,_e};propTypes.exports=factoryWithThrowingShims();function Preload({all:et,scene:$,camera:_e}){const tt=useThree(({gl:it})=>it),nt=useThree(({camera:it})=>it),rt=useThree(({scene:it})=>it);return reactExports.useLayoutEffect(()=>{const it=[];et&&($||rt).traverse(at=>{at.visible===!1&&(it.push(at),at.visible=!0)}),tt.compile($||rt,_e||nt);const st=new WebGLCubeRenderTarget(128);new CubeCamera(.01,1e5,st).update(tt,$||rt),st.dispose(),it.forEach(at=>at.visible=!1)},[]),null}const CanvasLoader=()=>{const{progress:et}=useProgress();return jsxs(Html,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[jsx("span",{className:"canvas-loader"}),jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40,position:[10,3.2,1.5]},children:[et.toFixed(2),"%"]})]})},Earth=()=>{const et=useGLTF("./planet/scene.gltf");return jsx("primitive",{object:et.scene,scale:2.5,"position-y":0,"rotation-y":0})},EarthCanvas=()=>jsx(Canvas,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:jsxs(reactExports.Suspense,{fallback:jsx(CanvasLoader,{}),children:[jsx(OrbitControls,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),jsx(Earth,{})]})}),Computers=({isMoblie:et})=>{const $=useGLTF("./robi/scene.gltf");return jsxs("mesh",{children:[jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),jsx("pointLight",{intensity:1,position:[1.5,-1.6,-.6]}),jsx("spotLight",{position:[30,-50,30],angle:.12,penumbr:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),jsx("primitive",{object:$.scene,scale:et?1.8:3,position:et?[.3,-3.6,.2]:[5,-3,-.1],rotation:[0,.5,0]})]})},ComputersCanvas=()=>{const[et,$]=reactExports.useState("false");return reactExports.useEffect(()=>{const _e=window.matchMedia("(max-width: 750px)");$(_e.matches);const tt=nt=>{$(nt.matches)};return _e.addEventListener("change",tt),()=>{_e.removeEventListener("change",tt)}},[]),jsxs(Canvas,{frameloop:"demand",shadows:!0,camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[jsxs(reactExports.Suspense,{fallback:jsx(CanvasLoader,{}),children:[jsx(OrbitControls,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2,minAzimuthAngle:-Math.PI/4,maxAzimuthAngle:Math.PI/4}),jsx(Computers,{isMoblie:et})]}),jsx(Preload,{all:!0})]})},MotionConfigContext=reactExports.createContext({transformPagePoint:et=>et,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(et,$,_e,tt){const{visualElement:nt}=reactExports.useContext(MotionContext),rt=reactExports.useContext(LazyContext),it=reactExports.useContext(PresenceContext),st=reactExports.useContext(MotionConfigContext).reducedMotion,ot=reactExports.useRef();tt=tt||rt.renderer,!ot.current&&tt&&(ot.current=tt(et,{visualState:$,parent:nt,props:_e,presenceContext:it,blockInitialAnimation:it?it.initial===!1:!1,reducedMotionConfig:st}));const at=ot.current;return reactExports.useInsertionEffect(()=>{at&&at.update(_e,it)}),useIsomorphicLayoutEffect(()=>{at&&at.render()}),reactExports.useEffect(()=>{at&&at.updateFeatures()}),(window.HandoffAppearAnimations?useIsomorphicLayoutEffect:reactExports.useEffect)(()=>{at&&at.animationState&&at.animationState.animateChanges()}),at}function isRefObject(et){return typeof et=="object"&&Object.prototype.hasOwnProperty.call(et,"current")}function useMotionRef(et,$,_e){return reactExports.useCallback(tt=>{tt&&et.mount&&et.mount(tt),$&&(tt?$.mount(tt):$.unmount()),_e&&(typeof _e=="function"?_e(tt):isRefObject(_e)&&(_e.current=tt))},[$])}function isVariantLabel(et){return typeof et=="string"||Array.isArray(et)}function isAnimationControls(et){return typeof et=="object"&&typeof et.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(et){return isAnimationControls(et.animate)||variantProps.some($=>isVariantLabel(et[$]))}function isVariantNode(et){return Boolean(isControllingVariants(et)||et.variants)}function getCurrentTreeVariants(et,$){if(isControllingVariants(et)){const{initial:_e,animate:tt}=et;return{initial:_e===!1||isVariantLabel(_e)?_e:void 0,animate:isVariantLabel(tt)?tt:void 0}}return et.inherit!==!1?$:{}}function useCreateMotionContext(et){const{initial:$,animate:_e}=getCurrentTreeVariants(et,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:$,animate:_e}),[variantLabelsAsDependency($),variantLabelsAsDependency(_e)])}function variantLabelsAsDependency(et){return Array.isArray(et)?et.join(" "):et}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const et in featureProps)featureDefinitions[et]={isEnabled:$=>featureProps[et].some(_e=>!!$[_e])};function loadFeatures(et){for(const $ in et)featureDefinitions[$]={...featureDefinitions[$],...et[$]}}function useConstant(et){const $=reactExports.useRef(null);return $.current===null&&($.current=et()),$.current}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let id$2=1;function useProjectionId(){return useConstant(()=>{if(globalProjectionState.hasEverUpdated)return id$2++})}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:et,createVisualElement:$,useRender:_e,useVisualState:tt,Component:nt}){et&&loadFeatures(et);function rt(st,ot){let at;const lt={...reactExports.useContext(MotionConfigContext),...st,layoutId:useLayoutId(st)},{isStatic:dt}=lt,ct=useCreateMotionContext(st),pt=dt?void 0:useProjectionId(),mt=tt(st,dt);if(!dt&&isBrowser){ct.visualElement=useVisualElement(nt,mt,lt,$);const ht=reactExports.useContext(SwitchLayoutGroupContext),gt=reactExports.useContext(LazyContext).strict;ct.visualElement&&(at=ct.visualElement.loadFeatures(lt,gt,et,pt,ht))}return reactExports.createElement(MotionContext.Provider,{value:ct},at&&ct.visualElement?reactExports.createElement(at,{visualElement:ct.visualElement,...lt}):null,_e(nt,st,pt,useMotionRef(mt,ct.visualElement,ot),mt,dt,ct.visualElement))}const it=reactExports.forwardRef(rt);return it[motionComponentSymbol]=nt,it}function useLayoutId({layoutId:et}){const $=reactExports.useContext(LayoutGroupContext).id;return $&&et!==void 0?$+"-"+et:et}function createMotionProxy(et){function $(tt,nt={}){return createMotionComponent(et(tt,nt))}if(typeof Proxy>"u")return $;const _e=new Map;return new Proxy($,{get:(tt,nt)=>(_e.has(nt)||_e.set(nt,$(nt)),_e.get(nt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(et){return typeof et!="string"||et.includes("-")?!1:!!(lowercaseSVGElements.indexOf(et)>-1||/[A-Z]/.test(et))}const scaleCorrectors={};function addScaleCorrector(et){Object.assign(scaleCorrectors,et)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(et,{layout:$,layoutId:_e}){return transformProps.has(et)||et.startsWith("origin")||($||_e!==void 0)&&(!!scaleCorrectors[et]||et==="opacity")}const isMotionValue=et=>Boolean(et&&et.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(et,{enableHardwareAcceleration:$=!0,allowTransformNone:_e=!0},tt,nt){let rt="";for(let it=0;it<numTransforms;it++){const st=transformPropOrder[it];if(et[st]!==void 0){const ot=translateAlias[st]||st;rt+=`${ot}(${et[st]}) `}}return $&&!et.z&&(rt+="translateZ(0)"),rt=rt.trim(),nt?rt=nt(et,tt?"":rt):_e&&tt&&(rt="none"),rt}const checkStringStartsWith=et=>$=>typeof $=="string"&&$.startsWith(et),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),getValueAsType=(et,$)=>$&&typeof et=="number"?$.transform(et):et,clamp=(et,$,_e)=>Math.min(Math.max(_e,et),$),number={test:et=>typeof et=="number",parse:parseFloat,transform:et=>et},alpha={...number,transform:et=>clamp(0,1,et)},scale={...number,default:1},sanitize=et=>Math.round(et*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString(et){return typeof et=="string"}const createUnitType=et=>({test:$=>isString($)&&$.endsWith(et)&&$.split(" ").length===1,parse:parseFloat,transform:$=>`${$}${et}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:et=>percent.parse(et)/100,transform:et=>percent.transform(et*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(et,$,_e,tt){const{style:nt,vars:rt,transform:it,transformOrigin:st}=et;let ot=!1,at=!1,lt=!0;for(const dt in $){const ct=$[dt];if(isCSSVariableName(dt)){rt[dt]=ct;continue}const pt=numberValueTypes[dt],mt=getValueAsType(ct,pt);if(transformProps.has(dt)){if(ot=!0,it[dt]=mt,!lt)continue;ct!==(pt.default||0)&&(lt=!1)}else dt.startsWith("origin")?(at=!0,st[dt]=mt):nt[dt]=mt}if($.transform||(ot||tt?nt.transform=buildTransform(et.transform,_e,lt,tt):nt.transform&&(nt.transform="none")),at){const{originX:dt="50%",originY:ct="50%",originZ:pt=0}=st;nt.transformOrigin=`${dt} ${ct} ${pt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(et,$,_e){for(const tt in $)!isMotionValue($[tt])&&!isForcedMotionValue(tt,_e)&&(et[tt]=$[tt])}function useInitialMotionValues({transformTemplate:et},$,_e){return reactExports.useMemo(()=>{const tt=createHtmlRenderState();return buildHTMLStyles(tt,$,{enableHardwareAcceleration:!_e},et),Object.assign({},tt.vars,tt.style)},[$])}function useStyle(et,$,_e){const tt=et.style||{},nt={};return copyRawValuesOnly(nt,tt,et),Object.assign(nt,useInitialMotionValues(et,$,_e)),et.transformValues?et.transformValues(nt):nt}function useHTMLProps(et,$,_e){const tt={},nt=useStyle(et,$,_e);return et.drag&&et.dragListener!==!1&&(tt.draggable=!1,nt.userSelect=nt.WebkitUserSelect=nt.WebkitTouchCallout="none",nt.touchAction=et.drag===!0?"none":`pan-${et.drag==="x"?"y":"x"}`),et.tabIndex===void 0&&(et.onTap||et.onTapStart||et.whileTap)&&(tt.tabIndex=0),tt.style=nt,tt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function isValidMotionProp(et){return et.startsWith("while")||et.startsWith("drag")&&et!=="draggable"||et.startsWith("layout")||et.startsWith("onTap")||et.startsWith("onPan")||validMotionProps.has(et)}let shouldForward=et=>!isValidMotionProp(et);function loadExternalIsValidProp(et){et&&(shouldForward=$=>$.startsWith("on")?!isValidMotionProp($):et($))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(et,$,_e){const tt={};for(const nt in et)nt==="values"&&typeof et.values=="object"||(shouldForward(nt)||_e===!0&&isValidMotionProp(nt)||!$&&!isValidMotionProp(nt)||et.draggable&&nt.startsWith("onDrag"))&&(tt[nt]=et[nt]);return tt}function calcOrigin$1(et,$,_e){return typeof et=="string"?et:px.transform($+_e*et)}function calcSVGTransformOrigin(et,$,_e){const tt=calcOrigin$1($,et.x,et.width),nt=calcOrigin$1(_e,et.y,et.height);return`${tt} ${nt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(et,$,_e=1,tt=0,nt=!0){et.pathLength=1;const rt=nt?dashKeys:camelKeys;et[rt.offset]=px.transform(-tt);const it=px.transform($),st=px.transform(_e);et[rt.array]=`${it} ${st}`}function buildSVGAttrs(et,{attrX:$,attrY:_e,originX:tt,originY:nt,pathLength:rt,pathSpacing:it=1,pathOffset:st=0,...ot},at,lt,dt){if(buildHTMLStyles(et,ot,at,dt),lt){et.style.viewBox&&(et.attrs.viewBox=et.style.viewBox);return}et.attrs=et.style,et.style={};const{attrs:ct,style:pt,dimensions:mt}=et;ct.transform&&(mt&&(pt.transform=ct.transform),delete ct.transform),mt&&(tt!==void 0||nt!==void 0||pt.transform)&&(pt.transformOrigin=calcSVGTransformOrigin(mt,tt!==void 0?tt:.5,nt!==void 0?nt:.5)),$!==void 0&&(ct.x=$),_e!==void 0&&(ct.y=_e),rt!==void 0&&buildSVGPath(ct,rt,it,st,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=et=>typeof et=="string"&&et.toLowerCase()==="svg";function useSVGProps(et,$,_e,tt){const nt=reactExports.useMemo(()=>{const rt=createSvgRenderState();return buildSVGAttrs(rt,$,{enableHardwareAcceleration:!1},isSVGTag(tt),et.transformTemplate),{...rt.attrs,style:{...rt.style}}},[$]);if(et.style){const rt={};copyRawValuesOnly(rt,et.style,et),nt.style={...rt,...nt.style}}return nt}function createUseRender(et=!1){return(_e,tt,nt,rt,{latestValues:it},st)=>{const at=(isSVGComponent(_e)?useSVGProps:useHTMLProps)(tt,it,st,_e),dt={...filterProps(tt,typeof _e=="string",et),...at,ref:rt},{children:ct}=tt,pt=reactExports.useMemo(()=>isMotionValue(ct)?ct.get():ct,[ct]);return nt&&(dt["data-projection-id"]=nt),reactExports.createElement(_e,{...dt,children:pt})}}const camelToDash=et=>et.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function renderHTML(et,{style:$,vars:_e},tt,nt){Object.assign(et.style,$,nt&&nt.getProjectionStyles(tt));for(const rt in _e)et.style.setProperty(rt,_e[rt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(et,$,_e,tt){renderHTML(et,$,void 0,tt);for(const nt in $.attrs)et.setAttribute(camelCaseAttributes.has(nt)?nt:camelToDash(nt),$.attrs[nt])}function scrapeMotionValuesFromProps$1(et,$){const{style:_e}=et,tt={};for(const nt in _e)(isMotionValue(_e[nt])||$.style&&isMotionValue($.style[nt])||isForcedMotionValue(nt,et))&&(tt[nt]=_e[nt]);return tt}function scrapeMotionValuesFromProps(et,$){const _e=scrapeMotionValuesFromProps$1(et,$);for(const tt in et)if(isMotionValue(et[tt])||isMotionValue($[tt])){const nt=tt==="x"||tt==="y"?"attr"+tt.toUpperCase():tt;_e[nt]=et[tt]}return _e}function resolveVariantFromProps(et,$,_e,tt={},nt={}){return typeof $=="function"&&($=$(_e!==void 0?_e:et.custom,tt,nt)),typeof $=="string"&&($=et.variants&&et.variants[$]),typeof $=="function"&&($=$(_e!==void 0?_e:et.custom,tt,nt)),$}const isKeyframesTarget=et=>Array.isArray(et),isCustomValue=et=>Boolean(et&&typeof et=="object"&&et.mix&&et.toValue),resolveFinalValueInKeyframes=et=>isKeyframesTarget(et)?et[et.length-1]||0:et;function resolveMotionValue(et){const $=isMotionValue(et)?et.get():et;return isCustomValue($)?$.toValue():$}function makeState({scrapeMotionValuesFromProps:et,createRenderState:$,onMount:_e},tt,nt,rt){const it={latestValues:makeLatestValues(tt,nt,rt,et),renderState:$()};return _e&&(it.mount=st=>_e(tt,st,it)),it}const makeUseVisualState=et=>($,_e)=>{const tt=reactExports.useContext(MotionContext),nt=reactExports.useContext(PresenceContext),rt=()=>makeState(et,$,tt,nt);return _e?rt():useConstant(rt)};function makeLatestValues(et,$,_e,tt){const nt={},rt=tt(et,{});for(const ct in rt)nt[ct]=resolveMotionValue(rt[ct]);let{initial:it,animate:st}=et;const ot=isControllingVariants(et),at=isVariantNode(et);$&&at&&!ot&&et.inherit!==!1&&(it===void 0&&(it=$.initial),st===void 0&&(st=$.animate));let lt=_e?_e.initial===!1:!1;lt=lt||it===!1;const dt=lt?st:it;return dt&&typeof dt!="boolean"&&!isAnimationControls(dt)&&(Array.isArray(dt)?dt:[dt]).forEach(pt=>{const mt=resolveVariantFromProps(et,pt);if(!mt)return;const{transitionEnd:ht,transition:gt,...vt}=mt;for(const _t in vt){let yt=vt[_t];if(Array.isArray(yt)){const xt=lt?yt.length-1:0;yt=yt[xt]}yt!==null&&(nt[_t]=yt)}for(const _t in ht)nt[_t]=ht[_t]}),nt}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(et,$,{renderState:_e,latestValues:tt})=>{try{_e.dimensions=typeof $.getBBox=="function"?$.getBBox():$.getBoundingClientRect()}catch{_e.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(_e,tt,{enableHardwareAcceleration:!1},isSVGTag($.tagName),et.transformTemplate),renderSVG($,_e)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(et,{forwardMotionProps:$=!1},_e,tt){return{...isSVGComponent(et)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:_e,useRender:createUseRender($),createVisualElement:tt,Component:et}}function addDomEvent(et,$,_e,tt={passive:!0}){return et.addEventListener($,_e,tt),()=>et.removeEventListener($,_e)}const isPrimaryPointer=et=>et.pointerType==="mouse"?typeof et.button!="number"||et.button<=0:et.isPrimary!==!1;function extractEventInfo(et,$="page"){return{point:{x:et[$+"X"],y:et[$+"Y"]}}}const addPointerInfo=et=>$=>isPrimaryPointer($)&&et($,extractEventInfo($));function addPointerEvent(et,$,_e,tt){return addDomEvent(et,$,addPointerInfo(_e),tt)}const combineFunctions=(et,$)=>_e=>$(et(_e)),pipe=(...et)=>et.reduce(combineFunctions);function createLock(et){let $=null;return()=>{const _e=()=>{$=null};return $===null?($=et,_e):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(et){let $=!1;if(et==="y")$=globalVerticalLock();else if(et==="x")$=globalHorizontalLock();else{const _e=globalHorizontalLock(),tt=globalVerticalLock();_e&&tt?$=()=>{_e(),tt()}:(_e&&_e(),tt&&tt())}return $}function isDragActive(){const et=getGlobalLock(!0);return et?(et(),!1):!0}class Feature{constructor($){this.isMounted=!1,this.node=$}update(){}}function addHoverEvent(et,$){const _e="pointer"+($?"enter":"leave"),tt="onHover"+($?"Start":"End"),nt=(rt,it)=>{if(rt.type==="touch"||isDragActive())return;const st=et.getProps();et.animationState&&st.whileHover&&et.animationState.setActive("whileHover",$),st[tt]&&st[tt](rt,it)};return addPointerEvent(et.current,_e,nt,{passive:!et.getProps()[tt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let $=!1;try{$=this.node.current.matches(":focus-visible")}catch{$=!0}!$||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(et,$)=>$?et===$?!0:isNodeOrChild(et,$.parentElement):!1,noop=et=>et;function fireSyntheticPointerEvent(et,$){if(!$)return;const _e=new PointerEvent("pointer"+et);$(_e,extractEventInfo(_e))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=($,_e)=>{if(this.removeEndListeners(),this.isPressing)return;const tt=this.node.getProps(),rt=addPointerEvent(window,"pointerup",(st,ot)=>{if(!this.checkPressEnd())return;const{onTap:at,onTapCancel:lt}=this.node.getProps();isNodeOrChild(this.node.current,st.target)?at&&at(st,ot):lt&&lt(st,ot)},{passive:!(tt.onTap||tt.onPointerUp)}),it=addPointerEvent(window,"pointercancel",(st,ot)=>this.cancelPress(st,ot),{passive:!(tt.onTapCancel||tt.onPointerCancel)});this.removeEndListeners=pipe(rt,it),this.startPress($,_e)},this.startAccessiblePress=()=>{const $=rt=>{if(rt.key!=="Enter"||this.isPressing)return;const it=st=>{st.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",it),fireSyntheticPointerEvent("down",(st,ot)=>{this.startPress(st,ot)})},_e=addDomEvent(this.node.current,"keydown",$),tt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(rt,it)=>this.cancelPress(rt,it))},nt=addDomEvent(this.node.current,"blur",tt);this.removeAccessibleListeners=pipe(_e,nt)}}startPress($,_e){this.isPressing=!0;const{onTapStart:tt,whileTap:nt}=this.node.getProps();nt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),tt&&tt($,_e)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress($,_e){if(!this.checkPressEnd())return;const{onTapCancel:tt}=this.node.getProps();tt&&tt($,_e)}mount(){const $=this.node.getProps(),_e=addPointerEvent(this.node.current,"pointerdown",this.startPointerPress,{passive:!($.onTapStart||$.onPointerStart)}),tt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(_e,tt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=et=>{const $=observerCallbacks.get(et.target);$&&$(et)},fireAllObserverCallbacks=et=>{et.forEach(fireObserverCallback)};function initIntersectionObserver({root:et,...$}){const _e=et||document;observers.has(_e)||observers.set(_e,{});const tt=observers.get(_e),nt=JSON.stringify($);return tt[nt]||(tt[nt]=new IntersectionObserver(fireAllObserverCallbacks,{root:et,...$})),tt[nt]}function observeIntersection(et,$,_e){const tt=initIntersectionObserver($);return observerCallbacks.set(et,_e),tt.observe(et),()=>{observerCallbacks.delete(et),tt.unobserve(et)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:$={}}=this.node.getProps(),{root:_e,margin:tt,amount:nt="some",once:rt}=$,it={root:_e?_e.current:void 0,rootMargin:tt,threshold:typeof nt=="number"?nt:thresholdNames[nt]},st=ot=>{const{isIntersecting:at}=ot;if(this.isInView===at||(this.isInView=at,rt&&!at&&this.hasEnteredView))return;at&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",at);const{onViewportEnter:lt,onViewportLeave:dt}=this.node.getProps(),ct=at?lt:dt;ct&&ct(ot)};return observeIntersection(this.node.current,it,st)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:$,prevProps:_e}=this.node;["amount","margin","root"].some(hasViewportOptionChanged($,_e))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:et={}},{viewport:$={}}={}){return _e=>et[_e]!==$[_e]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(et,$){if(!Array.isArray($))return!1;const _e=$.length;if(_e!==et.length)return!1;for(let tt=0;tt<_e;tt++)if($[tt]!==et[tt])return!1;return!0}const isNumericalString=et=>/^\-?\d*\.?\d+$/.test(et),isZeroValueString=et=>/^0[^.\s]+$/.test(et),frameData={delta:0,timestamp:0},defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?et=>window.requestAnimationFrame(et):et=>setTimeout(()=>et(getCurrentTime()),defaultTimestep);function createRenderStep(et){let $=[],_e=[],tt=0,nt=!1,rt=!1;const it=new WeakSet,st={schedule:(ot,at=!1,lt=!1)=>{const dt=lt&&nt,ct=dt?$:_e;return at&&it.add(ot),ct.indexOf(ot)===-1&&(ct.push(ot),dt&&nt&&(tt=$.length)),ot},cancel:ot=>{const at=_e.indexOf(ot);at!==-1&&_e.splice(at,1),it.delete(ot)},process:ot=>{if(nt){rt=!0;return}if(nt=!0,[$,_e]=[_e,$],_e.length=0,tt=$.length,tt)for(let at=0;at<tt;at++){const lt=$[at];lt(ot),it.has(lt)&&(st.schedule(lt),et())}nt=!1,rt&&(rt=!1,st.process(ot))}};return st}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((et,$)=>(et[$]=createRenderStep(()=>runNextFrame=!0),et),{}),sync=stepsOrder.reduce((et,$)=>{const _e=steps[$];return et[$]=(tt,nt=!1,rt=!1)=>(runNextFrame||startLoop(),_e.schedule(tt,nt,rt)),et},{}),cancelSync=stepsOrder.reduce((et,$)=>(et[$]=steps[$].cancel,et),{}),flushSync=stepsOrder.reduce((et,$)=>(et[$]=()=>steps[$].process(frameData),et),{}),processStep=et=>steps[et].process(frameData),processFrame=et=>{runNextFrame=!1,frameData.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(et-frameData.timestamp,maxElapsed),1),frameData.timestamp=et,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)};function addUniqueItem(et,$){et.indexOf($)===-1&&et.push($)}function removeItem(et,$){const _e=et.indexOf($);_e>-1&&et.splice(_e,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add($){return addUniqueItem(this.subscriptions,$),()=>removeItem(this.subscriptions,$)}notify($,_e,tt){const nt=this.subscriptions.length;if(nt)if(nt===1)this.subscriptions[0]($,_e,tt);else for(let rt=0;rt<nt;rt++){const it=this.subscriptions[rt];it&&it($,_e,tt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(et,$){return $?et*(1e3/$):0}const isFloat=et=>!isNaN(parseFloat(et));class MotionValue{constructor($,_e={}){this.version="10.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(tt,nt=!0)=>{this.prev=this.current,this.current=tt;const{delta:rt,timestamp:it}=frameData;this.lastUpdated!==it&&(this.timeDelta=rt,this.lastUpdated=it,sync.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),nt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sync.postRender(this.velocityCheck),this.velocityCheck=({timestamp:tt})=>{tt!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=$,this.canTrackVelocity=isFloat(this.current),this.owner=_e.owner}onChange($){return this.on("change",$)}on($,_e){this.events[$]||(this.events[$]=new SubscriptionManager);const tt=this.events[$].add(_e);return $==="change"?()=>{tt(),sync.read(()=>{this.events.change.getSize()||this.stop()})}:tt}clearListeners(){for(const $ in this.events)this.events[$].clear()}attach($,_e){this.passiveEffect=$,this.stopPassiveEffect=_e}set($,_e=!0){!_e||!this.passiveEffect?this.updateAndNotify($,_e):this.passiveEffect($,this.updateAndNotify)}setWithVelocity($,_e,tt){this.set(_e),this.prev=$,this.timeDelta=tt}jump($){this.updateAndNotify($),this.prev=$,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start($){return this.stop(),new Promise(_e=>{this.hasAnimated=!0,this.animation=$(_e)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(et,$){return new MotionValue(et,$)}const isColorString=(et,$)=>_e=>Boolean(isString(_e)&&singleColorRegex.test(_e)&&_e.startsWith(et)||$&&Object.prototype.hasOwnProperty.call(_e,$)),splitColor=(et,$,_e)=>tt=>{if(!isString(tt))return tt;const[nt,rt,it,st]=tt.match(floatRegex);return{[et]:parseFloat(nt),[$]:parseFloat(rt),[_e]:parseFloat(it),alpha:st!==void 0?parseFloat(st):1}},clampRgbUnit=et=>clamp(0,255,et),rgbUnit={...number,transform:et=>Math.round(clampRgbUnit(et))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:et,green:$,blue:_e,alpha:tt=1})=>"rgba("+rgbUnit.transform(et)+", "+rgbUnit.transform($)+", "+rgbUnit.transform(_e)+", "+sanitize(alpha.transform(tt))+")"};function parseHex(et){let $="",_e="",tt="",nt="";return et.length>5?($=et.substring(1,3),_e=et.substring(3,5),tt=et.substring(5,7),nt=et.substring(7,9)):($=et.substring(1,2),_e=et.substring(2,3),tt=et.substring(3,4),nt=et.substring(4,5),$+=$,_e+=_e,tt+=tt,nt+=nt),{red:parseInt($,16),green:parseInt(_e,16),blue:parseInt(tt,16),alpha:nt?parseInt(nt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:et,saturation:$,lightness:_e,alpha:tt=1})=>"hsla("+Math.round(et)+", "+percent.transform(sanitize($))+", "+percent.transform(sanitize(_e))+", "+sanitize(alpha.transform(tt))+")"},color={test:et=>rgba.test(et)||hex.test(et)||hsla.test(et),parse:et=>rgba.test(et)?rgba.parse(et):hsla.test(et)?hsla.parse(et):hex.parse(et),transform:et=>isString(et)?et:et.hasOwnProperty("red")?rgba.transform(et):hsla.transform(et)},colorToken="${c}",numberToken="${n}";function test(et){var $,_e;return isNaN(et)&&isString(et)&&((($=et.match(floatRegex))===null||$===void 0?void 0:$.length)||0)+(((_e=et.match(colorRegex))===null||_e===void 0?void 0:_e.length)||0)>0}function analyseComplexValue(et){typeof et=="number"&&(et=`${et}`);const $=[];let _e=0,tt=0;const nt=et.match(colorRegex);nt&&(_e=nt.length,et=et.replace(colorRegex,colorToken),$.push(...nt.map(color.parse)));const rt=et.match(floatRegex);return rt&&(tt=rt.length,et=et.replace(floatRegex,numberToken),$.push(...rt.map(number.parse))),{values:$,numColors:_e,numNumbers:tt,tokenised:et}}function parse(et){return analyseComplexValue(et).values}function createTransformer(et){const{values:$,numColors:_e,tokenised:tt}=analyseComplexValue(et),nt=$.length;return rt=>{let it=tt;for(let st=0;st<nt;st++)it=it.replace(st<_e?colorToken:numberToken,st<_e?color.transform(rt[st]):sanitize(rt[st]));return it}}const convertNumbersToZero=et=>typeof et=="number"?0:et;function getAnimatableNone$1(et){const $=parse(et);return createTransformer(et)($.map(convertNumbersToZero))}const complex={test,parse,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(et){const[$,_e]=et.slice(0,-1).split("(");if($==="drop-shadow")return et;const[tt]=_e.match(floatRegex)||[];if(!tt)return et;const nt=_e.replace(tt,"");let rt=maxDefaults.has($)?1:0;return tt!==_e&&(rt*=100),$+"("+rt+nt+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:et=>{const $=et.match(functionRegex);return $?$.map(applyDefaultFilter).join(" "):et}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=et=>defaultValueTypes[et];function getAnimatableNone(et,$){let _e=getDefaultValueType(et);return _e!==filter&&(_e=complex),_e.getAnimatableNone?_e.getAnimatableNone($):void 0}const testValueType=et=>$=>$.test(et),auto={test:et=>et==="auto",parse:et=>et},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=et=>dimensionValueTypes.find(testValueType(et)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=et=>valueTypes.find(testValueType(et));function getCurrent(et){const $={};return et.values.forEach((_e,tt)=>$[tt]=_e.get()),$}function getVelocity$1(et){const $={};return et.values.forEach((_e,tt)=>$[tt]=_e.getVelocity()),$}function resolveVariant(et,$,_e){const tt=et.getProps();return resolveVariantFromProps(tt,$,_e!==void 0?_e:tt.custom,getCurrent(et),getVelocity$1(et))}function setMotionValue(et,$,_e){et.hasValue($)?et.getValue($).set(_e):et.addValue($,motionValue(_e))}function setTarget(et,$){const _e=resolveVariant(et,$);let{transitionEnd:tt={},transition:nt={},...rt}=_e?et.makeTargetAnimatable(_e,!1):{};rt={...rt,...tt};for(const it in rt){const st=resolveFinalValueInKeyframes(rt[it]);setMotionValue(et,it,st)}}function checkTargetForNewValues(et,$,_e){var tt,nt;const rt=Object.keys($).filter(st=>!et.hasValue(st)),it=rt.length;if(it)for(let st=0;st<it;st++){const ot=rt[st],at=$[ot];let lt=null;Array.isArray(at)&&(lt=at[0]),lt===null&&(lt=(nt=(tt=_e[ot])!==null&&tt!==void 0?tt:et.readValue(ot))!==null&&nt!==void 0?nt:$[ot]),lt!=null&&(typeof lt=="string"&&(isNumericalString(lt)||isZeroValueString(lt))?lt=parseFloat(lt):!findValueType(lt)&&complex.test(at)&&(lt=getAnimatableNone(ot,at)),et.addValue(ot,motionValue(lt,{owner:et})),_e[ot]===void 0&&(_e[ot]=lt),lt!==null&&et.setBaseTarget(ot,lt))}}function getOriginFromTransition(et,$){return $?($[et]||$.default||$).from:void 0}function getOrigin(et,$,_e){const tt={};for(const nt in et){const rt=getOriginFromTransition(nt,$);if(rt!==void 0)tt[nt]=rt;else{const it=_e.getValue(nt);it&&(tt[nt]=it.get())}}return tt}function isWillChangeMotionValue(et){return Boolean(isMotionValue(et)&&et.add)}const optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);let warning=noop,invariant=noop;const secondsToMilliseconds=et=>et*1e3,instantAnimationState={current:!1},mirrorEasing=et=>$=>$<=.5?et(2*$)/2:(2-et(2*(1-$)))/2,reverseEasing=et=>$=>1-et(1-$),easeIn=et=>et*et,easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),mix=(et,$,_e)=>-_e*et+_e*$+et;function hueToRgb(et,$,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?et+($-et)*6*_e:_e<1/2?$:_e<2/3?et+($-et)*(2/3-_e)*6:et}function hslaToRgba({hue:et,saturation:$,lightness:_e,alpha:tt}){et/=360,$/=100,_e/=100;let nt=0,rt=0,it=0;if(!$)nt=rt=it=_e;else{const st=_e<.5?_e*(1+$):_e+$-_e*$,ot=2*_e-st;nt=hueToRgb(ot,st,et+1/3),rt=hueToRgb(ot,st,et),it=hueToRgb(ot,st,et-1/3)}return{red:Math.round(nt*255),green:Math.round(rt*255),blue:Math.round(it*255),alpha:tt}}const mixLinearColor=(et,$,_e)=>{const tt=et*et;return Math.sqrt(Math.max(0,_e*($*$-tt)+tt))},colorTypes=[hex,rgba,hsla],getColorType=et=>colorTypes.find($=>$.test(et));function asRGBA(et){const $=getColorType(et);let _e=$.parse(et);return $===hsla&&(_e=hslaToRgba(_e)),_e}const mixColor=(et,$)=>{const _e=asRGBA(et),tt=asRGBA($),nt={..._e};return rt=>(nt.red=mixLinearColor(_e.red,tt.red,rt),nt.green=mixLinearColor(_e.green,tt.green,rt),nt.blue=mixLinearColor(_e.blue,tt.blue,rt),nt.alpha=mix(_e.alpha,tt.alpha,rt),rgba.transform(nt))};function getMixer(et,$){return typeof et=="number"?_e=>mix(et,$,_e):color.test(et)?mixColor(et,$):mixComplex(et,$)}const mixArray=(et,$)=>{const _e=[...et],tt=_e.length,nt=et.map((rt,it)=>getMixer(rt,$[it]));return rt=>{for(let it=0;it<tt;it++)_e[it]=nt[it](rt);return _e}},mixObject=(et,$)=>{const _e={...et,...$},tt={};for(const nt in _e)et[nt]!==void 0&&$[nt]!==void 0&&(tt[nt]=getMixer(et[nt],$[nt]));return nt=>{for(const rt in tt)_e[rt]=tt[rt](nt);return _e}},mixComplex=(et,$)=>{const _e=complex.createTransformer($),tt=analyseComplexValue(et),nt=analyseComplexValue($);return tt.numColors===nt.numColors&&tt.numNumbers>=nt.numNumbers?pipe(mixArray(tt.values,nt.values),_e):it=>`${it>0?$:et}`},progress=(et,$,_e)=>{const tt=$-et;return tt===0?1:(_e-et)/tt},mixNumber=(et,$)=>_e=>mix(et,$,_e);function detectMixerFactory(et){return typeof et=="number"?mixNumber:typeof et=="string"?color.test(et)?mixColor:mixComplex:Array.isArray(et)?mixArray:typeof et=="object"?mixObject:mixNumber}function createMixers(et,$,_e){const tt=[],nt=_e||detectMixerFactory(et[0]),rt=et.length-1;for(let it=0;it<rt;it++){let st=nt(et[it],et[it+1]);if($){const ot=Array.isArray($)?$[it]:$;st=pipe(ot,st)}tt.push(st)}return tt}function interpolate(et,$,{clamp:_e=!0,ease:tt,mixer:nt}={}){const rt=et.length;invariant(rt===$.length),invariant(!tt||!Array.isArray(tt)||tt.length===rt-1),et[0]>et[rt-1]&&(et=[...et].reverse(),$=[...$].reverse());const it=createMixers($,tt,nt),st=it.length,ot=at=>{let lt=0;if(st>1)for(;lt<et.length-2&&!(at<et[lt+1]);lt++);const dt=progress(et[lt],et[lt+1],at);return it[lt](dt)};return _e?at=>ot(clamp(et[0],et[rt-1],at)):ot}function fillOffset(et,$){const _e=et[et.length-1];for(let tt=1;tt<=$;tt++){const nt=progress(0,$,tt);et.push(mix(_e,1,nt))}}function defaultOffset(et){const $=[0];return fillOffset($,et.length-1),$}function convertOffsetToTimes(et,$){return et.map(_e=>_e*$)}const calcBezier=(et,$,_e)=>(((1-3*_e+3*$)*et+(3*_e-6*$))*et+3*$)*et,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(et,$,_e,tt,nt){let rt,it,st=0;do it=$+(_e-$)/2,rt=calcBezier(it,tt,nt)-et,rt>0?_e=it:$=it;while(Math.abs(rt)>subdivisionPrecision&&++st<subdivisionMaxIterations);return it}function cubicBezier(et,$,_e,tt){if(et===$&&_e===tt)return noop;const nt=rt=>binarySubdivide(rt,0,1,et,_e);return rt=>rt===0||rt===1?rt:calcBezier(nt(rt),$,tt)}const circIn=et=>1-Math.sin(Math.acos(et)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=et=>(et*=2)<1?.5*backIn(et):.5*(2-Math.pow(2,-10*(et-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=et=>{if(Array.isArray(et)){invariant(et.length===4);const[$,_e,tt,nt]=et;return cubicBezier($,_e,tt,nt)}else if(typeof et=="string")return easingLookup[et];return et},isEasingArray=et=>Array.isArray(et)&&typeof et[0]!="number";function defaultEasing(et,$){return et.map(()=>$||easeInOut).splice(0,et.length-1)}function keyframes({keyframes:et,ease:$=easeInOut,times:_e,duration:tt=300}){et=[...et];const nt=isEasingArray($)?$.map(easingDefinitionToFunction):easingDefinitionToFunction($),rt={done:!1,value:et[0]},it=convertOffsetToTimes(_e&&_e.length===et.length?_e:defaultOffset(et),tt);function st(){return interpolate(it,et,{ease:Array.isArray(nt)?nt:defaultEasing(et,nt)})}let ot=st();return{next:at=>(rt.value=ot(at),rt.done=at>=tt,rt),flipTarget:()=>{et.reverse(),ot=st()}}}const safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:et=800,bounce:$=.25,velocity:_e=0,mass:tt=1}){let nt,rt;warning(et<=maxDuration*1e3);let it=1-$;it=clamp(minDamping,maxDamping,it),et=clamp(minDuration,maxDuration,et/1e3),it<1?(nt=at=>{const lt=at*it,dt=lt*et,ct=lt-_e,pt=calcAngularFreq(at,it),mt=Math.exp(-dt);return safeMin-ct/pt*mt},rt=at=>{const dt=at*it*et,ct=dt*_e+_e,pt=Math.pow(it,2)*Math.pow(at,2)*et,mt=Math.exp(-dt),ht=calcAngularFreq(Math.pow(at,2),it);return(-nt(at)+safeMin>0?-1:1)*((ct-pt)*mt)/ht}):(nt=at=>{const lt=Math.exp(-at*et),dt=(at-_e)*et+1;return-safeMin+lt*dt},rt=at=>{const lt=Math.exp(-at*et),dt=(_e-at)*(et*et);return lt*dt});const st=5/et,ot=approximateRoot(nt,rt,st);if(et=et*1e3,isNaN(ot))return{stiffness:100,damping:10,duration:et};{const at=Math.pow(ot,2)*tt;return{stiffness:at,damping:it*2*Math.sqrt(tt*at),duration:et}}}const rootIterations=12;function approximateRoot(et,$,_e){let tt=_e;for(let nt=1;nt<rootIterations;nt++)tt=tt-et(tt)/$(tt);return tt}function calcAngularFreq(et,$){return et*Math.sqrt(1-$*$)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(et,$){return $.some(_e=>et[_e]!==void 0)}function getSpringOptions(et){let $={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...et};if(!isSpringType(et,physicsKeys)&&isSpringType(et,durationKeys)){const _e=findSpring(et);$={...$,..._e,velocity:0,mass:1},$.isResolvedFromDuration=!0}return $}const velocitySampleDuration=5;function spring({keyframes:et,restDelta:$,restSpeed:_e,...tt}){let nt=et[0],rt=et[et.length-1];const it={done:!1,value:nt},{stiffness:st,damping:ot,mass:at,velocity:lt,duration:dt,isResolvedFromDuration:ct}=getSpringOptions(tt);let pt=zero,mt=lt?-(lt/1e3):0;const ht=ot/(2*Math.sqrt(st*at));function gt(){const vt=rt-nt,_t=Math.sqrt(st/at)/1e3,yt=Math.abs(vt)<5;if(_e||(_e=yt?.01:2),$||($=yt?.005:.5),ht<1){const xt=calcAngularFreq(_t,ht);pt=At=>{const Ct=Math.exp(-ht*_t*At);return rt-Ct*((mt+ht*_t*vt)/xt*Math.sin(xt*At)+vt*Math.cos(xt*At))}}else if(ht===1)pt=xt=>rt-Math.exp(-_t*xt)*(vt+(mt+_t*vt)*xt);else{const xt=_t*Math.sqrt(ht*ht-1);pt=At=>{const Ct=Math.exp(-ht*_t*At),Pt=Math.min(xt*At,300);return rt-Ct*((mt+ht*_t*vt)*Math.sinh(Pt)+xt*vt*Math.cosh(Pt))/xt}}}return gt(),{next:vt=>{const _t=pt(vt);if(ct)it.done=vt>=dt;else{let yt=mt;if(vt!==0)if(ht<1){const Ct=Math.max(0,vt-velocitySampleDuration);yt=velocityPerSecond(_t-pt(Ct),vt-Ct)}else yt=0;const xt=Math.abs(yt)<=_e,At=Math.abs(rt-_t)<=$;it.done=xt&&At}return it.value=it.done?rt:_t,it},flipTarget:()=>{mt=-mt,[nt,rt]=[rt,nt],gt()}}}spring.needsInterpolation=(et,$)=>typeof et=="string"||typeof $=="string";const zero=et=>0;function decay({keyframes:et=[0],velocity:$=0,power:_e=.8,timeConstant:tt=350,restDelta:nt=.5,modifyTarget:rt}){const it=et[0],st={done:!1,value:it};let ot=_e*$;const at=it+ot,lt=rt===void 0?at:rt(at);return lt!==at&&(ot=lt-it),{next:dt=>{const ct=-ot*Math.exp(-dt/tt);return st.done=!(ct>nt||ct<-nt),st.value=st.done?lt:lt+ct,st},flipTarget:()=>{}}}const types={decay,keyframes,tween:keyframes,spring};function loopElapsed(et,$,_e=0){return et-$-_e}function reverseElapsed(et,$=0,_e=0,tt=!0){return tt?loopElapsed($+-et,$,_e):$-(et-$)+_e}function hasRepeatDelayElapsed(et,$,_e,tt){return tt?et>=$+_e:et<=-_e}const framesync=et=>{const $=({delta:_e})=>et(_e);return{start:()=>sync.update($,!0),stop:()=>cancelSync.update($)}};function animateValue({duration:et,driver:$=framesync,elapsed:_e=0,repeat:tt=0,repeatType:nt="loop",repeatDelay:rt=0,keyframes:it,autoplay:st=!0,onPlay:ot,onStop:at,onComplete:lt,onRepeat:dt,onUpdate:ct,type:pt="keyframes",...mt}){const ht=_e;let gt,vt=0,_t=et,yt=!1,xt=!0,At;const Ct=types[it.length>2?"keyframes":pt]||keyframes,Pt=it[0],bt=it[it.length-1];let Mt={done:!1,value:Pt};const{needsInterpolation:Tt}=Ct;Tt&&Tt(Pt,bt)&&(At=interpolate([0,100],[Pt,bt],{clamp:!1}),it=[0,100]);const Ft=Ct({...mt,duration:et,keyframes:it});function Gt(){vt++,nt==="reverse"?(xt=vt%2===0,_e=reverseElapsed(_e,_t,rt,xt)):(_e=loopElapsed(_e,_t,rt),nt==="mirror"&&Ft.flipTarget()),yt=!1,dt&&dt()}function Wt(){gt&&gt.stop(),lt&&lt()}function It(Ut){xt||(Ut=-Ut),_e+=Ut,yt||(Mt=Ft.next(Math.max(0,_e)),At&&(Mt.value=At(Mt.value)),yt=xt?Mt.done:_e<=0),ct&&ct(Mt.value),yt&&(vt===0&&(_t=_t!==void 0?_t:_e),vt<tt?hasRepeatDelayElapsed(_e,_t,rt,xt)&&Gt():Wt())}function Kt(){ot&&ot(),gt=$(It),gt.start()}return st&&Kt(),{stop:()=>{at&&at(),gt&&gt.stop()},set currentTime(Ut){_e=ht,It(Ut)},sample:(Ut,Qt=!1)=>{if(_e=ht,Qt)return It(Ut),Mt;const Dt=et&&typeof et=="number"?Math.max(et*.5,50):50;let qt=0;for(It(0);qt<=Ut;){const Jt=Ut-qt;It(Math.min(Jt,Dt)),qt+=Dt}return Mt}}}function isWaapiSupportedEasing(et){return!et||Array.isArray(et)||typeof et=="string"&&supportedWaapiEasing[et]}const cubicBezierAsString=([et,$,_e,tt])=>`cubic-bezier(${et}, ${$}, ${_e}, ${tt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(et){if(et)return Array.isArray(et)?cubicBezierAsString(et):supportedWaapiEasing[et]}function animateStyle(et,$,_e,{delay:tt=0,duration:nt,repeat:rt=0,repeatType:it="loop",ease:st,times:ot}={}){const at={[$]:_e};return ot&&(at.offset=ot),et.animate(at,{delay:tt,duration:nt,easing:mapEasingToNativeEasing(st),fill:"both",iterations:rt+1,direction:it==="reverse"?"alternate":"normal"})}const featureTests={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},results={},supports={};for(const et in featureTests)supports[et]=()=>(results[et]===void 0&&(results[et]=featureTests[et]()),results[et]);function getFinalKeyframe(et,{repeat:$,repeatType:_e="loop"}){const tt=$&&_e!=="loop"&&$%2===1?0:et.length-1;return et[tt]}const acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,requiresPregeneratedKeyframes=(et,$)=>$.type==="spring"||et==="backgroundColor"||!isWaapiSupportedEasing($.ease);function createAcceleratedAnimation(et,$,{onUpdate:_e,onComplete:tt,...nt}){if(!(supports.waapi()&&acceleratedValues.has($)&&!nt.repeatDelay&&nt.repeatType!=="mirror"&&nt.damping!==0))return!1;let{keyframes:it,duration:st=300,elapsed:ot=0,ease:at}=nt;if(requiresPregeneratedKeyframes($,nt)){const dt=animateValue({...nt,repeat:0,elapsed:0});let ct={done:!1,value:it[0]};const pt=[];let mt=0;for(;!ct.done&&mt<2e4;)ct=dt.sample(mt,!0),pt.push(ct.value),mt+=sampleDelta;it=pt,st=mt-sampleDelta,at="linear"}const lt=animateStyle(et.owner.current,$,it,{...nt,delay:-ot,duration:st,ease:at});return lt.onfinish=()=>{et.set(getFinalKeyframe(it,nt)),sync.update(()=>lt.cancel()),tt&&tt()},{get currentTime(){return lt.currentTime||0},set currentTime(dt){lt.currentTime=dt},stop:()=>{const{currentTime:dt}=lt;if(dt){const ct=animateValue({...nt,autoplay:!1});et.setWithVelocity(ct.sample(dt-sampleDelta).value,ct.sample(dt).value,sampleDelta)}sync.update(()=>lt.cancel())}}}function delay(et,$){const _e=performance.now(),tt=({timestamp:nt})=>{const rt=nt-_e;rt>=$&&(cancelSync.read(tt),et(rt-$))};return sync.read(tt,!0),()=>cancelSync.read(tt)}function createInstantAnimation({keyframes:et,elapsed:$,onUpdate:_e,onComplete:tt}){const nt=()=>{_e&&_e(et[et.length-1]),tt&&tt()};return $?{stop:delay(nt,-$)}:nt()}function inertia({keyframes:et,velocity:$=0,min:_e,max:tt,power:nt=.8,timeConstant:rt=750,bounceStiffness:it=500,bounceDamping:st=10,restDelta:ot=1,modifyTarget:at,driver:lt,onUpdate:dt,onComplete:ct,onStop:pt}){const mt=et[0];let ht;function gt(xt){return _e!==void 0&&xt<_e||tt!==void 0&&xt>tt}function vt(xt){return _e===void 0?tt:tt===void 0||Math.abs(_e-xt)<Math.abs(tt-xt)?_e:tt}function _t(xt){ht&&ht.stop(),ht=animateValue({keyframes:[0,1],velocity:0,...xt,driver:lt,onUpdate:At=>{dt&&dt(At),xt.onUpdate&&xt.onUpdate(At)},onComplete:ct,onStop:pt})}function yt(xt){_t({type:"spring",stiffness:it,damping:st,restDelta:ot,...xt})}if(gt(mt))yt({velocity:$,keyframes:[mt,vt(mt)]});else{let xt=nt*$+mt;typeof at<"u"&&(xt=at(xt));const At=vt(xt),Ct=At===_e?-1:1;let Pt,bt;const Mt=Tt=>{Pt=bt,bt=Tt,$=velocityPerSecond(Tt-Pt,frameData.delta),(Ct===1&&Tt>At||Ct===-1&&Tt<At)&&yt({keyframes:[Tt,At],velocity:$})};_t({type:"decay",keyframes:[mt,0],velocity:$,timeConstant:rt,power:nt,restDelta:ot,modifyTarget:at,onUpdate:gt(xt)?Mt:void 0})}return{stop:()=>ht&&ht.stop()}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=et=>({type:"spring",stiffness:550,damping:et===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(et,{keyframes:$})=>$.length>2?keyframesTransition:transformProps.has(et)?et.startsWith("scale")?criticallyDampedSpring($[1]):underDampedSpring:ease,isAnimatable=(et,$)=>et==="zIndex"?!1:!!(typeof $=="number"||Array.isArray($)||typeof $=="string"&&complex.test($)&&!$.startsWith("url("));function isTransitionDefined({when:et,delay:$,delayChildren:_e,staggerChildren:tt,staggerDirection:nt,repeat:rt,repeatType:it,repeatDelay:st,from:ot,elapsed:at,...lt}){return!!Object.keys(lt).length}function isZero(et){return et===0||typeof et=="string"&&parseFloat(et)===0&&et.indexOf(" ")===-1}function getZeroUnit(et){return typeof et=="number"?0:getAnimatableNone("",et)}function getValueTransition(et,$){return et[$]||et.default||et}function getKeyframes(et,$,_e,tt){const nt=isAnimatable($,_e);let rt=tt.from!==void 0?tt.from:et.get();return rt==="none"&&nt&&typeof _e=="string"?rt=getAnimatableNone($,_e):isZero(rt)&&typeof _e=="string"?rt=getZeroUnit(_e):!Array.isArray(_e)&&isZero(_e)&&typeof rt=="string"&&(_e=getZeroUnit(rt)),Array.isArray(_e)?(_e[0]===null&&(_e[0]=rt),_e):[rt,_e]}const createMotionValueAnimation=(et,$,_e,tt={})=>nt=>{const rt=getValueTransition(tt,et)||{},it=rt.delay||tt.delay||0;let{elapsed:st=0}=tt;st=st-secondsToMilliseconds(it);const ot=getKeyframes($,et,_e,rt),at=ot[0],lt=ot[ot.length-1],dt=isAnimatable(et,at),ct=isAnimatable(et,lt);let pt={keyframes:ot,velocity:$.getVelocity(),...rt,elapsed:st,onUpdate:mt=>{$.set(mt),rt.onUpdate&&rt.onUpdate(mt)},onComplete:()=>{nt(),rt.onComplete&&rt.onComplete()}};if(!dt||!ct||instantAnimationState.current||rt.type===!1)return createInstantAnimation(pt);if(rt.type==="inertia")return inertia(pt);if(isTransitionDefined(rt)||(pt={...pt,...getDefaultTransition(et,pt)}),pt.duration&&(pt.duration=secondsToMilliseconds(pt.duration)),pt.repeatDelay&&(pt.repeatDelay=secondsToMilliseconds(pt.repeatDelay)),$.owner&&$.owner.current instanceof HTMLElement&&!$.owner.getProps().onUpdate){const mt=createAcceleratedAnimation($,et,pt);if(mt)return mt}return animateValue(pt)};function animateVisualElement(et,$,_e={}){et.notify("AnimationStart",$);let tt;if(Array.isArray($)){const nt=$.map(rt=>animateVariant(et,rt,_e));tt=Promise.all(nt)}else if(typeof $=="string")tt=animateVariant(et,$,_e);else{const nt=typeof $=="function"?resolveVariant(et,$,_e.custom):$;tt=animateTarget(et,nt,_e)}return tt.then(()=>et.notify("AnimationComplete",$))}function animateVariant(et,$,_e={}){const tt=resolveVariant(et,$,_e.custom);let{transition:nt=et.getDefaultTransition()||{}}=tt||{};_e.transitionOverride&&(nt=_e.transitionOverride);const rt=tt?()=>animateTarget(et,tt,_e):()=>Promise.resolve(),it=et.variantChildren&&et.variantChildren.size?(ot=0)=>{const{delayChildren:at=0,staggerChildren:lt,staggerDirection:dt}=nt;return animateChildren(et,$,at+ot,lt,dt,_e)}:()=>Promise.resolve(),{when:st}=nt;if(st){const[ot,at]=st==="beforeChildren"?[rt,it]:[it,rt];return ot().then(at)}else return Promise.all([rt(),it(_e.delay)])}function animateTarget(et,$,{delay:_e=0,transitionOverride:tt,type:nt}={}){let{transition:rt=et.getDefaultTransition(),transitionEnd:it,...st}=et.makeTargetAnimatable($);const ot=et.getValue("willChange");tt&&(rt=tt);const at=[],lt=nt&&et.animationState&&et.animationState.getState()[nt];for(const dt in st){const ct=et.getValue(dt),pt=st[dt];if(!ct||pt===void 0||lt&&shouldBlockAnimation(lt,dt))continue;const mt={delay:_e,elapsed:0,...rt};if(window.HandoffAppearAnimations&&!ct.hasAnimated){const gt=et.getProps()[optimizedAppearDataAttribute];gt&&(mt.elapsed=window.HandoffAppearAnimations(gt,dt,ct,sync))}let ht=ct.start(createMotionValueAnimation(dt,ct,pt,et.shouldReduceMotion&&transformProps.has(dt)?{type:!1}:mt));isWillChangeMotionValue(ot)&&(ot.add(dt),ht=ht.then(()=>ot.remove(dt))),at.push(ht)}return Promise.all(at).then(()=>{it&&setTarget(et,it)})}function animateChildren(et,$,_e=0,tt=0,nt=1,rt){const it=[],st=(et.variantChildren.size-1)*tt,ot=nt===1?(at=0)=>at*tt:(at=0)=>st-at*tt;return Array.from(et.variantChildren).sort(sortByTreeOrder).forEach((at,lt)=>{at.notify("AnimationStart",$),it.push(animateVariant(at,$,{...rt,delay:_e+ot(lt)}).then(()=>at.notify("AnimationComplete",$)))}),Promise.all(it)}function sortByTreeOrder(et,$){return et.sortNodePosition($)}function shouldBlockAnimation({protectedKeys:et,needsAnimating:$},_e){const tt=et.hasOwnProperty(_e)&&$[_e]!==!0;return $[_e]=!1,tt}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(et){return $=>Promise.all($.map(({animation:_e,options:tt})=>animateVisualElement(et,_e,tt)))}function createAnimationState(et){let $=animateList(et);const _e=createState();let tt=!0;const nt=(ot,at)=>{const lt=resolveVariant(et,at);if(lt){const{transition:dt,transitionEnd:ct,...pt}=lt;ot={...ot,...pt,...ct}}return ot};function rt(ot){$=ot(et)}function it(ot,at){const lt=et.getProps(),dt=et.getVariantContext(!0)||{},ct=[],pt=new Set;let mt={},ht=1/0;for(let vt=0;vt<numAnimationTypes;vt++){const _t=reversePriorityOrder[vt],yt=_e[_t],xt=lt[_t]!==void 0?lt[_t]:dt[_t],At=isVariantLabel(xt),Ct=_t===at?yt.isActive:null;Ct===!1&&(ht=vt);let Pt=xt===dt[_t]&&xt!==lt[_t]&&At;if(Pt&&tt&&et.manuallyAnimateOnMount&&(Pt=!1),yt.protectedKeys={...mt},!yt.isActive&&Ct===null||!xt&&!yt.prevProp||isAnimationControls(xt)||typeof xt=="boolean")continue;const bt=checkVariantsDidChange(yt.prevProp,xt);let Mt=bt||_t===at&&yt.isActive&&!Pt&&At||vt>ht&&At;const Tt=Array.isArray(xt)?xt:[xt];let Ft=Tt.reduce(nt,{});Ct===!1&&(Ft={});const{prevResolvedValues:Gt={}}=yt,Wt={...Gt,...Ft},It=Kt=>{Mt=!0,pt.delete(Kt),yt.needsAnimating[Kt]=!0};for(const Kt in Wt){const Ut=Ft[Kt],Qt=Gt[Kt];mt.hasOwnProperty(Kt)||(Ut!==Qt?isKeyframesTarget(Ut)&&isKeyframesTarget(Qt)?!shallowCompare(Ut,Qt)||bt?It(Kt):yt.protectedKeys[Kt]=!0:Ut!==void 0?It(Kt):pt.add(Kt):Ut!==void 0&&pt.has(Kt)?It(Kt):yt.protectedKeys[Kt]=!0)}yt.prevProp=xt,yt.prevResolvedValues=Ft,yt.isActive&&(mt={...mt,...Ft}),tt&&et.blockInitialAnimation&&(Mt=!1),Mt&&!Pt&&ct.push(...Tt.map(Kt=>({animation:Kt,options:{type:_t,...ot}})))}if(pt.size){const vt={};pt.forEach(_t=>{const yt=et.getBaseTarget(_t);yt!==void 0&&(vt[_t]=yt)}),ct.push({animation:vt})}let gt=Boolean(ct.length);return tt&&lt.initial===!1&&!et.manuallyAnimateOnMount&&(gt=!1),tt=!1,gt?$(ct):Promise.resolve()}function st(ot,at,lt){var dt;if(_e[ot].isActive===at)return Promise.resolve();(dt=et.variantChildren)===null||dt===void 0||dt.forEach(pt=>{var mt;return(mt=pt.animationState)===null||mt===void 0?void 0:mt.setActive(ot,at)}),_e[ot].isActive=at;const ct=it(lt,ot);for(const pt in _e)_e[pt].protectedKeys={};return ct}return{animateChanges:it,setActive:st,setAnimateFunction:rt,getState:()=>_e}}function checkVariantsDidChange(et,$){return typeof $=="string"?$!==et:Array.isArray($)?!shallowCompare($,et):!1}function createTypeState(et=!1){return{isActive:et,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor($){super($),$.animationState||($.animationState=createAnimationState($))}updateAnimationControlsSubscription(){const{animate:$}=this.node.getProps();this.unmount(),isAnimationControls($)&&(this.unmount=$.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:$}=this.node.getProps(),{animate:_e}=this.node.prevProps||{};$!==_e&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:$,onExitComplete:_e,custom:tt}=this.node.presenceContext,{isPresent:nt}=this.node.prevPresenceContext||{};if(!this.node.animationState||$===nt)return;const rt=this.node.animationState.setActive("exit",!$,{custom:tt??this.node.getProps().custom});_e&&!$&&rt.then(()=>_e(this.id))}mount(){const{register:$}=this.node.presenceContext||{};$&&(this.unmount=$(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(et,$)=>Math.abs(et-$);function distance2D(et,$){const _e=distance(et.x,$.x),tt=distance(et.y,$.y);return Math.sqrt(_e**2+tt**2)}class PanSession{constructor($,_e,{transformPagePoint:tt}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const at=getPanInfo(this.lastMoveEventInfo,this.history),lt=this.startEvent!==null,dt=distance2D(at.offset,{x:0,y:0})>=3;if(!lt&&!dt)return;const{point:ct}=at,{timestamp:pt}=frameData;this.history.push({...ct,timestamp:pt});const{onStart:mt,onMove:ht}=this.handlers;lt||(mt&&mt(this.lastMoveEvent,at),this.startEvent=this.lastMoveEvent),ht&&ht(this.lastMoveEvent,at)},this.handlePointerMove=(at,lt)=>{this.lastMoveEvent=at,this.lastMoveEventInfo=transformPoint(lt,this.transformPagePoint),sync.update(this.updatePoint,!0)},this.handlePointerUp=(at,lt)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:dt,onSessionEnd:ct}=this.handlers,pt=getPanInfo(at.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(lt,this.transformPagePoint),this.history);this.startEvent&&dt&&dt(at,pt),ct&&ct(at,pt)},!isPrimaryPointer($))return;this.handlers=_e,this.transformPagePoint=tt;const nt=extractEventInfo($),rt=transformPoint(nt,this.transformPagePoint),{point:it}=rt,{timestamp:st}=frameData;this.history=[{...it,timestamp:st}];const{onSessionStart:ot}=_e;ot&&ot($,getPanInfo(rt,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}updateHandlers($){this.handlers=$}end(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)}}function transformPoint(et,$){return $?{point:$(et.point)}:et}function subtractPoint(et,$){return{x:et.x-$.x,y:et.y-$.y}}function getPanInfo({point:et},$){return{point:et,delta:subtractPoint(et,lastDevicePoint($)),offset:subtractPoint(et,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(et){return et[0]}function lastDevicePoint(et){return et[et.length-1]}function getVelocity(et,$){if(et.length<2)return{x:0,y:0};let _e=et.length-1,tt=null;const nt=lastDevicePoint(et);for(;_e>=0&&(tt=et[_e],!(nt.timestamp-tt.timestamp>secondsToMilliseconds($)));)_e--;if(!tt)return{x:0,y:0};const rt=(nt.timestamp-tt.timestamp)/1e3;if(rt===0)return{x:0,y:0};const it={x:(nt.x-tt.x)/rt,y:(nt.y-tt.y)/rt};return it.x===1/0&&(it.x=0),it.y===1/0&&(it.y=0),it}function calcLength(et){return et.max-et.min}function isNear(et,$=0,_e=.01){return Math.abs(et-$)<=_e}function calcAxisDelta(et,$,_e,tt=.5){et.origin=tt,et.originPoint=mix($.min,$.max,et.origin),et.scale=calcLength(_e)/calcLength($),(isNear(et.scale,1,1e-4)||isNaN(et.scale))&&(et.scale=1),et.translate=mix(_e.min,_e.max,et.origin)-et.originPoint,(isNear(et.translate)||isNaN(et.translate))&&(et.translate=0)}function calcBoxDelta(et,$,_e,tt){calcAxisDelta(et.x,$.x,_e.x,tt?tt.originX:void 0),calcAxisDelta(et.y,$.y,_e.y,tt?tt.originY:void 0)}function calcRelativeAxis(et,$,_e){et.min=_e.min+$.min,et.max=et.min+calcLength($)}function calcRelativeBox(et,$,_e){calcRelativeAxis(et.x,$.x,_e.x),calcRelativeAxis(et.y,$.y,_e.y)}function calcRelativeAxisPosition(et,$,_e){et.min=$.min-_e.min,et.max=et.min+calcLength($)}function calcRelativePosition(et,$,_e){calcRelativeAxisPosition(et.x,$.x,_e.x),calcRelativeAxisPosition(et.y,$.y,_e.y)}function applyConstraints(et,{min:$,max:_e},tt){return $!==void 0&&et<$?et=tt?mix($,et,tt.min):Math.max(et,$):_e!==void 0&&et>_e&&(et=tt?mix(_e,et,tt.max):Math.min(et,_e)),et}function calcRelativeAxisConstraints(et,$,_e){return{min:$!==void 0?et.min+$:void 0,max:_e!==void 0?et.max+_e-(et.max-et.min):void 0}}function calcRelativeConstraints(et,{top:$,left:_e,bottom:tt,right:nt}){return{x:calcRelativeAxisConstraints(et.x,_e,nt),y:calcRelativeAxisConstraints(et.y,$,tt)}}function calcViewportAxisConstraints(et,$){let _e=$.min-et.min,tt=$.max-et.max;return $.max-$.min<et.max-et.min&&([_e,tt]=[tt,_e]),{min:_e,max:tt}}function calcViewportConstraints(et,$){return{x:calcViewportAxisConstraints(et.x,$.x),y:calcViewportAxisConstraints(et.y,$.y)}}function calcOrigin(et,$){let _e=.5;const tt=calcLength(et),nt=calcLength($);return nt>tt?_e=progress($.min,$.max-tt,et.min):tt>nt&&(_e=progress(et.min,et.max-nt,$.min)),clamp(0,1,_e)}function rebaseAxisConstraints(et,$){const _e={};return $.min!==void 0&&(_e.min=$.min-et.min),$.max!==void 0&&(_e.max=$.max-et.min),_e}const defaultElastic=.35;function resolveDragElastic(et=defaultElastic){return et===!1?et=0:et===!0&&(et=defaultElastic),{x:resolveAxisElastic(et,"left","right"),y:resolveAxisElastic(et,"top","bottom")}}function resolveAxisElastic(et,$,_e){return{min:resolvePointElastic(et,$),max:resolvePointElastic(et,_e)}}function resolvePointElastic(et,$){return typeof et=="number"?et:et[$]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(et){return[et("x"),et("y")]}function convertBoundingBoxToBox({top:et,left:$,right:_e,bottom:tt}){return{x:{min:$,max:_e},y:{min:et,max:tt}}}function convertBoxToBoundingBox({x:et,y:$}){return{top:$.min,right:et.max,bottom:$.max,left:et.min}}function transformBoxPoints(et,$){if(!$)return et;const _e=$({x:et.left,y:et.top}),tt=$({x:et.right,y:et.bottom});return{top:_e.y,left:_e.x,bottom:tt.y,right:tt.x}}function isIdentityScale(et){return et===void 0||et===1}function hasScale({scale:et,scaleX:$,scaleY:_e}){return!isIdentityScale(et)||!isIdentityScale($)||!isIdentityScale(_e)}function hasTransform(et){return hasScale(et)||has2DTranslate(et)||et.z||et.rotate||et.rotateX||et.rotateY}function has2DTranslate(et){return is2DTranslate(et.x)||is2DTranslate(et.y)}function is2DTranslate(et){return et&&et!=="0%"}function scalePoint(et,$,_e){const tt=et-_e,nt=$*tt;return _e+nt}function applyPointDelta(et,$,_e,tt,nt){return nt!==void 0&&(et=scalePoint(et,nt,tt)),scalePoint(et,_e,tt)+$}function applyAxisDelta(et,$=0,_e=1,tt,nt){et.min=applyPointDelta(et.min,$,_e,tt,nt),et.max=applyPointDelta(et.max,$,_e,tt,nt)}function applyBoxDelta(et,{x:$,y:_e}){applyAxisDelta(et.x,$.translate,$.scale,$.originPoint),applyAxisDelta(et.y,_e.translate,_e.scale,_e.originPoint)}function applyTreeDeltas(et,$,_e,tt=!1){const nt=_e.length;if(!nt)return;$.x=$.y=1;let rt,it;for(let st=0;st<nt;st++){rt=_e[st],it=rt.projectionDelta;const ot=rt.instance;ot&&ot.style&&ot.style.display==="contents"||(tt&&rt.options.layoutScroll&&rt.scroll&&rt!==rt.root&&transformBox(et,{x:-rt.scroll.offset.x,y:-rt.scroll.offset.y}),it&&($.x*=it.x.scale,$.y*=it.y.scale,applyBoxDelta(et,it)),tt&&hasTransform(rt.latestValues)&&transformBox(et,rt.latestValues))}$.x=snapToDefault($.x),$.y=snapToDefault($.y)}function snapToDefault(et){return Number.isInteger(et)||et>1.0000000000001||et<.999999999999?et:1}function translateAxis(et,$){et.min=et.min+$,et.max=et.max+$}function transformAxis(et,$,[_e,tt,nt]){const rt=$[nt]!==void 0?$[nt]:.5,it=mix(et.min,et.max,rt);applyAxisDelta(et,$[_e],$[tt],it,$.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(et,$){transformAxis(et.x,$,xKeys$1),transformAxis(et.y,$,yKeys$1)}function measureViewportBox(et,$){return convertBoundingBoxToBox(transformBoxPoints(et.getBoundingClientRect(),$))}function measurePageBox(et,$,_e){const tt=measureViewportBox(et,_e),{scroll:nt}=$;return nt&&(translateAxis(tt.x,nt.offset.x),translateAxis(tt.y,nt.offset.y)),tt}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor($){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=$}start($,{snapToCursor:_e=!1}={}){const{presenceContext:tt}=this.visualElement;if(tt&&tt.isPresent===!1)return;const nt=ot=>{this.stopAnimation(),_e&&this.snapToCursor(extractEventInfo(ot,"page").point)},rt=(ot,at)=>{const{drag:lt,dragPropagation:dt,onDragStart:ct}=this.getProps();if(lt&&!dt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(lt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(mt=>{let ht=this.getAxisMotionValue(mt).get()||0;if(percent.test(ht)){const{projection:gt}=this.visualElement;if(gt&&gt.layout){const vt=gt.layout.layoutBox[mt];vt&&(ht=calcLength(vt)*(parseFloat(ht)/100))}}this.originPoint[mt]=ht}),ct&&ct(ot,at);const{animationState:pt}=this.visualElement;pt&&pt.setActive("whileDrag",!0)},it=(ot,at)=>{const{dragPropagation:lt,dragDirectionLock:dt,onDirectionLock:ct,onDrag:pt}=this.getProps();if(!lt&&!this.openGlobalLock)return;const{offset:mt}=at;if(dt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(mt),this.currentDirection!==null&&ct&&ct(this.currentDirection);return}this.updateAxis("x",at.point,mt),this.updateAxis("y",at.point,mt),this.visualElement.render(),pt&&pt(ot,at)},st=(ot,at)=>this.stop(ot,at);this.panSession=new PanSession($,{onSessionStart:nt,onStart:rt,onMove:it,onSessionEnd:st},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop($,_e){const tt=this.isDragging;if(this.cancel(),!tt)return;const{velocity:nt}=_e;this.startAnimation(nt);const{onDragEnd:rt}=this.getProps();rt&&rt($,_e)}cancel(){this.isDragging=!1;const{projection:$,animationState:_e}=this.visualElement;$&&($.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:tt}=this.getProps();!tt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),_e&&_e.setActive("whileDrag",!1)}updateAxis($,_e,tt){const{drag:nt}=this.getProps();if(!tt||!shouldDrag($,nt,this.currentDirection))return;const rt=this.getAxisMotionValue($);let it=this.originPoint[$]+tt[$];this.constraints&&this.constraints[$]&&(it=applyConstraints(it,this.constraints[$],this.elastic[$])),rt.set(it)}resolveConstraints(){const{dragConstraints:$,dragElastic:_e}=this.getProps(),{layout:tt}=this.visualElement.projection||{},nt=this.constraints;$&&isRefObject($)?this.constraints||(this.constraints=this.resolveRefConstraints()):$&&tt?this.constraints=calcRelativeConstraints(tt.layoutBox,$):this.constraints=!1,this.elastic=resolveDragElastic(_e),nt!==this.constraints&&tt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(rt=>{this.getAxisMotionValue(rt)&&(this.constraints[rt]=rebaseAxisConstraints(tt.layoutBox[rt],this.constraints[rt]))})}resolveRefConstraints(){const{dragConstraints:$,onMeasureDragConstraints:_e}=this.getProps();if(!$||!isRefObject($))return!1;const tt=$.current,{projection:nt}=this.visualElement;if(!nt||!nt.layout)return!1;const rt=measurePageBox(tt,nt.root,this.visualElement.getTransformPagePoint());let it=calcViewportConstraints(nt.layout.layoutBox,rt);if(_e){const st=_e(convertBoxToBoundingBox(it));this.hasMutatedConstraints=!!st,st&&(it=convertBoundingBoxToBox(st))}return it}startAnimation($){const{drag:_e,dragMomentum:tt,dragElastic:nt,dragTransition:rt,dragSnapToOrigin:it,onDragTransitionEnd:st}=this.getProps(),ot=this.constraints||{},at=eachAxis(lt=>{if(!shouldDrag(lt,_e,this.currentDirection))return;let dt=ot&&ot[lt]||{};it&&(dt={min:0,max:0});const ct=nt?200:1e6,pt=nt?40:1e7,mt={type:"inertia",velocity:tt?$[lt]:0,bounceStiffness:ct,bounceDamping:pt,timeConstant:750,restDelta:1,restSpeed:10,...rt,...dt};return this.startAxisValueAnimation(lt,mt)});return Promise.all(at).then(st)}startAxisValueAnimation($,_e){const tt=this.getAxisMotionValue($);return tt.start(createMotionValueAnimation($,tt,0,_e))}stopAnimation(){eachAxis($=>this.getAxisMotionValue($).stop())}getAxisMotionValue($){const _e="_drag"+$.toUpperCase(),tt=this.visualElement.getProps(),nt=tt[_e];return nt||this.visualElement.getValue($,(tt.initial?tt.initial[$]:void 0)||0)}snapToCursor($){eachAxis(_e=>{const{drag:tt}=this.getProps();if(!shouldDrag(_e,tt,this.currentDirection))return;const{projection:nt}=this.visualElement,rt=this.getAxisMotionValue(_e);if(nt&&nt.layout){const{min:it,max:st}=nt.layout.layoutBox[_e];rt.set($[_e]-mix(it,st,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:$,dragConstraints:_e}=this.getProps(),{projection:tt}=this.visualElement;if(!isRefObject(_e)||!tt||!this.constraints)return;this.stopAnimation();const nt={x:0,y:0};eachAxis(it=>{const st=this.getAxisMotionValue(it);if(st){const ot=st.get();nt[it]=calcOrigin({min:ot,max:ot},this.constraints[it])}});const{transformTemplate:rt}=this.visualElement.getProps();this.visualElement.current.style.transform=rt?rt({},""):"none",tt.root&&tt.root.updateScroll(),tt.updateLayout(),this.resolveConstraints(),eachAxis(it=>{if(!shouldDrag(it,$,null))return;const st=this.getAxisMotionValue(it),{min:ot,max:at}=this.constraints[it];st.set(mix(ot,at,nt[it]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const $=this.visualElement.current,_e=addPointerEvent($,"pointerdown",ot=>{const{drag:at,dragListener:lt=!0}=this.getProps();at&&lt&&this.start(ot)}),tt=()=>{const{dragConstraints:ot}=this.getProps();isRefObject(ot)&&(this.constraints=this.resolveRefConstraints())},{projection:nt}=this.visualElement,rt=nt.addEventListener("measure",tt);nt&&!nt.layout&&(nt.root&&nt.root.updateScroll(),nt.updateLayout()),tt();const it=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),st=nt.addEventListener("didUpdate",({delta:ot,hasLayoutChanged:at})=>{this.isDragging&&at&&(eachAxis(lt=>{const dt=this.getAxisMotionValue(lt);dt&&(this.originPoint[lt]+=ot[lt].translate,dt.set(dt.get()+ot[lt].translate))}),this.visualElement.render())});return()=>{it(),_e(),rt(),st&&st()}}getProps(){const $=this.visualElement.getProps(),{drag:_e=!1,dragDirectionLock:tt=!1,dragPropagation:nt=!1,dragConstraints:rt=!1,dragElastic:it=defaultElastic,dragMomentum:st=!0}=$;return{...$,drag:_e,dragDirectionLock:tt,dragPropagation:nt,dragConstraints:rt,dragElastic:it,dragMomentum:st}}}function shouldDrag(et,$,_e){return($===!0||$===et)&&(_e===null||_e===et)}function getCurrentDirection(et,$=10){let _e=null;return Math.abs(et.y)>$?_e="y":Math.abs(et.x)>$&&(_e="x"),_e}class DragGesture extends Feature{constructor($){super($),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls($)}mount(){const{dragControls:$}=this.node.getProps();$&&(this.removeGroupControls=$.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown($){this.session=new PanSession($,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:$,onPanStart:_e,onPan:tt,onPanEnd:nt}=this.node.getProps();return{onSessionStart:$,onStart:_e,onMove:tt,onEnd:(rt,it)=>{delete this.session,nt&&nt(rt,it)}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",$=>this.onPointerDown($))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const et=reactExports.useContext(PresenceContext);if(et===null)return[!0,null];const{isPresent:$,onExitComplete:_e,register:tt}=et,nt=reactExports.useId();return reactExports.useEffect(()=>tt(nt),[]),!$&&_e?[!1,()=>_e&&_e(nt)]:[!0]}function pixelsToPercent(et,$){return $.max===$.min?0:et/($.max-$.min)*100}const correctBorderRadius={correct:(et,$)=>{if(!$.target)return et;if(typeof et=="string")if(px.test(et))et=parseFloat(et);else return et;const _e=pixelsToPercent(et,$.target.x),tt=pixelsToPercent(et,$.target.y);return`${_e}% ${tt}%`}},cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(et){const $=cssVariableRegex.exec(et);if(!$)return[,];const[,_e,tt]=$;return[_e,tt]}function getVariableValue(et,$,_e=1){const[tt,nt]=parseCSSVariable(et);if(!tt)return;const rt=window.getComputedStyle($).getPropertyValue(tt);return rt?rt.trim():isCSSVariableToken(nt)?getVariableValue(nt,$,_e+1):nt}function resolveCSSVariables(et,{...$},_e){const tt=et.current;if(!(tt instanceof Element))return{target:$,transitionEnd:_e};_e&&(_e={..._e}),et.values.forEach(nt=>{const rt=nt.get();if(!isCSSVariableToken(rt))return;const it=getVariableValue(rt,tt);it&&nt.set(it)});for(const nt in $){const rt=$[nt];if(!isCSSVariableToken(rt))continue;const it=getVariableValue(rt,tt);it&&($[nt]=it,_e&&_e[nt]===void 0&&(_e[nt]=rt))}return{target:$,transitionEnd:_e}}const varToken="_$css",correctBoxShadow={correct:(et,{treeScale:$,projectionDelta:_e})=>{const tt=et,nt=et.includes("var("),rt=[];nt&&(et=et.replace(cssVariableRegex,pt=>(rt.push(pt),varToken)));const it=complex.parse(et);if(it.length>5)return tt;const st=complex.createTransformer(et),ot=typeof it[0]!="number"?1:0,at=_e.x.scale*$.x,lt=_e.y.scale*$.y;it[0+ot]/=at,it[1+ot]/=lt;const dt=mix(at,lt,.5);typeof it[2+ot]=="number"&&(it[2+ot]/=dt),typeof it[3+ot]=="number"&&(it[3+ot]/=dt);let ct=st(it);if(nt){let pt=0;ct=ct.replace(varToken,()=>{const mt=rt[pt];return pt++,mt})}return ct}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:$,layoutGroup:_e,switchLayoutGroup:tt,layoutId:nt}=this.props,{projection:rt}=$;addScaleCorrector(defaultScaleCorrectors),rt&&(_e.group&&_e.group.add(rt),tt&&tt.register&&nt&&tt.register(rt),rt.root.didUpdate(),rt.addEventListener("animationComplete",()=>{this.safeToRemove()}),rt.setOptions({...rt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate($){const{layoutDependency:_e,visualElement:tt,drag:nt,isPresent:rt}=this.props,it=tt.projection;return it&&(it.isPresent=rt,nt||$.layoutDependency!==_e||_e===void 0?it.willUpdate():this.safeToRemove(),$.isPresent!==rt&&(rt?it.promote():it.relegate()||sync.postRender(()=>{const st=it.getStack();(!st||!st.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:$}=this.props.visualElement;$&&($.root.didUpdate(),!$.currentAnimation&&$.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:$,layoutGroup:_e,switchLayoutGroup:tt}=this.props,{projection:nt}=$;nt&&(nt.scheduleCheckAfterUnmount(),_e&&_e.group&&_e.group.remove(nt),tt&&tt.deregister&&tt.deregister(nt))}safeToRemove(){const{safeToRemove:$}=this.props;$&&$()}render(){return null}}function MeasureLayout(et){const[$,_e]=usePresence(),tt=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{...et,layoutGroup:tt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:$,safeToRemove:_e})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animate(et,$,_e={}){const tt=isMotionValue(et)?et:motionValue(et);return tt.start(createMotionValueAnimation("",tt,$,_e)),{stop:()=>tt.stop(),isAnimating:()=>tt.isAnimating()}}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=et=>typeof et=="string"?parseFloat(et):et,isPx=et=>typeof et=="number"||px.test(et);function mixValues(et,$,_e,tt,nt,rt){nt?(et.opacity=mix(0,_e.opacity!==void 0?_e.opacity:1,easeCrossfadeIn(tt)),et.opacityExit=mix($.opacity!==void 0?$.opacity:1,0,easeCrossfadeOut(tt))):rt&&(et.opacity=mix($.opacity!==void 0?$.opacity:1,_e.opacity!==void 0?_e.opacity:1,tt));for(let it=0;it<numBorders;it++){const st=`border${borders[it]}Radius`;let ot=getRadius($,st),at=getRadius(_e,st);if(ot===void 0&&at===void 0)continue;ot||(ot=0),at||(at=0),ot===0||at===0||isPx(ot)===isPx(at)?(et[st]=Math.max(mix(asNumber(ot),asNumber(at),tt),0),(percent.test(at)||percent.test(ot))&&(et[st]+="%")):et[st]=at}($.rotate||_e.rotate)&&(et.rotate=mix($.rotate||0,_e.rotate||0,tt))}function getRadius(et,$){return et[$]!==void 0?et[$]:et.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(et,$,_e){return tt=>tt<et?0:tt>$?1:_e(progress(et,$,tt))}function copyAxisInto(et,$){et.min=$.min,et.max=$.max}function copyBoxInto(et,$){copyAxisInto(et.x,$.x),copyAxisInto(et.y,$.y)}function removePointDelta(et,$,_e,tt,nt){return et-=$,et=scalePoint(et,1/_e,tt),nt!==void 0&&(et=scalePoint(et,1/nt,tt)),et}function removeAxisDelta(et,$=0,_e=1,tt=.5,nt,rt=et,it=et){if(percent.test($)&&($=parseFloat($),$=mix(it.min,it.max,$/100)-it.min),typeof $!="number")return;let st=mix(rt.min,rt.max,tt);et===rt&&(st-=$),et.min=removePointDelta(et.min,$,_e,st,nt),et.max=removePointDelta(et.max,$,_e,st,nt)}function removeAxisTransforms(et,$,[_e,tt,nt],rt,it){removeAxisDelta(et,$[_e],$[tt],$[nt],$.scale,rt,it)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(et,$,_e,tt){removeAxisTransforms(et.x,$,xKeys,_e?_e.x:void 0,tt?tt.x:void 0),removeAxisTransforms(et.y,$,yKeys,_e?_e.y:void 0,tt?tt.y:void 0)}function isAxisDeltaZero(et){return et.translate===0&&et.scale===1}function isDeltaZero(et){return isAxisDeltaZero(et.x)&&isAxisDeltaZero(et.y)}function boxEquals(et,$){return et.x.min===$.x.min&&et.x.max===$.x.max&&et.y.min===$.y.min&&et.y.max===$.y.max}function aspectRatio(et){return calcLength(et.x)/calcLength(et.y)}class NodeStack{constructor(){this.members=[]}add($){addUniqueItem(this.members,$),$.scheduleRender()}remove($){if(removeItem(this.members,$),$===this.prevLead&&(this.prevLead=void 0),$===this.lead){const _e=this.members[this.members.length-1];_e&&this.promote(_e)}}relegate($){const _e=this.members.findIndex(nt=>$===nt);if(_e===0)return!1;let tt;for(let nt=_e;nt>=0;nt--){const rt=this.members[nt];if(rt.isPresent!==!1){tt=rt;break}}return tt?(this.promote(tt),!0):!1}promote($,_e){const tt=this.lead;if($!==tt&&(this.prevLead=tt,this.lead=$,$.show(),tt)){tt.instance&&tt.scheduleRender(),$.scheduleRender(),$.resumeFrom=tt,_e&&($.resumeFrom.preserveOpacity=!0),tt.snapshot&&($.snapshot=tt.snapshot,$.snapshot.latestValues=tt.animationValues||tt.latestValues),$.root&&$.root.isUpdating&&($.isLayoutDirty=!0);const{crossfade:nt}=$.options;nt===!1&&tt.hide()}}exitAnimationComplete(){this.members.forEach($=>{const{options:_e,resumingFrom:tt}=$;_e.onExitComplete&&_e.onExitComplete(),tt&&tt.options.onExitComplete&&tt.options.onExitComplete()})}scheduleRender(){this.members.forEach($=>{$.instance&&$.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(et,$,_e){let tt="";const nt=et.x.translate/$.x,rt=et.y.translate/$.y;if((nt||rt)&&(tt=`translate3d(${nt}px, ${rt}px, 0) `),($.x!==1||$.y!==1)&&(tt+=`scale(${1/$.x}, ${1/$.y}) `),_e){const{rotate:ot,rotateX:at,rotateY:lt}=_e;ot&&(tt+=`rotate(${ot}deg) `),at&&(tt+=`rotateX(${at}deg) `),lt&&(tt+=`rotateY(${lt}deg) `)}const it=et.x.scale*$.x,st=et.y.scale*$.y;return(it!==1||st!==1)&&(tt+=`scale(${it}, ${st})`),tt||"none"}const compareByDepth=(et,$)=>et.depth-$.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add($){addUniqueItem(this.children,$),this.isDirty=!0}remove($){removeItem(this.children,$),this.isDirty=!0}forEach($){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach($)}}function record(et){window.MotionDebug&&window.MotionDebug.record(et)}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:et,defaultParent:$,measureScroll:_e,checkIsScrollRoot:tt,resetTransform:nt}){return class{constructor(it,st={},ot=$==null?void 0:$()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=it,this.latestValues=st,this.root=ot?ot.root||ot:this,this.path=ot?[...ot.path,ot]:[],this.parent=ot,this.depth=ot?ot.depth+1:0,it&&this.root.registerPotentialNode(it,this);for(let at=0;at<this.path.length;at++)this.path[at].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(it,st){return this.eventHandlers.has(it)||this.eventHandlers.set(it,new SubscriptionManager),this.eventHandlers.get(it).add(st)}notifyListeners(it,...st){const ot=this.eventHandlers.get(it);ot&&ot.notify(...st)}hasListeners(it){return this.eventHandlers.has(it)}registerPotentialNode(it,st){this.potentialNodes.set(it,st)}mount(it,st=!1){if(this.instance)return;this.isSVG=it instanceof SVGElement&&it.tagName!=="svg",this.instance=it;const{layoutId:ot,layout:at,visualElement:lt}=this.options;if(lt&&!lt.current&&lt.mount(it),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),st&&(at||ot)&&(this.isLayoutDirty=!0),et){let dt;const ct=()=>this.root.updateBlockedByResize=!1;et(it,()=>{this.root.updateBlockedByResize=!0,dt&&dt(),dt=delay(ct,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}ot&&this.root.registerSharedNode(ot,this),this.options.animate!==!1&&lt&&(ot||at)&&this.addEventListener("didUpdate",({delta:dt,hasLayoutChanged:ct,hasRelativeTargetChanged:pt,layout:mt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const ht=this.options.transition||lt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:gt,onLayoutAnimationComplete:vt}=lt.getProps(),_t=!this.targetLayout||!boxEquals(this.targetLayout,mt)||pt,yt=!ct&&pt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||yt||ct&&(_t||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(dt,yt);const xt={...getValueTransition(ht,"layout"),onPlay:gt,onComplete:vt};(lt.shouldReduceMotion||this.options.layoutRoot)&&(xt.delay=0,xt.type=!1),this.startAnimation(xt)}else!ct&&this.animationProgress===0&&finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=mt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const it=this.getStack();it&&it.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:it}=this.options;return it&&it.getProps().transformTemplate}willUpdate(it=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let lt=0;lt<this.path.length;lt++){const dt=this.path[lt];dt.shouldResetTransform=!0,dt.updateScroll("snapshot"),dt.options.layoutRoot&&dt.willUpdate(!1)}const{layoutId:st,layout:ot}=this.options;if(st===void 0&&!ot)return;const at=this.getTransformTemplate();this.prevTransformTemplateValue=at?at(this.latestValues,""):void 0,this.updateSnapshot(),it&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){sync.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){sync.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let ot=0;ot<this.path.length;ot++)this.path[ot].updateScroll();const it=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:st}=this.options;st&&st.notify("LayoutMeasure",this.layout.layoutBox,it?it.layoutBox:void 0)}updateScroll(it="measure"){let st=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===it&&(st=!1),st&&(this.scroll={animationId:this.root.animationId,phase:it,isRoot:tt(this.instance),offset:_e(this.instance)})}resetTransform(){if(!nt)return;const it=this.isLayoutDirty||this.shouldResetTransform,st=this.projectionDelta&&!isDeltaZero(this.projectionDelta),ot=this.getTransformTemplate(),at=ot?ot(this.latestValues,""):void 0,lt=at!==this.prevTransformTemplateValue;it&&(st||hasTransform(this.latestValues)||lt)&&(nt(this.instance,at),this.shouldResetTransform=!1,this.scheduleRender())}measure(it=!0){const st=this.measurePageBox();let ot=this.removeElementScroll(st);return it&&(ot=this.removeTransform(ot)),roundBox(ot),{animationId:this.root.animationId,measuredBox:st,layoutBox:ot,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:it}=this.options;if(!it)return createBox();const st=it.measureViewportBox(),{scroll:ot}=this.root;return ot&&(translateAxis(st.x,ot.offset.x),translateAxis(st.y,ot.offset.y)),st}removeElementScroll(it){const st=createBox();copyBoxInto(st,it);for(let ot=0;ot<this.path.length;ot++){const at=this.path[ot],{scroll:lt,options:dt}=at;if(at!==this.root&&lt&&dt.layoutScroll){if(lt.isRoot){copyBoxInto(st,it);const{scroll:ct}=this.root;ct&&(translateAxis(st.x,-ct.offset.x),translateAxis(st.y,-ct.offset.y))}translateAxis(st.x,lt.offset.x),translateAxis(st.y,lt.offset.y)}}return st}applyTransform(it,st=!1){const ot=createBox();copyBoxInto(ot,it);for(let at=0;at<this.path.length;at++){const lt=this.path[at];!st&&lt.options.layoutScroll&&lt.scroll&&lt!==lt.root&&transformBox(ot,{x:-lt.scroll.offset.x,y:-lt.scroll.offset.y}),hasTransform(lt.latestValues)&&transformBox(ot,lt.latestValues)}return hasTransform(this.latestValues)&&transformBox(ot,this.latestValues),ot}removeTransform(it){const st=createBox();copyBoxInto(st,it);for(let ot=0;ot<this.path.length;ot++){const at=this.path[ot];if(!at.instance||!hasTransform(at.latestValues))continue;hasScale(at.latestValues)&&at.updateSnapshot();const lt=createBox(),dt=at.measurePageBox();copyBoxInto(lt,dt),removeBoxTransforms(st,at.latestValues,at.snapshot?at.snapshot.layoutBox:void 0,lt)}return hasTransform(this.latestValues)&&removeBoxTransforms(st,this.latestValues),st}setTargetDelta(it){this.targetDelta=it,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(it){this.options={...this.options,...it,crossfade:it.crossfade!==void 0?it.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var it;const st=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=st.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=st.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=st.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==st)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((it=this.parent)===null||it===void 0)&&it.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:lt,layoutId:dt}=this.options;if(!(!this.layout||!(lt||dt))){if(!this.targetDelta&&!this.relativeTarget){const ct=this.getClosestProjectingParent();ct&&ct.layout?(this.relativeParent=ct,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ct.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ct=this.getClosestProjectingParent();ct&&Boolean(ct.resumingFrom)===Boolean(this.resumingFrom)&&!ct.options.layoutScroll&&ct.target?(this.relativeParent=ct,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ct.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var it;const st=this.getLead(),ot=Boolean(this.resumingFrom)||this!==st;let at=!0;if((this.isProjectionDirty||!((it=this.parent)===null||it===void 0)&&it.isProjectionDirty)&&(at=!1),ot&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(at=!1),at)return;const{layout:lt,layoutId:dt}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(lt||dt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ot);const{target:ct}=st;if(!ct)return;this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const pt=this.treeScale.x,mt=this.treeScale.y,ht=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,ct,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==ht||this.treeScale.x!==pt||this.treeScale.y!==mt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ct)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(it=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),it){const st=this.getStack();st&&st.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(it,st=!1){const ot=this.snapshot,at=ot?ot.latestValues:{},lt={...this.latestValues},dt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!st;const ct=createBox(),pt=ot?ot.source:void 0,mt=this.layout?this.layout.source:void 0,ht=pt!==mt,gt=this.getStack(),vt=!gt||gt.members.length<=1,_t=Boolean(ht&&!vt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let yt;this.mixTargetDelta=xt=>{const At=xt/1e3;mixAxisDelta(dt.x,it.x,At),mixAxisDelta(dt.y,it.y,At),this.setTargetDelta(dt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ct,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ct,At),yt&&boxEquals(this.relativeTarget,yt)&&(this.isProjectionDirty=!1),yt||(yt=createBox()),copyBoxInto(yt,this.relativeTarget)),ht&&(this.animationValues=lt,mixValues(lt,at,this.latestValues,At,_t,vt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=At},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(it){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animate(0,animationTarget,{...it,onUpdate:st=>{this.mixTargetDelta(st),it.onUpdate&&it.onUpdate(st)},onComplete:()=>{it.onComplete&&it.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const it=this.getStack();it&&it.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const it=this.getLead();let{targetWithTransforms:st,target:ot,layout:at,latestValues:lt}=it;if(!(!st||!ot||!at)){if(this!==it&&this.layout&&at&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,at.layoutBox)){ot=this.target||createBox();const dt=calcLength(this.layout.layoutBox.x);ot.x.min=it.target.x.min,ot.x.max=ot.x.min+dt;const ct=calcLength(this.layout.layoutBox.y);ot.y.min=it.target.y.min,ot.y.max=ot.y.min+ct}copyBoxInto(st,ot),transformBox(st,lt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,st,lt)}}registerSharedNode(it,st){this.sharedNodes.has(it)||this.sharedNodes.set(it,new NodeStack),this.sharedNodes.get(it).add(st);const at=st.options.initialPromotionConfig;st.promote({transition:at?at.transition:void 0,preserveFollowOpacity:at&&at.shouldPreserveFollowOpacity?at.shouldPreserveFollowOpacity(st):void 0})}isLead(){const it=this.getStack();return it?it.lead===this:!0}getLead(){var it;const{layoutId:st}=this.options;return st?((it=this.getStack())===null||it===void 0?void 0:it.lead)||this:this}getPrevLead(){var it;const{layoutId:st}=this.options;return st?(it=this.getStack())===null||it===void 0?void 0:it.prevLead:void 0}getStack(){const{layoutId:it}=this.options;if(it)return this.root.sharedNodes.get(it)}promote({needsReset:it,transition:st,preserveFollowOpacity:ot}={}){const at=this.getStack();at&&at.promote(this,ot),it&&(this.projectionDelta=void 0,this.needsReset=!0),st&&this.setOptions({transition:st})}relegate(){const it=this.getStack();return it?it.relegate(this):!1}resetRotation(){const{visualElement:it}=this.options;if(!it)return;let st=!1;const{latestValues:ot}=it;if((ot.rotate||ot.rotateX||ot.rotateY||ot.rotateZ)&&(st=!0),!st)return;const at={};for(let lt=0;lt<transformAxes.length;lt++){const dt="rotate"+transformAxes[lt];ot[dt]&&(at[dt]=ot[dt],it.setStaticValue(dt,0))}it.render();for(const lt in at)it.setStaticValue(lt,at[lt]);it.scheduleRender()}getProjectionStyles(it={}){var st,ot;const at={};if(!this.instance||this.isSVG)return at;if(this.isVisible)at.visibility="";else return{visibility:"hidden"};const lt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,at.opacity="",at.pointerEvents=resolveMotionValue(it.pointerEvents)||"",at.transform=lt?lt(this.latestValues,""):"none",at;const dt=this.getLead();if(!this.projectionDelta||!this.layout||!dt.target){const ht={};return this.options.layoutId&&(ht.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ht.pointerEvents=resolveMotionValue(it.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(ht.transform=lt?lt({},""):"none",this.hasProjected=!1),ht}const ct=dt.animationValues||dt.latestValues;this.applyTransformsToTarget(),at.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ct),lt&&(at.transform=lt(ct,at.transform));const{x:pt,y:mt}=this.projectionDelta;at.transformOrigin=`${pt.origin*100}% ${mt.origin*100}% 0`,dt.animationValues?at.opacity=dt===this?(ot=(st=ct.opacity)!==null&&st!==void 0?st:this.latestValues.opacity)!==null&&ot!==void 0?ot:1:this.preserveOpacity?this.latestValues.opacity:ct.opacityExit:at.opacity=dt===this?ct.opacity!==void 0?ct.opacity:"":ct.opacityExit!==void 0?ct.opacityExit:0;for(const ht in scaleCorrectors){if(ct[ht]===void 0)continue;const{correct:gt,applyTo:vt}=scaleCorrectors[ht],_t=at.transform==="none"?ct[ht]:gt(ct[ht],dt);if(vt){const yt=vt.length;for(let xt=0;xt<yt;xt++)at[vt[xt]]=_t}else at[ht]=_t}return this.options.layoutId&&(at.pointerEvents=dt===this?resolveMotionValue(it.pointerEvents)||"":"none"),at}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(it=>{var st;return(st=it.currentAnimation)===null||st===void 0?void 0:st.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(et){et.updateLayout()}function notifyLayoutUpdate(et){var $;const _e=(($=et.resumeFrom)===null||$===void 0?void 0:$.snapshot)||et.snapshot;if(et.isLead()&&et.layout&&_e&&et.hasListeners("didUpdate")){const{layoutBox:tt,measuredBox:nt}=et.layout,{animationType:rt}=et.options,it=_e.source!==et.layout.source;rt==="size"?eachAxis(dt=>{const ct=it?_e.measuredBox[dt]:_e.layoutBox[dt],pt=calcLength(ct);ct.min=tt[dt].min,ct.max=ct.min+pt}):shouldAnimatePositionOnly(rt,_e.layoutBox,tt)&&eachAxis(dt=>{const ct=it?_e.measuredBox[dt]:_e.layoutBox[dt],pt=calcLength(tt[dt]);ct.max=ct.min+pt});const st=createDelta();calcBoxDelta(st,tt,_e.layoutBox);const ot=createDelta();it?calcBoxDelta(ot,et.applyTransform(nt,!0),_e.measuredBox):calcBoxDelta(ot,tt,_e.layoutBox);const at=!isDeltaZero(st);let lt=!1;if(!et.resumeFrom){const dt=et.getClosestProjectingParent();if(dt&&!dt.resumeFrom){const{snapshot:ct,layout:pt}=dt;if(ct&&pt){const mt=createBox();calcRelativePosition(mt,_e.layoutBox,ct.layoutBox);const ht=createBox();calcRelativePosition(ht,tt,pt.layoutBox),boxEquals(mt,ht)||(lt=!0),dt.options.layoutRoot&&(et.relativeTarget=ht,et.relativeTargetOrigin=mt,et.relativeParent=dt)}}}et.notifyListeners("didUpdate",{layout:tt,snapshot:_e,delta:ot,layoutDelta:st,hasLayoutChanged:at,hasRelativeTargetChanged:lt})}else if(et.isLead()){const{onExitComplete:tt}=et.options;tt&&tt()}et.options.transition=void 0}function propagateDirtyNodes(et){projectionFrameData.totalNodes++,et.parent&&(et.isProjecting()||(et.isProjectionDirty=et.parent.isProjectionDirty),et.isSharedProjectionDirty||(et.isSharedProjectionDirty=Boolean(et.isProjectionDirty||et.parent.isProjectionDirty||et.parent.isSharedProjectionDirty)),et.isTransformDirty||(et.isTransformDirty=et.parent.isTransformDirty))}function cleanDirtyNodes(et){et.isProjectionDirty=et.isSharedProjectionDirty=et.isTransformDirty=!1}function clearSnapshot(et){et.clearSnapshot()}function clearMeasurements(et){et.clearMeasurements()}function resetTransformStyle(et){const{visualElement:$}=et.options;$&&$.getProps().onBeforeLayoutMeasure&&$.notify("BeforeLayoutMeasure"),et.resetTransform()}function finishAnimation(et){et.finishAnimation(),et.targetDelta=et.relativeTarget=et.target=void 0}function resolveTargetDelta(et){et.resolveTargetDelta()}function calcProjection(et){et.calcProjection()}function resetRotation(et){et.resetRotation()}function removeLeadSnapshots(et){et.removeLeadSnapshot()}function mixAxisDelta(et,$,_e){et.translate=mix($.translate,0,_e),et.scale=mix($.scale,1,_e),et.origin=$.origin,et.originPoint=$.originPoint}function mixAxis(et,$,_e,tt){et.min=mix($.min,_e.min,tt),et.max=mix($.max,_e.max,tt)}function mixBox(et,$,_e,tt){mixAxis(et.x,$.x,_e.x,tt),mixAxis(et.y,$.y,_e.y,tt)}function hasOpacityCrossfade(et){return et.animationValues&&et.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(et,$){let _e=et.root;for(let rt=et.path.length-1;rt>=0;rt--)if(Boolean(et.path[rt].instance)){_e=et.path[rt];break}const nt=(_e&&_e!==et.root?_e.instance:document).querySelector(`[data-projection-id="${$}"]`);nt&&et.mount(nt,!0)}function roundAxis(et){et.min=Math.round(et.min),et.max=Math.round(et.max)}function roundBox(et){roundAxis(et.x),roundAxis(et.y)}function shouldAnimatePositionOnly(et,$,_e){return et==="position"||et==="preserve-aspect"&&!isNear(aspectRatio($),aspectRatio(_e),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(et,$)=>addDomEvent(et,"resize",$),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:et=>({x:et.scrollLeft,y:et.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const et=new DocumentProjectionNode(0,{});et.mount(window),et.setOptions({layoutScroll:!0}),rootProjectionNode.current=et}return rootProjectionNode.current},resetTransform:(et,$)=>{et.style.transform=$!==void 0?$:"none"},checkIsScrollRoot:et=>Boolean(window.getComputedStyle(et).position==="fixed")}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=et=>positionalKeys.has(et),hasPositionalKey=et=>Object.keys(et).some(isPositionalKey),isNumOrPxType=et=>et===number||et===px,getPosFromMatrix=(et,$)=>parseFloat(et.split(", ")[$]),getTranslateFromMatrix=(et,$)=>(_e,{transform:tt})=>{if(tt==="none"||!tt)return 0;const nt=tt.match(/^matrix3d\((.+)\)$/);if(nt)return getPosFromMatrix(nt[1],$);{const rt=tt.match(/^matrix\((.+)\)$/);return rt?getPosFromMatrix(rt[1],et):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(et=>!transformKeys.has(et));function removeNonTranslationalTransform(et){const $=[];return nonTranslationalTransformKeys.forEach(_e=>{const tt=et.getValue(_e);tt!==void 0&&($.push([_e,tt.get()]),tt.set(_e.startsWith("scale")?1:0))}),$.length&&et.render(),$}const positionalValues={width:({x:et},{paddingLeft:$="0",paddingRight:_e="0"})=>et.max-et.min-parseFloat($)-parseFloat(_e),height:({y:et},{paddingTop:$="0",paddingBottom:_e="0"})=>et.max-et.min-parseFloat($)-parseFloat(_e),top:(et,{top:$})=>parseFloat($),left:(et,{left:$})=>parseFloat($),bottom:({y:et},{top:$})=>parseFloat($)+(et.max-et.min),right:({x:et},{left:$})=>parseFloat($)+(et.max-et.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=(et,$,_e)=>{const tt=$.measureViewportBox(),nt=$.current,rt=getComputedStyle(nt),{display:it}=rt,st={};it==="none"&&$.setStaticValue("display",et.display||"block"),_e.forEach(at=>{st[at]=positionalValues[at](tt,rt)}),$.render();const ot=$.measureViewportBox();return _e.forEach(at=>{const lt=$.getValue(at);lt&&lt.jump(st[at]),et[at]=positionalValues[at](ot,rt)}),et},checkAndConvertChangedValueTypes=(et,$,_e={},tt={})=>{$={...$},tt={...tt};const nt=Object.keys($).filter(isPositionalKey);let rt=[],it=!1;const st=[];if(nt.forEach(ot=>{const at=et.getValue(ot);if(!et.hasValue(ot))return;let lt=_e[ot],dt=findDimensionValueType(lt);const ct=$[ot];let pt;if(isKeyframesTarget(ct)){const mt=ct.length,ht=ct[0]===null?1:0;lt=ct[ht],dt=findDimensionValueType(lt);for(let gt=ht;gt<mt;gt++)pt?invariant(findDimensionValueType(ct[gt])===pt):pt=findDimensionValueType(ct[gt])}else pt=findDimensionValueType(ct);if(dt!==pt)if(isNumOrPxType(dt)&&isNumOrPxType(pt)){const mt=at.get();typeof mt=="string"&&at.set(parseFloat(mt)),typeof ct=="string"?$[ot]=parseFloat(ct):Array.isArray(ct)&&pt===px&&($[ot]=ct.map(parseFloat))}else dt!=null&&dt.transform&&(pt!=null&&pt.transform)&&(lt===0||ct===0)?lt===0?at.set(pt.transform(lt)):$[ot]=dt.transform(ct):(it||(rt=removeNonTranslationalTransform(et),it=!0),st.push(ot),tt[ot]=tt[ot]!==void 0?tt[ot]:$[ot],at.jump(ct))}),st.length){const ot=st.indexOf("height")>=0?window.pageYOffset:null,at=convertChangedValueTypes($,et,st);return rt.length&&rt.forEach(([lt,dt])=>{et.getValue(lt).set(dt)}),et.render(),isBrowser&&ot!==null&&window.scrollTo({top:ot}),{target:at,transitionEnd:tt}}else return{target:$,transitionEnd:tt}};function unitConversion(et,$,_e,tt){return hasPositionalKey($)?checkAndConvertChangedValueTypes(et,$,_e,tt):{target:$,transitionEnd:tt}}const parseDomVariant=(et,$,_e,tt)=>{const nt=resolveCSSVariables(et,$,tt);return $=nt.target,tt=nt.transitionEnd,unitConversion(et,$,_e,tt)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const et=window.matchMedia("(prefers-reduced-motion)"),$=()=>prefersReducedMotion.current=et.matches;et.addListener($),$()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(et,$,_e){const{willChange:tt}=$;for(const nt in $){const rt=$[nt],it=_e[nt];if(isMotionValue(rt))et.addValue(nt,rt),isWillChangeMotionValue(tt)&&tt.add(nt);else if(isMotionValue(it))et.addValue(nt,motionValue(rt,{owner:et})),isWillChangeMotionValue(tt)&&tt.remove(nt);else if(it!==rt)if(et.hasValue(nt)){const st=et.getValue(nt);!st.hasAnimated&&st.set(rt)}else{const st=et.getStaticValue(nt);et.addValue(nt,motionValue(st!==void 0?st:rt,{owner:et}))}}for(const nt in _e)$[nt]===void 0&&et.removeValue(nt);return $}const featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:$,props:_e,presenceContext:tt,reducedMotionConfig:nt,visualState:rt},it={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sync.render(this.render,!1,!0);const{latestValues:st,renderState:ot}=rt;this.latestValues=st,this.baseTarget={...st},this.initialValues=_e.initial?{...st}:{},this.renderState=ot,this.parent=$,this.props=_e,this.presenceContext=tt,this.depth=$?$.depth+1:0,this.reducedMotionConfig=nt,this.options=it,this.isControllingVariants=isControllingVariants(_e),this.isVariantNode=isVariantNode(_e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean($&&$.current);const{willChange:at,...lt}=this.scrapeMotionValuesFromProps(_e,{});for(const dt in lt){const ct=lt[dt];st[dt]!==void 0&&isMotionValue(ct)&&(ct.set(st[dt],!1),isWillChangeMotionValue(at)&&at.add(dt))}}scrapeMotionValuesFromProps($,_e){return{}}mount($){this.current=$,this.projection&&this.projection.mount($),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((_e,tt)=>this.bindToMotionValue(tt,_e)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelSync.update(this.notifyUpdate),cancelSync.render(this.render),this.valueSubscriptions.forEach($=>$()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features)this.features[$].unmount();this.current=null}bindToMotionValue($,_e){const tt=transformProps.has($),nt=_e.on("change",it=>{this.latestValues[$]=it,this.props.onUpdate&&sync.update(this.notifyUpdate,!1,!0),tt&&this.projection&&(this.projection.isTransformDirty=!0)}),rt=_e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set($,()=>{nt(),rt()})}sortNodePosition($){return!this.current||!this.sortInstanceNodePosition||this.type!==$.type?0:this.sortInstanceNodePosition(this.current,$.current)}loadFeatures({children:$,..._e},tt,nt,rt,it){let st,ot;for(let at=0;at<numFeatures;at++){const lt=featureNames[at],{isEnabled:dt,Feature:ct,ProjectionNode:pt,MeasureLayout:mt}=featureDefinitions[lt];pt&&(st=pt),dt(_e)&&(!this.features[lt]&&ct&&(this.features[lt]=new ct(this)),mt&&(ot=mt))}if(!this.projection&&st){this.projection=new st(rt,this.latestValues,this.parent&&this.parent.projection);const{layoutId:at,layout:lt,drag:dt,dragConstraints:ct,layoutScroll:pt,layoutRoot:mt}=_e;this.projection.setOptions({layoutId:at,layout:lt,alwaysMeasureLayout:Boolean(dt)||ct&&isRefObject(ct),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof lt=="string"?lt:"both",initialPromotionConfig:it,layoutScroll:pt,layoutRoot:mt})}return ot}updateFeatures(){for(const $ in this.features){const _e=this.features[$];_e.isMounted?_e.update(this.props,this.prevProps):(_e.mount(),_e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue($){return this.latestValues[$]}setStaticValue($,_e){this.latestValues[$]=_e}makeTargetAnimatable($,_e=!0){return this.makeTargetAnimatableFromInstance($,this.props,_e)}update($,_e){($.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=$,this.prevPresenceContext=this.presenceContext,this.presenceContext=_e;for(let tt=0;tt<propEventHandlers.length;tt++){const nt=propEventHandlers[tt];this.propEventSubscriptions[nt]&&(this.propEventSubscriptions[nt](),delete this.propEventSubscriptions[nt]);const rt=$["on"+nt];rt&&(this.propEventSubscriptions[nt]=this.on(nt,rt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps($,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant($){return this.props.variants?this.props.variants[$]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext($=!1){if($)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const tt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(tt.initial=this.props.initial),tt}const _e={};for(let tt=0;tt<numVariantProps;tt++){const nt=variantProps[tt],rt=this.props[nt];(isVariantLabel(rt)||rt===!1)&&(_e[nt]=rt)}return _e}addVariantChild($){const _e=this.getClosestVariantNode();if(_e)return _e.variantChildren&&_e.variantChildren.add($),()=>_e.variantChildren.delete($)}addValue($,_e){_e!==this.values.get($)&&(this.removeValue($),this.bindToMotionValue($,_e)),this.values.set($,_e),this.latestValues[$]=_e.get()}removeValue($){this.values.delete($);const _e=this.valueSubscriptions.get($);_e&&(_e(),this.valueSubscriptions.delete($)),delete this.latestValues[$],this.removeValueFromRenderState($,this.renderState)}hasValue($){return this.values.has($)}getValue($,_e){if(this.props.values&&this.props.values[$])return this.props.values[$];let tt=this.values.get($);return tt===void 0&&_e!==void 0&&(tt=motionValue(_e,{owner:this}),this.addValue($,tt)),tt}readValue($){return this.latestValues[$]!==void 0||!this.current?this.latestValues[$]:this.readValueFromInstance(this.current,$,this.options)}setBaseTarget($,_e){this.baseTarget[$]=_e}getBaseTarget($){var _e;const{initial:tt}=this.props,nt=typeof tt=="string"||typeof tt=="object"?(_e=resolveVariantFromProps(this.props,tt))===null||_e===void 0?void 0:_e[$]:void 0;if(tt&&nt!==void 0)return nt;const rt=this.getBaseTargetFromProps(this.props,$);return rt!==void 0&&!isMotionValue(rt)?rt:this.initialValues[$]!==void 0&&nt===void 0?void 0:this.baseTarget[$]}on($,_e){return this.events[$]||(this.events[$]=new SubscriptionManager),this.events[$].add(_e)}notify($,..._e){this.events[$]&&this.events[$].notify(..._e)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition($,_e){return $.compareDocumentPosition(_e)&2?1:-1}getBaseTargetFromProps($,_e){return $.style?$.style[_e]:void 0}removeValueFromRenderState($,{vars:_e,style:tt}){delete _e[$],delete tt[$]}makeTargetAnimatableFromInstance({transition:$,transitionEnd:_e,...tt},{transformValues:nt},rt){let it=getOrigin(tt,$||{},this);if(nt&&(_e&&(_e=nt(_e)),tt&&(tt=nt(tt)),it&&(it=nt(it))),rt){checkTargetForNewValues(this,tt,it);const st=parseDomVariant(this,tt,it,_e);_e=st.transitionEnd,tt=st.target}return{transition:$,transitionEnd:_e,...tt}}}function getComputedStyle$1(et){return window.getComputedStyle(et)}class HTMLVisualElement extends DOMVisualElement{readValueFromInstance($,_e){if(transformProps.has(_e)){const tt=getDefaultValueType(_e);return tt&&tt.default||0}else{const tt=getComputedStyle$1($),nt=(isCSSVariableName(_e)?tt.getPropertyValue(_e):tt[_e])||0;return typeof nt=="string"?nt.trim():nt}}measureInstanceViewportBox($,{transformPagePoint:_e}){return measureViewportBox($,_e)}build($,_e,tt,nt){buildHTMLStyles($,_e,tt,nt.transformTemplate)}scrapeMotionValuesFromProps($,_e){return scrapeMotionValuesFromProps$1($,_e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:$}=this.props;isMotionValue($)&&(this.childSubscription=$.on("change",_e=>{this.current&&(this.current.textContent=`${_e}`)}))}renderInstance($,_e,tt,nt){renderHTML($,_e,tt,nt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps($,_e){return $[_e]}readValueFromInstance($,_e){if(transformProps.has(_e)){const tt=getDefaultValueType(_e);return tt&&tt.default||0}return _e=camelCaseAttributes.has(_e)?_e:camelToDash(_e),$.getAttribute(_e)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps($,_e){return scrapeMotionValuesFromProps($,_e)}build($,_e,tt,nt){buildSVGAttrs($,_e,tt,this.isSVGTag,nt.transformTemplate)}renderInstance($,_e,tt,nt){renderSVG($,_e,tt,nt)}mount($){this.isSVGTag=isSVGTag($.tagName),super.mount($)}}const createDomVisualElement=(et,$)=>isSVGComponent(et)?new SVGVisualElement($,{enableHardwareAcceleration:!1}):new HTMLVisualElement($,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((et,$)=>createDomMotionConfig(et,$,preloadedFeatures,createDomVisualElement)),styles={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[75px] sm:text-[57px] xs:text-[42px] text-[30px] lg:leading-[90px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[40px] sm:text-[26px] md:text-[35px] xs:text-[20px] text-[13px] lg:leading-[70px] xs:leading-[5px] sm:leading-[40px] leading-[5px] sm:py-3 py-10",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider",hoveronNavbar:"relative transition-all duration-500 content-[''] before:absolute before:-bottom-2 before:left-0 before:w-0 before:h-1.5 before:rounded-full before:opacity-0 before:transition-all before:duration-500 before:bg-gradient-to-r before:from-[#4d0154] before:via-[#daa3df] before:to-[#793d7f] hover:before:w-full hover:before:opacity-100"};var typedExports={},typed={get exports(){return typedExports},set exports(et){typedExports=et}};/*!
 * 
 *   typed.js - A JavaScript Typing Animation Library
 *   Author: Matt Boldt <me@mattboldt.com>
 *   Version: v2.0.12
 *   Url: https://github.com/mattboldt/typed.js
 *   License(s): MIT
 * 
 */(function(et,$){(function(tt,nt){et.exports=nt()})(commonjsGlobal,function(){return function(_e){var tt={};function nt(rt){if(tt[rt])return tt[rt].exports;var it=tt[rt]={exports:{},id:rt,loaded:!1};return _e[rt].call(it.exports,it,it.exports,nt),it.loaded=!0,it.exports}return nt.m=_e,nt.c=tt,nt.p="",nt(0)}([function(_e,tt,nt){Object.defineProperty(tt,"__esModule",{value:!0});var rt=function(){function lt(dt,ct){for(var pt=0;pt<ct.length;pt++){var mt=ct[pt];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(dt,mt.key,mt)}}return function(dt,ct,pt){return ct&&lt(dt.prototype,ct),pt&&lt(dt,pt),dt}}();function it(lt,dt){if(!(lt instanceof dt))throw new TypeError("Cannot call a class as a function")}var st=nt(1),ot=nt(3),at=function(){function lt(dt,ct){it(this,lt),st.initializer.load(this,ct,dt),this.begin()}return rt(lt,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var ct=arguments.length<=0||arguments[0]===void 0?!0:arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,ct&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var ct=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){!ct.currentElContent||ct.currentElContent.length===0?ct.typewrite(ct.strings[ct.sequence[ct.arrayPos]],ct.strPos):ct.backspace(ct.currentElContent,ct.currentElContent.length)},this.startDelay)}},{key:"typewrite",value:function(ct,pt){var mt=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var ht=this.humanizer(this.typeSpeed),gt=1;if(this.pause.status===!0){this.setPauseStatus(ct,pt,!0);return}this.timeout=setTimeout(function(){pt=ot.htmlParser.typeHtmlChars(ct,pt,mt);var vt=0,_t=ct.substr(pt);if(_t.charAt(0)==="^"&&/^\^\d+/.test(_t)){var yt=1;_t=/\d+/.exec(_t)[0],yt+=_t.length,vt=parseInt(_t),mt.temporaryPause=!0,mt.options.onTypingPaused(mt.arrayPos,mt),ct=ct.substring(0,pt)+ct.substring(pt+yt),mt.toggleBlinking(!0)}if(_t.charAt(0)==="`"){for(;ct.substr(pt+gt).charAt(0)!=="`"&&(gt++,!(pt+gt>ct.length)););var xt=ct.substring(0,pt),At=ct.substring(xt.length+1,pt+gt),Ct=ct.substring(pt+gt+1);ct=xt+At+Ct,gt--}mt.timeout=setTimeout(function(){mt.toggleBlinking(!1),pt>=ct.length?mt.doneTyping(ct,pt):mt.keepTyping(ct,pt,gt),mt.temporaryPause&&(mt.temporaryPause=!1,mt.options.onTypingResumed(mt.arrayPos,mt))},vt)},ht)}},{key:"keepTyping",value:function(ct,pt,mt){pt===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),pt+=mt;var ht=ct.substr(0,pt);this.replaceText(ht),this.typewrite(ct,pt)}},{key:"doneTyping",value:function(ct,pt){var mt=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),!(this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount))&&(this.timeout=setTimeout(function(){mt.backspace(ct,pt)},this.backDelay))}},{key:"backspace",value:function(ct,pt){var mt=this;if(this.pause.status===!0){this.setPauseStatus(ct,pt,!1);return}if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var ht=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){pt=ot.htmlParser.backSpaceHtmlChars(ct,pt,mt);var gt=ct.substr(0,pt);if(mt.replaceText(gt),mt.smartBackspace){var vt=mt.strings[mt.arrayPos+1];vt&&gt===vt.substr(0,pt)?mt.stopNum=pt:mt.stopNum=0}pt>mt.stopNum?(pt--,mt.backspace(ct,pt)):pt<=mt.stopNum&&(mt.arrayPos++,mt.arrayPos===mt.strings.length?(mt.arrayPos=0,mt.options.onLastStringBackspaced(),mt.shuffleStringsIfNeeded(),mt.begin()):mt.typewrite(mt.strings[mt.sequence[mt.arrayPos]],pt))},ht)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(ct,pt,mt){this.pause.typewrite=mt,this.pause.curString=ct,this.pause.curStrPos=pt}},{key:"toggleBlinking",value:function(ct){this.cursor&&(this.pause.status||this.cursorBlinking!==ct&&(this.cursorBlinking=ct,ct?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))}},{key:"humanizer",value:function(ct){return Math.round(Math.random()*ct/2)+ct}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var ct=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){ct.arrayPos++,ct.replaceText(""),ct.strings.length>ct.arrayPos?ct.typewrite(ct.strings[ct.sequence[ct.arrayPos]],0):(ct.typewrite(ct.strings[0],0),ct.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(ct){this.attr?this.el.setAttribute(this.attr,ct):this.isInput?this.el.value=ct:this.contentType==="html"?this.el.innerHTML=ct:this.el.textContent=ct}},{key:"bindFocusEvents",value:function(){var ct=this;this.isInput&&(this.el.addEventListener("focus",function(pt){ct.stop()}),this.el.addEventListener("blur",function(pt){ct.el.value&&ct.el.value.length!==0||ct.start()}))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),lt}();tt.default=at,_e.exports=tt.default},function(_e,tt,nt){Object.defineProperty(tt,"__esModule",{value:!0});var rt=Object.assign||function(pt){for(var mt=1;mt<arguments.length;mt++){var ht=arguments[mt];for(var gt in ht)Object.prototype.hasOwnProperty.call(ht,gt)&&(pt[gt]=ht[gt])}return pt},it=function(){function pt(mt,ht){for(var gt=0;gt<ht.length;gt++){var vt=ht[gt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(mt,vt.key,vt)}}return function(mt,ht,gt){return ht&&pt(mt.prototype,ht),gt&&pt(mt,gt),mt}}();function st(pt){return pt&&pt.__esModule?pt:{default:pt}}function ot(pt,mt){if(!(pt instanceof mt))throw new TypeError("Cannot call a class as a function")}var at=nt(2),lt=st(at),dt=function(){function pt(){ot(this,pt)}return it(pt,[{key:"load",value:function(ht,gt,vt){if(typeof vt=="string"?ht.el=document.querySelector(vt):ht.el=vt,ht.options=rt({},lt.default,gt),ht.isInput=ht.el.tagName.toLowerCase()==="input",ht.attr=ht.options.attr,ht.bindInputFocusEvents=ht.options.bindInputFocusEvents,ht.showCursor=ht.isInput?!1:ht.options.showCursor,ht.cursorChar=ht.options.cursorChar,ht.cursorBlinking=!0,ht.elContent=ht.attr?ht.el.getAttribute(ht.attr):ht.el.textContent,ht.contentType=ht.options.contentType,ht.typeSpeed=ht.options.typeSpeed,ht.startDelay=ht.options.startDelay,ht.backSpeed=ht.options.backSpeed,ht.smartBackspace=ht.options.smartBackspace,ht.backDelay=ht.options.backDelay,ht.fadeOut=ht.options.fadeOut,ht.fadeOutClass=ht.options.fadeOutClass,ht.fadeOutDelay=ht.options.fadeOutDelay,ht.isPaused=!1,ht.strings=ht.options.strings.map(function(Ct){return Ct.trim()}),typeof ht.options.stringsElement=="string"?ht.stringsElement=document.querySelector(ht.options.stringsElement):ht.stringsElement=ht.options.stringsElement,ht.stringsElement){ht.strings=[],ht.stringsElement.style.display="none";var _t=Array.prototype.slice.apply(ht.stringsElement.children),yt=_t.length;if(yt)for(var xt=0;xt<yt;xt+=1){var At=_t[xt];ht.strings.push(At.innerHTML.trim())}}ht.strPos=0,ht.arrayPos=0,ht.stopNum=0,ht.loop=ht.options.loop,ht.loopCount=ht.options.loopCount,ht.curLoop=0,ht.shuffle=ht.options.shuffle,ht.sequence=[],ht.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},ht.typingComplete=!1;for(var xt in ht.strings)ht.sequence[xt]=xt;ht.currentElContent=this.getCurrentElContent(ht),ht.autoInsertCss=ht.options.autoInsertCss,this.appendAnimationCss(ht)}},{key:"getCurrentElContent",value:function(ht){var gt="";return ht.attr?gt=ht.el.getAttribute(ht.attr):ht.isInput?gt=ht.el.value:ht.contentType==="html"?gt=ht.el.innerHTML:gt=ht.el.textContent,gt}},{key:"appendAnimationCss",value:function(ht){var gt="data-typed-js-css";if(ht.autoInsertCss&&!(!ht.showCursor&&!ht.fadeOut)&&!document.querySelector("["+gt+"]")){var vt=document.createElement("style");vt.type="text/css",vt.setAttribute(gt,!0);var _t="";ht.showCursor&&(_t+=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `),ht.fadeOut&&(_t+=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `),vt.length!==0&&(vt.innerHTML=_t,document.body.appendChild(vt))}}}]),pt}();tt.default=dt;var ct=new dt;tt.initializer=ct},function(_e,tt){Object.defineProperty(tt,"__esModule",{value:!0});var nt={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(it){},onComplete:function(it){},preStringTyped:function(it,st){},onStringTyped:function(it,st){},onLastStringBackspaced:function(it){},onTypingPaused:function(it,st){},onTypingResumed:function(it,st){},onReset:function(it){},onStop:function(it,st){},onStart:function(it,st){},onDestroy:function(it){}};tt.default=nt,_e.exports=tt.default},function(_e,tt){Object.defineProperty(tt,"__esModule",{value:!0});var nt=function(){function ot(at,lt){for(var dt=0;dt<lt.length;dt++){var ct=lt[dt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(at,ct.key,ct)}}return function(at,lt,dt){return lt&&ot(at.prototype,lt),dt&&ot(at,dt),at}}();function rt(ot,at){if(!(ot instanceof at))throw new TypeError("Cannot call a class as a function")}var it=function(){function ot(){rt(this,ot)}return nt(ot,[{key:"typeHtmlChars",value:function(lt,dt,ct){if(ct.contentType!=="html")return dt;var pt=lt.substr(dt).charAt(0);if(pt==="<"||pt==="&"){var mt="";for(pt==="<"?mt=">":mt=";";lt.substr(dt+1).charAt(0)!==mt&&(dt++,!(dt+1>lt.length)););dt++}return dt}},{key:"backSpaceHtmlChars",value:function(lt,dt,ct){if(ct.contentType!=="html")return dt;var pt=lt.substr(dt).charAt(0);if(pt===">"||pt===";"){var mt="";for(pt===">"?mt="<":mt="&";lt.substr(dt-1).charAt(0)!==mt&&(dt--,!(dt<0)););dt--}return dt}}]),ot}();tt.default=it;var st=new it;tt.htmlParser=st}])})})(typed);const Typed=getDefaultExportFromCjs(typedExports),Hero=()=>{const et=React.useRef(null);return React.useEffect(()=>{const $=new Typed(et.current,{strings:["Software Engineer","Full Stack Web Developer","Phothograhper"],typeSpeed:60,backSpeed:50,loop:!0,smartBackspace:!0});return()=>{$.destroy()}},[]),jsxs("section",{className:"relative w-full h-[675px] mx-auto bg-",children:[jsxs("div",{className:`${styles.paddingX} absolute inset-0
           top-[120px] max-w-7xl mx-auto flex flex-row
           items-start gap-5`,children:[jsxs("div",{className:`flex flex-col justify-center
               items-center mt-5`,children:[jsxs("span",{className:"relative flex h-5 w-5",children:[jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#915eff] opacity-75"}),jsx("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-[#915eff]"})]}),jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),jsxs("div",{children:[jsx("h1",{className:`${styles.heroHeadText} mt-2 text-white-100`,children:"Hey, I'm"}),jsx("h1",{className:`${styles.heroHeadText} mt-2 text-white-100`,children:jsx("span",{className:"text-[#a93db3]",children:"Kalab Solomon"})}),jsxs("p",{className:`${styles.heroSubText}`,children:["I'm a ",jsx("span",{className:"bg-gradient-to-r from-[#70007a] to-[#81008f] via-[#140216] via-[#09000a] rounded-full px-2",ref:et})]})]})]}),jsx(ComputersCanvas,{}),jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:jsx("a",{href:"#about",children:jsx("div",{className:"w-[30px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:jsx(motion.dev,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]})},mylogo="/assets/mylogo-b51d386d.png",fullstack="/assets/fullstack-565fc01f.png",creator="/assets/creator-dbbffaec.png",mobile="/assets/mobile-896ef2f5.png",web="/assets/web-0d05165f.png",github="/assets/github-3b4e1609.png",menu="/assets/menu-242d80a8.svg",close="/assets/close-ad0e0ca6.svg",css="/assets/css-79a7f026.png",python="/assets/Python-379c5217.png",git="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",html="/assets/html-92b76a73.png",javascript="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",mongodb="/assets/mongodb-54000b2b.png",nodejs="/assets/nodejs-d83eb6dd.png",reactjs="/assets/reactjs-966214a8.png",C$4="/assets/C__-d90c04ab.png",tailwind="/assets/tailwind-6ece120d.png",sass="/assets/sass-2d7ecd7c.png",threejs="/assets/Three JS-7fadd44b.png",php="/assets/PHP-8ade7e05.png",java="/assets/Java-2b010a1e.png",oracle="/assets/oracle-d9fad08d.png",sql="/assets/sql-f62dada8.png",githubb="/assets/github-447c62b2.png",linkedin="/assets/linkedin-c7c51bf5.png",Medium="/assets/Medium-f12b206a.png",wolkite="/assets/wolkite-20e7b2b0.png",wkucpc="/assets/wkucpc-52c2bbb5.png",current="/assets/current-fbd48119.png",phpFO="/assets/phpFO-7550f3db.png",CV="/assets/CV-8163abd9.pdf",navLinks=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"project",title:"Project"},{id:"contact",title:"Contact"}],services=[{title:"Web Developer",icon:web},{title:"React Developer",icon:mobile},{title:"Full-Stack Developer",icon:fullstack},{title:"Content Creator",icon:creator}],technologies=[{name:"HTML 5",icon:html},{name:"CSS 3",icon:css},{name:"JavaScript",icon:javascript},{name:"Sass",icon:sass},{name:"Tailwind CSS",icon:tailwind},{name:"React JS",icon:reactjs},{name:"Node JS",icon:nodejs},{name:"MongoDB",icon:mongodb},{name:"Three JS",icon:threejs},{name:"PHP",icon:php},{name:"Git",icon:git},{name:"C++",icon:C$4},{name:"Python",icon:python},{name:"Java",icon:java},{name:"Mysql",icon:sql},{name:"Oracle",icon:oracle}],socialMedia=[{name:"Github",icon:githubb,link:"https://github.com/hksmith"},{name:"Linkedin",icon:linkedin,link:"https://www.linkedin.com/in/kalab-solomon-780a8b254"},{name:"Medium",icon:Medium,link:"https://medium.com/@kalab27solomon"}],experiences=[{title:"MERN Developer, Intern",company_name:"Wolkite University",icon:wolkite,iconBg:"#383E56",date:"June 2022 - April 2023",points:["Developing and maintaining web applications using MERN-Stack and other related technologies.","Collaborating with cross-functional teams including designers, product managers.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"Club President",company_name:"WKUCPC",icon:wkucpc,iconBg:"#E6DEDD",date:"Mar 2023 - Present",points:["Led a team of club leaders and faculty advisors to plan events, workshops, and guest lectures for members to build their programming skills.","Organized a hackathon that brought together students from across the university to work on innovative projects.","Established partnerships with local tech companies to provide members with career insights and opportunities.","Mentored and supported individual members in their programming journeys.","Developed valuable leadership, communication, and project management skills that will serve in future career pursuits."]}],projects=[{name:"Online Registration System",description:"Web application that allows users to view available registration categories and courses, apply for their preferred option, and complete registration by making a fee through our integrated payment system. (It's on Development Stage) ",tags:[{name:"react",color:"blue-text-gradient"},{name:"mongodb",color:"green-text-gradient"},{name:"tailwind",color:"pink-text-gradient"}],image:current,source_code_link:"https://github.com/"},{name:"Food Ordering System",description:"Web application that enables users to watch availble food, search for food in diffrent category and order foods.",tags:[{name:"php",color:"blue-text-gradient"},{name:"mysql",color:"green-text-gradient"},{name:"sass",color:"pink-text-gradient"}],image:phpFO,source_code_link:"https://github.com/hksmith/Online_food_ordering__Class_project_just_pushing_to_show_case"}],Navbar=()=>{const[et,$]=reactExports.useState(""),[_e,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState(0),[it,st]=reactExports.useState(!0);return reactExports.useEffect(()=>{const ot=()=>{const at=window.pageYOffset;st(nt>at||at<100),rt(at)};return window.addEventListener("scroll",ot),()=>window.removeEventListener("scroll",ot)},[nt,it]),jsx("nav",{className:`
          ${styles.paddingX} w-full flex items-center py-5 fixed top-0 z-20 bg-gradient-to-r from-[#29002d] to-[#3d0046] via-[#0b020c] via-[#09000a] transition-all duration-300}
          ${it?"":"hidden"}
        `,children:jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[jsx(Link,{to:"/",className:"flex items-center gap-2",onClick:()=>{$(""),window.scrollTo(0,0)},children:jsx("img",{src:mylogo,alt:"logo",className:"w-9 h-9 object-contain"})}),jsx("ul",{className:"list-non hidden sm:flex flex-row gap-10",children:navLinks.map(ot=>jsx("li",{className:`${et===ot.title?"text-[#a93db3]":"text-secondary"}
                      hover:text-[#a93db3] text-[18px] font-medium cursor-pointer`,onClick:()=>$(ot.title),children:jsx("a",{href:`#${ot.id}`,className:`${styles.hoveronNavbar}`,children:ot.title})},ot.id))}),jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[jsx("img",{src:_e?close:menu,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>tt(!_e)}),jsx("div",{className:`${_e?"flex":"hidden"}
                     p-3 black-gradient absolute top-20 right-0
                     mx-4 my-2 min-w-[14px] z-10 rounded-xl`,children:jsx("ul",{className:"list-non flex justify-end items-start flex-col gap-4",children:navLinks.map(ot=>jsx("li",{className:`${et===ot.title?"text-[#a93db3]":"text-secondary"}
                          hover:text-[#a93db3] text-[16px] font-medium cursor-pointer`,onClick:()=>{tt(!_e),$(ot.title)},children:jsx("a",{href:`#${ot.id}`,className:`${styles.hoveronNavbar}`,children:ot.title})},ot.id))})})]})]})})};var tilt={};Object.defineProperty(tilt,"__esModule",{value:!0});var _extends$1=Object.assign||function(et){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=_e[tt])}return et},_createClass=function(){function et($,_e){for(var tt=0;tt<_e.length;tt++){var nt=_e[tt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty($,nt.key,nt)}}return function($,_e,tt){return _e&&et($.prototype,_e),tt&&et($,tt),$}}(),_react$2=reactExports,_react2=_interopRequireDefault$2(_react$2),_reactDom=reactDomExports;function _interopRequireDefault$2(et){return et&&et.__esModule?et:{default:et}}function _classCallCheck(et,$){if(!(et instanceof $))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(et,$){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:et}function _inherits(et,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);et.prototype=Object.create($&&$.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(et,$):et.__proto__=$)}var Tilt=function(et){_inherits($,et);function $(_e){_classCallCheck(this,$);var tt=_possibleConstructorReturn(this,($.__proto__||Object.getPrototypeOf($)).call(this,_e));tt.state={style:{}};var nt={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};return tt.width=null,tt.height=null,tt.left=null,tt.top=null,tt.transitionTimeout=null,tt.updateCall=null,tt.element=null,tt.settings=Object.assign({},nt,tt.props.options),tt.reverse=tt.settings.reverse?-1:1,tt.onMouseEnter=tt.onMouseEnter.bind(tt,tt.props.onMouseEnter),tt.onMouseMove=tt.onMouseMove.bind(tt,tt.props.onMouseMove),tt.onMouseLeave=tt.onMouseLeave.bind(tt,tt.props.onMouseLeave),tt}return _createClass($,[{key:"componentDidMount",value:function(){this.element=(0,_reactDom.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},nt=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:_extends$1({},this.state.style,{willChange:"transform"})})),this.setTransition(),tt(nt)}},{key:"reset",value:function(){var tt=this;window.requestAnimationFrame(function(){tt.setState(Object.assign({},tt.state,{style:_extends$1({},tt.state.style,{transform:"perspective("+tt.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))})}},{key:"onMouseMove",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},nt=arguments[1];return nt.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=nt,this.updateCall=requestAnimationFrame(this.update.bind(this,nt)),tt(nt)}},{key:"setTransition",value:function(){var tt=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:_extends$1({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout(function(){tt.setState(Object.assign({},tt.state,{style:_extends$1({},tt.state.style,{transition:""})}))},this.settings.speed)}},{key:"onMouseLeave",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},nt=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),tt(nt)}},{key:"getValues",value:function(tt){var nt=(tt.nativeEvent.clientX-this.left)/this.width,rt=(tt.nativeEvent.clientY-this.top)/this.height,it=Math.min(Math.max(nt,0),1),st=Math.min(Math.max(rt,0),1),ot=(this.reverse*(this.settings.max/2-it*this.settings.max)).toFixed(2),at=(this.reverse*(st*this.settings.max-this.settings.max/2)).toFixed(2),lt=it*100,dt=st*100;return{tiltX:ot,tiltY:at,percentageX:lt,percentageY:dt}}},{key:"updateElementPosition",value:function(){var tt=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=tt.left,this.top=tt.top}},{key:"update",value:function(tt){var nt=this.getValues(tt);this.setState(Object.assign({},this.state,{style:_extends$1({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:nt.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:nt.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var tt=Object.assign({},this.props.style,this.state.style);return _react2.default.createElement("div",{style:tt,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),$}(_react$2.Component),_default$2=tilt.default=Tilt;const textVariant=et=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:et}}}),fadeIn=(et,$,_e,tt)=>({hidden:{x:et==="left"?100:et==="right"?-100:0,y:et==="up"?100:et==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:$,delay:_e,duration:tt,ease:"easeOut"}}}),slideIn=(et,$,_e,tt)=>({hidden:{x:et==="left"?"-100%":et==="right"?"100%":0,y:et==="up"||et==="down"?"100%":0},show:{x:0,y:0,transition:{type:$,delay:_e,duration:tt,ease:"easeOut"}}}),staggerContainer=(et,$)=>({hidden:{},show:{transition:{staggerChildren:et,delayChildren:$||0}}}),SectionWrapper=(et,$)=>function(){return jsxs(motion.section,{variants:staggerContainer(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${styles.padding} max-w-7xl mx-auto relative z-0`,children:[jsx("span",{className:"hash-span",id:$}),jsx(et,{})]})},ServiceCard=({index:et,title:$,icon:_e})=>jsx(_default$2,{className:"xs:w-[250px] w-full",children:jsx(motion.div,{variants:fadeIn("right","spring",.5*et,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:jsxs("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[jsx("img",{src:_e,alt:$,className:"w-16 h-16 object-contain "}),jsx("h3",{className:"text-white text-[20px] font-bold text-center",children:$})]})})}),About=()=>jsxs(Fragment,{children:[jsxs(motion.div,{variants:textVariant(),children:[jsx("p",{className:styles.sectionSubText,children:" Introduction "}),jsx("h2",{className:styles.sectionHeadText,children:" Overview "})]}),jsxs(motion.p,{variants:fadeIn("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:["Hello, I am a software engineering student with a passion for full-stack web development. I started programming in 2020 with C++, Java, and Python, and have gained experience in the MERN stack.",jsx("br",{}),"As a full-stack developer, I enjoy solving complex problems and working closely with teams and clients to deliver high-quality solutions. I am always looking to learn new technologies and techniques to improve my skills and stay up-to-date with industry trends.",jsx("br",{})," When I'm not coding, I like to attend hackathons. I'm also an avid reader and enjoy spending time outdoors. Feel free to contact me if you'd like to discuss how we can work together on your next project."]}),jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:services.map((et,$)=>jsx(ServiceCard,{index:$,...et},et.title))})]}),About$1=SectionWrapper(About,"about"),Tech=()=>jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:technologies.map(et=>jsxs("div",{className:"w-20 h-20",children:[jsx("img",{className:"h-12 w-12 transition-all duration-300 cursor-pointer",src:et.icon}),jsx("h1",{children:et.name})]},et.name))}),Tech$1=SectionWrapper(Tech,"");var VerticalTimeline$1={},classnamesExports={},classnames={get exports(){return classnamesExports},set exports(et){classnamesExports=et}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(et){(function(){var $={}.hasOwnProperty;function _e(){for(var tt=[],nt=0;nt<arguments.length;nt++){var rt=arguments[nt];if(rt){var it=typeof rt;if(it==="string"||it==="number")tt.push(rt);else if(Array.isArray(rt)){if(rt.length){var st=_e.apply(null,rt);st&&tt.push(st)}}else if(it==="object"){if(rt.toString!==Object.prototype.toString&&!rt.toString.toString().includes("[native code]")){tt.push(rt.toString());continue}for(var ot in rt)$.call(rt,ot)&&rt[ot]&&tt.push(ot)}}}return tt.join(" ")}et.exports?(_e.default=_e,et.exports=_e):window.classNames=_e})()})(classnames);VerticalTimeline$1.__esModule=!0;VerticalTimeline$1.default=void 0;var _react$1=_interopRequireDefault$1(reactExports),_propTypes$1=_interopRequireDefault$1(propTypesExports),_classnames$1=_interopRequireDefault$1(classnamesExports);function _interopRequireDefault$1(et){return et&&et.__esModule?et:{default:et}}const VerticalTimeline=({animate:et=!0,className:$="",layout:_e="2-columns",lineColor:tt="#FFF",children:nt})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",tt),_react$1.default.createElement("div",{className:(0,_classnames$1.default)($,"vertical-timeline",{"vertical-timeline--animate":et,"vertical-timeline--two-columns":_e==="2-columns","vertical-timeline--one-column-left":_e==="1-column"||_e==="1-column-left","vertical-timeline--one-column-right":_e==="1-column-right"})},nt));VerticalTimeline.propTypes={children:_propTypes$1.default.oneOfType([_propTypes$1.default.arrayOf(_propTypes$1.default.node),_propTypes$1.default.node]).isRequired,className:_propTypes$1.default.string,animate:_propTypes$1.default.bool,layout:_propTypes$1.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:_propTypes$1.default.string};var _default$1=VerticalTimeline;VerticalTimeline$1.default=_default$1;var VerticalTimelineElement$1={};function _extends(){return _extends=Object.assign||function(et){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(et[tt]=_e[tt])}return et},_extends.apply(this,arguments)}function _inheritsLoose(et,$){et.prototype=Object.create($.prototype),et.prototype.constructor=et,_setPrototypeOf(et,$)}function _setPrototypeOf(et,$){return _setPrototypeOf=Object.setPrototypeOf||function(tt,nt){return tt.__proto__=nt,tt},_setPrototypeOf(et,$)}function _objectWithoutPropertiesLoose(et,$){if(et==null)return{};var _e={},tt=Object.keys(et),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!($.indexOf(nt)>=0)&&(_e[nt]=et[nt]);return _e}var observerMap=new Map,RootIds=new WeakMap,rootId=0,unsupportedValue=void 0;function defaultFallbackInView(et){unsupportedValue=et}function getRootId(et){return et?(RootIds.has(et)||(rootId+=1,RootIds.set(et,rootId.toString())),RootIds.get(et)):"0"}function optionsToId(et){return Object.keys(et).sort().filter(function($){return et[$]!==void 0}).map(function($){return $+"_"+($==="root"?getRootId(et.root):et[$])}).toString()}function createObserver(et){var $=optionsToId(et),_e=observerMap.get($);if(!_e){var tt=new Map,nt,rt=new IntersectionObserver(function(it){it.forEach(function(st){var ot,at=st.isIntersecting&&nt.some(function(lt){return st.intersectionRatio>=lt});et.trackVisibility&&typeof st.isVisible>"u"&&(st.isVisible=at),(ot=tt.get(st.target))==null||ot.forEach(function(lt){lt(at,st)})})},et);nt=rt.thresholds||(Array.isArray(et.threshold)?et.threshold:[et.threshold||0]),_e={id:$,observer:rt,elements:tt},observerMap.set($,_e)}return _e}function observe(et,$,_e,tt){if(_e===void 0&&(_e={}),tt===void 0&&(tt=unsupportedValue),typeof window.IntersectionObserver>"u"&&tt!==void 0){var nt=et.getBoundingClientRect();return $(tt,{isIntersecting:tt,target:et,intersectionRatio:typeof _e.threshold=="number"?_e.threshold:0,time:0,boundingClientRect:nt,intersectionRect:nt,rootBounds:nt}),function(){}}var rt=createObserver(_e),it=rt.id,st=rt.observer,ot=rt.elements,at=ot.get(et)||[];return ot.has(et)||ot.set(et,at),at.push($),st.observe(et),function(){at.splice(at.indexOf($),1),at.length===0&&(ot.delete(et),st.unobserve(et)),ot.size===0&&(st.disconnect(),observerMap.delete(it))}}var _excluded=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function isPlainChildren(et){return typeof et.children!="function"}var InView=function(et){_inheritsLoose($,et);function $(tt){var nt;return nt=et.call(this,tt)||this,nt.node=null,nt._unobserveCb=null,nt.handleNode=function(rt){nt.node&&(nt.unobserve(),!rt&&!nt.props.triggerOnce&&!nt.props.skip&&nt.setState({inView:!!nt.props.initialInView,entry:void 0})),nt.node=rt||null,nt.observeNode()},nt.handleChange=function(rt,it){rt&&nt.props.triggerOnce&&nt.unobserve(),isPlainChildren(nt.props)||nt.setState({inView:rt,entry:it}),nt.props.onChange&&nt.props.onChange(rt,it)},nt.state={inView:!!tt.initialInView,entry:void 0},nt}var _e=$.prototype;return _e.componentDidUpdate=function(nt){(nt.rootMargin!==this.props.rootMargin||nt.root!==this.props.root||nt.threshold!==this.props.threshold||nt.skip!==this.props.skip||nt.trackVisibility!==this.props.trackVisibility||nt.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},_e.componentWillUnmount=function(){this.unobserve(),this.node=null},_e.observeNode=function(){if(!(!this.node||this.props.skip)){var nt=this.props,rt=nt.threshold,it=nt.root,st=nt.rootMargin,ot=nt.trackVisibility,at=nt.delay,lt=nt.fallbackInView;this._unobserveCb=observe(this.node,this.handleChange,{threshold:rt,root:it,rootMargin:st,trackVisibility:ot,delay:at},lt)}},_e.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},_e.render=function(){if(!isPlainChildren(this.props)){var nt=this.state,rt=nt.inView,it=nt.entry;return this.props.children({inView:rt,entry:it,ref:this.handleNode})}var st=this.props,ot=st.children,at=st.as,lt=_objectWithoutPropertiesLoose(st,_excluded);return reactExports.createElement(at||"div",_extends({ref:this.handleNode},lt),ot)},$}(reactExports.Component);InView.displayName="InView";InView.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function useInView(et){var $=et===void 0?{}:et,_e=$.threshold,tt=$.delay,nt=$.trackVisibility,rt=$.rootMargin,it=$.root,st=$.triggerOnce,ot=$.skip,at=$.initialInView,lt=$.fallbackInView,dt=reactExports.useRef(),ct=reactExports.useState({inView:!!at}),pt=ct[0],mt=ct[1],ht=reactExports.useCallback(function(vt){dt.current!==void 0&&(dt.current(),dt.current=void 0),!ot&&vt&&(dt.current=observe(vt,function(_t,yt){mt({inView:_t,entry:yt}),yt.isIntersecting&&st&&dt.current&&(dt.current(),dt.current=void 0)},{root:it,rootMargin:rt,threshold:_e,trackVisibility:nt,delay:tt},lt))},[Array.isArray(_e)?_e.toString():_e,it,rt,st,ot,nt,lt,tt]);reactExports.useEffect(function(){!dt.current&&pt.entry&&!st&&!ot&&mt({inView:!!at})});var gt=[ht,pt.inView,pt.entry];return gt.ref=gt[0],gt.inView=gt[1],gt.entry=gt[2],gt}const reactIntersectionObserver_m=Object.freeze(Object.defineProperty({__proto__:null,InView,default:InView,defaultFallbackInView,observe,useInView},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(reactIntersectionObserver_m);VerticalTimelineElement$1.__esModule=!0;VerticalTimelineElement$1.default=void 0;var _react=_interopRequireDefault(reactExports),_propTypes=_interopRequireDefault(propTypesExports),_classnames=_interopRequireDefault(classnamesExports),_reactIntersectionObserver=require$$3;function _interopRequireDefault(et){return et&&et.__esModule?et:{default:et}}const VerticalTimelineElement=({children:et="",className:$="",contentArrowStyle:_e=null,contentStyle:tt=null,date:nt="",dateClassName:rt="",icon:it=null,iconClassName:st="",iconOnClick:ot=null,onTimelineElementClick:at=null,iconStyle:lt=null,id:dt="",position:ct="",style:pt=null,textClassName:mt="",intersectionObserverProps:ht={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:gt=!1})=>_react.default.createElement(_reactIntersectionObserver.InView,ht,({inView:vt,ref:_t})=>_react.default.createElement("div",{ref:_t,id:dt,className:(0,_classnames.default)($,"vertical-timeline-element",{"vertical-timeline-element--left":ct==="left","vertical-timeline-element--right":ct==="right","vertical-timeline-element--no-children":et===""}),style:pt},_react.default.createElement(_react.default.Fragment,null,_react.default.createElement("span",{style:lt,onClick:ot,className:(0,_classnames.default)(st,"vertical-timeline-element-icon",{"bounce-in":vt||gt,"is-hidden":!(vt||gt)})},it),_react.default.createElement("div",{style:tt,onClick:at,className:(0,_classnames.default)(mt,"vertical-timeline-element-content",{"bounce-in":vt||gt,"is-hidden":!(vt||gt)})},_react.default.createElement("div",{style:_e,className:"vertical-timeline-element-content-arrow"}),et,_react.default.createElement("span",{className:(0,_classnames.default)(rt,"vertical-timeline-element-date")},nt)))));VerticalTimelineElement.propTypes={children:_propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.node),_propTypes.default.node]),className:_propTypes.default.string,contentArrowStyle:_propTypes.default.shape({}),contentStyle:_propTypes.default.shape({}),date:_propTypes.default.node,dateClassName:_propTypes.default.string,icon:_propTypes.default.element,iconClassName:_propTypes.default.string,iconStyle:_propTypes.default.shape({}),iconOnClick:_propTypes.default.func,onTimelineElementClick:_propTypes.default.func,id:_propTypes.default.string,position:_propTypes.default.string,style:_propTypes.default.shape({}),textClassName:_propTypes.default.string,visible:_propTypes.default.bool,intersectionObserverProps:_propTypes.default.shape({root:_propTypes.default.object,rootMargin:_propTypes.default.string,threshold:_propTypes.default.number,triggerOnce:_propTypes.default.bool})};var _default=VerticalTimelineElement;VerticalTimelineElement$1.default=_default;var distModules={VerticalTimeline:VerticalTimeline$1.default,VerticalTimelineElement:VerticalTimelineElement$1.default};const style_min="",ExperienceCard=({experience:et})=>jsxs(distModules.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #232631"},date:et.date,iconStyle:{background:et.iconBg},icon:jsx("div",{className:"flex justify-center items-center w-full h-full",children:jsx("img",{src:et.icon,alt:et.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[jsxs("div",{children:[jsx("h3",{className:"text-white text-[24px] font-bold",children:et.title}),jsx("p",{className:"text-secondary text-[16px] font-semibold",children:et.company_name})]}),jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:et.points.map(($,_e)=>jsx("li",{className:"text-white text-[14px] pl-1 tracking-wider",children:$},`experience-point-${_e}`))})]}),Experience=()=>jsxs(Fragment,{children:[jsxs(motion.div,{variants:textVariant(),children:[jsx("p",{className:styles.sectionSubText,children:" What I have done so Far "}),jsx("h2",{className:styles.sectionHeadText,children:" Work Experience "})]}),jsx("div",{className:"mt-20 flex flex-col",children:jsx(distModules.VerticalTimeline,{children:experiences.map((et,$)=>jsx(ExperienceCard,{experience:et},$))})})]}),Experience$1=SectionWrapper(Experience,"work"),ProjectCard=({index:et,name:$,description:_e,tags:tt,image:nt,source_code_link:rt})=>jsx(motion.div,{variants:fadeIn("up","spring",et*.5,.75),children:jsxs(_default$2,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[359px] w-full",children:[jsxs("div",{className:"relative w-full h-[230px]",children:[jsx("img",{src:nt,alt:$,className:"w-full h-full object-cover rounded-2xl"}),jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:jsx("div",{onClick:()=>window.open(rt,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:jsx("img",{src:github,alt:"github",className:"w-1/2 h-1/2 object-contain"})})})]}),jsxs("div",{className:"mt-5",children:[jsx("h3",{className:"text-white font-bold text-[24px]",children:$}),jsx("p",{className:"mt-2 text-secondary text-[14px]",children:_e})]}),jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:tt.map(it=>jsxs("p",{className:`text-[14px] ${it.color}`,children:["#",it.name]},it.naem))})]})}),Works=()=>jsxs(Fragment,{children:[jsxs(motion.div,{variants:textVariant(),children:[jsx("p",{className:styles.sectionSubText,children:" My Works "}),jsx("h2",{className:styles.sectionHeadText,children:" Projects "})]}),jsx("div",{className:"w-full flex",children:jsx(motion.p,{variants:fadeIn("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links ot code repositories and live demons in it. It reflects my abillity to solve complex problems, work with different technologies, and manage projects effectively."})}),jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:projects.map((et,$)=>jsx(ProjectCard,{index:$,...et},`project-${$}`))})]}),Works$1=SectionWrapper(Works,"project");var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++){$=arguments[_e];for(var nt in $)Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt])}return et},__assign.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function(et,$){var _e={};for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&$.indexOf(tt)<0&&(_e[tt]=et[tt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,tt=Object.getOwnPropertySymbols(et);nt<tt.length;nt++)$.indexOf(tt[nt])<0&&Object.prototype.propertyIsEnumerable.call(et,tt[nt])&&(_e[tt[nt]]=et[tt[nt]]);return _e};function Tree2Element(et){return et&&et.map(function($,_e){return React.createElement($.tag,__assign({key:_e},$.attr),Tree2Element($.child))})}function GenIcon(et){return function($){return React.createElement(IconBase,__assign({attr:__assign({},et.attr)},$),Tree2Element(et.child))}}function IconBase(et){var $=function(_e){var tt=et.attr,nt=et.size,rt=et.title,it=__rest(et,["attr","size","title"]),st=nt||_e.size||"1em",ot;return _e.className&&(ot=_e.className),et.className&&(ot=(ot?ot+" ":"")+et.className),React.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},_e.attr,tt,it,{className:ot,style:__assign(__assign({color:et.color||_e.color},_e.style),et.style),height:st,width:st,xmlns:"http://www.w3.org/2000/svg"}),rt&&React.createElement("title",null,rt),et.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,function(_e){return $(_e)}):$(DefaultContext)}function FaFilePdf(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"}}]})(et)}function MdOutlineCancel(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"}},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}}]})(et)}var libExports$h={},lib$h={get exports(){return libExports$h},set exports(et){libExports$h=et}},core_min={};function commonjsRequire(et){throw new Error('Could not dynamically require "'+et+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdfExports={},pdf={get exports(){return pdfExports},set exports(et){pdfExports=et}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,_e){module.exports=_e()})(globalThis,()=>(()=>{var __webpack_modules__=[,(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.StreamType=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FontType=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.arrayByteLength=xn,$.arraysToBytes=un,$.assert=yn,$.bytesToString=hn,$.createPromiseCapability=On,$.createValidAbsoluteUrl=kt,$.escapeString=Kn,$.getModificationDate=En,$.getVerbosityLevel=qt,$.info=Jt,$.isArrayBuffer=ir,$.isArrayEqual=er,$.isAscii=Vn,$.objectFromMap=Xn,$.objectSize=Gn,$.setVerbosityLevel=Dt,$.shadow=Bt,$.string32=fn,$.stringToBytes=ln,$.stringToPDFString=or,$.stringToUTF16BEString=ur,$.stringToUTF8String=Sn,$.unreachable=tn,$.utf8StringToString=Bn,$.warn=on,_e(2);const tt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=tt;const nt=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=nt;const rt=1.35;$.LINE_FACTOR=rt;const it=.35;$.LINE_DESCENT_FACTOR=it;const st={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=st;const ot={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=ot;const at="pdfjs_internal_editor_";$.AnnotationEditorPrefix=at;const lt={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=lt;const dt={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=dt;const ct={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=ct;const pt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=pt;const mt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=mt;const ht={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=ht;const gt={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=gt;const vt={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=vt;const _t={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=_t;const yt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=yt;const xt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=xt;const At={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=At;const Ct={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Ct;const Pt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Pt;const bt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=bt;const Mt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Mt;const Tt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};$.StreamType=Tt;const Ft={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};$.FontType=Ft;const Gt={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Gt;const Wt={NONE:0,BINARY:1,STREAM:2};$.CMapCompressionType=Wt;const It={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=It;const Kt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=Kt;const Ut={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Ut;let Qt=Gt.WARNINGS;function Dt(wn){Number.isInteger(wn)&&(Qt=wn)}function qt(){return Qt}function Jt(wn){Qt>=Gt.INFOS&&console.log(`Info: ${wn}`)}function on(wn){Qt>=Gt.WARNINGS&&console.log(`Warning: ${wn}`)}function tn(wn){throw new Error(wn)}function yn(wn,Xt){wn||tn(Xt)}function Yt(wn){if(!wn)return!1;switch(wn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kt(wn,Xt=null,rn=null){if(!wn)return null;try{if(rn&&typeof wn=="string"){if(rn.addDefaultProtocol&&wn.startsWith("www.")){const Nn=wn.match(/\./g);Nn&&Nn.length>=2&&(wn=`http://${wn}`)}if(rn.tryConvertEncoding)try{wn=Sn(wn)}catch{}}const Tn=Xt?new URL(wn,Xt):new URL(wn);if(Yt(Tn))return Tn}catch{}return null}function Bt(wn,Xt,rn){return Object.defineProperty(wn,Xt,{value:rn,enumerable:!0,configurable:!0,writable:!1}),rn}const Ht=function(){function Xt(rn,Tn){this.constructor===Xt&&tn("Cannot initialize BaseException."),this.message=rn,this.name=Tn}return Xt.prototype=new Error,Xt.constructor=Xt,Xt}();$.BaseException=Ht;class wt extends Ht{constructor(Xt,rn){super(Xt,"PasswordException"),this.code=rn}}$.PasswordException=wt;class Lt extends Ht{constructor(Xt,rn){super(Xt,"UnknownErrorException"),this.details=rn}}$.UnknownErrorException=Lt;class Ot extends Ht{constructor(Xt){super(Xt,"InvalidPDFException")}}$.InvalidPDFException=Ot;class $t extends Ht{constructor(Xt){super(Xt,"MissingPDFException")}}$.MissingPDFException=$t;class Vt extends Ht{constructor(Xt,rn){super(Xt,"UnexpectedResponseException"),this.status=rn}}$.UnexpectedResponseException=Vt;class Zt extends Ht{constructor(Xt){super(Xt,"FormatError")}}$.FormatError=Zt;class sn extends Ht{constructor(Xt){super(Xt,"AbortException")}}$.AbortException=sn;function hn(wn){(typeof wn!="object"||wn===null||wn.length===void 0)&&tn("Invalid argument for bytesToString");const Xt=wn.length,rn=8192;if(Xt<rn)return String.fromCharCode.apply(null,wn);const Tn=[];for(let Nn=0;Nn<Xt;Nn+=rn){const Yn=Math.min(Nn+rn,Xt),hr=wn.subarray(Nn,Yn);Tn.push(String.fromCharCode.apply(null,hr))}return Tn.join("")}function ln(wn){typeof wn!="string"&&tn("Invalid argument for stringToBytes");const Xt=wn.length,rn=new Uint8Array(Xt);for(let Tn=0;Tn<Xt;++Tn)rn[Tn]=wn.charCodeAt(Tn)&255;return rn}function xn(wn){if(wn.length!==void 0)return wn.length;if(wn.byteLength!==void 0)return wn.byteLength;tn("Invalid argument for arrayByteLength")}function un(wn){const Xt=wn.length;if(Xt===1&&wn[0]instanceof Uint8Array)return wn[0];let rn=0;for(let Yn=0;Yn<Xt;Yn++)rn+=xn(wn[Yn]);let Tn=0;const Nn=new Uint8Array(rn);for(let Yn=0;Yn<Xt;Yn++){let hr=wn[Yn];hr instanceof Uint8Array||(typeof hr=="string"?hr=ln(hr):hr=new Uint8Array(hr));const wr=hr.byteLength;Nn.set(hr,Tn),Tn+=wr}return Nn}function fn(wn){return String.fromCharCode(wn>>24&255,wn>>16&255,wn>>8&255,wn&255)}function Gn(wn){return Object.keys(wn).length}function Xn(wn){const Xt=Object.create(null);for(const[rn,Tn]of wn)Xt[rn]=Tn;return Xt}function nn(){const wn=new Uint8Array(4);return wn[0]=1,new Uint32Array(wn.buffer,0,1)[0]===1}function jt(){try{return new Function(""),!0}catch{return!1}}class Mn{static get isLittleEndian(){return Bt(this,"isLittleEndian",nn())}static get isEvalSupported(){return Bt(this,"isEvalSupported",jt())}static get isOffscreenCanvasSupported(){return Bt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}$.FeatureTest=Mn;const cn=[...Array(256).keys()].map(wn=>wn.toString(16).padStart(2,"0"));class _n{static makeHexColor(Xt,rn,Tn){return`#${cn[Xt]}${cn[rn]}${cn[Tn]}`}static scaleMinMax(Xt,rn){let Tn;Xt[0]?(Xt[0]<0&&(Tn=rn[0],rn[0]=rn[1],rn[1]=Tn),rn[0]*=Xt[0],rn[1]*=Xt[0],Xt[3]<0&&(Tn=rn[2],rn[2]=rn[3],rn[3]=Tn),rn[2]*=Xt[3],rn[3]*=Xt[3]):(Tn=rn[0],rn[0]=rn[2],rn[2]=Tn,Tn=rn[1],rn[1]=rn[3],rn[3]=Tn,Xt[1]<0&&(Tn=rn[2],rn[2]=rn[3],rn[3]=Tn),rn[2]*=Xt[1],rn[3]*=Xt[1],Xt[2]<0&&(Tn=rn[0],rn[0]=rn[1],rn[1]=Tn),rn[0]*=Xt[2],rn[1]*=Xt[2]),rn[0]+=Xt[4],rn[1]+=Xt[4],rn[2]+=Xt[5],rn[3]+=Xt[5]}static transform(Xt,rn){return[Xt[0]*rn[0]+Xt[2]*rn[1],Xt[1]*rn[0]+Xt[3]*rn[1],Xt[0]*rn[2]+Xt[2]*rn[3],Xt[1]*rn[2]+Xt[3]*rn[3],Xt[0]*rn[4]+Xt[2]*rn[5]+Xt[4],Xt[1]*rn[4]+Xt[3]*rn[5]+Xt[5]]}static applyTransform(Xt,rn){const Tn=Xt[0]*rn[0]+Xt[1]*rn[2]+rn[4],Nn=Xt[0]*rn[1]+Xt[1]*rn[3]+rn[5];return[Tn,Nn]}static applyInverseTransform(Xt,rn){const Tn=rn[0]*rn[3]-rn[1]*rn[2],Nn=(Xt[0]*rn[3]-Xt[1]*rn[2]+rn[2]*rn[5]-rn[4]*rn[3])/Tn,Yn=(-Xt[0]*rn[1]+Xt[1]*rn[0]+rn[4]*rn[1]-rn[5]*rn[0])/Tn;return[Nn,Yn]}static getAxialAlignedBoundingBox(Xt,rn){const Tn=_n.applyTransform(Xt,rn),Nn=_n.applyTransform(Xt.slice(2,4),rn),Yn=_n.applyTransform([Xt[0],Xt[3]],rn),hr=_n.applyTransform([Xt[2],Xt[1]],rn);return[Math.min(Tn[0],Nn[0],Yn[0],hr[0]),Math.min(Tn[1],Nn[1],Yn[1],hr[1]),Math.max(Tn[0],Nn[0],Yn[0],hr[0]),Math.max(Tn[1],Nn[1],Yn[1],hr[1])]}static inverseTransform(Xt){const rn=Xt[0]*Xt[3]-Xt[1]*Xt[2];return[Xt[3]/rn,-Xt[1]/rn,-Xt[2]/rn,Xt[0]/rn,(Xt[2]*Xt[5]-Xt[4]*Xt[3])/rn,(Xt[4]*Xt[1]-Xt[5]*Xt[0])/rn]}static apply3dTransform(Xt,rn){return[Xt[0]*rn[0]+Xt[1]*rn[1]+Xt[2]*rn[2],Xt[3]*rn[0]+Xt[4]*rn[1]+Xt[5]*rn[2],Xt[6]*rn[0]+Xt[7]*rn[1]+Xt[8]*rn[2]]}static singularValueDecompose2dScale(Xt){const rn=[Xt[0],Xt[2],Xt[1],Xt[3]],Tn=Xt[0]*rn[0]+Xt[1]*rn[2],Nn=Xt[0]*rn[1]+Xt[1]*rn[3],Yn=Xt[2]*rn[0]+Xt[3]*rn[2],hr=Xt[2]*rn[1]+Xt[3]*rn[3],wr=(Tn+hr)/2,ts=Math.sqrt((Tn+hr)**2-4*(Tn*hr-Yn*Nn))/2,Wr=wr+ts||1,xr=wr-ts||1;return[Math.sqrt(Wr),Math.sqrt(xr)]}static normalizeRect(Xt){const rn=Xt.slice(0);return Xt[0]>Xt[2]&&(rn[0]=Xt[2],rn[2]=Xt[0]),Xt[1]>Xt[3]&&(rn[1]=Xt[3],rn[3]=Xt[1]),rn}static intersect(Xt,rn){const Tn=Math.max(Math.min(Xt[0],Xt[2]),Math.min(rn[0],rn[2])),Nn=Math.min(Math.max(Xt[0],Xt[2]),Math.max(rn[0],rn[2]));if(Tn>Nn)return null;const Yn=Math.max(Math.min(Xt[1],Xt[3]),Math.min(rn[1],rn[3])),hr=Math.min(Math.max(Xt[1],Xt[3]),Math.max(rn[1],rn[3]));return Yn>hr?null:[Tn,Yn,Nn,hr]}static bezierBoundingBox(Xt,rn,Tn,Nn,Yn,hr,wr,ts){const Wr=[],xr=[[],[]];let ps,vs,Xs,ys,Ls,dn,Fn,jn;for(let Or=0;Or<2;++Or){if(Or===0?(vs=6*Xt-12*Tn+6*Yn,ps=-3*Xt+9*Tn-9*Yn+3*wr,Xs=3*Tn-3*Xt):(vs=6*rn-12*Nn+6*hr,ps=-3*rn+9*Nn-9*hr+3*ts,Xs=3*Nn-3*rn),Math.abs(ps)<1e-12){if(Math.abs(vs)<1e-12)continue;ys=-Xs/vs,0<ys&&ys<1&&Wr.push(ys);continue}Fn=vs*vs-4*Xs*ps,jn=Math.sqrt(Fn),!(Fn<0)&&(Ls=(-vs+jn)/(2*ps),0<Ls&&Ls<1&&Wr.push(Ls),dn=(-vs-jn)/(2*ps),0<dn&&dn<1&&Wr.push(dn))}let Dn=Wr.length,Hn;const Sr=Dn;for(;Dn--;)ys=Wr[Dn],Hn=1-ys,xr[0][Dn]=Hn*Hn*Hn*Xt+3*Hn*Hn*ys*Tn+3*Hn*ys*ys*Yn+ys*ys*ys*wr,xr[1][Dn]=Hn*Hn*Hn*rn+3*Hn*Hn*ys*Nn+3*Hn*ys*ys*hr+ys*ys*ys*ts;return xr[0][Sr]=Xt,xr[1][Sr]=rn,xr[0][Sr+1]=wr,xr[1][Sr+1]=ts,xr[0].length=xr[1].length=Sr+2,[Math.min(...xr[0]),Math.min(...xr[1]),Math.max(...xr[0]),Math.max(...xr[1])]}}$.Util=_n;const Un=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function or(wn){if(wn[0]>="ï"){let rn;if(wn[0]==="þ"&&wn[1]==="ÿ"?rn="utf-16be":wn[0]==="ÿ"&&wn[1]==="þ"?rn="utf-16le":wn[0]==="ï"&&wn[1]==="»"&&wn[2]==="¿"&&(rn="utf-8"),rn)try{const Tn=new TextDecoder(rn,{fatal:!0}),Nn=ln(wn);return Tn.decode(Nn)}catch(Tn){on(`stringToPDFString: "${Tn}".`)}}const Xt=[];for(let rn=0,Tn=wn.length;rn<Tn;rn++){const Nn=Un[wn.charCodeAt(rn)];Xt.push(Nn?String.fromCharCode(Nn):wn.charAt(rn))}return Xt.join("")}function Kn(wn){return wn.replace(/([()\\\n\r])/g,Xt=>Xt===`
`?"\\n":Xt==="\r"?"\\r":`\\${Xt}`)}function Vn(wn){return/^[\x00-\x7F]*$/.test(wn)}function ur(wn){const Xt=["þÿ"];for(let rn=0,Tn=wn.length;rn<Tn;rn++){const Nn=wn.charCodeAt(rn);Xt.push(String.fromCharCode(Nn>>8&255),String.fromCharCode(Nn&255))}return Xt.join("")}function Sn(wn){return decodeURIComponent(escape(wn))}function Bn(wn){return unescape(encodeURIComponent(wn))}function ir(wn){return typeof wn=="object"&&wn!==null&&wn.byteLength!==void 0}function er(wn,Xt){if(wn.length!==Xt.length)return!1;for(let rn=0,Tn=wn.length;rn<Tn;rn++)if(wn[rn]!==Xt[rn])return!1;return!0}function En(wn=new Date){return[wn.getUTCFullYear().toString(),(wn.getUTCMonth()+1).toString().padStart(2,"0"),wn.getUTCDate().toString().padStart(2,"0"),wn.getUTCHours().toString().padStart(2,"0"),wn.getUTCMinutes().toString().padStart(2,"0"),wn.getUTCSeconds().toString().padStart(2,"0")].join("")}function On(){const wn=Object.create(null);let Xt=!1;return Object.defineProperty(wn,"settled",{get(){return Xt}}),wn.promise=new Promise(function(rn,Tn){wn.resolve=function(Nn){Xt=!0,rn(Nn)},wn.reject=function(Nn){Xt=!0,Tn(Nn)}}),wn}},(et,$,_e)=>{_e(3)},(et,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const _e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=_e},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.binarySearchFirstItem=Ft,$.deprecated=At,$.getColorValues=Tt,$.getFilenameFromUrl=gt,$.getPdfFilenameFromUrl=vt,$.getRGB=Mt,$.getXfaPageViewport=bt,$.isDataScheme=mt,$.isPdfFile=ht,$.isValidFetchUrl=yt,$.loadScript=xt;var tt=_e(5),nt=_e(1);const rt="http://www.w3.org/2000/svg",Gt=class{};let it=Gt;ro(it,"CSS",96),ro(it,"PDF",72),ro(it,"PDF_TO_CSS_UNITS",Gt.CSS/Gt.PDF),$.PixelsPerInch=it;class st extends tt.BaseCanvasFactory{constructor({ownerDocument:It=globalThis.document}={}){super(),this._document=It}_createCanvas(It,Kt){const Ut=this._document.createElement("canvas");return Ut.width=It,Ut.height=Kt,Ut}}$.DOMCanvasFactory=st;async function ot(Wt,It=!1){if(yt(Wt,document.baseURI)){const Kt=await fetch(Wt);if(!Kt.ok)throw new Error(Kt.statusText);return It?new Uint8Array(await Kt.arrayBuffer()):(0,nt.stringToBytes)(await Kt.text())}return new Promise((Kt,Ut)=>{const Qt=new XMLHttpRequest;Qt.open("GET",Wt,!0),It&&(Qt.responseType="arraybuffer"),Qt.onreadystatechange=()=>{if(Qt.readyState===XMLHttpRequest.DONE){if(Qt.status===200||Qt.status===0){let Dt;if(It&&Qt.response?Dt=new Uint8Array(Qt.response):!It&&Qt.responseText&&(Dt=(0,nt.stringToBytes)(Qt.responseText)),Dt){Kt(Dt);return}}Ut(new Error(Qt.statusText))}},Qt.send(null)})}class at extends tt.BaseCMapReaderFactory{_fetchData(It,Kt){return ot(It,this.isCompressed).then(Ut=>({cMapData:Ut,compressionType:Kt}))}}$.DOMCMapReaderFactory=at;class lt extends tt.BaseStandardFontDataFactory{_fetchData(It){return ot(It,!0)}}$.DOMStandardFontDataFactory=lt;class dt extends tt.BaseSVGFactory{_createSVG(It){return document.createElementNS(rt,It)}}$.DOMSVGFactory=dt;class ct{constructor({viewBox:It,scale:Kt,rotation:Ut,offsetX:Qt=0,offsetY:Dt=0,dontFlip:qt=!1}){this.viewBox=It,this.scale=Kt,this.rotation=Ut,this.offsetX=Qt,this.offsetY=Dt;const Jt=(It[2]+It[0])/2,on=(It[3]+It[1])/2;let tn,yn,Yt,kt;switch(Ut%=360,Ut<0&&(Ut+=360),Ut){case 180:tn=-1,yn=0,Yt=0,kt=1;break;case 90:tn=0,yn=1,Yt=1,kt=0;break;case 270:tn=0,yn=-1,Yt=-1,kt=0;break;case 0:tn=1,yn=0,Yt=0,kt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}qt&&(Yt=-Yt,kt=-kt);let Bt,Ht,wt,Lt;tn===0?(Bt=Math.abs(on-It[1])*Kt+Qt,Ht=Math.abs(Jt-It[0])*Kt+Dt,wt=Math.abs(It[3]-It[1])*Kt,Lt=Math.abs(It[2]-It[0])*Kt):(Bt=Math.abs(Jt-It[0])*Kt+Qt,Ht=Math.abs(on-It[1])*Kt+Dt,wt=Math.abs(It[2]-It[0])*Kt,Lt=Math.abs(It[3]-It[1])*Kt),this.transform=[tn*Kt,yn*Kt,Yt*Kt,kt*Kt,Bt-tn*Kt*Jt-Yt*Kt*on,Ht-yn*Kt*Jt-kt*Kt*on],this.width=wt,this.height=Lt}clone({scale:It=this.scale,rotation:Kt=this.rotation,offsetX:Ut=this.offsetX,offsetY:Qt=this.offsetY,dontFlip:Dt=!1}={}){return new ct({viewBox:this.viewBox.slice(),scale:It,rotation:Kt,offsetX:Ut,offsetY:Qt,dontFlip:Dt})}convertToViewportPoint(It,Kt){return nt.Util.applyTransform([It,Kt],this.transform)}convertToViewportRectangle(It){const Kt=nt.Util.applyTransform([It[0],It[1]],this.transform),Ut=nt.Util.applyTransform([It[2],It[3]],this.transform);return[Kt[0],Kt[1],Ut[0],Ut[1]]}convertToPdfPoint(It,Kt){return nt.Util.applyInverseTransform([It,Kt],this.transform)}}$.PageViewport=ct;class pt extends nt.BaseException{constructor(It,Kt){super(It,"RenderingCancelledException"),this.type=Kt}}$.RenderingCancelledException=pt;function mt(Wt){const It=Wt.length;let Kt=0;for(;Kt<It&&Wt[Kt].trim()==="";)Kt++;return Wt.substring(Kt,Kt+5).toLowerCase()==="data:"}function ht(Wt){return typeof Wt=="string"&&/\.pdf$/i.test(Wt)}function gt(Wt){const It=Wt.indexOf("#"),Kt=Wt.indexOf("?"),Ut=Math.min(It>0?It:Wt.length,Kt>0?Kt:Wt.length);return Wt.substring(Wt.lastIndexOf("/",Ut)+1,Ut)}function vt(Wt,It="document.pdf"){if(typeof Wt!="string")return It;if(mt(Wt))return(0,nt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),It;const Kt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ut=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Qt=Kt.exec(Wt);let Dt=Ut.exec(Qt[1])||Ut.exec(Qt[2])||Ut.exec(Qt[3]);if(Dt&&(Dt=Dt[0],Dt.includes("%")))try{Dt=Ut.exec(decodeURIComponent(Dt))[0]}catch{}return Dt||It}class _t{constructor(){this.started=Object.create(null),this.times=[]}time(It){It in this.started&&(0,nt.warn)(`Timer is already running for ${It}`),this.started[It]=Date.now()}timeEnd(It){It in this.started||(0,nt.warn)(`Timer has not been started for ${It}`),this.times.push({name:It,start:this.started[It],end:Date.now()}),delete this.started[It]}toString(){const It=[];let Kt=0;for(const Ut of this.times){const Qt=Ut.name;Qt.length>Kt&&(Kt=Qt.length)}for(const Ut of this.times){const Qt=Ut.end-Ut.start;It.push(`${Ut.name.padEnd(Kt)} ${Qt}ms
`)}return It.join("")}}$.StatTimer=_t;function yt(Wt,It){try{const{protocol:Kt}=It?new URL(Wt,It):new URL(Wt);return Kt==="http:"||Kt==="https:"}catch{return!1}}function xt(Wt,It=!1){return new Promise((Kt,Ut)=>{const Qt=document.createElement("script");Qt.src=Wt,Qt.onload=function(Dt){It&&Qt.remove(),Kt(Dt)},Qt.onerror=function(){Ut(new Error(`Cannot load script at: ${Qt.src}`))},(document.head||document.documentElement).append(Qt)})}function At(Wt){console.log("Deprecated API usage: "+Wt)}let Ct;class Pt{static toDateObject(It){if(!It||typeof It!="string")return null;Ct||(Ct=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Kt=Ct.exec(It);if(!Kt)return null;const Ut=parseInt(Kt[1],10);let Qt=parseInt(Kt[2],10);Qt=Qt>=1&&Qt<=12?Qt-1:0;let Dt=parseInt(Kt[3],10);Dt=Dt>=1&&Dt<=31?Dt:1;let qt=parseInt(Kt[4],10);qt=qt>=0&&qt<=23?qt:0;let Jt=parseInt(Kt[5],10);Jt=Jt>=0&&Jt<=59?Jt:0;let on=parseInt(Kt[6],10);on=on>=0&&on<=59?on:0;const tn=Kt[7]||"Z";let yn=parseInt(Kt[8],10);yn=yn>=0&&yn<=23?yn:0;let Yt=parseInt(Kt[9],10)||0;return Yt=Yt>=0&&Yt<=59?Yt:0,tn==="-"?(qt+=yn,Jt+=Yt):tn==="+"&&(qt-=yn,Jt-=Yt),new Date(Date.UTC(Ut,Qt,Dt,qt,Jt,on))}}$.PDFDateString=Pt;function bt(Wt,{scale:It=1,rotation:Kt=0}){const{width:Ut,height:Qt}=Wt.attributes.style,Dt=[0,0,parseInt(Ut),parseInt(Qt)];return new ct({viewBox:Dt,scale:It,rotation:Kt})}function Mt(Wt){if(Wt.startsWith("#")){const It=parseInt(Wt.slice(1),16);return[(It&16711680)>>16,(It&65280)>>8,It&255]}return Wt.startsWith("rgb(")?Wt.slice(4,-1).split(",").map(It=>parseInt(It)):Wt.startsWith("rgba(")?Wt.slice(5,-1).split(",").map(It=>parseInt(It)).slice(0,3):((0,nt.warn)(`Not a valid color format: "${Wt}"`),[0,0,0])}function Tt(Wt){const It=document.createElement("span");It.style.visibility="hidden",document.body.append(It);for(const Kt of Wt.keys()){It.style.color=Kt;const Ut=window.getComputedStyle(It).color;Wt.set(Kt,Mt(Ut))}It.remove()}function Ft(Wt,It,Kt=0){let Ut=Kt,Qt=Wt.length-1;if(Qt<0||!It(Wt[Qt]))return Wt.length;if(It(Wt[Ut]))return Ut;for(;Ut<Qt;){const Dt=Ut+Qt>>1,qt=Wt[Dt];It(qt)?Qt=Dt:Ut=Dt+1}return Ut}},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var tt=_e(1);class nt{constructor(){this.constructor===nt&&(0,tt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(at,lt){if(at<=0||lt<=0)throw new Error("Invalid canvas size");const dt=this._createCanvas(at,lt);return{canvas:dt,context:dt.getContext("2d")}}reset(at,lt,dt){if(!at.canvas)throw new Error("Canvas is not specified");if(lt<=0||dt<=0)throw new Error("Invalid canvas size");at.canvas.width=lt,at.canvas.height=dt}destroy(at){if(!at.canvas)throw new Error("Canvas is not specified");at.canvas.width=0,at.canvas.height=0,at.canvas=null,at.context=null}_createCanvas(at,lt){(0,tt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=nt;class rt{constructor({baseUrl:at=null,isCompressed:lt=!1}){this.constructor===rt&&(0,tt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=at,this.isCompressed=lt}async fetch({name:at}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!at)throw new Error("CMap name must be specified.");const lt=this.baseUrl+at+(this.isCompressed?".bcmap":""),dt=this.isCompressed?tt.CMapCompressionType.BINARY:tt.CMapCompressionType.NONE;return this._fetchData(lt,dt).catch(ct=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${lt}`)})}_fetchData(at,lt){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=rt;class it{constructor({baseUrl:at=null}){this.constructor===it&&(0,tt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=at}async fetch({filename:at}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!at)throw new Error("Font filename must be specified.");const lt=`${this.baseUrl}${at}`;return this._fetchData(lt).catch(dt=>{throw new Error(`Unable to load font data at: ${lt}`)})}_fetchData(at){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=it;class st{constructor(){this.constructor===st&&(0,tt.unreachable)("Cannot initialize BaseSVGFactory.")}create(at,lt,dt=!1){if(at<=0||lt<=0)throw new Error("Invalid SVG dimensions");const ct=this._createSVG("svg:svg");return ct.setAttribute("version","1.1"),dt||(ct.setAttribute("width",`${at}px`),ct.setAttribute("height",`${lt}px`)),ct.setAttribute("preserveAspectRatio","none"),ct.setAttribute("viewBox",`0 0 ${at} ${lt}`),ct}createElement(at){if(typeof at!="string")throw new Error("Invalid SVG element type");return this._createSVG(at)}_createSVG(at){(0,tt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=st},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var et,_e,tt,nt,rt,it,st,ot,at,qp,dt,ct;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(7),_display_utils=__w_pdfjs_require__(4),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:mt,NodeCMapReaderFactory:ht,NodeStandardFontDataFactory:gt}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=mt,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=ht,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=gt}let createPDFNetworkStream;function setPDFNetworkStreamFactory(mt){createPDFNetworkStream=mt}function getDocument(mt){const ht=new PDFDocumentLoadingTask;let gt;if(typeof mt=="string"||mt instanceof URL)gt={url:mt};else if((0,_util.isArrayBuffer)(mt))gt={data:mt};else if(mt instanceof PDFDataRangeTransport)gt={range:mt};else{if(typeof mt!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!mt.url&&!mt.data&&!mt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");gt=mt}const vt=Object.create(null);let _t=null,yt=null;for(const At in gt){const Ct=gt[At];switch(At){case"url":if(typeof window<"u")try{vt[At]=new URL(Ct,window.location).href;continue}catch(Pt){(0,_util.warn)(`Cannot create valid URL: "${Pt}".`)}else if(typeof Ct=="string"||Ct instanceof URL){vt[At]=Ct.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":_t=Ct;continue;case"worker":yt=Ct;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Ct instanceof Buffer)vt[At]=new Uint8Array(Ct);else{if(Ct instanceof Uint8Array)break;if(typeof Ct=="string")vt[At]=(0,_util.stringToBytes)(Ct);else if(typeof Ct=="object"&&Ct!==null&&!isNaN(Ct.length))vt[At]=new Uint8Array(Ct);else if((0,_util.isArrayBuffer)(Ct))vt[At]=new Uint8Array(Ct);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}vt[At]=Ct}if(vt.CMapReaderFactory=vt.CMapReaderFactory||DefaultCMapReaderFactory,vt.StandardFontDataFactory=vt.StandardFontDataFactory||DefaultStandardFontDataFactory,vt.ignoreErrors=vt.stopAtErrors!==!0,vt.fontExtraProperties=vt.fontExtraProperties===!0,vt.pdfBug=vt.pdfBug===!0,vt.enableXfa=vt.enableXfa===!0,(!Number.isInteger(vt.rangeChunkSize)||vt.rangeChunkSize<1)&&(vt.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof vt.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(vt.docBaseUrl))&&(vt.docBaseUrl=null),(!Number.isInteger(vt.maxImageSize)||vt.maxImageSize<-1)&&(vt.maxImageSize=-1),typeof vt.cMapUrl!="string"&&(vt.cMapUrl=null),typeof vt.standardFontDataUrl!="string"&&(vt.standardFontDataUrl=null),typeof vt.useWorkerFetch!="boolean"&&(vt.useWorkerFetch=vt.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&vt.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof vt.isEvalSupported!="boolean"&&(vt.isEvalSupported=!0),typeof vt.disableFontFace!="boolean"&&(vt.disableFontFace=_is_node.isNodeJS),typeof vt.useSystemFonts!="boolean"&&(vt.useSystemFonts=!_is_node.isNodeJS&&!vt.disableFontFace),(typeof vt.ownerDocument!="object"||vt.ownerDocument===null)&&(vt.ownerDocument=globalThis.document),typeof vt.disableRange!="boolean"&&(vt.disableRange=!1),typeof vt.disableStream!="boolean"&&(vt.disableStream=!1),typeof vt.disableAutoFetch!="boolean"&&(vt.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(vt.verbosity),!yt){const At={verbosity:vt.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};yt=At.port?PDFWorker.fromPort(At):new PDFWorker(At),ht._worker=yt}const xt=ht.docId;return yt.promise.then(function(){if(ht.destroyed)throw new Error("Loading aborted");const At=_fetchDocument(yt,vt,_t,xt),Ct=new Promise(function(Pt){let bt;_t?bt=new _transport_stream.PDFDataTransportStream({length:vt.length,initialData:vt.initialData,progressiveDone:vt.progressiveDone,contentDispositionFilename:vt.contentDispositionFilename,disableRange:vt.disableRange,disableStream:vt.disableStream},_t):vt.data||(bt=createPDFNetworkStream({url:vt.url,length:vt.length,httpHeaders:vt.httpHeaders,withCredentials:vt.withCredentials,rangeChunkSize:vt.rangeChunkSize,disableRange:vt.disableRange,disableStream:vt.disableStream})),Pt(bt)});return Promise.all([At,Ct]).then(function([Pt,bt]){if(ht.destroyed)throw new Error("Loading aborted");const Mt=new _message_handler.MessageHandler(xt,Pt,yt.port),Tt=new WorkerTransport(Mt,ht,bt,vt);ht._transport=Tt,Mt.send("Ready",null)})}).catch(ht._capability.reject),ht}async function _fetchDocument(mt,ht,gt,vt){if(mt.destroyed)throw new Error("Worker was destroyed");gt&&(ht.length=gt.length,ht.initialData=gt.initialData,ht.progressiveDone=gt.progressiveDone,ht.contentDispositionFilename=gt.contentDispositionFilename);const _t=await mt.messageHandler.sendWithPromise("GetDocRequest",{docId:vt,apiVersion:"2.15.349",source:{data:ht.data,url:ht.url,password:ht.password,disableAutoFetch:ht.disableAutoFetch,rangeChunkSize:ht.rangeChunkSize,length:ht.length},maxImageSize:ht.maxImageSize,disableFontFace:ht.disableFontFace,docBaseUrl:ht.docBaseUrl,ignoreErrors:ht.ignoreErrors,isEvalSupported:ht.isEvalSupported,fontExtraProperties:ht.fontExtraProperties,enableXfa:ht.enableXfa,useSystemFonts:ht.useSystemFonts,cMapUrl:ht.useWorkerFetch?ht.cMapUrl:null,standardFontDataUrl:ht.useWorkerFetch?ht.standardFontDataUrl:null});if(ht.data&&(ht.data=null),mt.destroyed)throw new Error("Worker was destroyed");return _t}const $=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Jp($,et)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var ht;this.destroyed=!0,await((ht=this._transport)==null?void 0:ht.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=$;et=new WeakMap,Zn(PDFDocumentLoadingTask,et,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ht,gt,vt=!1,_t=null){this.length=ht,this.initialData=gt,this.progressiveDone=vt,this.contentDispositionFilename=_t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(ht){this._rangeListeners.push(ht)}addProgressListener(ht){this._progressListeners.push(ht)}addProgressiveReadListener(ht){this._progressiveReadListeners.push(ht)}addProgressiveDoneListener(ht){this._progressiveDoneListeners.push(ht)}onDataRange(ht,gt){for(const vt of this._rangeListeners)vt(ht,gt)}onDataProgress(ht,gt){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt(ht,gt)})}onDataProgressiveRead(ht){this._readyCapability.promise.then(()=>{for(const gt of this._progressiveReadListeners)gt(ht)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveDoneListeners)ht()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ht,gt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ht,gt){this._pdfInfo=ht,this._transport=gt,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ht){return this._transport.getPage(ht)}getPageIndex(ht){return this._transport.getPageIndex(ht)}getDestinations(){return this._transport.getDestinations()}getDestination(ht){return this._transport.getDestination(ht)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ht=!1){return this._transport.startCleanup(ht||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ht,gt,vt,_t,yt=!1){this._pageIndex=ht,this._pageInfo=gt,this._ownerDocument=_t,this._transport=vt,this._stats=yt?new _display_utils.StatTimer:null,this._pdfBug=yt,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ht,rotation:gt=this.rotate,offsetX:vt=0,offsetY:_t=0,dontFlip:yt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ht,rotation:gt,offsetX:vt,offsetY:_t,dontFlip:yt})}getAnnotations({intent:ht="display"}={}){const gt=this._transport.getRenderingIntent(ht);let vt=this._annotationPromises.get(gt.cacheKey);return vt||(vt=this._transport.getAnnotations(this._pageIndex,gt.renderingIntent),this._annotationPromises.set(gt.cacheKey,vt),vt=vt.then(_t=>{for(const yt of _t)yt.titleObj!==void 0&&Object.defineProperty(yt,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),yt.titleObj.str}}),yt.contentsObj!==void 0&&Object.defineProperty(yt,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),yt.contentsObj.str}});return _t})),vt}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var ht;return((ht=this._transport._htmlForXfa)==null?void 0:ht.children[this._pageIndex])||null}render({canvasContext:ht,viewport:gt,intent:vt="display",annotationMode:_t=_util.AnnotationMode.ENABLE,transform:yt=null,imageLayer:xt=null,canvasFactory:At=null,background:Ct=null,optionalContentConfigPromise:Pt=null,annotationCanvasMap:bt=null,pageColors:Mt=null,printAnnotationStorage:Tt=null}){var Dt,qt;((Dt=arguments[0])==null?void 0:Dt.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&_t===_util.AnnotationMode.ENABLE&&(_t=_util.AnnotationMode.ENABLE_FORMS)),((qt=arguments[0])==null?void 0:qt.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&_t===_util.AnnotationMode.ENABLE&&(_t=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const Ft=this._transport.getRenderingIntent(vt,_t,Tt);this.pendingCleanup=!1,Pt||(Pt=this._transport.getOptionalContentConfig());let Gt=this._intentStates.get(Ft.cacheKey);Gt||(Gt=Object.create(null),this._intentStates.set(Ft.cacheKey,Gt)),Gt.streamReaderCancelTimeout&&(clearTimeout(Gt.streamReaderCancelTimeout),Gt.streamReaderCancelTimeout=null);const Wt=At||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),It=!!(Ft.renderingIntent&_util.RenderingIntentFlag.PRINT);Gt.displayReadyCapability||(Gt.displayReadyCapability=(0,_util.createPromiseCapability)(),Gt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Ft));const Kt=Jt=>{Gt.renderTasks.delete(Ut),(this.cleanupAfterRender||It)&&(this.pendingCleanup=!0),this._tryCleanup(),Jt?(Ut.capability.reject(Jt),this._abortOperatorList({intentState:Gt,reason:Jt instanceof Error?Jt:new Error(Jt)})):Ut.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},Ut=new InternalRenderTask({callback:Kt,params:{canvasContext:ht,viewport:gt,transform:yt,imageLayer:xt,background:Ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:bt,operatorList:Gt.operatorList,pageIndex:this._pageIndex,canvasFactory:Wt,useRequestAnimationFrame:!It,pdfBug:this._pdfBug,pageColors:Mt});(Gt.renderTasks||(Gt.renderTasks=new Set)).add(Ut);const Qt=Ut.task;return Promise.all([Gt.displayReadyCapability.promise,Pt]).then(([Jt,on])=>{if(this.pendingCleanup){Kt();return}this._stats&&this._stats.time("Rendering"),Ut.initializeGraphics({transparency:Jt,optionalContentConfig:on}),Ut.operatorListChanged()}).catch(Kt),Qt}getOperatorList({intent:ht="display",annotationMode:gt=_util.AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){function _t(){xt.operatorList.lastChunk&&(xt.opListReadCapability.resolve(xt.operatorList),xt.renderTasks.delete(At))}const yt=this._transport.getRenderingIntent(ht,gt,vt,!0);let xt=this._intentStates.get(yt.cacheKey);xt||(xt=Object.create(null),this._intentStates.set(yt.cacheKey,xt));let At;return xt.opListReadCapability||(At=Object.create(null),At.operatorListChanged=_t,xt.opListReadCapability=(0,_util.createPromiseCapability)(),(xt.renderTasks||(xt.renderTasks=new Set)).add(At),xt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(yt)),xt.opListReadCapability.promise}streamTextContent({disableCombineTextItems:ht=!1,includeMarkedContent:gt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:ht!==!0,includeMarkedContent:gt===!0},{highWaterMark:100,size(_t){return _t.items.length}})}getTextContent(ht={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>_xfa_text.XfaText.textContent(vt));const gt=this.streamTextContent(ht);return new Promise(function(vt,_t){function yt(){xt.read().then(function({value:Ct,done:Pt}){if(Pt){vt(At);return}Object.assign(At.styles,Ct.styles),At.items.push(...Ct.items),yt()},_t)}const xt=gt.getReader(),At={items:[],styles:Object.create(null)};yt()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const ht=[];for(const gt of this._intentStates.values())if(this._abortOperatorList({intentState:gt,reason:new Error("Page was destroyed."),force:!0}),!gt.opListReadCapability)for(const vt of gt.renderTasks)ht.push(vt.completed),vt.cancel();this.objs.clear();for(const gt of this._bitmaps)gt.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(ht)}cleanup(ht=!1){return this.pendingCleanup=!0,this._tryCleanup(ht)}_tryCleanup(ht=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:gt,operatorList:vt}of this._intentStates.values())if(gt.size>0||!vt.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,ht&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const gt of this._bitmaps)gt.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(ht,gt){const vt=this._intentStates.get(gt);vt&&(this._stats&&this._stats.timeEnd("Page Request"),vt.displayReadyCapability&&vt.displayReadyCapability.resolve(ht))}_renderPageChunk(ht,gt){for(let vt=0,_t=ht.length;vt<_t;vt++)gt.operatorList.fnArray.push(ht.fnArray[vt]),gt.operatorList.argsArray.push(ht.argsArray[vt]);gt.operatorList.lastChunk=ht.lastChunk,gt.operatorList.separateAnnots=ht.separateAnnots;for(const vt of gt.renderTasks)vt.operatorListChanged();ht.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:ht,cacheKey:gt,annotationStorageMap:vt}){const yt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ht,cacheKey:gt,annotationStorage:vt}).getReader(),xt=this._intentStates.get(gt);xt.streamReader=yt;const At=()=>{yt.read().then(({value:Ct,done:Pt})=>{if(Pt){xt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ct,xt),At())},Ct=>{if(xt.streamReader=null,!this._transport.destroyed){if(xt.operatorList){xt.operatorList.lastChunk=!0;for(const Pt of xt.renderTasks)Pt.operatorListChanged();this._tryCleanup()}if(xt.displayReadyCapability)xt.displayReadyCapability.reject(Ct);else if(xt.opListReadCapability)xt.opListReadCapability.reject(Ct);else throw Ct}})};At()}_abortOperatorList({intentState:ht,reason:gt,force:vt=!1}){if(ht.streamReader){if(!vt){if(ht.renderTasks.size>0)return;if(gt instanceof _display_utils.RenderingCancelledException){ht.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:ht,reason:gt,force:!0}),ht.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(ht.streamReader.cancel(new _util.AbortException(gt.message)).catch(()=>{}),ht.streamReader=null,!this._transport.destroyed){for(const[_t,yt]of this._intentStates)if(yt===ht){this._intentStates.delete(_t);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(ht,gt){const vt={data:structuredClone(ht,gt)};this._deferred.then(()=>{for(const _t of this._listeners)_t.call(this,vt)})}addEventListener(ht,gt){this._listeners.push(gt)}removeEventListener(ht,gt){const vt=this._listeners.indexOf(gt);this._listeners.splice(vt,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const mt=(_e=document==null?void 0:document.currentScript)==null?void 0:_e.src;mt&&(PDFWorkerUtil.fallbackWorkerSrc=mt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(mt,ht){let gt;try{if(gt=new URL(mt),!gt.origin||gt.origin==="null")return!1}catch{return!1}const vt=new URL(ht,gt);return gt.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(mt){const ht=`importScripts("${mt}");`;return URL.createObjectURL(new Blob([ht]))}}const _PDFWorker=class{constructor({name:mt=null,port:ht=null,verbosity:gt=(0,_util.getVerbosityLevel)()}={}){if(ht&&an(_PDFWorker,tt).has(ht))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=mt,this.destroyed=!1,this.verbosity=gt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,ht){an(_PDFWorker,tt).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(mt){this._port=mt,this._messageHandler=new _message_handler.MessageHandler("main","worker",mt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let mt=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,mt)||(mt=PDFWorkerUtil.createCDNWrapper(new URL(mt,window.location).href));const ht=new Worker(mt),gt=new _message_handler.MessageHandler("main","worker",ht),vt=()=>{ht.removeEventListener("error",_t),gt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},_t=()=>{this._webWorker||vt()};ht.addEventListener("error",_t),gt.on("test",xt=>{if(ht.removeEventListener("error",_t),this.destroyed){vt();return}xt?(this._messageHandler=gt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),gt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),gt.destroy(),ht.terminate())}),gt.on("ready",xt=>{if(ht.removeEventListener("error",_t),this.destroyed){vt();return}try{yt()}catch{this._setupFakeWorker()}});const yt=()=>{const xt=new Uint8Array;gt.send("test",xt,[xt.buffer])};yt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(mt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const gt=`fake${PDFWorkerUtil.fakeWorkerId++}`,vt=new _message_handler.MessageHandler(gt+"_worker",gt,ht);mt.setup(vt,ht);const _t=new _message_handler.MessageHandler(gt,gt+"_worker",ht);this._messageHandler=_t,this._readyCapability.resolve(),_t.send("configure",{verbosity:this.verbosity})}).catch(mt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${mt.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),an(_PDFWorker,tt).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(mt){if(!(mt!=null&&mt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return an(this,tt).has(mt.port)?an(this,tt).get(mt.port):new _PDFWorker(mt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var mt;try{return((mt=globalThis.pdfjsWorker)==null?void 0:mt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;tt=new WeakMap,Zn(PDFWorker,tt,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(ht,gt,vt,_t){Zn(this,nt,null);Zn(this,rt,new Map);Zn(this,it,new Map);Zn(this,st,null);this.messageHandler=ht,this.loadingTask=gt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:gt.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:_t.ownerDocument,styleElement:_t.styleElement}),this._params=_t,_t.useWorkerFetch||(this.CMapReaderFactory=new _t.CMapReaderFactory({baseUrl:_t.cMapUrl,isCompressed:_t.cMapPacked}),this.StandardFontDataFactory=new _t.StandardFontDataFactory({baseUrl:_t.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return an(this,nt)}getRenderingIntent(ht,gt=_util.AnnotationMode.ENABLE,vt=null,_t=!1){let yt=_util.RenderingIntentFlag.DISPLAY,xt=null;switch(ht){case"any":yt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":yt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ht}`)}switch(gt){case _util.AnnotationMode.DISABLE:yt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:yt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:yt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,xt=(yt&_util.RenderingIntentFlag.PRINT&&vt instanceof _annotation_storage.PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${gt}`)}return _t&&(yt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:yt,cacheKey:`${yt}_${_annotation_storage.AnnotationStorage.getHash(xt)}`,annotationStorageMap:xt}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const ht=[];for(const vt of an(this,rt).values())ht.push(vt._destroy());an(this,rt).clear(),an(this,it).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const gt=this.messageHandler.sendWithPromise("Terminate",null);return ht.push(gt),Promise.all(ht).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),dr(this,st,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ht,loadingTask:gt}=this;ht.on("GetReader",(vt,_t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=yt=>{this._lastProgress={loaded:yt.loaded,total:yt.total}},_t.onPull=()=>{this._fullReader.read().then(function({value:yt,done:xt}){if(xt){_t.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(yt),"GetReader - expected an ArrayBuffer."),_t.enqueue(new Uint8Array(yt),1,[yt])}).catch(yt=>{_t.error(yt)})},_t.onCancel=yt=>{this._fullReader.cancel(yt),_t.ready.catch(xt=>{if(!this.destroyed)throw xt})}}),ht.on("ReaderHeadersReady",vt=>{const _t=(0,_util.createPromiseCapability)(),yt=this._fullReader;return yt.headersReady.then(()=>{var xt;(!yt.isStreamingSupported||!yt.isRangeSupported)&&(this._lastProgress&&((xt=gt.onProgress)==null||xt.call(gt,this._lastProgress)),yt.onProgress=At=>{var Ct;(Ct=gt.onProgress)==null||Ct.call(gt,{loaded:At.loaded,total:At.total})}),_t.resolve({isStreamingSupported:yt.isStreamingSupported,isRangeSupported:yt.isRangeSupported,contentLength:yt.contentLength})},_t.reject),_t.promise}),ht.on("GetRangeReader",(vt,_t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const yt=this._networkStream.getRangeReader(vt.begin,vt.end);if(!yt){_t.close();return}_t.onPull=()=>{yt.read().then(function({value:xt,done:At}){if(At){_t.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(xt),"GetRangeReader - expected an ArrayBuffer."),_t.enqueue(new Uint8Array(xt),1,[xt])}).catch(xt=>{_t.error(xt)})},_t.onCancel=xt=>{yt.cancel(xt),_t.ready.catch(At=>{if(!this.destroyed)throw At})}}),ht.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,gt._capability.resolve(new PDFDocumentProxy(vt,this))}),ht.on("DocException",function(vt){let _t;switch(vt.name){case"PasswordException":_t=new _util.PasswordException(vt.message,vt.code);break;case"InvalidPDFException":_t=new _util.InvalidPDFException(vt.message);break;case"MissingPDFException":_t=new _util.MissingPDFException(vt.message);break;case"UnexpectedResponseException":_t=new _util.UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":_t=new _util.UnknownErrorException(vt.message,vt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}gt._capability.reject(_t)}),ht.on("PasswordRequest",vt=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),gt.onPassword){const _t=yt=>{yt instanceof Error?this._passwordCapability.reject(yt):this._passwordCapability.resolve({password:yt})};try{gt.onPassword(_t,vt.code)}catch(yt){this._passwordCapability.reject(yt)}}else this._passwordCapability.reject(new _util.PasswordException(vt.message,vt.code));return this._passwordCapability.promise}),ht.on("DataLoaded",vt=>{var _t;(_t=gt.onProgress)==null||_t.call(gt,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),ht.on("StartRenderPage",vt=>{if(this.destroyed)return;an(this,rt).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),ht.on("commonobj",([vt,_t,yt])=>{var xt;if(!this.destroyed&&!this.commonObjs.has(vt))switch(_t){case"Font":const At=this._params;if("error"in yt){const bt=yt.error;(0,_util.warn)(`Error during font loading: ${bt}`),this.commonObjs.resolve(vt,bt);break}let Ct=null;At.pdfBug&&((xt=globalThis.FontInspector)!=null&&xt.enabled)&&(Ct={registerFont(bt,Mt){globalThis.FontInspector.fontAdded(bt,Mt)}});const Pt=new _font_loader.FontFaceObject(yt,{isEvalSupported:At.isEvalSupported,disableFontFace:At.disableFontFace,ignoreErrors:At.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Ct});this.fontLoader.bind(Pt).catch(bt=>ht.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!At.fontExtraProperties&&Pt.data&&(Pt.data=null),this.commonObjs.resolve(vt,Pt)});break;case"FontPath":case"Image":this.commonObjs.resolve(vt,yt);break;default:throw new Error(`Got unknown common object type ${_t}`)}}),ht.on("obj",([vt,_t,yt,xt])=>{var Ct;if(this.destroyed)return;const At=an(this,rt).get(_t);if(!At.objs.has(vt))switch(yt){case"Image":At.objs.resolve(vt,xt);const Pt=8e6;if(xt){let bt;if(xt.bitmap){const{bitmap:Mt,width:Tt,height:Ft}=xt;bt=Tt*Ft*4,At._bitmaps.add(Mt)}else bt=((Ct=xt.data)==null?void 0:Ct.length)||0;bt>Pt&&(At.cleanupAfterRender=!0)}break;case"Pattern":At.objs.resolve(vt,xt);break;default:throw new Error(`Got unknown object type ${yt}`)}}),ht.on("DocProgress",vt=>{var _t;this.destroyed||(_t=gt.onProgress)==null||_t.call(gt,{loaded:vt.loaded,total:vt.total})}),ht.on("DocStats",vt=>{this.destroyed||dr(this,nt,Object.freeze({streamTypes:Object.freeze(vt.streamTypes),fontTypes:Object.freeze(vt.fontTypes)}))}),ht.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),ht.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ht.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:ht}){var gt,vt;this.destroyed||(vt=(gt=this.loadingTask).onUnsupportedFeature)==null||vt.call(gt,ht)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(ht){if(!Number.isInteger(ht)||ht<=0||ht>this._numPages)return Promise.reject(new Error("Invalid page request."));const gt=ht-1,vt=an(this,it).get(gt);if(vt)return vt;const _t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:gt}).then(yt=>{if(this.destroyed)throw new Error("Transport destroyed");const xt=new PDFPageProxy(gt,yt,this,this._params.ownerDocument,this._params.pdfBug);return an(this,rt).set(gt,xt),xt});return an(this,it).set(gt,_t),_t}getPageIndex(ht){return typeof ht!="object"||ht===null||!Number.isInteger(ht.num)||ht.num<0||!Number.isInteger(ht.gen)||ht.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ht.num,gen:ht.gen})}getAnnotations(ht,gt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ht,intent:gt})}saveDocument(){var ht;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((ht=this._fullReader)==null?void 0:ht.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ht){return typeof ht!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ht})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(ht){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ht})}getStructTree(ht){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ht})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ht=>new _optional_content_config.OptionalContentConfig(ht))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return an(this,st)||dr(this,st,this.messageHandler.sendWithPromise("GetMetadata",null).then(ht=>{var gt,vt;return{info:ht[0],metadata:ht[1]?new _metadata.Metadata(ht[1]):null,contentDispositionFilename:((gt=this._fullReader)==null?void 0:gt.filename)??null,contentLength:((vt=this._fullReader)==null?void 0:vt.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ht=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const gt of an(this,rt).values())if(!gt.cleanup())throw new Error(`startCleanup: Page ${gt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ht||this.fontLoader.clear(),dr(this,st,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const ht=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ht.disableAutoFetch,enableXfa:ht.enableXfa})}}nt=new WeakMap,rt=new WeakMap,it=new WeakMap,st=new WeakMap;class PDFObjects{constructor(){Zn(this,at);Zn(this,ot,Object.create(null))}get(ht,gt=null){if(gt){const _t=nr(this,at,qp).call(this,ht);return _t.capability.promise.then(()=>gt(_t.data)),null}const vt=an(this,ot)[ht];if(!(vt!=null&&vt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ht}.`);return vt.data}has(ht){const gt=an(this,ot)[ht];return(gt==null?void 0:gt.capability.settled)||!1}resolve(ht,gt=null){const vt=nr(this,at,qp).call(this,ht);vt.data=gt,vt.capability.resolve()}clear(){dr(this,ot,Object.create(null))}}ot=new WeakMap,at=new WeakSet,qp=function(ht){const gt=an(this,ot)[ht];return gt||(an(this,ot)[ht]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(ht){Zn(this,dt,null);dr(this,dt,ht),this.onContinue=null}get promise(){return an(this,dt).capability.promise}cancel(){an(this,dt).cancel()}get separateAnnots(){const{separateAnnots:ht}=an(this,dt).operatorList;if(!ht)return!1;const{annotationCanvasMap:gt}=an(this,dt);return ht.form||ht.canvas&&(gt==null?void 0:gt.size)>0}}dt=new WeakMap,exports.RenderTask=RenderTask;const pt=class{constructor({callback:ht,params:gt,objs:vt,commonObjs:_t,annotationCanvasMap:yt,operatorList:xt,pageIndex:At,canvasFactory:Ct,useRequestAnimationFrame:Pt=!1,pdfBug:bt=!1,pageColors:Mt=null}){this.callback=ht,this.params=gt,this.objs=vt,this.commonObjs=_t,this.annotationCanvasMap=yt,this.operatorListIdx=null,this.operatorList=xt,this._pageIndex=At,this.canvasFactory=Ct,this._pdfBug=bt,this.pageColors=Mt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Pt===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=gt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ht=!1,optionalContentConfig:gt}){var Ct;if(this.cancelled)return;if(this._canvas){if(an(pt,ct).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");an(pt,ct).add(this._canvas)}this._pdfBug&&((Ct=globalThis.StepperManager)!=null&&Ct.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:_t,transform:yt,imageLayer:xt,background:At}=this.params;this.gfx=new _canvas.CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,xt,gt,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:yt,viewport:_t,transparency:ht,background:At}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(ht=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&an(pt,ct).delete(this._canvas),this.callback(ht||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&an(pt,ct).delete(this._canvas),this.callback())))}};let InternalRenderTask=pt;ct=new WeakMap,Zn(InternalRenderTask,ct,new WeakSet);const version="2.15.349";exports.version=version;const build="b8aa9c622";exports.build=build},(et,$,_e)=>{var ot,y0,lt;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var tt=_e(1),nt=_e(8),rt=_e(10);class it{constructor(){Zn(this,ot);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ct,pt){const mt=this._storage.get(ct);return mt===void 0?pt:Object.assign(pt,mt)}getRawValue(ct){return this._storage.get(ct)}removeKey(ct){this._storage.delete(ct),this._storage.size===0&&this.resetModified()}setValue(ct,pt){const mt=this._storage.get(ct);let ht=!1;if(mt!==void 0)for(const[gt,vt]of Object.entries(pt))mt[gt]!==vt&&(ht=!0,mt[gt]=vt);else ht=!0,this._storage.set(ct,pt);ht&&nr(this,ot,y0).call(this)}has(ct){return this._storage.has(ct)}getAll(){return this._storage.size>0?(0,tt.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new st(this)}get serializable(){if(this._storage.size===0)return null;const ct=new Map;for(const[pt,mt]of this._storage){const ht=mt instanceof nt.AnnotationEditor?mt.serialize():mt;ht&&ct.set(pt,ht)}return ct}static getHash(ct){if(!ct)return"";const pt=new rt.MurmurHash3_64;for(const[mt,ht]of ct)pt.update(`${mt}:${JSON.stringify(ht)}`);return pt.hexdigest()}}ot=new WeakSet,y0=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=it;class st extends it{constructor(pt){super();Zn(this,lt,null);dr(this,lt,structuredClone(pt.serializable))}get print(){(0,tt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return an(this,lt)}}lt=new WeakMap,$.PrintAnnotationStorage=st},(et,$,_e)=>{var it,st,ot,at,lt,dt;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var tt=_e(9),nt=_e(1);const ct=class{constructor(mt){Zn(this,it,this.focusin.bind(this));Zn(this,st,this.focusout.bind(this));Zn(this,ot,!1);Zn(this,at,!1);Zn(this,lt,!1);Zn(this,dt,ct._zIndex++);this.constructor===ct&&(0,nt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=mt.parent,this.id=mt.id,this.width=this.height=null,this.pageIndex=mt.parent.pageIndex,this.name=mt.name,this.div=null;const[ht,gt]=this.parent.viewportBaseDimensions;this.x=mt.x/ht,this.y=mt.y/gt,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,nt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=an(this,dt)}focusin(mt){an(this,ot)?dr(this,ot,!1):this.parent.setSelected(this)}focusout(mt){if(!this.isAttachedToDOM)return;const ht=mt.relatedTarget;ht!=null&&ht.closest(`#${this.id}`)||(mt.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(mt){const ht=this.parent.div.getBoundingClientRect();this.startX=mt.clientX-ht.x,this.startY=mt.clientY-ht.y,mt.dataTransfer.setData("text/plain",this.id),mt.dataTransfer.effectAllowed="move"}setAt(mt,ht,gt,vt){const[_t,yt]=this.parent.viewportBaseDimensions;[gt,vt]=this.screenToPageTranslation(gt,vt),this.x=(mt+gt)/_t,this.y=(ht+vt)/yt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(mt,ht){const[gt,vt]=this.parent.viewportBaseDimensions;[mt,ht]=this.screenToPageTranslation(mt,ht),this.x+=mt/gt,this.y+=ht/vt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(mt,ht){const{rotation:gt}=this.parent.viewport;switch(gt){case 90:return[ht,-mt];case 180:return[-mt,-ht];case 270:return[-ht,mt];default:return[mt,ht]}}setDims(mt,ht){const[gt,vt]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*mt/gt}%`,this.div.style.height=`${100*ht/vt}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",an(this,it)),this.div.addEventListener("focusout",an(this,st));const[mt,ht]=this.getInitialTranslation();return this.translate(mt,ht),(0,tt.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(mt){const ht=tt.KeyboardManager.platform.isMac;if(mt.button!==0||mt.ctrlKey&&ht){mt.preventDefault();return}mt.ctrlKey&&!ht||mt.shiftKey||mt.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this),dr(this,ot,!0)}getRect(mt,ht){const[gt,vt]=this.parent.viewportBaseDimensions,[_t,yt]=this.parent.pageDimensions,xt=_t*mt/gt,At=yt*ht/vt,Ct=this.x*_t,Pt=this.y*yt,bt=this.width*_t,Mt=this.height*yt;switch(this.rotation){case 0:return[Ct+xt,yt-Pt-At-Mt,Ct+xt+bt,yt-Pt-At];case 90:return[Ct+At,yt-Pt+xt,Ct+At+Mt,yt-Pt+xt+bt];case 180:return[Ct-xt-bt,yt-Pt+At,Ct-xt,yt-Pt+At+Mt];case 270:return[Ct-At-Mt,yt-Pt-xt-bt,Ct-At,yt-Pt-xt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(mt,ht){const[gt,vt,_t,yt]=mt,xt=_t-gt,At=yt-vt;switch(this.rotation){case 0:return[gt,ht-yt,xt,At];case 90:return[gt,ht-vt,At,xt];case 180:return[_t,ht-vt,xt,At];case 270:return[_t,ht-yt,At,xt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){dr(this,lt,!0)}disableEditMode(){dr(this,lt,!1)}isInEditMode(){return an(this,lt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var mt;(mt=this.div)==null||mt.addEventListener("focusin",an(this,it))}serialize(){(0,nt.unreachable)("An editor must be serializable")}static deserialize(mt,ht){const gt=new this.prototype.constructor({parent:ht,id:ht.getNextId()});gt.rotation=mt.rotation;const[vt,_t]=ht.pageDimensions,[yt,xt,At,Ct]=gt.getRectInCurrentCoords(mt.rect,_t);return gt.x=yt/vt,gt.y=xt/_t,gt.width=At/vt,gt.height=Ct/_t,gt}remove(){this.div.removeEventListener("focusin",an(this,it)),this.div.removeEventListener("focusout",an(this,st)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var mt;(mt=this.div)==null||mt.classList.add("selectedEditor")}unselect(){var mt;(mt=this.div)==null||mt.classList.remove("selectedEditor")}updateParams(mt,ht){}disableEditing(){}enableEditing(){}getIdForTextLayer(){return this.id}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return an(this,at)}set isEditing(mt){dr(this,at,mt),mt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let rt=ct;it=new WeakMap,st=new WeakMap,ot=new WeakMap,at=new WeakMap,lt=new WeakMap,dt=new WeakMap,ro(rt,"_colorManager",new tt.ColorManager),ro(rt,"_zIndex",1),$.AnnotationEditor=rt},(et,$,_e)=>{var pt,mt,ht,gt,vt,_t,_0,At,Pt,bt,Mt,Tt,Ft,Gt,Wt,It,Kt,Ut,Qt,Dt,qt,Jt,on,tn,yn,Yt,kt,x0,Ht,Yp,Lt,Po,$t,Cu,Zt,S0,hn,b0,xn,Qp,fn,wu,Xn,ip;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=rt,$.opacityToHex=it;var tt=_e(1),nt=_e(4);function rt(Mn,cn,_n){for(const Un of _n)cn.addEventListener(Un,Mn[Un].bind(Mn))}function it(Mn){return Math.round(Math.min(255,Math.max(1,255*Mn))).toString(16).padStart(2,"0")}class st{constructor(){Zn(this,pt,0)}getId(){return`${tt.AnnotationEditorPrefix}${Jp(this,pt)._++}`}}pt=new WeakMap;class ot{constructor(cn=128){Zn(this,mt,[]);Zn(this,ht,!1);Zn(this,gt,void 0);Zn(this,vt,-1);dr(this,gt,cn)}add({cmd:cn,undo:_n,mustExec:Un,type:or=NaN,overwriteIfSameType:Kn=!1,keepUndo:Vn=!1}){if(Un&&cn(),an(this,ht))return;const ur={cmd:cn,undo:_n,type:or};if(an(this,vt)===-1){an(this,mt).length>0&&(an(this,mt).length=0),dr(this,vt,0),an(this,mt).push(ur);return}if(Kn&&an(this,mt)[an(this,vt)].type===or){Vn&&(ur.undo=an(this,mt)[an(this,vt)].undo),an(this,mt)[an(this,vt)]=ur;return}const Sn=an(this,vt)+1;Sn===an(this,gt)?an(this,mt).splice(0,1):(dr(this,vt,Sn),Sn<an(this,mt).length&&an(this,mt).splice(Sn)),an(this,mt).push(ur)}undo(){an(this,vt)!==-1&&(dr(this,ht,!0),an(this,mt)[an(this,vt)].undo(),dr(this,ht,!1),dr(this,vt,an(this,vt)-1))}redo(){an(this,vt)<an(this,mt).length-1&&(dr(this,vt,an(this,vt)+1),dr(this,ht,!0),an(this,mt)[an(this,vt)].cmd(),dr(this,ht,!1))}hasSomethingToUndo(){return an(this,vt)!==-1}hasSomethingToRedo(){return an(this,vt)<an(this,mt).length-1}destroy(){dr(this,mt,null)}}mt=new WeakMap,ht=new WeakMap,gt=new WeakMap,vt=new WeakMap,$.CommandManager=ot;const xt=class{constructor(cn){Zn(this,_t);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const _n=xt.platform.isMac;for(const[Un,or]of cn)for(const Kn of Un){const Vn=Kn.startsWith("mac+");_n&&Vn?(this.callbacks.set(Kn.slice(4),or),this.allKeys.add(Kn.split("+").at(-1))):!_n&&!Vn&&(this.callbacks.set(Kn,or),this.allKeys.add(Kn.split("+").at(-1)))}}static get platform(){const cn=typeof navigator<"u"?navigator.platform:"";return(0,tt.shadow)(this,"platform",{isWin:cn.includes("Win"),isMac:cn.includes("Mac")})}exec(cn,_n){if(!this.allKeys.has(_n.key))return;const Un=this.callbacks.get(nr(this,_t,_0).call(this,_n));Un&&(Un.bind(cn)(),_n.stopPropagation(),_n.preventDefault())}};let at=xt;_t=new WeakSet,_0=function(cn){cn.altKey&&this.buffer.push("alt"),cn.ctrlKey&&this.buffer.push("ctrl"),cn.metaKey&&this.buffer.push("meta"),cn.shiftKey&&this.buffer.push("shift"),this.buffer.push(cn.key);const _n=this.buffer.join("+");return this.buffer.length=0,_n},$.KeyboardManager=at;class lt{constructor(){Zn(this,At,null)}copy(cn){cn&&(Array.isArray(cn)?dr(this,At,cn.map(_n=>_n.serialize())):dr(this,At,[cn.serialize()]),dr(this,At,an(this,At).filter(_n=>!!_n)),an(this,At).length===0&&dr(this,At,null))}paste(){return an(this,At)}isEmpty(){return an(this,At)===null}destroy(){dr(this,At,null)}}At=new WeakMap;const Ct=class{get _colors(){const cn=new Map([["CanvasText",null],["Canvas",null]]);return(0,nt.getColorValues)(cn),(0,tt.shadow)(this,"_colors",cn)}convert(cn){const _n=(0,nt.getRGB)(cn);if(!window.matchMedia("(forced-colors: active)").matches)return _n;for(const[Un,or]of this._colors)if(or.every((Kn,Vn)=>Kn===_n[Vn]))return Ct._colorsMapping.get(Un);return _n}getHexCode(cn){const _n=this._colors.get(cn);return _n?tt.Util.makeHexColor(..._n):cn}};let dt=Ct;ro(dt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),$.ColorManager=dt;const jt=class{constructor(cn,_n){Zn(this,kt);Zn(this,Ht);Zn(this,Lt);Zn(this,$t);Zn(this,Zt);Zn(this,hn);Zn(this,xn);Zn(this,fn);Zn(this,Xn);Zn(this,Pt,null);Zn(this,bt,new Map);Zn(this,Mt,new Map);Zn(this,Tt,new lt);Zn(this,Ft,new ot);Zn(this,Gt,0);Zn(this,Wt,null);Zn(this,It,null);Zn(this,Kt,new st);Zn(this,Ut,!1);Zn(this,Qt,tt.AnnotationEditorType.NONE);Zn(this,Dt,new Set);Zn(this,qt,this.keydown.bind(this));Zn(this,Jt,this.onEditingAction.bind(this));Zn(this,on,this.onPageChanging.bind(this));Zn(this,tn,this.onTextLayerRendered.bind(this));Zn(this,yn,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Zn(this,Yt,null);dr(this,Yt,cn),dr(this,It,_n),an(this,It)._on("editingaction",an(this,Jt)),an(this,It)._on("pagechanging",an(this,on)),an(this,It)._on("textlayerrendered",an(this,tn))}destroy(){nr(this,Ht,Yp).call(this),an(this,It)._off("editingaction",an(this,Jt)),an(this,It)._off("pagechanging",an(this,on)),an(this,It)._off("textlayerrendered",an(this,tn));for(const cn of an(this,Mt).values())cn.destroy();an(this,Mt).clear(),an(this,bt).clear(),dr(this,Pt,null),an(this,Dt).clear(),an(this,Tt).destroy(),an(this,Ft).destroy()}onPageChanging({pageNumber:cn}){dr(this,Gt,cn-1)}onTextLayerRendered({pageNumber:cn}){const _n=cn-1,Un=an(this,Mt).get(_n);Un==null||Un.onTextLayerRendered()}focusMainContainer(){an(this,Yt).focus()}keydown(cn){var _n;(_n=this.getActive())!=null&&_n.shouldGetKeyboardEvents()||jt._keyboardManager.exec(this,cn)}onEditingAction(cn){["undo","redo","cut","copy","paste","delete","selectAll"].includes(cn.name)&&this[cn.name]()}setEditingState(cn){cn?(nr(this,kt,x0).call(this),nr(this,Lt,Po).call(this,{isEditing:an(this,Qt)!==tt.AnnotationEditorType.NONE,isEmpty:nr(this,fn,wu).call(this),hasSomethingToUndo:an(this,Ft).hasSomethingToUndo(),hasSomethingToRedo:an(this,Ft).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:an(this,Tt).isEmpty()})):(nr(this,Ht,Yp).call(this),nr(this,Lt,Po).call(this,{isEditing:!1}))}registerEditorTypes(cn){dr(this,Wt,cn);for(const _n of an(this,Wt))nr(this,$t,Cu).call(this,_n.defaultPropertiesToUpdate)}getId(){return an(this,Kt).getId()}addLayer(cn){an(this,Mt).set(cn.pageIndex,cn),an(this,Ut)?cn.enable():cn.disable()}removeLayer(cn){an(this,Mt).delete(cn.pageIndex)}updateMode(cn){if(dr(this,Qt,cn),cn===tt.AnnotationEditorType.NONE)this.setEditingState(!1),nr(this,hn,b0).call(this);else{this.setEditingState(!0),nr(this,Zt,S0).call(this);for(const _n of an(this,Mt).values())_n.updateMode(cn)}}updateToolbar(cn){cn!==an(this,Qt)&&an(this,It).dispatch("switchannotationeditormode",{source:this,mode:cn})}updateParams(cn,_n){for(const Un of an(this,Dt))Un.updateParams(cn,_n);for(const Un of an(this,Wt))Un.updateDefaultParams(cn,_n)}getEditors(cn){const _n=[];for(const Un of an(this,bt).values())Un.pageIndex===cn&&_n.push(Un);return _n}getEditor(cn){return an(this,bt).get(cn)}addEditor(cn){an(this,bt).set(cn.id,cn)}removeEditor(cn){an(this,bt).delete(cn.id),this.unselect(cn)}setActiveEditor(cn){an(this,Pt)!==cn&&(dr(this,Pt,cn),cn&&nr(this,$t,Cu).call(this,cn.propertiesToUpdate))}toggleSelected(cn){if(an(this,Dt).has(cn)){an(this,Dt).delete(cn),cn.unselect(),nr(this,Lt,Po).call(this,{hasSelectedEditor:this.hasSelection});return}an(this,Dt).add(cn),cn.select(),nr(this,$t,Cu).call(this,cn.propertiesToUpdate),nr(this,Lt,Po).call(this,{hasSelectedEditor:!0})}setSelected(cn){for(const _n of an(this,Dt))_n!==cn&&_n.unselect();an(this,Dt).clear(),an(this,Dt).add(cn),cn.select(),nr(this,$t,Cu).call(this,cn.propertiesToUpdate),nr(this,Lt,Po).call(this,{hasSelectedEditor:!0})}isSelected(cn){return an(this,Dt).has(cn)}unselect(cn){cn.unselect(),an(this,Dt).delete(cn),nr(this,Lt,Po).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return an(this,Dt).size!==0}undo(){an(this,Ft).undo(),nr(this,Lt,Po).call(this,{hasSomethingToUndo:an(this,Ft).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:nr(this,fn,wu).call(this)})}redo(){an(this,Ft).redo(),nr(this,Lt,Po).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:an(this,Ft).hasSomethingToRedo(),isEmpty:nr(this,fn,wu).call(this)})}addCommands(cn){an(this,Ft).add(cn),nr(this,Lt,Po).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:nr(this,fn,wu).call(this)})}delete(){if(an(this,Pt)&&an(this,Pt).commitOrRemove(),!this.hasSelection)return;const cn=[...an(this,Dt)],_n=()=>{for(const or of cn)or.remove()},Un=()=>{for(const or of cn)nr(this,xn,Qp).call(this,or)};this.addCommands({cmd:_n,undo:Un,mustExec:!0})}copy(){if(an(this,Pt)&&an(this,Pt).commitOrRemove(),this.hasSelection){const cn=[];for(const _n of an(this,Dt))_n.isEmpty()||cn.push(_n);if(cn.length===0)return;an(this,Tt).copy(cn),nr(this,Lt,Po).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(an(this,Tt).isEmpty())return;this.unselectAll();const cn=an(this,Mt).get(an(this,Gt)),_n=an(this,Tt).paste().map(Kn=>cn.deserialize(Kn)),Un=()=>{for(const Kn of _n)nr(this,xn,Qp).call(this,Kn);nr(this,Xn,ip).call(this,_n)},or=()=>{for(const Kn of _n)Kn.remove()};this.addCommands({cmd:Un,undo:or,mustExec:!0})}selectAll(){for(const cn of an(this,Dt))cn.commit();nr(this,Xn,ip).call(this,an(this,bt).values())}unselectAll(){if(an(this,Pt)){an(this,Pt).commitOrRemove();return}if(nr(this,Xn,ip).size!==0){for(const cn of an(this,Dt))cn.unselect();an(this,Dt).clear(),nr(this,Lt,Po).call(this,{hasSelectedEditor:!1})}}isActive(cn){return an(this,Pt)===cn}getActive(){return an(this,Pt)}getMode(){return an(this,Qt)}};let ct=jt;Pt=new WeakMap,bt=new WeakMap,Mt=new WeakMap,Tt=new WeakMap,Ft=new WeakMap,Gt=new WeakMap,Wt=new WeakMap,It=new WeakMap,Kt=new WeakMap,Ut=new WeakMap,Qt=new WeakMap,Dt=new WeakMap,qt=new WeakMap,Jt=new WeakMap,on=new WeakMap,tn=new WeakMap,yn=new WeakMap,Yt=new WeakMap,kt=new WeakSet,x0=function(){an(this,Yt).addEventListener("keydown",an(this,qt))},Ht=new WeakSet,Yp=function(){an(this,Yt).removeEventListener("keydown",an(this,qt))},Lt=new WeakSet,Po=function(cn){Object.entries(cn).some(([Un,or])=>an(this,yn)[Un]!==or)&&an(this,It).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(an(this,yn),cn)})},$t=new WeakSet,Cu=function(cn){an(this,It).dispatch("annotationeditorparamschanged",{source:this,details:cn})},Zt=new WeakSet,S0=function(){if(!an(this,Ut)){dr(this,Ut,!0);for(const cn of an(this,Mt).values())cn.enable()}},hn=new WeakSet,b0=function(){if(this.unselectAll(),an(this,Ut)){dr(this,Ut,!1);for(const cn of an(this,Mt).values())cn.disable()}},xn=new WeakSet,Qp=function(cn){const _n=an(this,Mt).get(cn.pageIndex);_n?_n.addOrRebuild(cn):this.addEditor(cn)},fn=new WeakSet,wu=function(){if(an(this,bt).size===0)return!0;if(an(this,bt).size===1)for(const cn of an(this,bt).values())return cn.isEmpty();return!1},Xn=new WeakSet,ip=function(cn){an(this,Dt).clear();for(const _n of cn)_n.isEmpty()||(an(this,Dt).add(_n),_n.select());nr(this,Lt,Po).call(this,{hasSelectedEditor:!0})},ro(ct,"_keyboardManager",new at([[["ctrl+a","mac+meta+a"],jt.prototype.selectAll],[["ctrl+c","mac+meta+c"],jt.prototype.copy],[["ctrl+v","mac+meta+v"],jt.prototype.paste],[["ctrl+x","mac+meta+x"],jt.prototype.cut],[["ctrl+z","mac+meta+z"],jt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],jt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],jt.prototype.delete],[["Escape","mac+Escape"],jt.prototype.unselectAll]])),$.AnnotationEditorUIManager=ct},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var tt=_e(1);const nt=3285377520,rt=4294901760,it=65535;class st{constructor(at){this.h1=at?at&4294967295:nt,this.h2=at?at&4294967295:nt}update(at){let lt,dt;if(typeof at=="string"){lt=new Uint8Array(at.length*2),dt=0;for(let Pt=0,bt=at.length;Pt<bt;Pt++){const Mt=at.charCodeAt(Pt);Mt<=255?lt[dt++]=Mt:(lt[dt++]=Mt>>>8,lt[dt++]=Mt&255)}}else if((0,tt.isArrayBuffer)(at))lt=at.slice(),dt=lt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ct=dt>>2,pt=dt-ct*4,mt=new Uint32Array(lt.buffer,0,ct);let ht=0,gt=0,vt=this.h1,_t=this.h2;const yt=3432918353,xt=461845907,At=yt&it,Ct=xt&it;for(let Pt=0;Pt<ct;Pt++)Pt&1?(ht=mt[Pt],ht=ht*yt&rt|ht*At&it,ht=ht<<15|ht>>>17,ht=ht*xt&rt|ht*Ct&it,vt^=ht,vt=vt<<13|vt>>>19,vt=vt*5+3864292196):(gt=mt[Pt],gt=gt*yt&rt|gt*At&it,gt=gt<<15|gt>>>17,gt=gt*xt&rt|gt*Ct&it,_t^=gt,_t=_t<<13|_t>>>19,_t=_t*5+3864292196);switch(ht=0,pt){case 3:ht^=lt[ct*4+2]<<16;case 2:ht^=lt[ct*4+1]<<8;case 1:ht^=lt[ct*4],ht=ht*yt&rt|ht*At&it,ht=ht<<15|ht>>>17,ht=ht*xt&rt|ht*Ct&it,ct&1?vt^=ht:_t^=ht}this.h1=vt,this.h2=_t}hexdigest(){let at=this.h1,lt=this.h2;at^=lt>>>1,at=at*3981806797&rt|at*36045&it,lt=lt*4283543511&rt|((lt<<16|at>>>16)*2950163797&rt)>>>16,at^=lt>>>1,at=at*444984403&rt|at*60499&it,lt=lt*3301882366&rt|((lt<<16|at>>>16)*3120437893&rt)>>>16,at^=lt>>>1;const dt=(at>>>0).toString(16),ct=(lt>>>0).toString(16);return dt.padStart(8,"0")+ct.padStart(8,"0")}}$.MurmurHash3_64=st},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var tt=_e(1);class nt{constructor({docId:ot,onUnsupportedFeature:at,ownerDocument:lt=globalThis.document,styleElement:dt=null}){this.constructor===nt&&(0,tt.unreachable)("Cannot initialize BaseFontLoader."),this.docId=ot,this._onUnsupportedFeature=at,this._document=lt,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(ot){this.nativeFontFaces.push(ot),this._document.fonts.add(ot)}insertRule(ot){let at=this.styleElement;at||(at=this.styleElement=this._document.createElement("style"),at.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(at));const lt=at.sheet;lt.insertRule(ot,lt.cssRules.length)}clear(){for(const ot of this.nativeFontFaces)this._document.fonts.delete(ot);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(ot){if(ot.attached||ot.missingFile)return;if(ot.attached=!0,this.isFontLoadingAPISupported){const lt=ot.createNativeFontFace();if(lt){this.addNativeFontFace(lt);try{await lt.loaded}catch(dt){throw this._onUnsupportedFeature({featureId:tt.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,tt.warn)(`Failed to load font '${lt.family}': '${dt}'.`),ot.disableFontFace=!0,dt}}return}const at=ot.createFontFaceRule();if(at){if(this.insertRule(at),this.isSyncFontLoadingSupported)return;await new Promise(lt=>{const dt=this._queueLoadingCallback(lt);this._prepareFontLoadEvent([at],[ot],dt)})}}_queueLoadingCallback(ot){(0,tt.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var at;const ot=!!((at=this._document)!=null&&at.fonts);return(0,tt.shadow)(this,"isFontLoadingAPISupported",ot)}get isSyncFontLoadingSupported(){(0,tt.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,tt.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(ot,at,lt){(0,tt.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let rt;$.FontLoader=rt,$.FontLoader=rt=class extends nt{constructor(ot){super(ot),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let ot=!1;if(typeof navigator>"u")ot=!0;else{const at=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(at==null?void 0:at[1])>=14&&(ot=!0)}return(0,tt.shadow)(this,"isSyncFontLoadingSupported",ot)}_queueLoadingCallback(ot){function at(){for((0,tt.assert)(!dt.done,"completeRequest() cannot be called twice."),dt.done=!0;lt.requests.length>0&&lt.requests[0].done;){const ct=lt.requests.shift();setTimeout(ct.callback,0)}}const lt=this.loadingContext,dt={id:`pdfjs-font-loading-${lt.nextRequestId++}`,done:!1,complete:at,callback:ot};return lt.requests.push(dt),dt}get _loadTestFont(){const ot=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,tt.shadow)(this,"_loadTestFont",ot())}_prepareFontLoadEvent(ot,at,lt){function dt(Wt,It){return Wt.charCodeAt(It)<<24|Wt.charCodeAt(It+1)<<16|Wt.charCodeAt(It+2)<<8|Wt.charCodeAt(It+3)&255}function ct(Wt,It,Kt,Ut){const Qt=Wt.substring(0,It),Dt=Wt.substring(It+Kt);return Qt+Ut+Dt}let pt,mt;const ht=this._document.createElement("canvas");ht.width=1,ht.height=1;const gt=ht.getContext("2d");let vt=0;function _t(Wt,It){if(vt++,vt>30){(0,tt.warn)("Load test font never loaded."),It();return}if(gt.font="30px "+Wt,gt.fillText(".",0,20),gt.getImageData(0,0,1,1).data[3]>0){It();return}setTimeout(_t.bind(null,Wt,It))}const yt=`lt${Date.now()}${this.loadTestFontId++}`;let xt=this._loadTestFont;xt=ct(xt,976,yt.length,yt);const Ct=16,Pt=1482184792;let bt=dt(xt,Ct);for(pt=0,mt=yt.length-3;pt<mt;pt+=4)bt=bt-Pt+dt(yt,pt)|0;pt<yt.length&&(bt=bt-Pt+dt(yt+"XXX",pt)|0),xt=ct(xt,Ct,4,(0,tt.string32)(bt));const Mt=`url(data:font/opentype;base64,${btoa(xt)});`,Tt=`@font-face {font-family:"${yt}";src:${Mt}}`;this.insertRule(Tt);const Ft=[];for(const Wt of at)Ft.push(Wt.loadedName);Ft.push(yt);const Gt=this._document.createElement("div");Gt.style.visibility="hidden",Gt.style.width=Gt.style.height="10px",Gt.style.position="absolute",Gt.style.top=Gt.style.left="0px";for(const Wt of Ft){const It=this._document.createElement("span");It.textContent="Hi",It.style.fontFamily=Wt,Gt.append(It)}this._document.body.append(Gt),_t(yt,()=>{Gt.remove(),lt.complete()})}};class it{constructor(ot,{isEvalSupported:at=!0,disableFontFace:lt=!1,ignoreErrors:dt=!1,onUnsupportedFeature:ct,fontRegistry:pt=null}){this.compiledGlyphs=Object.create(null);for(const mt in ot)this[mt]=ot[mt];this.isEvalSupported=at!==!1,this.disableFontFace=lt===!0,this.ignoreErrors=dt===!0,this._onUnsupportedFeature=ct,this.fontRegistry=pt}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let ot;if(!this.cssFontInfo)ot=new FontFace(this.loadedName,this.data,{});else{const at={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(at.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ot=new FontFace(this.cssFontInfo.fontFamily,this.data,at)}return this.fontRegistry&&this.fontRegistry.registerFont(this),ot}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const ot=(0,tt.bytesToString)(this.data),at=`url(data:${this.mimetype};base64,${btoa(ot)});`;let lt;if(!this.cssFontInfo)lt=`@font-face {font-family:"${this.loadedName}";src:${at}}`;else{let dt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(dt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),lt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${dt}src:${at}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,at),lt}getPathGenerator(ot,at){if(this.compiledGlyphs[at]!==void 0)return this.compiledGlyphs[at];let lt;try{lt=ot.get(this.loadedName+"_path_"+at)}catch(dt){if(!this.ignoreErrors)throw dt;return this._onUnsupportedFeature({featureId:tt.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,tt.warn)(`getPathGenerator - ignoring character: "${dt}".`),this.compiledGlyphs[at]=function(ct,pt){}}if(this.isEvalSupported&&tt.FeatureTest.isEvalSupported){const dt=[];for(const ct of lt){const pt=ct.args!==void 0?ct.args.join(","):"";dt.push("c.",ct.cmd,"(",pt,`);
`)}return this.compiledGlyphs[at]=new Function("c","size",dt.join(""))}return this.compiledGlyphs[at]=function(dt,ct){for(const pt of lt)pt.cmd==="scale"&&(pt.args=[ct,-ct]),dt[pt.cmd].apply(dt,pt.args)}}}$.FontFaceObject=it},(et,$,_e)=>{var on,Zp;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var tt=_e(1),nt=_e(4),rt=_e(13),it=_e(14),st=_e(3);const ot=16,at=100,lt=4096,dt=15,ct=10,pt=1e3,mt=16,ht=1.000001;function gt(Yt,kt){if(Yt._removeMirroring)throw new Error("Context is already forwarding operations.");Yt.__originalSave=Yt.save,Yt.__originalRestore=Yt.restore,Yt.__originalRotate=Yt.rotate,Yt.__originalScale=Yt.scale,Yt.__originalTranslate=Yt.translate,Yt.__originalTransform=Yt.transform,Yt.__originalSetTransform=Yt.setTransform,Yt.__originalResetTransform=Yt.resetTransform,Yt.__originalClip=Yt.clip,Yt.__originalMoveTo=Yt.moveTo,Yt.__originalLineTo=Yt.lineTo,Yt.__originalBezierCurveTo=Yt.bezierCurveTo,Yt.__originalRect=Yt.rect,Yt.__originalClosePath=Yt.closePath,Yt.__originalBeginPath=Yt.beginPath,Yt._removeMirroring=()=>{Yt.save=Yt.__originalSave,Yt.restore=Yt.__originalRestore,Yt.rotate=Yt.__originalRotate,Yt.scale=Yt.__originalScale,Yt.translate=Yt.__originalTranslate,Yt.transform=Yt.__originalTransform,Yt.setTransform=Yt.__originalSetTransform,Yt.resetTransform=Yt.__originalResetTransform,Yt.clip=Yt.__originalClip,Yt.moveTo=Yt.__originalMoveTo,Yt.lineTo=Yt.__originalLineTo,Yt.bezierCurveTo=Yt.__originalBezierCurveTo,Yt.rect=Yt.__originalRect,Yt.closePath=Yt.__originalClosePath,Yt.beginPath=Yt.__originalBeginPath,delete Yt._removeMirroring},Yt.save=function(){kt.save(),this.__originalSave()},Yt.restore=function(){kt.restore(),this.__originalRestore()},Yt.translate=function(Ht,wt){kt.translate(Ht,wt),this.__originalTranslate(Ht,wt)},Yt.scale=function(Ht,wt){kt.scale(Ht,wt),this.__originalScale(Ht,wt)},Yt.transform=function(Ht,wt,Lt,Ot,$t,Vt){kt.transform(Ht,wt,Lt,Ot,$t,Vt),this.__originalTransform(Ht,wt,Lt,Ot,$t,Vt)},Yt.setTransform=function(Ht,wt,Lt,Ot,$t,Vt){kt.setTransform(Ht,wt,Lt,Ot,$t,Vt),this.__originalSetTransform(Ht,wt,Lt,Ot,$t,Vt)},Yt.resetTransform=function(){kt.resetTransform(),this.__originalResetTransform()},Yt.rotate=function(Ht){kt.rotate(Ht),this.__originalRotate(Ht)},Yt.clip=function(Ht){kt.clip(Ht),this.__originalClip(Ht)},Yt.moveTo=function(Bt,Ht){kt.moveTo(Bt,Ht),this.__originalMoveTo(Bt,Ht)},Yt.lineTo=function(Bt,Ht){kt.lineTo(Bt,Ht),this.__originalLineTo(Bt,Ht)},Yt.bezierCurveTo=function(Bt,Ht,wt,Lt,Ot,$t){kt.bezierCurveTo(Bt,Ht,wt,Lt,Ot,$t),this.__originalBezierCurveTo(Bt,Ht,wt,Lt,Ot,$t)},Yt.rect=function(Bt,Ht,wt,Lt){kt.rect(Bt,Ht,wt,Lt),this.__originalRect(Bt,Ht,wt,Lt)},Yt.closePath=function(){kt.closePath(),this.__originalClosePath()},Yt.beginPath=function(){kt.beginPath(),this.__originalBeginPath()}}function vt(Yt){if(Yt._transformStack&&(Yt._transformStack=[]),!Yt.mozCurrentTransform){Yt._originalSave=Yt.save,Yt._originalRestore=Yt.restore,Yt._originalRotate=Yt.rotate,Yt._originalScale=Yt.scale,Yt._originalTranslate=Yt.translate,Yt._originalTransform=Yt.transform,Yt._originalSetTransform=Yt.setTransform,Yt._originalResetTransform=Yt.resetTransform,Yt._transformMatrix=Yt._transformMatrix||[1,0,0,1,0,0],Yt._transformStack=[];try{const kt=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Yt),"lineWidth");Yt._setLineWidth=kt.set,Yt._getLineWidth=kt.get,Object.defineProperty(Yt,"lineWidth",{set:function(Ht){this._setLineWidth(Ht*ht)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(Yt,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(Yt,"mozCurrentTransformInverse",{get:function(){const[Bt,Ht,wt,Lt,Ot,$t]=this._transformMatrix,Vt=Bt*Lt-Ht*wt,Zt=Ht*wt-Bt*Lt;return[Lt/Vt,Ht/Zt,wt/Zt,Bt/Vt,(Lt*Ot-wt*$t)/Zt,(Ht*Ot-Bt*$t)/Vt]}}),Yt.save=function(){const Bt=this._transformMatrix;this._transformStack.push(Bt),this._transformMatrix=Bt.slice(0,6),this._originalSave()},Yt.restore=function(){this._transformStack.length===0&&(0,tt.warn)("Tried to restore a ctx when the stack was already empty.");const Bt=this._transformStack.pop();Bt&&(this._transformMatrix=Bt,this._originalRestore())},Yt.translate=function(Bt,Ht){const wt=this._transformMatrix;wt[4]=wt[0]*Bt+wt[2]*Ht+wt[4],wt[5]=wt[1]*Bt+wt[3]*Ht+wt[5],this._originalTranslate(Bt,Ht)},Yt.scale=function(Bt,Ht){const wt=this._transformMatrix;wt[0]*=Bt,wt[1]*=Bt,wt[2]*=Ht,wt[3]*=Ht,this._originalScale(Bt,Ht)},Yt.transform=function(Bt,Ht,wt,Lt,Ot,$t){const Vt=this._transformMatrix;this._transformMatrix=[Vt[0]*Bt+Vt[2]*Ht,Vt[1]*Bt+Vt[3]*Ht,Vt[0]*wt+Vt[2]*Lt,Vt[1]*wt+Vt[3]*Lt,Vt[0]*Ot+Vt[2]*$t+Vt[4],Vt[1]*Ot+Vt[3]*$t+Vt[5]],Yt._originalTransform(Bt,Ht,wt,Lt,Ot,$t)},Yt.setTransform=function(Bt,Ht,wt,Lt,Ot,$t){this._transformMatrix=[Bt,Ht,wt,Lt,Ot,$t],Yt._originalSetTransform(Bt,Ht,wt,Lt,Ot,$t)},Yt.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],Yt._originalResetTransform()},Yt.rotate=function(Bt){const Ht=Math.cos(Bt),wt=Math.sin(Bt),Lt=this._transformMatrix;this._transformMatrix=[Lt[0]*Ht+Lt[2]*wt,Lt[1]*Ht+Lt[3]*wt,Lt[0]*-wt+Lt[2]*Ht,Lt[1]*-wt+Lt[3]*Ht,Lt[4],Lt[5]],this._originalRotate(Bt)}}}class _t{constructor(kt){this.canvasFactory=kt,this.cache=Object.create(null)}getCanvas(kt,Bt,Ht,wt){let Lt;return this.cache[kt]!==void 0?(Lt=this.cache[kt],this.canvasFactory.reset(Lt,Bt,Ht),Lt.context.setTransform(1,0,0,1,0,0)):(Lt=this.canvasFactory.create(Bt,Ht),this.cache[kt]=Lt),wt&&vt(Lt.context),Lt}delete(kt){delete this.cache[kt]}clear(){for(const kt in this.cache){const Bt=this.cache[kt];this.canvasFactory.destroy(Bt),delete this.cache[kt]}}}function yt(Yt,kt,Bt,Ht,wt,Lt,Ot,$t,Vt,Zt){const[sn,hn,ln,xn,un,fn]=Yt.mozCurrentTransform;if(hn===0&&ln===0){const nn=Ot*sn+un,jt=Math.round(nn),Mn=$t*xn+fn,cn=Math.round(Mn),_n=(Ot+Vt)*sn+un,Un=Math.abs(Math.round(_n)-jt)||1,or=($t+Zt)*xn+fn,Kn=Math.abs(Math.round(or)-cn)||1;return Yt.setTransform(Math.sign(sn),0,0,Math.sign(xn),jt,cn),Yt.drawImage(kt,Bt,Ht,wt,Lt,0,0,Un,Kn),Yt.setTransform(sn,hn,ln,xn,un,fn),[Un,Kn]}if(sn===0&&xn===0){const nn=$t*ln+un,jt=Math.round(nn),Mn=Ot*hn+fn,cn=Math.round(Mn),_n=($t+Zt)*ln+un,Un=Math.abs(Math.round(_n)-jt)||1,or=(Ot+Vt)*hn+fn,Kn=Math.abs(Math.round(or)-cn)||1;return Yt.setTransform(0,Math.sign(hn),Math.sign(ln),0,jt,cn),Yt.drawImage(kt,Bt,Ht,wt,Lt,0,0,Kn,Un),Yt.setTransform(sn,hn,ln,xn,un,fn),[Kn,Un]}Yt.drawImage(kt,Bt,Ht,wt,Lt,Ot,$t,Vt,Zt);const Gn=Math.hypot(sn,hn),Xn=Math.hypot(ln,xn);return[Gn*Vt,Xn*Zt]}function xt(Yt){const{width:kt,height:Bt}=Yt;if(kt>pt||Bt>pt)return null;const Ht=1e3,wt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Lt=kt+1;let Ot=new Uint8Array(Lt*(Bt+1)),$t,Vt,Zt;const sn=kt+7&-8;let hn=new Uint8Array(sn*Bt),ln=0;for(const jt of Yt.data){let Mn=128;for(;Mn>0;)hn[ln++]=jt&Mn?0:255,Mn>>=1}let xn=0;for(ln=0,hn[ln]!==0&&(Ot[0]=1,++xn),Vt=1;Vt<kt;Vt++)hn[ln]!==hn[ln+1]&&(Ot[Vt]=hn[ln]?2:1,++xn),ln++;for(hn[ln]!==0&&(Ot[Vt]=2,++xn),$t=1;$t<Bt;$t++){ln=$t*sn,Zt=$t*Lt,hn[ln-sn]!==hn[ln]&&(Ot[Zt]=hn[ln]?1:8,++xn);let jt=(hn[ln]?4:0)+(hn[ln-sn]?8:0);for(Vt=1;Vt<kt;Vt++)jt=(jt>>2)+(hn[ln+1]?4:0)+(hn[ln-sn+1]?8:0),wt[jt]&&(Ot[Zt+Vt]=wt[jt],++xn),ln++;if(hn[ln-sn]!==hn[ln]&&(Ot[Zt+Vt]=hn[ln]?2:4,++xn),xn>Ht)return null}for(ln=sn*(Bt-1),Zt=$t*Lt,hn[ln]!==0&&(Ot[Zt]=8,++xn),Vt=1;Vt<kt;Vt++)hn[ln]!==hn[ln+1]&&(Ot[Zt+Vt]=hn[ln]?4:8,++xn),ln++;if(hn[ln]!==0&&(Ot[Zt+Vt]=4,++xn),xn>Ht)return null;const un=new Int32Array([0,Lt,-1,0,-Lt,0,0,0,1]);let fn,Gn,Xn;for(st.isNodeJS?Gn=[]:fn=new Path2D,$t=0;xn&&$t<=Bt;$t++){let jt=$t*Lt;const Mn=jt+kt;for(;jt<Mn&&!Ot[jt];)jt++;if(jt===Mn)continue;fn?fn.moveTo(jt%Lt,$t):Xn=[jt%Lt,$t];const cn=jt;let _n=Ot[jt];do{const Un=un[_n];do jt+=Un;while(!Ot[jt]);const or=Ot[jt];or!==5&&or!==10?(_n=or,Ot[jt]=0):(_n=or&51*_n>>4,Ot[jt]&=_n>>2|_n<<2),fn?fn.lineTo(jt%Lt,jt/Lt|0):Xn.push(jt%Lt,jt/Lt|0),Ot[jt]||--xn}while(cn!==jt);fn||Gn.push(Xn),--$t}return hn=null,Ot=null,function(jt){if(jt.save(),jt.scale(1/kt,-1/Bt),jt.translate(0,-Bt),fn)jt.fill(fn);else{jt.beginPath();for(const Mn of Gn){jt.moveTo(Mn[0],Mn[1]);for(let cn=2,_n=Mn.length;cn<_n;cn+=2)jt.lineTo(Mn[cn],Mn[cn+1])}jt.fill()}jt.beginPath(),jt.restore()}}class At{constructor(kt,Bt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,kt,Bt])}clone(){const kt=Object.create(this);return kt.clipBox=this.clipBox.slice(),kt}setCurrentPoint(kt,Bt){this.x=kt,this.y=Bt}updatePathMinMax(kt,Bt,Ht){[Bt,Ht]=tt.Util.applyTransform([Bt,Ht],kt),this.minX=Math.min(this.minX,Bt),this.minY=Math.min(this.minY,Ht),this.maxX=Math.max(this.maxX,Bt),this.maxY=Math.max(this.maxY,Ht)}updateRectMinMax(kt,Bt){const Ht=tt.Util.applyTransform(Bt,kt),wt=tt.Util.applyTransform(Bt.slice(2),kt);this.minX=Math.min(this.minX,Ht[0],wt[0]),this.minY=Math.min(this.minY,Ht[1],wt[1]),this.maxX=Math.max(this.maxX,Ht[0],wt[0]),this.maxY=Math.max(this.maxY,Ht[1],wt[1])}updateScalingPathMinMax(kt,Bt){tt.Util.scaleMinMax(kt,Bt),this.minX=Math.min(this.minX,Bt[0]),this.maxX=Math.max(this.maxX,Bt[1]),this.minY=Math.min(this.minY,Bt[2]),this.maxY=Math.max(this.maxY,Bt[3])}updateCurvePathMinMax(kt,Bt,Ht,wt,Lt,Ot,$t,Vt,Zt,sn){const hn=tt.Util.bezierBoundingBox(Bt,Ht,wt,Lt,Ot,$t,Vt,Zt);if(sn){sn[0]=Math.min(sn[0],hn[0],hn[2]),sn[1]=Math.max(sn[1],hn[0],hn[2]),sn[2]=Math.min(sn[2],hn[1],hn[3]),sn[3]=Math.max(sn[3],hn[1],hn[3]);return}this.updateRectMinMax(kt,hn)}getPathBoundingBox(kt=rt.PathType.FILL,Bt=null){const Ht=[this.minX,this.minY,this.maxX,this.maxY];if(kt===rt.PathType.STROKE){Bt||(0,tt.unreachable)("Stroke bounding box must include transform.");const wt=tt.Util.singularValueDecompose2dScale(Bt),Lt=wt[0]*this.lineWidth/2,Ot=wt[1]*this.lineWidth/2;Ht[0]-=Lt,Ht[1]-=Ot,Ht[2]+=Lt,Ht[3]+=Ot}return Ht}updateClipFromPath(){const kt=tt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(kt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(kt){this.clipBox=kt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(kt=rt.PathType.FILL,Bt=null){return tt.Util.intersect(this.clipBox,this.getPathBoundingBox(kt,Bt))}}function Ct(Yt,kt,Bt=null){if(typeof ImageData<"u"&&kt instanceof ImageData){Yt.putImageData(kt,0,0);return}const Ht=kt.height,wt=kt.width,Lt=Ht%mt,Ot=(Ht-Lt)/mt,$t=Lt===0?Ot:Ot+1,Vt=Yt.createImageData(wt,mt);let Zt=0,sn;const hn=kt.data,ln=Vt.data;let xn,un,fn,Gn,Xn,nn,jt,Mn;if(Bt)switch(Bt.length){case 1:Xn=Bt[0],nn=Bt[0],jt=Bt[0],Mn=Bt[0];break;case 4:Xn=Bt[0],nn=Bt[1],jt=Bt[2],Mn=Bt[3];break}if(kt.kind===tt.ImageKind.GRAYSCALE_1BPP){const cn=hn.byteLength,_n=new Uint32Array(ln.buffer,0,ln.byteLength>>2),Un=_n.length,or=wt+7>>3;let Kn=4294967295,Vn=tt.FeatureTest.isLittleEndian?4278190080:255;for(Mn&&Mn[0]===255&&Mn[255]===0&&([Kn,Vn]=[Vn,Kn]),xn=0;xn<$t;xn++){for(fn=xn<Ot?mt:Lt,sn=0,un=0;un<fn;un++){const ur=cn-Zt;let Sn=0;const Bn=ur>or?wt:ur*8-7,ir=Bn&-8;let er=0,En=0;for(;Sn<ir;Sn+=8)En=hn[Zt++],_n[sn++]=En&128?Kn:Vn,_n[sn++]=En&64?Kn:Vn,_n[sn++]=En&32?Kn:Vn,_n[sn++]=En&16?Kn:Vn,_n[sn++]=En&8?Kn:Vn,_n[sn++]=En&4?Kn:Vn,_n[sn++]=En&2?Kn:Vn,_n[sn++]=En&1?Kn:Vn;for(;Sn<Bn;Sn++)er===0&&(En=hn[Zt++],er=128),_n[sn++]=En&er?Kn:Vn,er>>=1}for(;sn<Un;)_n[sn++]=0;Yt.putImageData(Vt,0,xn*mt)}}else if(kt.kind===tt.ImageKind.RGBA_32BPP){const cn=!!(Xn||nn||jt);for(un=0,Gn=wt*mt*4,xn=0;xn<Ot;xn++){if(ln.set(hn.subarray(Zt,Zt+Gn)),Zt+=Gn,cn)for(let _n=0;_n<Gn;_n+=4)Xn&&(ln[_n+0]=Xn[ln[_n+0]]),nn&&(ln[_n+1]=nn[ln[_n+1]]),jt&&(ln[_n+2]=jt[ln[_n+2]]);Yt.putImageData(Vt,0,un),un+=mt}if(xn<$t){if(Gn=wt*Lt*4,ln.set(hn.subarray(Zt,Zt+Gn)),cn)for(let _n=0;_n<Gn;_n+=4)Xn&&(ln[_n+0]=Xn[ln[_n+0]]),nn&&(ln[_n+1]=nn[ln[_n+1]]),jt&&(ln[_n+2]=jt[ln[_n+2]]);Yt.putImageData(Vt,0,un)}}else if(kt.kind===tt.ImageKind.RGB_24BPP){const cn=!!(Xn||nn||jt);for(fn=mt,Gn=wt*fn,xn=0;xn<$t;xn++){for(xn>=Ot&&(fn=Lt,Gn=wt*fn),sn=0,un=Gn;un--;)ln[sn++]=hn[Zt++],ln[sn++]=hn[Zt++],ln[sn++]=hn[Zt++],ln[sn++]=255;if(cn)for(let _n=0;_n<sn;_n+=4)Xn&&(ln[_n+0]=Xn[ln[_n+0]]),nn&&(ln[_n+1]=nn[ln[_n+1]]),jt&&(ln[_n+2]=jt[ln[_n+2]]);Yt.putImageData(Vt,0,xn*mt)}}else throw new Error(`bad image kind: ${kt.kind}`)}function Pt(Yt,kt){if(kt.bitmap){Yt.drawImage(kt.bitmap,0,0);return}const Bt=kt.height,Ht=kt.width,wt=Bt%mt,Lt=(Bt-wt)/mt,Ot=wt===0?Lt:Lt+1,$t=Yt.createImageData(Ht,mt);let Vt=0;const Zt=kt.data,sn=$t.data;for(let hn=0;hn<Ot;hn++){const ln=hn<Lt?mt:wt;({srcPos:Vt}=(0,it.applyMaskImageData)({src:Zt,srcPos:Vt,dest:sn,width:Ht,height:ln})),Yt.putImageData($t,0,hn*mt)}}function bt(Yt,kt){const Bt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Ht=0,wt=Bt.length;Ht<wt;Ht++){const Lt=Bt[Ht];Yt[Lt]!==void 0&&(kt[Lt]=Yt[Lt])}Yt.setLineDash!==void 0&&(kt.setLineDash(Yt.getLineDash()),kt.lineDashOffset=Yt.lineDashOffset)}function Mt(Yt,kt){Yt.strokeStyle=Yt.fillStyle=kt||"#000000",Yt.fillRule="nonzero",Yt.globalAlpha=1,Yt.lineWidth=1,Yt.lineCap="butt",Yt.lineJoin="miter",Yt.miterLimit=10,Yt.globalCompositeOperation="source-over",Yt.font="10px sans-serif",Yt.setLineDash!==void 0&&(Yt.setLineDash([]),Yt.lineDashOffset=0)}function Tt(Yt,kt,Bt,Ht){const wt=Yt.length;for(let Lt=3;Lt<wt;Lt+=4){const Ot=Yt[Lt];if(Ot===0)Yt[Lt-3]=kt,Yt[Lt-2]=Bt,Yt[Lt-1]=Ht;else if(Ot<255){const $t=255-Ot;Yt[Lt-3]=Yt[Lt-3]*Ot+kt*$t>>8,Yt[Lt-2]=Yt[Lt-2]*Ot+Bt*$t>>8,Yt[Lt-1]=Yt[Lt-1]*Ot+Ht*$t>>8}}}function Ft(Yt,kt,Bt){const Ht=Yt.length,wt=1/255;for(let Lt=3;Lt<Ht;Lt+=4){const Ot=Bt?Bt[Yt[Lt]]:Yt[Lt];kt[Lt]=kt[Lt]*Ot*wt|0}}function Gt(Yt,kt,Bt){const Ht=Yt.length;for(let wt=3;wt<Ht;wt+=4){const Lt=Yt[wt-3]*77+Yt[wt-2]*152+Yt[wt-1]*28;kt[wt]=Bt?kt[wt]*Bt[Lt>>8]>>8:kt[wt]*Lt>>16}}function Wt(Yt,kt,Bt,Ht,wt,Lt,Ot,$t,Vt,Zt,sn){const hn=!!Lt,ln=hn?Lt[0]:0,xn=hn?Lt[1]:0,un=hn?Lt[2]:0;let fn;wt==="Luminosity"?fn=Gt:fn=Ft;const Xn=Math.min(Ht,Math.ceil(1048576/Bt));for(let nn=0;nn<Ht;nn+=Xn){const jt=Math.min(Xn,Ht-nn),Mn=Yt.getImageData($t-Zt,nn+(Vt-sn),Bt,jt),cn=kt.getImageData($t,nn+Vt,Bt,jt);hn&&Tt(Mn.data,ln,xn,un),fn(Mn.data,cn.data,Ot),kt.putImageData(cn,$t,nn+Vt)}}function It(Yt,kt,Bt,Ht){const wt=Ht[0],Lt=Ht[1],Ot=Ht[2]-wt,$t=Ht[3]-Lt;Ot===0||$t===0||(Wt(kt.context,Bt,Ot,$t,kt.subtype,kt.backdrop,kt.transferMap,wt,Lt,kt.offsetX,kt.offsetY),Yt.save(),Yt.globalAlpha=1,Yt.globalCompositeOperation="source-over",Yt.setTransform(1,0,0,1,0,0),Yt.drawImage(Bt.canvas,0,0),Yt.restore())}function Kt(Yt,kt){const Bt=tt.Util.singularValueDecompose2dScale(Yt);Bt[0]=Math.fround(Bt[0]),Bt[1]=Math.fround(Bt[1]);const Ht=Math.fround((globalThis.devicePixelRatio||1)*nt.PixelsPerInch.PDF_TO_CSS_UNITS);return kt!==void 0?kt:Bt[0]<=Ht||Bt[1]<=Ht}const Ut=["butt","round","square"],Qt=["miter","round","bevel"],Dt={},qt={},yn=class{constructor(kt,Bt,Ht,wt,Lt,Ot,$t,Vt){Zn(this,on);this.ctx=kt,this.current=new At(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Bt,this.objs=Ht,this.canvasFactory=wt,this.imageLayer=Lt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Ot,this.cachedCanvases=new _t(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=$t,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Vt==null?void 0:Vt.background)||null,this.foregroundColor=(Vt==null?void 0:Vt.foreground)||null,kt&&vt(kt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(kt,Bt=null){return typeof kt=="string"?kt.startsWith("g_")?this.commonObjs.get(kt):this.objs.get(kt):Bt}beginDrawing({transform:kt,viewport:Bt,transparency:Ht=!1,background:wt=null}){const Lt=this.ctx.canvas.width,Ot=this.ctx.canvas.height,$t=wt||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Vt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Zt=this.backgroundColor=this.ctx.fillStyle;let sn=!0,hn=$t;if(this.ctx.fillStyle=$t,hn=this.ctx.fillStyle,sn=typeof hn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(hn),Vt==="#000000"&&Zt==="#ffffff"||Vt===Zt||!sn)this.foregroundColor=this.backgroundColor=null;else{const[ln,xn,un]=(0,nt.getRGB)(hn),fn=Xn=>(Xn/=255,Xn<=.03928?Xn/12.92:((Xn+.055)/1.055)**2.4),Gn=Math.round(.2126*fn(ln)+.7152*fn(xn)+.0722*fn(un));this.selectColor=(Xn,nn,jt)=>{const Mn=.2126*fn(Xn)+.7152*fn(nn)+.0722*fn(jt);return Math.round(Mn)===Gn?Zt:Vt}}}if(this.ctx.fillStyle=this.backgroundColor||$t,this.ctx.fillRect(0,0,Lt,Ot),this.ctx.restore(),Ht){const Vt=this.cachedCanvases.getCanvas("transparent",Lt,Ot,!0);this.compositeCtx=this.ctx,this.transparentCanvas=Vt.canvas,this.ctx=Vt.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),Mt(this.ctx,this.foregroundColor),kt&&(this.ctx.transform.apply(this.ctx,kt),this.outputScaleX=kt[0],this.outputScaleY=kt[0]),this.ctx.transform.apply(this.ctx,Bt.transform),this.viewportScale=Bt.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(kt,Bt,Ht,wt){const Lt=kt.argsArray,Ot=kt.fnArray;let $t=Bt||0;const Vt=Lt.length;if(Vt===$t)return $t;const Zt=Vt-$t>ct&&typeof Ht=="function",sn=Zt?Date.now()+dt:0;let hn=0;const ln=this.commonObjs,xn=this.objs;let un;for(;;){if(wt!==void 0&&$t===wt.nextBreakPoint)return wt.breakIt($t,Ht),$t;if(un=Ot[$t],un!==tt.OPS.dependency)this[un].apply(this,Lt[$t]);else for(const fn of Lt[$t]){const Gn=fn.startsWith("g_")?ln:xn;if(!Gn.has(fn))return Gn.get(fn,Ht),$t}if($t++,$t===Vt)return $t;if(Zt&&++hn>ct){if(Date.now()>sn)return Ht(),$t;hn=0}}}endDrawing(){nr(this,on,Zp).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const kt of this._cachedBitmapsMap.values()){for(const Bt of kt.values())typeof HTMLCanvasElement<"u"&&Bt instanceof HTMLCanvasElement&&(Bt.width=Bt.height=0);kt.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(kt,Bt){const Ht=kt.width,wt=kt.height;let Lt=Math.max(Math.hypot(Bt[0],Bt[1]),1),Ot=Math.max(Math.hypot(Bt[2],Bt[3]),1),$t=Ht,Vt=wt,Zt="prescale1",sn,hn;for(;Lt>2&&$t>1||Ot>2&&Vt>1;){let ln=$t,xn=Vt;Lt>2&&$t>1&&(ln=Math.ceil($t/2),Lt/=$t/ln),Ot>2&&Vt>1&&(xn=Math.ceil(Vt/2),Ot/=Vt/xn),sn=this.cachedCanvases.getCanvas(Zt,ln,xn,!1),hn=sn.context,hn.clearRect(0,0,ln,xn),hn.drawImage(kt,0,0,$t,Vt,0,0,ln,xn),kt=sn.canvas,$t=ln,Vt=xn,Zt=Zt==="prescale1"?"prescale2":"prescale1"}return{img:kt,paintWidth:$t,paintHeight:Vt}}_createMaskCanvas(kt){const Bt=this.ctx,{width:Ht,height:wt}=kt,Lt=this.current.fillColor,Ot=this.current.patternFill,$t=Bt.mozCurrentTransform;let Vt,Zt,sn,hn;if((kt.bitmap||kt.data)&&kt.count>1){const Un=kt.bitmap||kt.data.buffer,or=$t.slice(0,4);Zt=JSON.stringify(Ot?or:[or,Lt]),Vt=this._cachedBitmapsMap.get(Un),Vt||(Vt=new Map,this._cachedBitmapsMap.set(Un,Vt));const Kn=Vt.get(Zt);if(Kn&&!Ot){const Vn=Math.round(Math.min($t[0],$t[2])+$t[4]),ur=Math.round(Math.min($t[1],$t[3])+$t[5]);return{canvas:Kn,offsetX:Vn,offsetY:ur}}sn=Kn}sn||(hn=this.cachedCanvases.getCanvas("maskCanvas",Ht,wt,!1),Pt(hn.context,kt));let ln=tt.Util.transform($t,[1/Ht,0,0,-1/wt,0,0]);ln=tt.Util.transform(ln,[1,0,0,1,0,-wt]);const xn=tt.Util.applyTransform([0,0],ln),un=tt.Util.applyTransform([Ht,wt],ln),fn=tt.Util.normalizeRect([xn[0],xn[1],un[0],un[1]]),Gn=Math.round(fn[2]-fn[0])||1,Xn=Math.round(fn[3]-fn[1])||1,nn=this.cachedCanvases.getCanvas("fillCanvas",Gn,Xn,!0),jt=nn.context,Mn=Math.min(xn[0],un[0]),cn=Math.min(xn[1],un[1]);jt.translate(-Mn,-cn),jt.transform.apply(jt,ln),sn||(sn=this._scaleImage(hn.canvas,jt.mozCurrentTransformInverse),sn=sn.img,Vt&&Ot&&Vt.set(Zt,sn)),jt.imageSmoothingEnabled=Kt(jt.mozCurrentTransform,kt.interpolate),yt(jt,sn,0,0,sn.width,sn.height,0,0,Ht,wt),jt.globalCompositeOperation="source-in";const _n=tt.Util.transform(jt.mozCurrentTransformInverse,[1,0,0,1,-Mn,-cn]);return jt.fillStyle=Ot?Lt.getPattern(Bt,this,_n,rt.PathType.FILL):Lt,jt.fillRect(0,0,Ht,wt),Vt&&!Ot&&(this.cachedCanvases.delete("fillCanvas"),Vt.set(Zt,nn.canvas)),{canvas:nn.canvas,offsetX:Math.round(Mn),offsetY:Math.round(cn)}}setLineWidth(kt){kt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=kt,this.ctx.lineWidth=kt}setLineCap(kt){this.ctx.lineCap=Ut[kt]}setLineJoin(kt){this.ctx.lineJoin=Qt[kt]}setMiterLimit(kt){this.ctx.miterLimit=kt}setDash(kt,Bt){const Ht=this.ctx;Ht.setLineDash!==void 0&&(Ht.setLineDash(kt),Ht.lineDashOffset=Bt)}setRenderingIntent(kt){}setFlatness(kt){}setGState(kt){for(let Bt=0,Ht=kt.length;Bt<Ht;Bt++){const wt=kt[Bt],Lt=wt[0],Ot=wt[1];switch(Lt){case"LW":this.setLineWidth(Ot);break;case"LC":this.setLineCap(Ot);break;case"LJ":this.setLineJoin(Ot);break;case"ML":this.setMiterLimit(Ot);break;case"D":this.setDash(Ot[0],Ot[1]);break;case"RI":this.setRenderingIntent(Ot);break;case"FL":this.setFlatness(Ot);break;case"Font":this.setFont(Ot[0],Ot[1]);break;case"CA":this.current.strokeAlpha=wt[1];break;case"ca":this.current.fillAlpha=wt[1],this.ctx.globalAlpha=wt[1];break;case"BM":this.ctx.globalCompositeOperation=Ot;break;case"SMask":this.current.activeSMask=Ot?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Ot}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const kt=this.inSMaskMode;this.current.activeSMask&&!kt?this.beginSMaskMode():!this.current.activeSMask&&kt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const kt=this.ctx.canvas.width,Bt=this.ctx.canvas.height,Ht="smaskGroupAt"+this.groupLevel,wt=this.cachedCanvases.getCanvas(Ht,kt,Bt,!0);this.suspendedCtx=this.ctx,this.ctx=wt.context;const Lt=this.ctx;Lt.setTransform.apply(Lt,this.suspendedCtx.mozCurrentTransform),bt(this.suspendedCtx,Lt),gt(Lt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(kt){if(!this.current.activeSMask)return;kt?(kt[0]=Math.floor(kt[0]),kt[1]=Math.floor(kt[1]),kt[2]=Math.ceil(kt[2]),kt[3]=Math.ceil(kt[3])):kt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Bt=this.current.activeSMask,Ht=this.suspendedCtx;It(Ht,Bt,this.ctx,kt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(bt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const kt=this.current;this.stateStack.push(kt),this.current=kt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),bt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(kt,Bt,Ht,wt,Lt,Ot){this.ctx.transform(kt,Bt,Ht,wt,Lt,Ot),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(kt,Bt,Ht){const wt=this.ctx,Lt=this.current;let Ot=Lt.x,$t=Lt.y,Vt,Zt;const sn=wt.mozCurrentTransform,hn=sn[0]===0&&sn[3]===0||sn[1]===0&&sn[2]===0,ln=hn?Ht.slice(0):null;for(let xn=0,un=0,fn=kt.length;xn<fn;xn++)switch(kt[xn]|0){case tt.OPS.rectangle:Ot=Bt[un++],$t=Bt[un++];const Gn=Bt[un++],Xn=Bt[un++],nn=Ot+Gn,jt=$t+Xn;wt.moveTo(Ot,$t),Gn===0||Xn===0?wt.lineTo(nn,jt):(wt.lineTo(nn,$t),wt.lineTo(nn,jt),wt.lineTo(Ot,jt)),hn||Lt.updateRectMinMax(sn,[Ot,$t,nn,jt]),wt.closePath();break;case tt.OPS.moveTo:Ot=Bt[un++],$t=Bt[un++],wt.moveTo(Ot,$t),hn||Lt.updatePathMinMax(sn,Ot,$t);break;case tt.OPS.lineTo:Ot=Bt[un++],$t=Bt[un++],wt.lineTo(Ot,$t),hn||Lt.updatePathMinMax(sn,Ot,$t);break;case tt.OPS.curveTo:Vt=Ot,Zt=$t,Ot=Bt[un+4],$t=Bt[un+5],wt.bezierCurveTo(Bt[un],Bt[un+1],Bt[un+2],Bt[un+3],Ot,$t),Lt.updateCurvePathMinMax(sn,Vt,Zt,Bt[un],Bt[un+1],Bt[un+2],Bt[un+3],Ot,$t,ln),un+=6;break;case tt.OPS.curveTo2:Vt=Ot,Zt=$t,wt.bezierCurveTo(Ot,$t,Bt[un],Bt[un+1],Bt[un+2],Bt[un+3]),Lt.updateCurvePathMinMax(sn,Vt,Zt,Ot,$t,Bt[un],Bt[un+1],Bt[un+2],Bt[un+3],ln),Ot=Bt[un+2],$t=Bt[un+3],un+=4;break;case tt.OPS.curveTo3:Vt=Ot,Zt=$t,Ot=Bt[un+2],$t=Bt[un+3],wt.bezierCurveTo(Bt[un],Bt[un+1],Ot,$t,Ot,$t),Lt.updateCurvePathMinMax(sn,Vt,Zt,Bt[un],Bt[un+1],Ot,$t,Ot,$t,ln),un+=4;break;case tt.OPS.closePath:wt.closePath();break}hn&&Lt.updateScalingPathMinMax(sn,ln),Lt.setCurrentPoint(Ot,$t)}closePath(){this.ctx.closePath()}stroke(kt){kt=typeof kt<"u"?kt:!0;const Bt=this.ctx,Ht=this.current.strokeColor;Bt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Ht=="object"&&(Ht!=null&&Ht.getPattern)?(Bt.save(),Bt.strokeStyle=Ht.getPattern(Bt,this,Bt.mozCurrentTransformInverse,rt.PathType.STROKE),this.rescaleAndStroke(!1),Bt.restore()):this.rescaleAndStroke(!0)),kt&&this.consumePath(this.current.getClippedPathBoundingBox()),Bt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(kt){kt=typeof kt<"u"?kt:!0;const Bt=this.ctx,Ht=this.current.fillColor,wt=this.current.patternFill;let Lt=!1;wt&&(Bt.save(),Bt.fillStyle=Ht.getPattern(Bt,this,Bt.mozCurrentTransformInverse,rt.PathType.FILL),Lt=!0);const Ot=this.current.getClippedPathBoundingBox();this.contentVisible&&Ot!==null&&(this.pendingEOFill?(Bt.fill("evenodd"),this.pendingEOFill=!1):Bt.fill()),Lt&&Bt.restore(),kt&&this.consumePath(Ot)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Dt}eoClip(){this.pendingClip=qt}beginText(){this.current.textMatrix=tt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const kt=this.pendingTextPaths,Bt=this.ctx;if(kt===void 0){Bt.beginPath();return}Bt.save(),Bt.beginPath();for(const Ht of kt)Bt.setTransform.apply(Bt,Ht.transform),Bt.translate(Ht.x,Ht.y),Ht.addToPath(Bt,Ht.fontSize);Bt.restore(),Bt.clip(),Bt.beginPath(),delete this.pendingTextPaths}setCharSpacing(kt){this.current.charSpacing=kt}setWordSpacing(kt){this.current.wordSpacing=kt}setHScale(kt){this.current.textHScale=kt/100}setLeading(kt){this.current.leading=-kt}setFont(kt,Bt){const Ht=this.commonObjs.get(kt),wt=this.current;if(!Ht)throw new Error(`Can't find font for ${kt}`);if(wt.fontMatrix=Ht.fontMatrix||tt.FONT_IDENTITY_MATRIX,(wt.fontMatrix[0]===0||wt.fontMatrix[3]===0)&&(0,tt.warn)("Invalid font matrix for font "+kt),Bt<0?(Bt=-Bt,wt.fontDirection=-1):wt.fontDirection=1,this.current.font=Ht,this.current.fontSize=Bt,Ht.isType3Font)return;const Lt=Ht.loadedName||"sans-serif";let Ot="normal";Ht.black?Ot="900":Ht.bold&&(Ot="bold");const $t=Ht.italic?"italic":"normal",Vt=`"${Lt}", ${Ht.fallbackName}`;let Zt=Bt;Bt<ot?Zt=ot:Bt>at&&(Zt=at),this.current.fontSizeScale=Bt/Zt,this.ctx.font=`${$t} ${Ot} ${Zt}px ${Vt}`}setTextRenderingMode(kt){this.current.textRenderingMode=kt}setTextRise(kt){this.current.textRise=kt}moveText(kt,Bt){this.current.x=this.current.lineX+=kt,this.current.y=this.current.lineY+=Bt}setLeadingMoveText(kt,Bt){this.setLeading(-Bt),this.moveText(kt,Bt)}setTextMatrix(kt,Bt,Ht,wt,Lt,Ot){this.current.textMatrix=[kt,Bt,Ht,wt,Lt,Ot],this.current.textMatrixScale=Math.hypot(kt,Bt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(kt,Bt,Ht,wt){const Lt=this.ctx,Ot=this.current,$t=Ot.font,Vt=Ot.textRenderingMode,Zt=Ot.fontSize/Ot.fontSizeScale,sn=Vt&tt.TextRenderingMode.FILL_STROKE_MASK,hn=!!(Vt&tt.TextRenderingMode.ADD_TO_PATH_FLAG),ln=Ot.patternFill&&!$t.missingFile;let xn;($t.disableFontFace||hn||ln)&&(xn=$t.getPathGenerator(this.commonObjs,kt)),$t.disableFontFace||ln?(Lt.save(),Lt.translate(Bt,Ht),Lt.beginPath(),xn(Lt,Zt),wt&&Lt.setTransform.apply(Lt,wt),(sn===tt.TextRenderingMode.FILL||sn===tt.TextRenderingMode.FILL_STROKE)&&Lt.fill(),(sn===tt.TextRenderingMode.STROKE||sn===tt.TextRenderingMode.FILL_STROKE)&&Lt.stroke(),Lt.restore()):((sn===tt.TextRenderingMode.FILL||sn===tt.TextRenderingMode.FILL_STROKE)&&Lt.fillText(kt,Bt,Ht),(sn===tt.TextRenderingMode.STROKE||sn===tt.TextRenderingMode.FILL_STROKE)&&Lt.strokeText(kt,Bt,Ht)),hn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Lt.mozCurrentTransform,x:Bt,y:Ht,fontSize:Zt,addToPath:xn})}get isFontSubpixelAAEnabled(){const{context:kt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);kt.scale(1.5,1),kt.fillText("I",0,10);const Bt=kt.getImageData(0,0,10,10).data;let Ht=!1;for(let wt=3;wt<Bt.length;wt+=4)if(Bt[wt]>0&&Bt[wt]<255){Ht=!0;break}return(0,tt.shadow)(this,"isFontSubpixelAAEnabled",Ht)}showText(kt){const Bt=this.current,Ht=Bt.font;if(Ht.isType3Font)return this.showType3Text(kt);const wt=Bt.fontSize;if(wt===0)return;const Lt=this.ctx,Ot=Bt.fontSizeScale,$t=Bt.charSpacing,Vt=Bt.wordSpacing,Zt=Bt.fontDirection,sn=Bt.textHScale*Zt,hn=kt.length,ln=Ht.vertical,xn=ln?1:-1,un=Ht.defaultVMetrics,fn=wt*Bt.fontMatrix[0],Gn=Bt.textRenderingMode===tt.TextRenderingMode.FILL&&!Ht.disableFontFace&&!Bt.patternFill;Lt.save(),Lt.transform.apply(Lt,Bt.textMatrix),Lt.translate(Bt.x,Bt.y+Bt.textRise),Zt>0?Lt.scale(sn,-1):Lt.scale(sn,1);let Xn;if(Bt.patternFill){Lt.save();const _n=Bt.fillColor.getPattern(Lt,this,Lt.mozCurrentTransformInverse,rt.PathType.FILL);Xn=Lt.mozCurrentTransform,Lt.restore(),Lt.fillStyle=_n}let nn=Bt.lineWidth;const jt=Bt.textMatrixScale;if(jt===0||nn===0){const _n=Bt.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;(_n===tt.TextRenderingMode.STROKE||_n===tt.TextRenderingMode.FILL_STROKE)&&(nn=this.getSinglePixelWidth())}else nn/=jt;Ot!==1&&(Lt.scale(Ot,Ot),nn/=Ot),Lt.lineWidth=nn;let Mn=0,cn;for(cn=0;cn<hn;++cn){const _n=kt[cn];if(typeof _n=="number"){Mn+=xn*_n*wt/1e3;continue}let Un=!1;const or=(_n.isSpace?Vt:0)+$t,Kn=_n.fontChar,Vn=_n.accent;let ur,Sn,Bn=_n.width;if(ln){const er=_n.vmetric||un,En=-(_n.vmetric?er[1]:Bn*.5)*fn,On=er[2]*fn;Bn=er?-er[0]:Bn,ur=En/Ot,Sn=(Mn+On)/Ot}else ur=Mn/Ot,Sn=0;if(Ht.remeasure&&Bn>0){const er=Lt.measureText(Kn).width*1e3/wt*Ot;if(Bn<er&&this.isFontSubpixelAAEnabled){const En=Bn/er;Un=!0,Lt.save(),Lt.scale(En,1),ur/=En}else Bn!==er&&(ur+=(Bn-er)/2e3*wt/Ot)}if(this.contentVisible&&(_n.isInFont||Ht.missingFile)){if(Gn&&!Vn)Lt.fillText(Kn,ur,Sn);else if(this.paintChar(Kn,ur,Sn,Xn),Vn){const er=ur+wt*Vn.offset.x/Ot,En=Sn-wt*Vn.offset.y/Ot;this.paintChar(Vn.fontChar,er,En,Xn)}}let ir;ln?ir=Bn*fn-or*Zt:ir=Bn*fn+or*Zt,Mn+=ir,Un&&Lt.restore()}ln?Bt.y-=Mn:Bt.x+=Mn*sn,Lt.restore(),this.compose()}showType3Text(kt){const Bt=this.ctx,Ht=this.current,wt=Ht.font,Lt=Ht.fontSize,Ot=Ht.fontDirection,$t=wt.vertical?1:-1,Vt=Ht.charSpacing,Zt=Ht.wordSpacing,sn=Ht.textHScale*Ot,hn=Ht.fontMatrix||tt.FONT_IDENTITY_MATRIX,ln=kt.length,xn=Ht.textRenderingMode===tt.TextRenderingMode.INVISIBLE;let un,fn,Gn,Xn;if(!(xn||Lt===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Bt.save(),Bt.transform.apply(Bt,Ht.textMatrix),Bt.translate(Ht.x,Ht.y),Bt.scale(sn,Ot),un=0;un<ln;++un){if(fn=kt[un],typeof fn=="number"){Xn=$t*fn*Lt/1e3,this.ctx.translate(Xn,0),Ht.x+=Xn*sn;continue}const nn=(fn.isSpace?Zt:0)+Vt,jt=wt.charProcOperatorList[fn.operatorListId];if(!jt){(0,tt.warn)(`Type3 character "${fn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=fn,this.save(),Bt.scale(Lt,Lt),Bt.transform.apply(Bt,hn),this.executeOperatorList(jt),this.restore()),Gn=tt.Util.applyTransform([fn.width,0],hn)[0]*Lt+nn,Bt.translate(Gn,0),Ht.x+=Gn*sn}Bt.restore(),this.processingType3=null}}setCharWidth(kt,Bt){}setCharWidthAndBounds(kt,Bt,Ht,wt,Lt,Ot){this.ctx.rect(Ht,wt,Lt-Ht,Ot-wt),this.ctx.clip(),this.endPath()}getColorN_Pattern(kt){let Bt;if(kt[0]==="TilingPattern"){const Ht=kt[1],wt=this.baseTransform||this.ctx.mozCurrentTransform.slice(),Lt={createCanvasGraphics:Ot=>new yn(Ot,this.commonObjs,this.objs,this.canvasFactory)};Bt=new rt.TilingPattern(kt,Ht,this.ctx,Lt,wt)}else Bt=this._getPattern(kt[1],kt[2]);return Bt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(kt,Bt,Ht){var Lt;const wt=((Lt=this.selectColor)==null?void 0:Lt.call(this,kt,Bt,Ht))||tt.Util.makeHexColor(kt,Bt,Ht);this.ctx.strokeStyle=wt,this.current.strokeColor=wt}setFillRGBColor(kt,Bt,Ht){var Lt;const wt=((Lt=this.selectColor)==null?void 0:Lt.call(this,kt,Bt,Ht))||tt.Util.makeHexColor(kt,Bt,Ht);this.ctx.fillStyle=wt,this.current.fillColor=wt,this.current.patternFill=!1}_getPattern(kt,Bt=null){let Ht;return this.cachedPatterns.has(kt)?Ht=this.cachedPatterns.get(kt):(Ht=(0,rt.getShadingPattern)(this.objs.get(kt)),this.cachedPatterns.set(kt,Ht)),Bt&&(Ht.matrix=Bt),Ht}shadingFill(kt){if(!this.contentVisible)return;const Bt=this.ctx;this.save();const Ht=this._getPattern(kt);Bt.fillStyle=Ht.getPattern(Bt,this,Bt.mozCurrentTransformInverse,rt.PathType.SHADING);const wt=Bt.mozCurrentTransformInverse;if(wt){const Lt=Bt.canvas,Ot=Lt.width,$t=Lt.height,Vt=tt.Util.applyTransform([0,0],wt),Zt=tt.Util.applyTransform([0,$t],wt),sn=tt.Util.applyTransform([Ot,0],wt),hn=tt.Util.applyTransform([Ot,$t],wt),ln=Math.min(Vt[0],Zt[0],sn[0],hn[0]),xn=Math.min(Vt[1],Zt[1],sn[1],hn[1]),un=Math.max(Vt[0],Zt[0],sn[0],hn[0]),fn=Math.max(Vt[1],Zt[1],sn[1],hn[1]);this.ctx.fillRect(ln,xn,un-ln,fn-xn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,tt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,tt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(kt,Bt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(kt)&&kt.length===6&&this.transform.apply(this,kt),this.baseTransform=this.ctx.mozCurrentTransform,Bt)){const Ht=Bt[2]-Bt[0],wt=Bt[3]-Bt[1];this.ctx.rect(Bt[0],Bt[1],Ht,wt),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,Bt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(kt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Bt=this.ctx;kt.isolated||(0,tt.info)("TODO: Support non-isolated groups."),kt.knockout&&(0,tt.warn)("Knockout groups not supported.");const Ht=Bt.mozCurrentTransform;if(kt.matrix&&Bt.transform.apply(Bt,kt.matrix),!kt.bbox)throw new Error("Bounding box is required.");let wt=tt.Util.getAxialAlignedBoundingBox(kt.bbox,Bt.mozCurrentTransform);const Lt=[0,0,Bt.canvas.width,Bt.canvas.height];wt=tt.Util.intersect(wt,Lt)||[0,0,0,0];const Ot=Math.floor(wt[0]),$t=Math.floor(wt[1]);let Vt=Math.max(Math.ceil(wt[2])-Ot,1),Zt=Math.max(Math.ceil(wt[3])-$t,1),sn=1,hn=1;Vt>lt&&(sn=Vt/lt,Vt=lt),Zt>lt&&(hn=Zt/lt,Zt=lt),this.current.startNewPathAndClipBox([0,0,Vt,Zt]);let ln="groupAt"+this.groupLevel;kt.smask&&(ln+="_smask_"+this.smaskCounter++%2);const xn=this.cachedCanvases.getCanvas(ln,Vt,Zt,!0),un=xn.context;un.scale(1/sn,1/hn),un.translate(-Ot,-$t),un.transform.apply(un,Ht),kt.smask?this.smaskStack.push({canvas:xn.canvas,context:un,offsetX:Ot,offsetY:$t,scaleX:sn,scaleY:hn,subtype:kt.smask.subtype,backdrop:kt.smask.backdrop,transferMap:kt.smask.transferMap||null,startTransformInverse:null}):(Bt.setTransform(1,0,0,1,0,0),Bt.translate(Ot,$t),Bt.scale(sn,hn),Bt.save()),bt(Bt,un),this.ctx=un,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Bt),this.groupLevel++}endGroup(kt){if(!this.contentVisible)return;this.groupLevel--;const Bt=this.ctx,Ht=this.groupStack.pop();if(this.ctx=Ht,this.ctx.imageSmoothingEnabled=!1,kt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const wt=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,wt);const Lt=tt.Util.getAxialAlignedBoundingBox([0,0,Bt.canvas.width,Bt.canvas.height],wt);this.ctx.drawImage(Bt.canvas,0,0),this.ctx.restore(),this.compose(Lt)}}beginAnnotation(kt,Bt,Ht,wt,Lt){if(nr(this,on,Zp).call(this),Mt(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform),Array.isArray(Bt)&&Bt.length===4){const Ot=Bt[2]-Bt[0],$t=Bt[3]-Bt[1];if(Lt&&this.annotationCanvasMap){Ht=Ht.slice(),Ht[4]-=Bt[0],Ht[5]-=Bt[1],Bt=Bt.slice(),Bt[0]=Bt[1]=0,Bt[2]=Ot,Bt[3]=$t;const[Vt,Zt]=tt.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:sn}=this,hn=Math.ceil(Ot*this.outputScaleX*sn),ln=Math.ceil($t*this.outputScaleY*sn);this.annotationCanvas=this.canvasFactory.create(hn,ln);const{canvas:xn,context:un}=this.annotationCanvas;this.annotationCanvasMap.set(kt,xn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=un,vt(this.ctx),this.ctx.setTransform(Vt,0,0,-Zt,0,$t*Zt),Mt(this.ctx,this.foregroundColor)}else Mt(this.ctx,this.foregroundColor),this.ctx.rect(Bt[0],Bt[1],Ot,$t),this.ctx.clip(),this.endPath()}this.current=new At(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,Ht),this.transform.apply(this,wt)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(kt){if(!this.contentVisible)return;const Bt=kt.count;kt=this.getObject(kt.data,kt),kt.count=Bt;const Ht=this.ctx,wt=this.processingType3;if(wt&&(wt.compiled===void 0&&(wt.compiled=xt(kt)),wt.compiled)){wt.compiled(Ht);return}const Lt=this._createMaskCanvas(kt),Ot=Lt.canvas;Ht.save(),Ht.setTransform(1,0,0,1,0,0),Ht.drawImage(Ot,Lt.offsetX,Lt.offsetY),Ht.restore(),this.compose()}paintImageMaskXObjectRepeat(kt,Bt,Ht=0,wt=0,Lt,Ot){if(!this.contentVisible)return;kt=this.getObject(kt.data,kt);const $t=this.ctx;$t.save();const Vt=$t.mozCurrentTransform;$t.transform(Bt,Ht,wt,Lt,0,0);const Zt=this._createMaskCanvas(kt);$t.setTransform(1,0,0,1,0,0);for(let sn=0,hn=Ot.length;sn<hn;sn+=2){const ln=tt.Util.transform(Vt,[Bt,Ht,wt,Lt,Ot[sn],Ot[sn+1]]),[xn,un]=tt.Util.applyTransform([0,0],ln);$t.drawImage(Zt.canvas,xn,un)}$t.restore(),this.compose()}paintImageMaskXObjectGroup(kt){if(!this.contentVisible)return;const Bt=this.ctx,Ht=this.current.fillColor,wt=this.current.patternFill;for(const Lt of kt){const{data:Ot,width:$t,height:Vt,transform:Zt}=Lt,sn=this.cachedCanvases.getCanvas("maskCanvas",$t,Vt,!1),hn=sn.context;hn.save();const ln=this.getObject(Ot,Lt);Pt(hn,ln),hn.globalCompositeOperation="source-in",hn.fillStyle=wt?Ht.getPattern(hn,this,Bt.mozCurrentTransformInverse,rt.PathType.FILL):Ht,hn.fillRect(0,0,$t,Vt),hn.restore(),Bt.save(),Bt.transform.apply(Bt,Zt),Bt.scale(1,-1),yt(Bt,sn.canvas,0,0,$t,Vt,0,-1,1,1),Bt.restore()}this.compose()}paintImageXObject(kt){if(!this.contentVisible)return;const Bt=this.getObject(kt);if(!Bt){(0,tt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Bt)}paintImageXObjectRepeat(kt,Bt,Ht,wt){if(!this.contentVisible)return;const Lt=this.getObject(kt);if(!Lt){(0,tt.warn)("Dependent image isn't ready yet");return}const Ot=Lt.width,$t=Lt.height,Vt=[];for(let Zt=0,sn=wt.length;Zt<sn;Zt+=2)Vt.push({transform:[Bt,0,0,Ht,wt[Zt],wt[Zt+1]],x:0,y:0,w:Ot,h:$t});this.paintInlineImageXObjectGroup(Lt,Vt)}paintInlineImageXObject(kt){if(!this.contentVisible)return;const Bt=kt.width,Ht=kt.height,wt=this.ctx;this.save(),wt.scale(1/Bt,-1/Ht);let Lt;if(typeof HTMLElement=="function"&&kt instanceof HTMLElement||!kt.data)Lt=kt;else{const Zt=this.cachedCanvases.getCanvas("inlineImage",Bt,Ht,!1),sn=Zt.context;Ct(sn,kt,this.current.transferMaps),Lt=Zt.canvas}const Ot=this._scaleImage(Lt,wt.mozCurrentTransformInverse);wt.imageSmoothingEnabled=Kt(wt.mozCurrentTransform,kt.interpolate);const[$t,Vt]=yt(wt,Ot.img,0,0,Ot.paintWidth,Ot.paintHeight,0,-Ht,Bt,Ht);if(this.imageLayer){const Zt=this.getCanvasPosition(0,-Ht);this.imageLayer.appendImage({imgData:kt,left:Zt[0],top:Zt[1],width:$t,height:Vt})}this.compose(),this.restore()}paintInlineImageXObjectGroup(kt,Bt){if(!this.contentVisible)return;const Ht=this.ctx,wt=kt.width,Lt=kt.height,Ot=this.cachedCanvases.getCanvas("inlineImage",wt,Lt,!1),$t=Ot.context;Ct($t,kt,this.current.transferMaps);for(let Vt=0,Zt=Bt.length;Vt<Zt;Vt++){const sn=Bt[Vt];if(Ht.save(),Ht.transform.apply(Ht,sn.transform),Ht.scale(1,-1),yt(Ht,Ot.canvas,sn.x,sn.y,sn.w,sn.h,0,-1,1,1),this.imageLayer){const hn=this.getCanvasPosition(sn.x,sn.y);this.imageLayer.appendImage({imgData:kt,left:hn[0],top:hn[1],width:wt,height:Lt})}Ht.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(kt){}markPointProps(kt,Bt){}beginMarkedContent(kt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(kt,Bt){kt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Bt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(kt){const Bt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(kt);const Ht=this.ctx;this.pendingClip&&(Bt||(this.pendingClip===qt?Ht.clip("evenodd"):Ht.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Ht.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const kt=this.ctx.mozCurrentTransform;if(kt[1]===0&&kt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(kt[0]),Math.abs(kt[3]));else{const Bt=Math.abs(kt[0]*kt[3]-kt[2]*kt[1]),Ht=Math.hypot(kt[0],kt[2]),wt=Math.hypot(kt[1],kt[3]);this._cachedGetSinglePixelWidth=Math.max(Ht,wt)/Bt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:kt}=this.current,Bt=this.ctx.mozCurrentTransform;let Ht,wt;if(Bt[1]===0&&Bt[2]===0){const Lt=Math.abs(Bt[0]),Ot=Math.abs(Bt[3]);if(kt===0)Ht=1/Lt,wt=1/Ot;else{const $t=Lt*kt,Vt=Ot*kt;Ht=$t<1?1/$t:1,wt=Vt<1?1/Vt:1}}else{const Lt=Math.abs(Bt[0]*Bt[3]-Bt[2]*Bt[1]),Ot=Math.hypot(Bt[0],Bt[1]),$t=Math.hypot(Bt[2],Bt[3]);if(kt===0)Ht=$t/Lt,wt=Ot/Lt;else{const Vt=kt*Lt;Ht=$t>Vt?$t/Vt:1,wt=Ot>Vt?Ot/Vt:1}}this._cachedScaleForStroking=[Ht,wt]}return this._cachedScaleForStroking}rescaleAndStroke(kt){const{ctx:Bt}=this,{lineWidth:Ht}=this.current,[wt,Lt]=this.getScaleForStroking();if(Bt.lineWidth=Ht||1,wt===1&&Lt===1){Bt.stroke();return}let Ot,$t,Vt;kt&&(Ot=Bt.mozCurrentTransform.slice(),$t=Bt.getLineDash().slice(),Vt=Bt.lineDashOffset),Bt.scale(wt,Lt);const Zt=Math.max(wt,Lt);Bt.setLineDash(Bt.getLineDash().map(sn=>sn/Zt)),Bt.lineDashOffset/=Zt,Bt.stroke(),kt&&(Bt.setTransform(...Ot),Bt.setLineDash($t),Bt.lineDashOffset=Vt)}getCanvasPosition(kt,Bt){const Ht=this.ctx.mozCurrentTransform;return[Ht[0]*kt+Ht[2]*Bt+Ht[4],Ht[1]*kt+Ht[3]*Bt+Ht[5]]}isContentVisible(){for(let kt=this.markedContentStack.length-1;kt>=0;kt--)if(!this.markedContentStack[kt].visible)return!1;return!0}};let Jt=yn;on=new WeakSet,Zp=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$.CanvasGraphics=Jt;for(const Yt in tt.OPS)Jt.prototype[Yt]!==void 0&&(Jt.prototype[tt.OPS[Yt]]=Jt.prototype[Yt])},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=pt;var tt=_e(1),nt=_e(3);const rt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=rt;function it(gt,vt){if(!vt||nt.isNodeJS)return;const _t=vt[2]-vt[0],yt=vt[3]-vt[1],xt=new Path2D;xt.rect(vt[0],vt[1],_t,yt),gt.clip(xt)}class st{constructor(){this.constructor===st&&(0,tt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,tt.unreachable)("Abstract method `getPattern` called.")}}class ot extends st{constructor(vt){super(),this._type=vt[1],this._bbox=vt[2],this._colorStops=vt[3],this._p0=vt[4],this._p1=vt[5],this._r0=vt[6],this._r1=vt[7],this.matrix=null}_createGradient(vt){let _t;this._type==="axial"?_t=vt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_t=vt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const yt of this._colorStops)_t.addColorStop(yt[0],yt[1]);return _t}getPattern(vt,_t,yt,xt){let At;if(xt===rt.STROKE||xt===rt.FILL){const Ct=_t.current.getClippedPathBoundingBox(xt,vt.mozCurrentTransform)||[0,0,0,0],Pt=Math.ceil(Ct[2]-Ct[0])||1,bt=Math.ceil(Ct[3]-Ct[1])||1,Mt=_t.cachedCanvases.getCanvas("pattern",Pt,bt,!0),Tt=Mt.context;Tt.clearRect(0,0,Tt.canvas.width,Tt.canvas.height),Tt.beginPath(),Tt.rect(0,0,Tt.canvas.width,Tt.canvas.height),Tt.translate(-Ct[0],-Ct[1]),yt=tt.Util.transform(yt,[1,0,0,1,Ct[0],Ct[1]]),Tt.transform.apply(Tt,_t.baseTransform),this.matrix&&Tt.transform.apply(Tt,this.matrix),it(Tt,this._bbox),Tt.fillStyle=this._createGradient(Tt),Tt.fill(),At=vt.createPattern(Mt.canvas,"no-repeat");const Ft=new DOMMatrix(yt);try{At.setTransform(Ft)}catch(Gt){(0,tt.warn)(`RadialAxialShadingPattern.getPattern: "${Gt==null?void 0:Gt.message}".`)}}else it(vt,this._bbox),At=this._createGradient(vt);return At}}function at(gt,vt,_t,yt,xt,At,Ct,Pt){const bt=vt.coords,Mt=vt.colors,Tt=gt.data,Ft=gt.width*4;let Gt;bt[_t+1]>bt[yt+1]&&(Gt=_t,_t=yt,yt=Gt,Gt=At,At=Ct,Ct=Gt),bt[yt+1]>bt[xt+1]&&(Gt=yt,yt=xt,xt=Gt,Gt=Ct,Ct=Pt,Pt=Gt),bt[_t+1]>bt[yt+1]&&(Gt=_t,_t=yt,yt=Gt,Gt=At,At=Ct,Ct=Gt);const Wt=(bt[_t]+vt.offsetX)*vt.scaleX,It=(bt[_t+1]+vt.offsetY)*vt.scaleY,Kt=(bt[yt]+vt.offsetX)*vt.scaleX,Ut=(bt[yt+1]+vt.offsetY)*vt.scaleY,Qt=(bt[xt]+vt.offsetX)*vt.scaleX,Dt=(bt[xt+1]+vt.offsetY)*vt.scaleY;if(It>=Dt)return;const qt=Mt[At],Jt=Mt[At+1],on=Mt[At+2],tn=Mt[Ct],yn=Mt[Ct+1],Yt=Mt[Ct+2],kt=Mt[Pt],Bt=Mt[Pt+1],Ht=Mt[Pt+2],wt=Math.round(It),Lt=Math.round(Dt);let Ot,$t,Vt,Zt,sn,hn,ln,xn;for(let un=wt;un<=Lt;un++){if(un<Ut){let jt;un<It?jt=0:jt=(It-un)/(It-Ut),Ot=Wt-(Wt-Kt)*jt,$t=qt-(qt-tn)*jt,Vt=Jt-(Jt-yn)*jt,Zt=on-(on-Yt)*jt}else{let jt;un>Dt?jt=1:Ut===Dt?jt=0:jt=(Ut-un)/(Ut-Dt),Ot=Kt-(Kt-Qt)*jt,$t=tn-(tn-kt)*jt,Vt=yn-(yn-Bt)*jt,Zt=Yt-(Yt-Ht)*jt}let fn;un<It?fn=0:un>Dt?fn=1:fn=(It-un)/(It-Dt),sn=Wt-(Wt-Qt)*fn,hn=qt-(qt-kt)*fn,ln=Jt-(Jt-Bt)*fn,xn=on-(on-Ht)*fn;const Gn=Math.round(Math.min(Ot,sn)),Xn=Math.round(Math.max(Ot,sn));let nn=Ft*un+Gn*4;for(let jt=Gn;jt<=Xn;jt++)fn=(Ot-jt)/(Ot-sn),fn<0?fn=0:fn>1&&(fn=1),Tt[nn++]=$t-($t-hn)*fn|0,Tt[nn++]=Vt-(Vt-ln)*fn|0,Tt[nn++]=Zt-(Zt-xn)*fn|0,Tt[nn++]=255}}function lt(gt,vt,_t){const yt=vt.coords,xt=vt.colors;let At,Ct;switch(vt.type){case"lattice":const Pt=vt.verticesPerRow,bt=Math.floor(yt.length/Pt)-1,Mt=Pt-1;for(At=0;At<bt;At++){let Tt=At*Pt;for(let Ft=0;Ft<Mt;Ft++,Tt++)at(gt,_t,yt[Tt],yt[Tt+1],yt[Tt+Pt],xt[Tt],xt[Tt+1],xt[Tt+Pt]),at(gt,_t,yt[Tt+Pt+1],yt[Tt+1],yt[Tt+Pt],xt[Tt+Pt+1],xt[Tt+1],xt[Tt+Pt])}break;case"triangles":for(At=0,Ct=yt.length;At<Ct;At+=3)at(gt,_t,yt[At],yt[At+1],yt[At+2],xt[At],xt[At+1],xt[At+2]);break;default:throw new Error("illegal figure")}}class dt extends st{constructor(vt){super(),this._coords=vt[2],this._colors=vt[3],this._figures=vt[4],this._bounds=vt[5],this._bbox=vt[7],this._background=vt[8],this.matrix=null}_createMeshCanvas(vt,_t,yt){const Pt=Math.floor(this._bounds[0]),bt=Math.floor(this._bounds[1]),Mt=Math.ceil(this._bounds[2])-Pt,Tt=Math.ceil(this._bounds[3])-bt,Ft=Math.min(Math.ceil(Math.abs(Mt*vt[0]*1.1)),3e3),Gt=Math.min(Math.ceil(Math.abs(Tt*vt[1]*1.1)),3e3),Wt=Mt/Ft,It=Tt/Gt,Kt={coords:this._coords,colors:this._colors,offsetX:-Pt,offsetY:-bt,scaleX:1/Wt,scaleY:1/It},Ut=Ft+2*2,Qt=Gt+2*2,Dt=yt.getCanvas("mesh",Ut,Qt,!1),qt=Dt.context,Jt=qt.createImageData(Ft,Gt);if(_t){const tn=Jt.data;for(let yn=0,Yt=tn.length;yn<Yt;yn+=4)tn[yn]=_t[0],tn[yn+1]=_t[1],tn[yn+2]=_t[2],tn[yn+3]=255}for(const tn of this._figures)lt(Jt,tn,Kt);return qt.putImageData(Jt,2,2),{canvas:Dt.canvas,offsetX:Pt-2*Wt,offsetY:bt-2*It,scaleX:Wt,scaleY:It}}getPattern(vt,_t,yt,xt){it(vt,this._bbox);let At;if(xt===rt.SHADING)At=tt.Util.singularValueDecompose2dScale(vt.mozCurrentTransform);else if(At=tt.Util.singularValueDecompose2dScale(_t.baseTransform),this.matrix){const Pt=tt.Util.singularValueDecompose2dScale(this.matrix);At=[At[0]*Pt[0],At[1]*Pt[1]]}const Ct=this._createMeshCanvas(At,xt===rt.SHADING?null:this._background,_t.cachedCanvases);return xt!==rt.SHADING&&(vt.setTransform.apply(vt,_t.baseTransform),this.matrix&&vt.transform.apply(vt,this.matrix)),vt.translate(Ct.offsetX,Ct.offsetY),vt.scale(Ct.scaleX,Ct.scaleY),vt.createPattern(Ct.canvas,"no-repeat")}}class ct extends st{getPattern(){return"hotpink"}}function pt(gt){switch(gt[0]){case"RadialAxial":return new ot(gt);case"Mesh":return new dt(gt);case"Dummy":return new ct}throw new Error(`Unknown IR type: ${gt[0]}`)}const mt={COLORED:1,UNCOLORED:2};class ht{static get MAX_PATTERN_SIZE(){return(0,tt.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(vt,_t,yt,xt,At){this.operatorList=vt[2],this.matrix=vt[3]||[1,0,0,1,0,0],this.bbox=vt[4],this.xstep=vt[5],this.ystep=vt[6],this.paintType=vt[7],this.tilingType=vt[8],this.color=_t,this.ctx=yt,this.canvasGraphicsFactory=xt,this.baseTransform=At}createPatternCanvas(vt){const _t=this.operatorList,yt=this.bbox,xt=this.xstep,At=this.ystep,Ct=this.paintType,Pt=this.tilingType,bt=this.color,Mt=this.canvasGraphicsFactory;(0,tt.info)("TilingType: "+Pt);const Tt=yt[0],Ft=yt[1],Gt=yt[2],Wt=yt[3],It=tt.Util.singularValueDecompose2dScale(this.matrix),Kt=tt.Util.singularValueDecompose2dScale(this.baseTransform),Ut=[It[0]*Kt[0],It[1]*Kt[1]],Qt=this.getSizeAndScale(xt,this.ctx.canvas.width,Ut[0]),Dt=this.getSizeAndScale(At,this.ctx.canvas.height,Ut[1]),qt=vt.cachedCanvases.getCanvas("pattern",Qt.size,Dt.size,!0),Jt=qt.context,on=Mt.createCanvasGraphics(Jt);on.groupLevel=vt.groupLevel,this.setFillAndStrokeStyleToContext(on,Ct,bt);let tn=Tt,yn=Ft,Yt=Gt,kt=Wt;return Tt<0&&(tn=0,Yt+=Math.abs(Tt)),Ft<0&&(yn=0,kt+=Math.abs(Ft)),Jt.translate(-(Qt.scale*tn),-(Dt.scale*yn)),on.transform(Qt.scale,0,0,Dt.scale,0,0),Jt.save(),this.clipBbox(on,tn,yn,Yt,kt),on.baseTransform=on.ctx.mozCurrentTransform.slice(),on.executeOperatorList(_t),on.endDrawing(),{canvas:qt.canvas,scaleX:Qt.scale,scaleY:Dt.scale,offsetX:tn,offsetY:yn}}getSizeAndScale(vt,_t,yt){vt=Math.abs(vt);const xt=Math.max(ht.MAX_PATTERN_SIZE,_t);let At=Math.ceil(vt*yt);return At>=xt?At=xt:yt=At/vt,{scale:yt,size:At}}clipBbox(vt,_t,yt,xt,At){const Ct=xt-_t,Pt=At-yt;vt.ctx.rect(_t,yt,Ct,Pt),vt.current.updateRectMinMax(vt.ctx.mozCurrentTransform,[_t,yt,xt,At]),vt.clip(),vt.endPath()}setFillAndStrokeStyleToContext(vt,_t,yt){const xt=vt.ctx,At=vt.current;switch(_t){case mt.COLORED:const Ct=this.ctx;xt.fillStyle=Ct.fillStyle,xt.strokeStyle=Ct.strokeStyle,At.fillColor=Ct.fillStyle,At.strokeColor=Ct.strokeStyle;break;case mt.UNCOLORED:const Pt=tt.Util.makeHexColor(yt[0],yt[1],yt[2]);xt.fillStyle=Pt,xt.strokeStyle=Pt,At.fillColor=Pt,At.strokeColor=Pt;break;default:throw new tt.FormatError(`Unsupported paint type: ${_t}`)}}getPattern(vt,_t,yt,xt){let At=yt;xt!==rt.SHADING&&(At=tt.Util.transform(At,_t.baseTransform),this.matrix&&(At=tt.Util.transform(At,this.matrix)));const Ct=this.createPatternCanvas(_t);let Pt=new DOMMatrix(At);Pt=Pt.translate(Ct.offsetX,Ct.offsetY),Pt=Pt.scale(1/Ct.scaleX,1/Ct.scaleY);const bt=vt.createPattern(Ct.canvas,"repeat");try{bt.setTransform(Pt)}catch(Mt){(0,tt.warn)(`TilingPattern.getPattern: "${Mt==null?void 0:Mt.message}".`)}return bt}}$.TilingPattern=ht},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=nt;var tt=_e(1);function nt({src:rt,srcPos:it=0,dest:st,destPos:ot=0,width:at,height:lt,inverseDecode:dt=!1}){const ct=tt.FeatureTest.isLittleEndian?4278190080:255,[pt,mt]=dt?[0,ct]:[ct,0],ht=at>>3,gt=at&7,vt=rt.length;st=new Uint32Array(st.buffer);for(let _t=0;_t<lt;_t++){for(const xt=it+ht;it<xt;it++){const At=it<vt?rt[it]:255;st[ot++]=At&128?mt:pt,st[ot++]=At&64?mt:pt,st[ot++]=At&32?mt:pt,st[ot++]=At&16?mt:pt,st[ot++]=At&8?mt:pt,st[ot++]=At&4?mt:pt,st[ot++]=At&2?mt:pt,st[ot++]=At&1?mt:pt}if(gt===0)continue;const yt=it<vt?rt[it++]:255;for(let xt=0;xt<gt;xt++)st[ot++]=yt&1<<7-xt?mt:pt}return{srcPos:it,destPos:ot}}},(et,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const _e=Object.create(null);$.GlobalWorkerOptions=_e,_e.workerPort=_e.workerPort===void 0?null:_e.workerPort,_e.workerSrc=_e.workerSrc===void 0?"":_e.workerSrc},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var tt=_e(1);const nt={UNKNOWN:0,DATA:1,ERROR:2},rt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function it(ot){switch(ot instanceof Error||typeof ot=="object"&&ot!==null||(0,tt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ot.name){case"AbortException":return new tt.AbortException(ot.message);case"MissingPDFException":return new tt.MissingPDFException(ot.message);case"PasswordException":return new tt.PasswordException(ot.message,ot.code);case"UnexpectedResponseException":return new tt.UnexpectedResponseException(ot.message,ot.status);case"UnknownErrorException":return new tt.UnknownErrorException(ot.message,ot.details);default:return new tt.UnknownErrorException(ot.message,ot.toString())}}class st{constructor(at,lt,dt){this.sourceName=at,this.targetName=lt,this.comObj=dt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ct=>{const pt=ct.data;if(pt.targetName!==this.sourceName)return;if(pt.stream){this._processStreamMessage(pt);return}if(pt.callback){const ht=pt.callbackId,gt=this.callbackCapabilities[ht];if(!gt)throw new Error(`Cannot resolve callback ${ht}`);if(delete this.callbackCapabilities[ht],pt.callback===nt.DATA)gt.resolve(pt.data);else if(pt.callback===nt.ERROR)gt.reject(it(pt.reason));else throw new Error("Unexpected callback case");return}const mt=this.actionHandler[pt.action];if(!mt)throw new Error(`Unknown action from worker: ${pt.action}`);if(pt.callbackId){const ht=this.sourceName,gt=pt.sourceName;new Promise(function(vt){vt(mt(pt.data))}).then(function(vt){dt.postMessage({sourceName:ht,targetName:gt,callback:nt.DATA,callbackId:pt.callbackId,data:vt})},function(vt){dt.postMessage({sourceName:ht,targetName:gt,callback:nt.ERROR,callbackId:pt.callbackId,reason:it(vt)})});return}if(pt.streamId){this._createStreamSink(pt);return}mt(pt.data)},dt.addEventListener("message",this._onComObjOnMessage)}on(at,lt){const dt=this.actionHandler;if(dt[at])throw new Error(`There is already an actionName called "${at}"`);dt[at]=lt}send(at,lt,dt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:at,data:lt},dt)}sendWithPromise(at,lt,dt){const ct=this.callbackId++,pt=(0,tt.createPromiseCapability)();this.callbackCapabilities[ct]=pt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:at,callbackId:ct,data:lt},dt)}catch(mt){pt.reject(mt)}return pt.promise}sendWithStream(at,lt,dt,ct){const pt=this.streamId++,mt=this.sourceName,ht=this.targetName,gt=this.comObj;return new ReadableStream({start:vt=>{const _t=(0,tt.createPromiseCapability)();return this.streamControllers[pt]={controller:vt,startCall:_t,pullCall:null,cancelCall:null,isClosed:!1},gt.postMessage({sourceName:mt,targetName:ht,action:at,streamId:pt,data:lt,desiredSize:vt.desiredSize},ct),_t.promise},pull:vt=>{const _t=(0,tt.createPromiseCapability)();return this.streamControllers[pt].pullCall=_t,gt.postMessage({sourceName:mt,targetName:ht,stream:rt.PULL,streamId:pt,desiredSize:vt.desiredSize}),_t.promise},cancel:vt=>{(0,tt.assert)(vt instanceof Error,"cancel must have a valid reason");const _t=(0,tt.createPromiseCapability)();return this.streamControllers[pt].cancelCall=_t,this.streamControllers[pt].isClosed=!0,gt.postMessage({sourceName:mt,targetName:ht,stream:rt.CANCEL,streamId:pt,reason:it(vt)}),_t.promise}},dt)}_createStreamSink(at){const lt=at.streamId,dt=this.sourceName,ct=at.sourceName,pt=this.comObj,mt=this,ht=this.actionHandler[at.action],gt={enqueue(vt,_t=1,yt){if(this.isCancelled)return;const xt=this.desiredSize;this.desiredSize-=_t,xt>0&&this.desiredSize<=0&&(this.sinkCapability=(0,tt.createPromiseCapability)(),this.ready=this.sinkCapability.promise),pt.postMessage({sourceName:dt,targetName:ct,stream:rt.ENQUEUE,streamId:lt,chunk:vt},yt)},close(){this.isCancelled||(this.isCancelled=!0,pt.postMessage({sourceName:dt,targetName:ct,stream:rt.CLOSE,streamId:lt}),delete mt.streamSinks[lt])},error(vt){(0,tt.assert)(vt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,pt.postMessage({sourceName:dt,targetName:ct,stream:rt.ERROR,streamId:lt,reason:it(vt)}))},sinkCapability:(0,tt.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:at.desiredSize,ready:null};gt.sinkCapability.resolve(),gt.ready=gt.sinkCapability.promise,this.streamSinks[lt]=gt,new Promise(function(vt){vt(ht(at.data,gt))}).then(function(){pt.postMessage({sourceName:dt,targetName:ct,stream:rt.START_COMPLETE,streamId:lt,success:!0})},function(vt){pt.postMessage({sourceName:dt,targetName:ct,stream:rt.START_COMPLETE,streamId:lt,reason:it(vt)})})}_processStreamMessage(at){const lt=at.streamId,dt=this.sourceName,ct=at.sourceName,pt=this.comObj,mt=this.streamControllers[lt],ht=this.streamSinks[lt];switch(at.stream){case rt.START_COMPLETE:at.success?mt.startCall.resolve():mt.startCall.reject(it(at.reason));break;case rt.PULL_COMPLETE:at.success?mt.pullCall.resolve():mt.pullCall.reject(it(at.reason));break;case rt.PULL:if(!ht){pt.postMessage({sourceName:dt,targetName:ct,stream:rt.PULL_COMPLETE,streamId:lt,success:!0});break}ht.desiredSize<=0&&at.desiredSize>0&&ht.sinkCapability.resolve(),ht.desiredSize=at.desiredSize,new Promise(function(gt){gt(ht.onPull&&ht.onPull())}).then(function(){pt.postMessage({sourceName:dt,targetName:ct,stream:rt.PULL_COMPLETE,streamId:lt,success:!0})},function(gt){pt.postMessage({sourceName:dt,targetName:ct,stream:rt.PULL_COMPLETE,streamId:lt,reason:it(gt)})});break;case rt.ENQUEUE:if((0,tt.assert)(mt,"enqueue should have stream controller"),mt.isClosed)break;mt.controller.enqueue(at.chunk);break;case rt.CLOSE:if((0,tt.assert)(mt,"close should have stream controller"),mt.isClosed)break;mt.isClosed=!0,mt.controller.close(),this._deleteStreamController(mt,lt);break;case rt.ERROR:(0,tt.assert)(mt,"error should have stream controller"),mt.controller.error(it(at.reason)),this._deleteStreamController(mt,lt);break;case rt.CANCEL_COMPLETE:at.success?mt.cancelCall.resolve():mt.cancelCall.reject(it(at.reason)),this._deleteStreamController(mt,lt);break;case rt.CANCEL:if(!ht)break;new Promise(function(gt){gt(ht.onCancel&&ht.onCancel(it(at.reason)))}).then(function(){pt.postMessage({sourceName:dt,targetName:ct,stream:rt.CANCEL_COMPLETE,streamId:lt,success:!0})},function(gt){pt.postMessage({sourceName:dt,targetName:ct,stream:rt.CANCEL_COMPLETE,streamId:lt,reason:it(gt)})}),ht.sinkCapability.reject(it(at.reason)),ht.isCancelled=!0,delete this.streamSinks[lt];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(at,lt){await Promise.allSettled([at.startCall&&at.startCall.promise,at.pullCall&&at.pullCall.promise,at.cancelCall&&at.cancelCall.promise]),delete this.streamControllers[lt]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=st},(et,$,_e)=>{var rt,it;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var tt=_e(1);class nt{constructor({parsedData:ot,rawData:at}){Zn(this,rt,void 0);Zn(this,it,void 0);dr(this,rt,ot),dr(this,it,at)}getRaw(){return an(this,it)}get(ot){return an(this,rt).get(ot)??null}getAll(){return(0,tt.objectFromMap)(an(this,rt))}has(ot){return an(this,rt).has(ot)}}rt=new WeakMap,it=new WeakMap,$.Metadata=nt},(et,$,_e)=>{var st,ot,at,lt,dt,ct,em;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var tt=_e(1);const nt=Symbol("INTERNAL");class rt{constructor(ht,gt){Zn(this,st,!0);this.name=ht,this.intent=gt}get visible(){return an(this,st)}_setVisible(ht,gt){ht!==nt&&(0,tt.unreachable)("Internal method `_setVisible` called."),dr(this,st,gt)}}st=new WeakMap;class it{constructor(ht){Zn(this,ct);Zn(this,ot,!0);Zn(this,at,new Map);Zn(this,lt,null);Zn(this,dt,null);if(this.name=null,this.creator=null,ht!==null){this.name=ht.name,this.creator=ht.creator,dr(this,dt,ht.order);for(const gt of ht.groups)an(this,at).set(gt.id,new rt(gt.name,gt.intent));if(ht.baseState==="OFF")for(const gt of an(this,at).values())gt._setVisible(nt,!1);for(const gt of ht.on)an(this,at).get(gt)._setVisible(nt,!0);for(const gt of ht.off)an(this,at).get(gt)._setVisible(nt,!1);dr(this,lt,new Map);for(const[gt,vt]of an(this,at))an(this,lt).set(gt,vt.visible)}}isVisible(ht){if(an(this,at).size===0)return!0;if(!ht)return(0,tt.warn)("Optional content group not defined."),!0;if(ht.type==="OCG")return an(this,at).has(ht.id)?an(this,at).get(ht.id).visible:((0,tt.warn)(`Optional content group not found: ${ht.id}`),!0);if(ht.type==="OCMD"){if(ht.expression)return nr(this,ct,em).call(this,ht.expression);if(!ht.policy||ht.policy==="AnyOn"){for(const gt of ht.ids){if(!an(this,at).has(gt))return(0,tt.warn)(`Optional content group not found: ${gt}`),!0;if(an(this,at).get(gt).visible)return!0}return!1}else if(ht.policy==="AllOn"){for(const gt of ht.ids){if(!an(this,at).has(gt))return(0,tt.warn)(`Optional content group not found: ${gt}`),!0;if(!an(this,at).get(gt).visible)return!1}return!0}else if(ht.policy==="AnyOff"){for(const gt of ht.ids){if(!an(this,at).has(gt))return(0,tt.warn)(`Optional content group not found: ${gt}`),!0;if(!an(this,at).get(gt).visible)return!0}return!1}else if(ht.policy==="AllOff"){for(const gt of ht.ids){if(!an(this,at).has(gt))return(0,tt.warn)(`Optional content group not found: ${gt}`),!0;if(an(this,at).get(gt).visible)return!1}return!0}return(0,tt.warn)(`Unknown optional content policy ${ht.policy}.`),!0}return(0,tt.warn)(`Unknown group type ${ht.type}.`),!0}setVisibility(ht,gt=!0){if(!an(this,at).has(ht)){(0,tt.warn)(`Optional content group not found: ${ht}`);return}an(this,at).get(ht)._setVisible(nt,!!gt),dr(this,ot,null)}get hasInitialVisibility(){if(an(this,ot)!==null)return an(this,ot);for(const[ht,gt]of an(this,at)){const vt=an(this,lt).get(ht);if(gt.visible!==vt)return dr(this,ot,!1)}return dr(this,ot,!0)}getOrder(){return an(this,at).size?an(this,dt)?an(this,dt).slice():[...an(this,at).keys()]:null}getGroups(){return an(this,at).size>0?(0,tt.objectFromMap)(an(this,at)):null}getGroup(ht){return an(this,at).get(ht)||null}}ot=new WeakMap,at=new WeakMap,lt=new WeakMap,dt=new WeakMap,ct=new WeakSet,em=function(ht){const gt=ht.length;if(gt<2)return!0;const vt=ht[0];for(let _t=1;_t<gt;_t++){const yt=ht[_t];let xt;if(Array.isArray(yt))xt=nr(this,ct,em).call(this,yt);else if(an(this,at).has(yt))xt=an(this,at).get(yt).visible;else return(0,tt.warn)(`Optional content group not found: ${yt}`),!0;switch(vt){case"And":if(!xt)return!1;break;case"Or":if(xt)return!0;break;case"Not":return!xt;default:return!0}}return vt==="And"},$.OptionalContentConfig=it},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var tt=_e(1),nt=_e(4);class rt{constructor(at,lt){(0,tt.assert)(lt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=at.progressiveDone||!1,this._contentDispositionFilename=at.contentDispositionFilename||null;const dt=at.initialData;if((dt==null?void 0:dt.length)>0){const ct=new Uint8Array(dt).buffer;this._queuedChunks.push(ct)}this._pdfDataRangeTransport=lt,this._isStreamingSupported=!at.disableStream,this._isRangeSupported=!at.disableRange,this._contentLength=at.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ct,pt)=>{this._onReceiveData({begin:ct,chunk:pt})}),this._pdfDataRangeTransport.addProgressListener((ct,pt)=>{this._onProgress({loaded:ct,total:pt})}),this._pdfDataRangeTransport.addProgressiveReadListener(ct=>{this._onReceiveData({chunk:ct})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(at){const lt=new Uint8Array(at.chunk).buffer;if(at.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(lt):this._queuedChunks.push(lt);else{const dt=this._rangeReaders.some(function(ct){return ct._begin!==at.begin?!1:(ct._enqueue(lt),!0)});(0,tt.assert)(dt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var at;return((at=this._fullRequestReader)==null?void 0:at._loaded)??0}_onProgress(at){if(at.total===void 0){const lt=this._rangeReaders[0];lt!=null&&lt.onProgress&&lt.onProgress({loaded:at.loaded})}else{const lt=this._fullRequestReader;lt!=null&&lt.onProgress&&lt.onProgress({loaded:at.loaded,total:at.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(at){const lt=this._rangeReaders.indexOf(at);lt>=0&&this._rangeReaders.splice(lt,1)}getFullReader(){(0,tt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const at=this._queuedChunks;return this._queuedChunks=null,new it(this,at,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(at,lt){if(lt<=this._progressiveDataLength)return null;const dt=new st(this,at,lt);return this._pdfDataRangeTransport.requestDataRange(at,lt),this._rangeReaders.push(dt),dt}cancelAllRequests(at){this._fullRequestReader&&this._fullRequestReader.cancel(at);for(const lt of this._rangeReaders.slice(0))lt.cancel(at);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=rt;class it{constructor(at,lt,dt=!1,ct=null){this._stream=at,this._done=dt||!1,this._filename=(0,nt.isPdfFile)(ct)?ct:null,this._queuedChunks=lt||[],this._loaded=0;for(const pt of this._queuedChunks)this._loaded+=pt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),at._fullRequestReader=this,this.onProgress=null}_enqueue(at){this._done||(this._requests.length>0?this._requests.shift().resolve({value:at,done:!1}):this._queuedChunks.push(at),this._loaded+=at.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const at=(0,tt.createPromiseCapability)();return this._requests.push(at),at.promise}cancel(at){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class st{constructor(at,lt,dt){this._stream=at,this._begin=lt,this._end=dt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(at){if(!this._done){if(this._requests.length===0)this._queuedChunk=at;else{this._requests.shift().resolve({value:at,done:!1});for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const at=(0,tt.createPromiseCapability)();return this._requests.push(at),at.promise}cancel(at){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(et,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class _e{static textContent(nt){const rt=[],it={items:rt,styles:Object.create(null)};function st(ot){var dt;if(!ot)return;let at=null;const lt=ot.name;if(lt==="#text")at=ot.value;else if(_e.shouldBuildText(lt))(dt=ot==null?void 0:ot.attributes)!=null&&dt.textContent?at=ot.attributes.textContent:ot.value&&(at=ot.value);else return;if(at!==null&&rt.push({str:at}),!!ot.children)for(const ct of ot.children)st(ct)}return st(nt),it}static shouldBuildText(nt){return!(nt==="textarea"||nt==="input"||nt==="option"||nt==="select")}}$.XfaText=_e},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var tt=_e(5);const nt=function(ot){return new Promise((at,lt)=>{require$$5.readFile(ot,(ct,pt)=>{if(ct||!pt){lt(new Error(ct));return}at(new Uint8Array(pt))})})};class rt extends tt.BaseCanvasFactory{_createCanvas(at,lt){return require$$5.createCanvas(at,lt)}}$.NodeCanvasFactory=rt;class it extends tt.BaseCMapReaderFactory{_fetchData(at,lt){return nt(at).then(dt=>({cMapData:dt,compressionType:lt}))}}$.NodeCMapReaderFactory=it;class st extends tt.BaseStandardFontDataFactory{_fetchData(at){return nt(at)}}$.NodeStandardFontDataFactory=st},(et,$,_e)=>{var at,lt,dt,ct,pt,mt,ht,gt,vt,_t,tm,xt,nm,Ct,sp,bt,A0,Tt,rm,Gt,E0;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var tt=_e(1),nt=_e(9),rt=_e(4),it=_e(23),st=_e(24);const It=class{constructor(Ut){Zn(this,_t);Zn(this,xt);Zn(this,bt);Zn(this,Tt);Zn(this,Gt);Zn(this,at,!1);Zn(this,lt,this.pointerup.bind(this));Zn(this,dt,this.pointerdown.bind(this));Zn(this,ct,new Map);Zn(this,pt,!1);Zn(this,mt,new WeakMap);Zn(this,ht,new Map);Zn(this,gt,void 0);Zn(this,vt,new Set);It._initialized||(It._initialized=!0,it.FreeTextEditor.initialize(Ut.l10n),st.InkEditor.initialize(Ut.l10n),Ut.uiManager.registerEditorTypes([it.FreeTextEditor,st.InkEditor])),dr(this,gt,Ut.uiManager),this.annotationStorage=Ut.annotationStorage,this.pageIndex=Ut.pageIndex,this.div=Ut.div,an(this,gt).addLayer(this)}get textLayerElements(){const Ut=this.div.parentNode.getElementsByClassName("textLayer").item(0);if(!Ut)return(0,tt.shadow)(this,"textLayerElements",null);let Qt=an(this,mt).get(Ut);return Qt||(Qt=Ut.querySelectorAll('span[role="presentation"]'),Qt.length===0?(0,tt.shadow)(this,"textLayerElements",null):(Qt=Array.from(Qt),Qt.sort(nr(It,Ct,sp)),an(this,mt).set(Ut,Qt),Qt))}updateToolbar(Ut){an(this,gt).updateToolbar(Ut)}updateMode(Ut=an(this,gt).getMode()){nr(this,Gt,E0).call(this),Ut===tt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),an(this,gt).unselectAll()}addInkEditorIfNeeded(Ut){if(!Ut&&an(this,gt).getMode()!==tt.AnnotationEditorType.INK)return;if(!Ut){for(const Dt of an(this,ct).values())if(Dt.isEmpty()){Dt.setInBackground();return}}nr(this,Tt,rm).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Ut){an(this,gt).setEditingState(Ut)}addCommands(Ut){an(this,gt).addCommands(Ut)}enable(){this.div.style.pointerEvents="auto";for(const Ut of an(this,ct).values())Ut.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Ut of an(this,ct).values())Ut.disableEditing()}setActiveEditor(Ut){an(this,gt).getActive()!==Ut&&an(this,gt).setActiveEditor(Ut)}enableClick(){this.div.addEventListener("pointerdown",an(this,dt)),this.div.addEventListener("pointerup",an(this,lt))}disableClick(){this.div.removeEventListener("pointerdown",an(this,dt)),this.div.removeEventListener("pointerup",an(this,lt))}attach(Ut){an(this,ct).set(Ut.id,Ut)}detach(Ut){an(this,ct).delete(Ut.id),this.removePointerInTextLayer(Ut)}remove(Ut){an(this,gt).removeEditor(Ut),this.detach(Ut),this.annotationStorage.removeKey(Ut.id),Ut.div.style.display="none",setTimeout(()=>{Ut.div.style.display="",Ut.div.remove(),Ut.isAttachedToDOM=!1,document.activeElement===document.body&&an(this,gt).focusMainContainer()},0),an(this,pt)||this.addInkEditorIfNeeded(!1)}onTextLayerRendered(){an(this,ht).clear();for(const Ut of an(this,vt))Ut.isAttachedToDOM&&this.addPointerInTextLayer(Ut);an(this,vt).clear()}removePointerInTextLayer(Ut){if(!an(this,_t,tm)){an(this,vt).delete(Ut);return}const{id:Qt}=Ut,Dt=an(this,ht).get(Qt);if(!Dt)return;an(this,ht).delete(Qt);let qt=Dt.getAttribute("aria-owns");qt!=null&&qt.includes(Qt)&&(qt=qt.split(" ").filter(Jt=>Jt!==Qt).join(" "),qt?Dt.setAttribute("aria-owns",qt):(Dt.removeAttribute("aria-owns"),Dt.setAttribute("role","presentation")))}addPointerInTextLayer(Ut){if(!an(this,_t,tm)){an(this,vt).add(Ut);return}this.removePointerInTextLayer(Ut);const Qt=this.textLayerElements;if(!Qt)return;const{contentDiv:Dt}=Ut,qt=Ut.getIdForTextLayer(),Jt=(0,rt.binarySearchFirstItem)(Qt,yn=>{var Yt;return nr(Yt=It,Ct,sp).call(Yt,Dt,yn)<0}),on=Qt[Math.max(0,Jt-1)],tn=on.getAttribute("aria-owns");tn!=null&&tn.includes(qt)||on.setAttribute("aria-owns",tn?`${tn} ${qt}`:qt),on.removeAttribute("role"),an(this,ht).set(qt,on)}moveDivInDOM(Ut){this.addPointerInTextLayer(Ut);const{div:Qt,contentDiv:Dt}=Ut;if(!this.div.hasChildNodes()){this.div.append(Qt);return}const qt=Array.from(this.div.childNodes).filter(on=>on!==Qt);if(qt.length===0)return;const Jt=(0,rt.binarySearchFirstItem)(qt,on=>{var tn;return nr(tn=It,Ct,sp).call(tn,Dt,on)<0});Jt===0?qt[0].before(Qt):qt[Jt-1].after(Qt)}add(Ut){if(nr(this,xt,nm).call(this,Ut),this.addToAnnotationStorage(Ut),an(this,gt).addEditor(Ut),this.attach(Ut),!Ut.isAttachedToDOM){const Qt=Ut.render();this.div.append(Qt),Ut.isAttachedToDOM=!0}this.moveDivInDOM(Ut),Ut.onceAdded()}addToAnnotationStorage(Ut){!Ut.isEmpty()&&!this.annotationStorage.has(Ut.id)&&this.annotationStorage.setValue(Ut.id,Ut)}addOrRebuild(Ut){Ut.needsToBeRebuilt()?Ut.rebuild():this.add(Ut)}addANewEditor(Ut){const Qt=()=>{this.addOrRebuild(Ut)},Dt=()=>{Ut.remove()};this.addCommands({cmd:Qt,undo:Dt,mustExec:!0})}addUndoableEditor(Ut){const Qt=()=>{this.addOrRebuild(Ut)},Dt=()=>{Ut.remove()};this.addCommands({cmd:Qt,undo:Dt,mustExec:!1})}getNextId(){return an(this,gt).getId()}deserialize(Ut){switch(Ut.annotationType){case tt.AnnotationEditorType.FREETEXT:return it.FreeTextEditor.deserialize(Ut,this);case tt.AnnotationEditorType.INK:return st.InkEditor.deserialize(Ut,this)}return null}setSelected(Ut){an(this,gt).setSelected(Ut)}toggleSelected(Ut){an(this,gt).toggleSelected(Ut)}isSelected(Ut){return an(this,gt).isSelected(Ut)}unselect(Ut){an(this,gt).unselect(Ut)}pointerup(Ut){const Qt=nt.KeyboardManager.platform.isMac;if(!(Ut.button!==0||Ut.ctrlKey&&Qt)&&Ut.target===this.div){if(!an(this,at)){dr(this,at,!0);return}nr(this,Tt,rm).call(this,Ut)}}pointerdown(Ut){const Qt=nt.KeyboardManager.platform.isMac;if(Ut.button!==0||Ut.ctrlKey&&Qt||Ut.target!==this.div)return;const Dt=an(this,gt).getActive();dr(this,at,!Dt||Dt.isEmpty())}drop(Ut){const Qt=Ut.dataTransfer.getData("text/plain"),Dt=an(this,gt).getEditor(Qt);if(!Dt)return;Ut.preventDefault(),Ut.dataTransfer.dropEffect="move",nr(this,xt,nm).call(this,Dt);const qt=this.div.getBoundingClientRect(),Jt=Ut.clientX-qt.x,on=Ut.clientY-qt.y;Dt.translate(Jt-Dt.startX,on-Dt.startY),this.moveDivInDOM(Dt),Dt.div.focus()}dragover(Ut){Ut.preventDefault()}destroy(){var Ut;((Ut=an(this,gt).getActive())==null?void 0:Ut.parent)===this&&an(this,gt).setActiveEditor(null);for(const Qt of an(this,ct).values())this.removePointerInTextLayer(Qt),Qt.isAttachedToDOM=!1,Qt.div.remove(),Qt.parent=null;an(this,ht).clear(),this.div=null,an(this,ct).clear(),an(this,vt).clear(),an(this,gt).removeLayer(this)}render(Ut){this.viewport=Ut.viewport,(0,nt.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Qt of an(this,gt).getEditors(this.pageIndex))this.add(Qt);this.updateMode()}update(Ut){this.viewport=Ut.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[Ut,Qt,Dt,qt]=this.viewport.viewBox,Jt=Dt-Ut,on=qt-Qt;return[Jt,on]}get viewportBaseDimensions(){const{width:Ut,height:Qt,rotation:Dt}=this.viewport;return Dt%180===0?[Ut,Qt]:[Qt,Ut]}setDimensions(){const{width:Ut,height:Qt,rotation:Dt}=this.viewport,qt=Dt%180!==0,Jt=Math.floor(Ut)+"px",on=Math.floor(Qt)+"px";this.div.style.width=qt?on:Jt,this.div.style.height=qt?Jt:on,this.div.setAttribute("data-main-rotation",Dt)}};let ot=It;at=new WeakMap,lt=new WeakMap,dt=new WeakMap,ct=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakMap,gt=new WeakMap,vt=new WeakMap,_t=new WeakSet,tm=function(){return!!this.div.parentNode.querySelector(".textLayer .endOfContent")},xt=new WeakSet,nm=function(Ut){var Qt;Ut.parent!==this&&(this.attach(Ut),Ut.pageIndex=this.pageIndex,(Qt=Ut.parent)==null||Qt.detach(Ut),Ut.parent=this,Ut.div&&Ut.isAttachedToDOM&&(Ut.div.remove(),this.div.append(Ut.div)))},Ct=new WeakSet,sp=function(Ut,Qt){const Dt=Ut.getBoundingClientRect(),qt=Qt.getBoundingClientRect();if(Dt.y+Dt.height<=qt.y)return-1;if(qt.y+qt.height<=Dt.y)return 1;const Jt=Dt.x+Dt.width/2,on=qt.x+qt.width/2;return Jt-on},bt=new WeakSet,A0=function(Ut){switch(an(this,gt).getMode()){case tt.AnnotationEditorType.FREETEXT:return new it.FreeTextEditor(Ut);case tt.AnnotationEditorType.INK:return new st.InkEditor(Ut)}return null},Tt=new WeakSet,rm=function(Ut){const Qt=this.getNextId(),Dt=nr(this,bt,A0).call(this,{parent:this,id:Qt,x:Ut.offsetX,y:Ut.offsetY});return Dt&&this.add(Dt),Dt},Gt=new WeakSet,E0=function(){dr(this,pt,!0);for(const Ut of an(this,ct).values())Ut.isEmpty()&&Ut.remove();dr(this,pt,!1)},Zn(ot,Ct),ro(ot,"_initialized",!1),$.AnnotationEditorLayer=ot},(et,$,_e)=>{var st,ot,at,lt,dt,ct,pt,mt,ht,M0,vt,C0,yt,w0,At,im;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var tt=_e(1),nt=_e(9),rt=_e(8);const Pt=class extends rt.AnnotationEditor{constructor(Tt){super({...Tt,name:"freeTextEditor"});Zn(this,ht);Zn(this,vt);Zn(this,yt);Zn(this,At);Zn(this,st,this.editorDivBlur.bind(this));Zn(this,ot,this.editorDivFocus.bind(this));Zn(this,at,this.editorDivKeydown.bind(this));Zn(this,lt,void 0);Zn(this,dt,"");Zn(this,ct,"");Zn(this,pt,!1);Zn(this,mt,void 0);dr(this,lt,Tt.color||Pt._defaultColor||rt.AnnotationEditor._defaultLineColor),dr(this,mt,Tt.fontSize||Pt._defaultFontSize)}static initialize(Tt){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(Gt=>[Gt,Tt.get(Gt)]));const Ft=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ft.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Tt,Ft){switch(Tt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:Pt._defaultFontSize=Ft;break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:Pt._defaultColor=Ft;break}}updateParams(Tt,Ft){switch(Tt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:nr(this,ht,M0).call(this,Ft);break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:nr(this,vt,C0).call(this,Ft);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,Pt._defaultFontSize],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,Pt._defaultColor||rt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,an(this,mt)],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,an(this,lt)]]}getInitialTranslation(){return[-Pt._internalPadding*this.parent.scaleFactor,-(Pt._internalPadding+an(this,mt))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(tt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",an(this,at)),this.editorDiv.addEventListener("focus",an(this,ot)),this.editorDiv.addEventListener("blur",an(this,st)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",an(this,at)),this.editorDiv.removeEventListener("focus",an(this,ot)),this.editorDiv.removeEventListener("blur",an(this,st)),this.div.focus(),this.isEditing=!1)}focusin(Tt){super.focusin(Tt),Tt.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),an(this,pt)||(dr(this,pt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),dr(this,ct,this.editorDiv.innerHTML),dr(this,dt,nr(this,yt,w0).call(this).trimEnd()),nr(this,At,im).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Tt){this.enableEditMode(),this.editorDiv.focus()}keydown(Tt){Tt.target===this.div&&Tt.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Tt){Pt._keyboardManager.exec(this,Tt)}editorDivFocus(Tt){this.isEditing=!0}editorDivBlur(Tt){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}getIdForTextLayer(){return this.editorDiv.id}render(){if(this.div)return this.div;let Tt,Ft;this.width&&(Tt=this.x,Ft=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),Pt._l10nPromise.get("editor_free_text_aria_label").then(Wt=>{var It;return(It=this.editorDiv)==null?void 0:It.setAttribute("aria-label",Wt)}),Pt._l10nPromise.get("free_text_default_content").then(Wt=>{var It;return(It=this.editorDiv)==null?void 0:It.setAttribute("default-content",Wt)}),this.editorDiv.contentEditable=!0;const{style:Gt}=this.editorDiv;if(Gt.fontSize=`calc(${an(this,mt)}px * var(--scale-factor))`,Gt.color=an(this,lt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Wt,It]=this.parent.viewportBaseDimensions;this.setAt(Tt*Wt,Ft*It,this.width*Wt,this.height*It),this.editorDiv.innerHTML=an(this,ct),this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Tt,Ft){const Gt=super.deserialize(Tt,Ft);return dr(Gt,mt,Tt.fontSize),dr(Gt,lt,tt.Util.makeHexColor(...Tt.color)),dr(Gt,dt,Tt.value),dr(Gt,ct,Tt.value.split(`
`).map(Wt=>`<div>${Wt}</div>`).join("")),Gt}serialize(){if(this.isEmpty())return null;const Tt=Pt._internalPadding*this.parent.scaleFactor,Ft=this.getRect(Tt,Tt),Gt=rt.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:tt.AnnotationEditorType.FREETEXT,color:Gt,fontSize:an(this,mt),value:an(this,dt),pageIndex:this.parent.pageIndex,rect:Ft,rotation:this.rotation}}};let it=Pt;st=new WeakMap,ot=new WeakMap,at=new WeakMap,lt=new WeakMap,dt=new WeakMap,ct=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakSet,M0=function(Tt){const Ft=Wt=>{this.editorDiv.style.fontSize=`calc(${Wt}px * var(--scale-factor))`,this.translate(0,-(Wt-an(this,mt))*this.parent.scaleFactor),dr(this,mt,Wt),nr(this,At,im).call(this)},Gt=an(this,mt);this.parent.addCommands({cmd:()=>{Ft(Tt)},undo:()=>{Ft(Gt)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},vt=new WeakSet,C0=function(Tt){const Ft=an(this,lt);this.parent.addCommands({cmd:()=>{dr(this,lt,Tt),this.editorDiv.style.color=Tt},undo:()=>{dr(this,lt,Ft),this.editorDiv.style.color=Ft},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yt=new WeakSet,w0=function(){const Tt=this.editorDiv.getElementsByTagName("div");if(Tt.length===0)return this.editorDiv.innerText;const Ft=[];for(let Gt=0,Wt=Tt.length;Gt<Wt;Gt++){const Kt=Tt[Gt].firstChild;(Kt==null?void 0:Kt.nodeName)==="#text"?Ft.push(Kt.data):Ft.push("")}return Ft.join(`
`)},At=new WeakSet,im=function(){const[Tt,Ft]=this.parent.viewportBaseDimensions,Gt=this.div.getBoundingClientRect();this.width=Gt.width/Tt,this.height=Gt.height/Ft},ro(it,"_freeTextDefaultContent",""),ro(it,"_l10nPromise"),ro(it,"_internalPadding",0),ro(it,"_defaultColor",null),ro(it,"_defaultFontSize",10),ro(it,"_keyboardManager",new nt.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Pt.prototype.commitOrRemove]])),$.FreeTextEditor=it},(et,$,_e)=>{var at,lt,dt,ct,pt,mt,ht,gt,vt,_t,yt,xt,At,Ct,Pt,T0,Mt,P0,Ft,R0,Wt,L0,Kt,sm,Qt,k0,qt,I0,on,D0,yn,Ko,kt,om,Ht,op,Lt,ap,$t,au,Zt,am,hn,lp,xn,lm,fn,B0,Xn,F0,jt,O0,cn,cm,Un,cp,Kn,lu,ur,um;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return rt.fitCurve}});var tt=_e(1),nt=_e(8),rt=_e(25),it=_e(9);const st=16,Bn=class extends nt.AnnotationEditor{constructor(En){super({...En,name:"inkEditor"});Zn(this,Pt);Zn(this,Mt);Zn(this,Ft);Zn(this,Wt);Zn(this,Kt);Zn(this,Qt);Zn(this,qt);Zn(this,on);Zn(this,yn);Zn(this,kt);Zn(this,Ht);Zn(this,Lt);Zn(this,$t);Zn(this,Zt);Zn(this,hn);Zn(this,fn);Zn(this,Xn);Zn(this,jt);Zn(this,cn);Zn(this,Un);Zn(this,Kn);Zn(this,ur);Zn(this,at,0);Zn(this,lt,0);Zn(this,dt,0);Zn(this,ct,this.canvasPointermove.bind(this));Zn(this,pt,this.canvasPointerleave.bind(this));Zn(this,mt,this.canvasPointerup.bind(this));Zn(this,ht,this.canvasPointerdown.bind(this));Zn(this,gt,!1);Zn(this,vt,!1);Zn(this,_t,null);Zn(this,yt,null);Zn(this,xt,0);Zn(this,At,0);Zn(this,Ct,null);this.color=En.color||null,this.thickness=En.thickness||null,this.opacity=En.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(En){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(On=>[On,En.get(On)]))}static updateDefaultParams(En,On){switch(En){case tt.AnnotationEditorParamsType.INK_THICKNESS:Bn._defaultThickness=On;break;case tt.AnnotationEditorParamsType.INK_COLOR:Bn._defaultColor=On;break;case tt.AnnotationEditorParamsType.INK_OPACITY:Bn._defaultOpacity=On/100;break}}updateParams(En,On){switch(En){case tt.AnnotationEditorParamsType.INK_THICKNESS:nr(this,Pt,T0).call(this,On);break;case tt.AnnotationEditorParamsType.INK_COLOR:nr(this,Mt,P0).call(this,On);break;case tt.AnnotationEditorParamsType.INK_OPACITY:nr(this,Ft,R0).call(this,On);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,Bn._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,Bn._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Bn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Bn._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,this.color||Bn._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Bn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(nr(this,Ht,op).call(this),nr(this,Lt,ap).call(this)),this.isAttachedToDOM||(this.parent.add(this),nr(this,$t,au).call(this)),nr(this,Kn,lu).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,an(this,yt).disconnect(),dr(this,yt,null),super.remove())}enableEditMode(){an(this,gt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",an(this,ht)),this.canvas.addEventListener("pointerup",an(this,mt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",an(this,ht)),this.canvas.removeEventListener("pointerup",an(this,mt)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){an(this,gt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),dr(this,gt,!0),this.div.classList.add("disabled"),nr(this,Kn,lu).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveDivInDOM(this),this.div.focus())}focusin(En){super.focusin(En),this.enableEditMode()}canvasPointerdown(En){En.button!==0||!this.isInEditMode()||an(this,gt)||(this.setInForeground(),En.type!=="mouse"&&this.div.focus(),En.stopPropagation(),this.canvas.addEventListener("pointerleave",an(this,pt)),this.canvas.addEventListener("pointermove",an(this,ct)),nr(this,Qt,k0).call(this,En.offsetX,En.offsetY))}canvasPointermove(En){En.stopPropagation(),nr(this,qt,I0).call(this,En.offsetX,En.offsetY)}canvasPointerup(En){En.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(En.stopPropagation(),nr(this,kt,om).call(this,En),this.setInBackground())}canvasPointerleave(En){nr(this,kt,om).call(this,En),this.setInBackground()}render(){if(this.div)return this.div;let En,On;this.width&&(En=this.x,On=this.y),super.render(),Bn._l10nPromise.get("editor_ink_aria_label").then(Nn=>{var Yn;return(Yn=this.div)==null?void 0:Yn.setAttribute("aria-label",Nn)});const[wn,Xt,rn,Tn]=nr(this,Wt,L0).call(this);if(this.setAt(wn,Xt,0,0),this.setDims(rn,Tn),nr(this,Ht,op).call(this),this.width){const[Nn,Yn]=this.parent.viewportBaseDimensions;this.setAt(En*Nn,On*Yn,this.width*Nn,this.height*Yn),dr(this,vt,!0),nr(this,$t,au).call(this),this.setDims(this.width*Nn,this.height*Yn),nr(this,yn,Ko).call(this),nr(this,ur,um).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return nr(this,Lt,ap).call(this),this.div}setDimensions(En,On){const wn=Math.round(En),Xt=Math.round(On);if(an(this,xt)===wn&&an(this,At)===Xt)return;dr(this,xt,wn),dr(this,At,Xt),this.canvas.style.visibility="hidden",an(this,at)&&Math.abs(an(this,at)-En/On)>.01&&(On=Math.ceil(En/an(this,at)),this.setDims(En,On));const[rn,Tn]=this.parent.viewportBaseDimensions;this.width=En/rn,this.height=On/Tn,an(this,gt)&&nr(this,Zt,am).call(this,En,On),nr(this,$t,au).call(this),nr(this,yn,Ko).call(this),this.canvas.style.visibility="visible"}static deserialize(En,On){var ts,Wr;const wn=super.deserialize(En,On);wn.thickness=En.thickness,wn.color=tt.Util.makeHexColor(...En.color),wn.opacity=En.opacity;const[Xt,rn]=On.pageDimensions,Tn=wn.width*Xt,Nn=wn.height*rn,Yn=On.scaleFactor,hr=En.thickness/2;dr(wn,at,Tn/Nn),dr(wn,gt,!0),dr(wn,xt,Math.round(Tn)),dr(wn,At,Math.round(Nn));for(const{bezier:xr}of En.paths){const ps=[];wn.paths.push(ps);let vs=Yn*(xr[0]-hr),Xs=Yn*(Nn-xr[1]-hr);for(let Ls=2,dn=xr.length;Ls<dn;Ls+=6){const Fn=Yn*(xr[Ls]-hr),jn=Yn*(Nn-xr[Ls+1]-hr),Dn=Yn*(xr[Ls+2]-hr),Hn=Yn*(Nn-xr[Ls+3]-hr),Sr=Yn*(xr[Ls+4]-hr),Or=Yn*(Nn-xr[Ls+5]-hr);ps.push([[vs,Xs],[Fn,jn],[Dn,Hn],[Sr,Or]]),vs=Sr,Xs=Or}const ys=nr(this,xn,lm).call(this,ps);wn.bezierPath2D.push(ys)}const wr=nr(ts=wn,cn,cm).call(ts);return dr(wn,dt,wr[2]-wr[0]),dr(wn,lt,wr[3]-wr[1]),nr(Wr=wn,Zt,am).call(Wr,Tn,Nn),wn}serialize(){if(this.isEmpty())return null;const En=this.getRect(0,0),On=this.rotation%180===0?En[3]-En[1]:En[2]-En[0],wn=nt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tt.AnnotationEditorType.INK,color:wn,thickness:this.thickness,opacity:this.opacity,paths:nr(this,fn,B0).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,On),pageIndex:this.parent.pageIndex,rect:En,rotation:this.rotation}}};let ot=Bn;at=new WeakMap,lt=new WeakMap,dt=new WeakMap,ct=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakMap,gt=new WeakMap,vt=new WeakMap,_t=new WeakMap,yt=new WeakMap,xt=new WeakMap,At=new WeakMap,Ct=new WeakMap,Pt=new WeakSet,T0=function(En){const On=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=En,nr(this,Kn,lu).call(this)},undo:()=>{this.thickness=On,nr(this,Kn,lu).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Mt=new WeakSet,P0=function(En){const On=this.color;this.parent.addCommands({cmd:()=>{this.color=En,nr(this,yn,Ko).call(this)},undo:()=>{this.color=On,nr(this,yn,Ko).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ft=new WeakSet,R0=function(En){En/=100;const On=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=En,nr(this,yn,Ko).call(this)},undo:()=>{this.opacity=On,nr(this,yn,Ko).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Wt=new WeakSet,L0=function(){const{width:En,height:On,rotation:wn}=this.parent.viewport;switch(wn){case 90:return[0,En,En,On];case 180:return[En,On,En,On];case 270:return[On,0,En,On];default:return[0,0,En,On]}},Kt=new WeakSet,sm=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,it.opacityToHex)(this.opacity)}`},Qt=new WeakSet,k0=function(En,On){this.isEditing=!0,an(this,vt)||(dr(this,vt,!0),nr(this,$t,au).call(this),this.thickness||(this.thickness=Bn._defaultThickness),this.color||(this.color=Bn._defaultColor||nt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Bn._defaultOpacity)),this.currentPath.push([En,On]),dr(this,_t,null),nr(this,Kt,sm).call(this),this.ctx.beginPath(),this.ctx.moveTo(En,On),dr(this,Ct,()=>{an(this,Ct)&&(an(this,_t)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):nr(this,yn,Ko).call(this),this.ctx.lineTo(...an(this,_t)),dr(this,_t,null),this.ctx.stroke()),window.requestAnimationFrame(an(this,Ct)))}),window.requestAnimationFrame(an(this,Ct))},qt=new WeakSet,I0=function(En,On){const[wn,Xt]=this.currentPath.at(-1);En===wn&&On===Xt||(this.currentPath.push([En,On]),dr(this,_t,[En,On]))},on=new WeakSet,D0=function(En,On){var hr;this.ctx.closePath(),dr(this,Ct,null),En=Math.min(Math.max(En,0),this.canvas.width),On=Math.min(Math.max(On,0),this.canvas.height);const[wn,Xt]=this.currentPath.at(-1);(En!==wn||On!==Xt)&&this.currentPath.push([En,On]);let rn;if(this.currentPath.length!==1)rn=(0,rt.fitCurve)(this.currentPath,30,null);else{const wr=[En,On];rn=[[wr,wr.slice(),wr.slice(),wr]]}const Tn=nr(hr=Bn,xn,lm).call(hr,rn);this.currentPath.length=0;const Nn=()=>{this.paths.push(rn),this.bezierPath2D.push(Tn),this.rebuild()},Yn=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(nr(this,Ht,op).call(this),nr(this,Lt,ap).call(this)),nr(this,Kn,lu).call(this))};this.parent.addCommands({cmd:Nn,undo:Yn,mustExec:!0})},yn=new WeakSet,Ko=function(){if(this.isEmpty()){nr(this,hn,lp).call(this);return}nr(this,Kt,sm).call(this);const{canvas:En,ctx:On}=this;On.setTransform(1,0,0,1,0,0),On.clearRect(0,0,En.width,En.height),nr(this,hn,lp).call(this);for(const wn of this.bezierPath2D)On.stroke(wn)},kt=new WeakSet,om=function(En){nr(this,on,D0).call(this,En.offsetX,En.offsetY),this.canvas.removeEventListener("pointerleave",an(this,pt)),this.canvas.removeEventListener("pointermove",an(this,ct)),this.parent.addToAnnotationStorage(this)},Ht=new WeakSet,op=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Bn._l10nPromise.get("editor_ink_canvas_aria_label").then(En=>{var On;return(On=this.canvas)==null?void 0:On.setAttribute("aria-label",En)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Lt=new WeakSet,ap=function(){dr(this,yt,new ResizeObserver(En=>{const On=En[0].contentRect;On.width&&On.height&&this.setDimensions(On.width,On.height)})),an(this,yt).observe(this.div)},$t=new WeakSet,au=function(){if(!an(this,vt))return;const[En,On]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*En),this.canvas.height=Math.ceil(this.height*On),nr(this,hn,lp).call(this)},Zt=new WeakSet,am=function(En,On){const wn=nr(this,Un,cp).call(this),Xt=(En-wn)/an(this,dt),rn=(On-wn)/an(this,lt);this.scaleFactor=Math.min(Xt,rn)},hn=new WeakSet,lp=function(){const En=nr(this,Un,cp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+En,this.translationY*this.scaleFactor+En)},xn=new WeakSet,lm=function(En){const On=new Path2D;for(let wn=0,Xt=En.length;wn<Xt;wn++){const[rn,Tn,Nn,Yn]=En[wn];wn===0&&On.moveTo(...rn),On.bezierCurveTo(Tn[0],Tn[1],Nn[0],Nn[1],Yn[0],Yn[1])}return On},fn=new WeakSet,B0=function(En,On,wn,Xt){const Tn=[],Nn=this.thickness/2;let Yn,hr;for(const wr of this.paths){Yn=[],hr=[];for(let ts=0,Wr=wr.length;ts<Wr;ts++){const[xr,ps,vs,Xs]=wr[ts],ys=En*(xr[0]+On)+Nn,Ls=Xt-En*(xr[1]+wn)-Nn,dn=En*(ps[0]+On)+Nn,Fn=Xt-En*(ps[1]+wn)-Nn,jn=En*(vs[0]+On)+Nn,Dn=Xt-En*(vs[1]+wn)-Nn,Hn=En*(Xs[0]+On)+Nn,Sr=Xt-En*(Xs[1]+wn)-Nn;ts===0&&(Yn.push(ys,Ls),hr.push(ys,Ls)),Yn.push(dn,Fn,jn,Dn,Hn,Sr),nr(this,Xn,F0).call(this,ys,Ls,dn,Fn,jn,Dn,Hn,Sr,4,hr)}Tn.push({bezier:Yn,points:hr})}return Tn},Xn=new WeakSet,F0=function(En,On,wn,Xt,rn,Tn,Nn,Yn,hr,wr){if(nr(this,jt,O0).call(this,En,On,wn,Xt,rn,Tn,Nn,Yn)){wr.push(Nn,Yn);return}for(let ts=1;ts<hr-1;ts++){const Wr=ts/hr,xr=1-Wr;let ps=Wr*En+xr*wn,vs=Wr*On+xr*Xt,Xs=Wr*wn+xr*rn,ys=Wr*Xt+xr*Tn;const Ls=Wr*rn+xr*Nn,dn=Wr*Tn+xr*Yn;ps=Wr*ps+xr*Xs,vs=Wr*vs+xr*ys,Xs=Wr*Xs+xr*Ls,ys=Wr*ys+xr*dn,ps=Wr*ps+xr*Xs,vs=Wr*vs+xr*ys,wr.push(ps,vs)}wr.push(Nn,Yn)},jt=new WeakSet,O0=function(En,On,wn,Xt,rn,Tn,Nn,Yn){const wr=(3*wn-2*En-Nn)**2,ts=(3*Xt-2*On-Yn)**2,Wr=(3*rn-En-2*Nn)**2,xr=(3*Tn-On-2*Yn)**2;return Math.max(wr,Wr)+Math.max(ts,xr)<=10},cn=new WeakSet,cm=function(){let En=1/0,On=-1/0,wn=1/0,Xt=-1/0;for(const rn of this.paths)for(const[Tn,Nn,Yn,hr]of rn){const wr=tt.Util.bezierBoundingBox(...Tn,...Nn,...Yn,...hr);En=Math.min(En,wr[0]),wn=Math.min(wn,wr[1]),On=Math.max(On,wr[2]),Xt=Math.max(Xt,wr[3])}return[En,wn,On,Xt]},Un=new WeakSet,cp=function(){return an(this,gt)?Math.ceil(this.thickness*this.parent.scaleFactor):0},Kn=new WeakSet,lu=function(En=!1){if(this.isEmpty())return;if(!an(this,gt)){nr(this,yn,Ko).call(this);return}const On=nr(this,cn,cm).call(this),wn=nr(this,Un,cp).call(this);dr(this,dt,Math.max(st,On[2]-On[0])),dr(this,lt,Math.max(st,On[3]-On[1]));const Xt=Math.ceil(wn+an(this,dt)*this.scaleFactor),rn=Math.ceil(wn+an(this,lt)*this.scaleFactor),[Tn,Nn]=this.parent.viewportBaseDimensions;this.width=Xt/Tn,this.height=rn/Nn,dr(this,at,Xt/rn),nr(this,ur,um).call(this);const Yn=this.translationX,hr=this.translationY;this.translationX=-On[0],this.translationY=-On[1],nr(this,$t,au).call(this),nr(this,yn,Ko).call(this),dr(this,xt,Xt),dr(this,At,rn),this.setDims(Xt,rn);const wr=En?wn/this.scaleFactor/2:0;this.translate(Yn-this.translationX-wr,hr-this.translationY-wr)},ur=new WeakSet,um=function(){const{style:En}=this.div;an(this,at)>=1?(En.minHeight=`${st}px`,En.minWidth=`${Math.round(an(this,at)*st)}px`):(En.minWidth=`${st}px`,En.minHeight=`${Math.round(st/an(this,at))}px`)},Zn(ot,xn),ro(ot,"_defaultColor",null),ro(ot,"_defaultOpacity",1),ro(ot,"_defaultThickness",1),ro(ot,"_l10nPromise"),$.InkEditor=ot},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const tt=_e(26);$.fitCurve=tt},et=>{function $(mt,ht,gt){if(!Array.isArray(mt))throw new TypeError("First argument should be an array");if(mt.forEach(xt=>{if(!Array.isArray(xt)||xt.some(At=>typeof At!="number")||xt.length!==mt[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),mt=mt.filter((xt,At)=>At===0||!xt.every((Ct,Pt)=>Ct===mt[At-1][Pt])),mt.length<2)return[];const vt=mt.length,_t=dt(mt[1],mt[0]),yt=dt(mt[vt-2],mt[vt-1]);return _e(mt,_t,yt,ht,gt)}function _e(mt,ht,gt,vt,_t){var xt,At,Ct,Pt,bt,Mt,Tt,Ft,Gt,Wt,It,Kt,Ut;if(mt.length===2)return Kt=ct.vectorLen(ct.subtract(mt[0],mt[1]))/3,xt=[mt[0],ct.addArrays(mt[0],ct.mulItems(ht,Kt)),ct.addArrays(mt[1],ct.mulItems(gt,Kt)),mt[1]],[xt];if(At=st(mt),[xt,Pt,Mt]=tt(mt,At,At,ht,gt,_t),Pt===0||Pt<vt)return[xt];if(Pt<vt*vt)for(Ct=At,bt=Pt,Tt=Mt,Ut=0;Ut<20;Ut++){if(Ct=rt(xt,mt,Ct),[xt,Pt,Mt]=tt(mt,At,Ct,ht,gt,_t),Pt<vt)return[xt];if(Mt===Tt){let Qt=Pt/bt;if(Qt>.9999&&Qt<1.0001)break}bt=Pt,Tt=Mt}return It=[],Ft=ct.subtract(mt[Mt-1],mt[Mt+1]),Ft.every(Qt=>Qt===0)&&(Ft=ct.subtract(mt[Mt-1],mt[Mt]),[Ft[0],Ft[1]]=[-Ft[1],Ft[0]]),Gt=ct.normalize(Ft),Wt=ct.mulItems(Gt,-1),It=It.concat(_e(mt.slice(0,Mt+1),ht,Gt,vt,_t)),It=It.concat(_e(mt.slice(Mt),Wt,gt,vt,_t)),It}function tt(mt,ht,gt,vt,_t,yt){var xt,At,Ct;return xt=nt(mt,gt,vt,_t),[At,Ct]=ot(mt,xt,ht),yt&&yt({bez:xt,points:mt,params:ht,maxErr:At,maxPoint:Ct}),[xt,At,Ct]}function nt(mt,ht,gt,vt){var _t,yt,xt,At,Ct,Pt,bt,Mt,Tt,Ft,Gt,Wt,It,Kt,Ut,Qt,Dt,qt=mt[0],Jt=mt[mt.length-1];for(_t=[qt,null,null,Jt],yt=ct.zeros_Xx2x2(ht.length),It=0,Kt=ht.length;It<Kt;It++)Qt=ht[It],Dt=1-Qt,xt=yt[It],xt[0]=ct.mulItems(gt,3*Qt*(Dt*Dt)),xt[1]=ct.mulItems(vt,3*Dt*(Qt*Qt));for(At=[[0,0],[0,0]],Ct=[0,0],It=0,Kt=mt.length;It<Kt;It++)Qt=ht[It],xt=yt[It],At[0][0]+=ct.dot(xt[0],xt[0]),At[0][1]+=ct.dot(xt[0],xt[1]),At[1][0]+=ct.dot(xt[0],xt[1]),At[1][1]+=ct.dot(xt[1],xt[1]),Ut=ct.subtract(mt[It],pt.q([qt,qt,Jt,Jt],Qt)),Ct[0]+=ct.dot(xt[0],Ut),Ct[1]+=ct.dot(xt[1],Ut);return Pt=At[0][0]*At[1][1]-At[1][0]*At[0][1],bt=At[0][0]*Ct[1]-At[1][0]*Ct[0],Mt=Ct[0]*At[1][1]-Ct[1]*At[0][1],Tt=Pt===0?0:Mt/Pt,Ft=Pt===0?0:bt/Pt,Wt=ct.vectorLen(ct.subtract(qt,Jt)),Gt=1e-6*Wt,Tt<Gt||Ft<Gt?(_t[1]=ct.addArrays(qt,ct.mulItems(gt,Wt/3)),_t[2]=ct.addArrays(Jt,ct.mulItems(vt,Wt/3))):(_t[1]=ct.addArrays(qt,ct.mulItems(gt,Tt)),_t[2]=ct.addArrays(Jt,ct.mulItems(vt,Ft))),_t}function rt(mt,ht,gt){return gt.map((vt,_t)=>it(mt,ht[_t],vt))}function it(mt,ht,gt){var vt=ct.subtract(pt.q(mt,gt),ht),_t=pt.qprime(mt,gt),yt=ct.mulMatrix(vt,_t),xt=ct.sum(ct.squareItems(_t))+2*ct.mulMatrix(vt,pt.qprimeprime(mt,gt));return xt===0?gt:gt-yt/xt}function st(mt){var ht=[],gt,vt,_t;return mt.forEach((yt,xt)=>{gt=xt?vt+ct.vectorLen(ct.subtract(yt,_t)):0,ht.push(gt),vt=gt,_t=yt}),ht=ht.map(yt=>yt/vt),ht}function ot(mt,ht,gt){var vt,_t,yt,xt,At,Ct,Pt,bt;_t=0,yt=Math.floor(mt.length/2);const Mt=at(ht,10);for(At=0,Ct=mt.length;At<Ct;At++)Pt=mt[At],bt=lt(ht,gt[At],Mt,10),xt=ct.subtract(pt.q(ht,bt),Pt),vt=xt[0]*xt[0]+xt[1]*xt[1],vt>_t&&(_t=vt,yt=At);return[_t,yt]}var at=function(mt,ht){for(var gt,vt=[0],_t=mt[0],yt=0,xt=1;xt<=ht;xt++)gt=pt.q(mt,xt/ht),yt+=ct.vectorLen(ct.subtract(gt,_t)),vt.push(yt),_t=gt;return vt=vt.map(At=>At/yt),vt};function lt(mt,ht,gt,vt){if(ht<0)return 0;if(ht>1)return 1;for(var _t,yt,xt,At,Ct,Pt=1;Pt<=vt;Pt++)if(ht<=gt[Pt]){At=(Pt-1)/vt,xt=Pt/vt,yt=gt[Pt-1],_t=gt[Pt],Ct=(ht-yt)/(_t-yt)*(xt-At)+At;break}return Ct}function dt(mt,ht){return ct.normalize(ct.subtract(mt,ht))}class ct{static zeros_Xx2x2(ht){for(var gt=[];ht--;)gt.push([0,0]);return gt}static mulItems(ht,gt){return ht.map(vt=>vt*gt)}static mulMatrix(ht,gt){return ht.reduce((vt,_t,yt)=>vt+_t*gt[yt],0)}static subtract(ht,gt){return ht.map((vt,_t)=>vt-gt[_t])}static addArrays(ht,gt){return ht.map((vt,_t)=>vt+gt[_t])}static addItems(ht,gt){return ht.map(vt=>vt+gt)}static sum(ht){return ht.reduce((gt,vt)=>gt+vt)}static dot(ht,gt){return ct.mulMatrix(ht,gt)}static vectorLen(ht){return Math.hypot(...ht)}static divItems(ht,gt){return ht.map(vt=>vt/gt)}static squareItems(ht){return ht.map(gt=>gt*gt)}static normalize(ht){return this.divItems(ht,this.vectorLen(ht))}}class pt{static q(ht,gt){var vt=1-gt,_t=ct.mulItems(ht[0],vt*vt*vt),yt=ct.mulItems(ht[1],3*vt*vt*gt),xt=ct.mulItems(ht[2],3*vt*gt*gt),At=ct.mulItems(ht[3],gt*gt*gt);return ct.addArrays(ct.addArrays(_t,yt),ct.addArrays(xt,At))}static qprime(ht,gt){var vt=1-gt,_t=ct.mulItems(ct.subtract(ht[1],ht[0]),3*vt*vt),yt=ct.mulItems(ct.subtract(ht[2],ht[1]),6*vt*gt),xt=ct.mulItems(ct.subtract(ht[3],ht[2]),3*gt*gt);return ct.addArrays(ct.addArrays(_t,yt),xt)}static qprimeprime(ht,gt){return ct.addArrays(ct.mulItems(ct.addArrays(ct.subtract(ht[2],ct.mulItems(ht[1],2)),ht[0]),6*(1-gt)),ct.mulItems(ct.addArrays(ct.subtract(ht[3],ct.mulItems(ht[2],2)),ht[1]),6*gt))}}et.exports=$,et.exports.fitCubic=_e,et.exports.createTangent=dt},(et,$,_e)=>{var yn,dm,kt,hm;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var tt=_e(1),nt=_e(4),rt=_e(7),it=_e(28),st=_e(29);const ot=1e3,at=9,lt=new WeakSet;function dt(Ht){return{width:Ht[2]-Ht[0],height:Ht[3]-Ht[1]}}class ct{static create(wt){switch(wt.data.annotationType){case tt.AnnotationType.LINK:return new mt(wt);case tt.AnnotationType.TEXT:return new ht(wt);case tt.AnnotationType.WIDGET:switch(wt.data.fieldType){case"Tx":return new vt(wt);case"Btn":return wt.data.radioButton?new yt(wt):wt.data.checkBox?new _t(wt):new xt(wt);case"Ch":return new At(wt)}return new gt(wt);case tt.AnnotationType.POPUP:return new Ct(wt);case tt.AnnotationType.FREETEXT:return new bt(wt);case tt.AnnotationType.LINE:return new Mt(wt);case tt.AnnotationType.SQUARE:return new Tt(wt);case tt.AnnotationType.CIRCLE:return new Ft(wt);case tt.AnnotationType.POLYLINE:return new Gt(wt);case tt.AnnotationType.CARET:return new It(wt);case tt.AnnotationType.INK:return new Kt(wt);case tt.AnnotationType.POLYGON:return new Wt(wt);case tt.AnnotationType.HIGHLIGHT:return new Ut(wt);case tt.AnnotationType.UNDERLINE:return new Qt(wt);case tt.AnnotationType.SQUIGGLY:return new Dt(wt);case tt.AnnotationType.STRIKEOUT:return new qt(wt);case tt.AnnotationType.STAMP:return new Jt(wt);case tt.AnnotationType.FILEATTACHMENT:return new on(wt);default:return new pt(wt)}}}class pt{constructor(wt,{isRenderable:Lt=!1,ignoreBorder:Ot=!1,createQuadrilaterals:$t=!1}={}){this.isRenderable=Lt,this.data=wt.data,this.layer=wt.layer,this.page=wt.page,this.viewport=wt.viewport,this.linkService=wt.linkService,this.downloadManager=wt.downloadManager,this.imageResourcesPath=wt.imageResourcesPath,this.renderForms=wt.renderForms,this.svgFactory=wt.svgFactory,this.annotationStorage=wt.annotationStorage,this.enableScripting=wt.enableScripting,this.hasJSActions=wt.hasJSActions,this._fieldObjects=wt.fieldObjects,this._mouseState=wt.mouseState,Lt&&(this.container=this._createContainer(Ot)),$t&&(this.quadrilaterals=this._createQuadrilaterals(Ot))}_createContainer(wt=!1){const Lt=this.data,Ot=this.page,$t=this.viewport,Vt=document.createElement("section"),{width:Zt,height:sn}=dt(Lt.rect),[hn,ln,xn,un]=$t.viewBox,fn=xn-hn,Gn=un-ln;Vt.setAttribute("data-annotation-id",Lt.id);const Xn=tt.Util.normalizeRect([Lt.rect[0],Ot.view[3]-Lt.rect[1]+Ot.view[1],Lt.rect[2],Ot.view[3]-Lt.rect[3]+Ot.view[1]]);if(!wt&&Lt.borderStyle.width>0){Vt.style.borderWidth=`${Lt.borderStyle.width}px`;const jt=Lt.borderStyle.horizontalCornerRadius,Mn=Lt.borderStyle.verticalCornerRadius;if(jt>0||Mn>0){const _n=`calc(${jt}px * var(--scale-factor)) / calc(${Mn}px * var(--scale-factor))`;Vt.style.borderRadius=_n}switch(Lt.borderStyle.style){case tt.AnnotationBorderStyleType.SOLID:Vt.style.borderStyle="solid";break;case tt.AnnotationBorderStyleType.DASHED:Vt.style.borderStyle="dashed";break;case tt.AnnotationBorderStyleType.BEVELED:(0,tt.warn)("Unimplemented border style: beveled");break;case tt.AnnotationBorderStyleType.INSET:(0,tt.warn)("Unimplemented border style: inset");break;case tt.AnnotationBorderStyleType.UNDERLINE:Vt.style.borderBottomStyle="solid";break}const cn=Lt.borderColor||null;cn?Vt.style.borderColor=tt.Util.makeHexColor(cn[0]|0,cn[1]|0,cn[2]|0):Vt.style.borderWidth=0}Vt.style.left=`${100*(Xn[0]-hn)/fn}%`,Vt.style.top=`${100*(Xn[1]-ln)/Gn}%`;const{rotation:nn}=Lt;return Lt.hasOwnCanvas||nn===0?(Vt.style.width=`${100*Zt/fn}%`,Vt.style.height=`${100*sn/Gn}%`):this.setRotation(nn,Vt),Vt}setRotation(wt,Lt=this.container){const[Ot,$t,Vt,Zt]=this.viewport.viewBox,sn=Vt-Ot,hn=Zt-$t,{width:ln,height:xn}=dt(this.data.rect);let un,fn;wt%180===0?(un=100*ln/sn,fn=100*xn/hn):(un=100*xn/sn,fn=100*ln/hn),Lt.style.width=`${un}%`,Lt.style.height=`${fn}%`,Lt.setAttribute("data-main-rotation",(360-wt)%360)}get _commonActions(){const wt=(Lt,Ot,$t)=>{const Vt=$t.detail[Lt];$t.target.style[Ot]=it.ColorConverters[`${Vt[0]}_HTML`](Vt.slice(1))};return(0,tt.shadow)(this,"_commonActions",{display:Lt=>{const Ot=Lt.detail.display%2===1;this.container.style.visibility=Ot?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Ot,print:Lt.detail.display===0||Lt.detail.display===3})},print:Lt=>{this.annotationStorage.setValue(this.data.id,{print:Lt.detail.print})},hidden:Lt=>{this.container.style.visibility=Lt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Lt.detail.hidden})},focus:Lt=>{setTimeout(()=>Lt.target.focus({preventScroll:!1}),0)},userName:Lt=>{Lt.target.title=Lt.detail.userName},readonly:Lt=>{Lt.detail.readonly?Lt.target.setAttribute("readonly",""):Lt.target.removeAttribute("readonly")},required:Lt=>{this._setRequired(Lt.target,Lt.detail.required)},bgColor:Lt=>{wt("bgColor","backgroundColor",Lt)},fillColor:Lt=>{wt("fillColor","backgroundColor",Lt)},fgColor:Lt=>{wt("fgColor","color",Lt)},textColor:Lt=>{wt("textColor","color",Lt)},borderColor:Lt=>{wt("borderColor","borderColor",Lt)},strokeColor:Lt=>{wt("strokeColor","borderColor",Lt)},rotation:Lt=>{const Ot=Lt.detail.rotation;this.setRotation(Ot),this.annotationStorage.setValue(this.data.id,{rotation:Ot})}})}_dispatchEventFromSandbox(wt,Lt){const Ot=this._commonActions;for(const $t of Object.keys(Lt.detail)){const Vt=wt[$t]||Ot[$t];Vt&&Vt(Lt)}}_setDefaultPropertiesFromJS(wt){if(!this.enableScripting)return;const Lt=this.annotationStorage.getRawValue(this.data.id);if(!Lt)return;const Ot=this._commonActions;for(const[$t,Vt]of Object.entries(Lt)){const Zt=Ot[$t];Zt&&(Zt({detail:Vt,target:wt}),delete Lt[$t])}}_createQuadrilaterals(wt=!1){if(!this.data.quadPoints)return null;const Lt=[],Ot=this.data.rect;for(const $t of this.data.quadPoints)this.data.rect=[$t[2].x,$t[2].y,$t[1].x,$t[1].y],Lt.push(this._createContainer(wt));return this.data.rect=Ot,Lt}_createPopup(wt,Lt){let Ot=this.container;this.quadrilaterals&&(wt=wt||this.quadrilaterals,Ot=this.quadrilaterals[0]),wt||(wt=document.createElement("div"),wt.className="popupTriggerArea",Ot.append(wt));const Vt=new Pt({container:Ot,trigger:wt,color:Lt.color,titleObj:Lt.titleObj,modificationDate:Lt.modificationDate,contentsObj:Lt.contentsObj,richText:Lt.richText,hideWrapper:!0}).render();Vt.style.left="100%",Ot.append(Vt)}_renderQuadrilaterals(wt){for(const Lt of this.quadrilaterals)Lt.className=wt;return this.quadrilaterals}render(){(0,tt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(wt,Lt=null){const Ot=[];if(this._fieldObjects){const $t=this._fieldObjects[wt];if($t)for(const{page:Vt,id:Zt,exportValues:sn}of $t){if(Vt===-1||Zt===Lt)continue;const hn=typeof sn=="string"?sn:null,ln=document.querySelector(`[data-element-id="${Zt}"]`);if(ln&&!lt.has(ln)){(0,tt.warn)(`_getElementsByName - element not allowed: ${Zt}`);continue}Ot.push({id:Zt,exportValue:hn,domElement:ln})}return Ot}for(const $t of document.getElementsByName(wt)){const{id:Vt,exportValue:Zt}=$t;Vt!==Lt&&lt.has($t)&&Ot.push({id:Vt,exportValue:Zt,domElement:$t})}return Ot}static get platform(){const wt=typeof navigator<"u"?navigator.platform:"";return(0,tt.shadow)(this,"platform",{isWin:wt.includes("Win"),isMac:wt.includes("Mac")})}}class mt extends pt{constructor(wt,Lt=null){super(wt,{isRenderable:!0,ignoreBorder:!!(Lt!=null&&Lt.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=wt.data.isTooltipOnly}render(){const{data:wt,linkService:Lt}=this,Ot=document.createElement("a");Ot.setAttribute("data-element-id",wt.id);let $t=!1;return wt.url?(Lt.addLinkAttributes(Ot,wt.url,wt.newWindow),$t=!0):wt.action?(this._bindNamedAction(Ot,wt.action),$t=!0):wt.dest?(this._bindLink(Ot,wt.dest),$t=!0):(wt.actions&&(wt.actions.Action||wt.actions["Mouse Up"]||wt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ot,wt),$t=!0),wt.resetForm?(this._bindResetFormAction(Ot,wt.resetForm),$t=!0):this.isTooltipOnly&&!$t&&(this._bindLink(Ot,""),$t=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Vt,Zt)=>{const sn=Zt===0?Ot:Ot.cloneNode();return Vt.append(sn),Vt}):(this.container.className="linkAnnotation",$t&&this.container.append(Ot),this.container)}_bindLink(wt,Lt){wt.href=this.linkService.getDestinationHash(Lt),wt.onclick=()=>(Lt&&this.linkService.goToDestination(Lt),!1),(Lt||Lt==="")&&(wt.className="internalLink")}_bindNamedAction(wt,Lt){wt.href=this.linkService.getAnchorUrl(""),wt.onclick=()=>(this.linkService.executeNamedAction(Lt),!1),wt.className="internalLink"}_bindJSAction(wt,Lt){wt.href=this.linkService.getAnchorUrl("");const Ot=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $t of Object.keys(Lt.actions)){const Vt=Ot.get($t);Vt&&(wt[Vt]=()=>{var Zt;return(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt.id,name:$t}}),!1})}wt.onclick||(wt.onclick=()=>!1),wt.className="internalLink"}_bindResetFormAction(wt,Lt){const Ot=wt.onclick;if(Ot||(wt.href=this.linkService.getAnchorUrl("")),wt.className="internalLink",!this._fieldObjects){(0,tt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ot||(wt.onclick=()=>!1);return}wt.onclick=()=>{var xn;Ot&&Ot();const{fields:$t,refs:Vt,include:Zt}=Lt,sn=[];if($t.length!==0||Vt.length!==0){const un=new Set(Vt);for(const fn of $t){const Gn=this._fieldObjects[fn]||[];for(const{id:Xn}of Gn)un.add(Xn)}for(const fn of Object.values(this._fieldObjects))for(const Gn of fn)un.has(Gn.id)===Zt&&sn.push(Gn)}else for(const un of Object.values(this._fieldObjects))sn.push(...un);const hn=this.annotationStorage,ln=[];for(const un of sn){const{id:fn}=un;switch(ln.push(fn),un.type){case"text":{const Xn=un.defaultValue||"";hn.setValue(fn,{value:Xn});break}case"checkbox":case"radiobutton":{const Xn=un.defaultValue===un.exportValues;hn.setValue(fn,{value:Xn});break}case"combobox":case"listbox":{const Xn=un.defaultValue||"";hn.setValue(fn,{value:Xn});break}default:continue}const Gn=document.querySelector(`[data-element-id="${fn}"]`);if(Gn){if(!lt.has(Gn)){(0,tt.warn)(`_bindResetFormAction - element not allowed: ${fn}`);continue}}else continue;Gn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((xn=this.linkService.eventBus)==null||xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ln,name:"ResetForm"}})),!1}}}class ht extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt})}render(){this.container.className="textAnnotation";const wt=document.createElement("img");return wt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",wt.alt="[{{type}} Annotation]",wt.dataset.l10nId="text_annotation_type",wt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(wt,this.data),this.container.append(wt),this.container}}class gt extends pt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(wt){const{isWin:Lt,isMac:Ot}=pt.platform;return Lt&&wt.ctrlKey||Ot&&wt.metaKey}_setEventListener(wt,Lt,Ot,$t){Lt.includes("mouse")?wt.addEventListener(Lt,Vt=>{var Zt;(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ot,value:$t(Vt),shift:Vt.shiftKey,modifier:this._getKeyModifier(Vt)}})}):wt.addEventListener(Lt,Vt=>{var Zt;(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ot,value:$t(Vt)}})})}_setEventListeners(wt,Lt,Ot){var $t;for(const[Vt,Zt]of Lt)(Zt==="Action"||($t=this.data.actions)!=null&&$t[Zt])&&this._setEventListener(wt,Vt,Zt,Ot)}_setBackgroundColor(wt){const Lt=this.data.backgroundColor||null;wt.style.backgroundColor=Lt===null?"transparent":tt.Util.makeHexColor(Lt[0],Lt[1],Lt[2])}_setTextStyle(wt){const Lt=["left","center","right"],{fontColor:Ot}=this.data.defaultAppearanceData,$t=this.data.defaultAppearanceData.fontSize||at,Vt=wt.style;let Zt;if(this.data.multiLine){const sn=Math.abs(this.data.rect[3]-this.data.rect[1]),hn=Math.round(sn/(tt.LINE_FACTOR*$t))||1,ln=sn/hn;Zt=Math.min($t,Math.round(ln/tt.LINE_FACTOR))}else{const sn=Math.abs(this.data.rect[3]-this.data.rect[1]);Zt=Math.min($t,Math.round(sn/tt.LINE_FACTOR))}Vt.fontSize=`calc(${Zt}px * var(--scale-factor))`,Vt.color=tt.Util.makeHexColor(Ot[0],Ot[1],Ot[2]),this.data.textAlignment!==null&&(Vt.textAlign=Lt[this.data.textAlignment])}_setRequired(wt,Lt){Lt?wt.setAttribute("required",!0):wt.removeAttribute("required"),wt.setAttribute("aria-required",Lt)}}class vt extends gt{constructor(wt){const Lt=wt.renderForms||!wt.data.hasAppearance&&!!wt.data.fieldValue;super(wt,{isRenderable:Lt})}setPropertyOnSiblings(wt,Lt,Ot,$t){const Vt=this.annotationStorage;for(const Zt of this._getElementsByName(wt.name,wt.id))Zt.domElement&&(Zt.domElement[Lt]=Ot),Vt.setValue(Zt.id,{[$t]:Ot})}render(){var $t;const wt=this.annotationStorage,Lt=this.data.id;this.container.className="textWidgetAnnotation";let Ot=null;if(this.renderForms){const Vt=wt.getValue(Lt,{value:this.data.fieldValue}),Zt=Vt.formattedValue||Vt.value||"",sn={userValue:Zt,formattedValue:null,valueOnFocus:""};this.data.multiLine?(Ot=document.createElement("textarea"),Ot.textContent=Zt,this.data.doNotScroll&&(Ot.style.overflowY="hidden")):(Ot=document.createElement("input"),Ot.type="text",Ot.setAttribute("value",Zt),this.data.doNotScroll&&(Ot.style.overflowX="hidden")),lt.add(Ot),Ot.setAttribute("data-element-id",Lt),Ot.disabled=this.data.readOnly,Ot.name=this.data.fieldName,Ot.tabIndex=ot,this._setRequired(Ot,this.data.required),Ot.addEventListener("input",ln=>{wt.setValue(Lt,{value:ln.target.value}),this.setPropertyOnSiblings(Ot,"value",ln.target.value,"value")}),Ot.addEventListener("resetform",ln=>{const xn=this.data.defaultFieldValue??"";Ot.value=sn.userValue=xn,sn.formattedValue=null});let hn=ln=>{const{formattedValue:xn}=sn;xn!=null&&(ln.target.value=xn),ln.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ot.addEventListener("focus",xn=>{sn.userValue&&(xn.target.value=sn.userValue),sn.valueOnFocus=xn.target.value}),Ot.addEventListener("updatefromsandbox",xn=>{const un={value(fn){sn.userValue=fn.detail.value??"",wt.setValue(Lt,{value:sn.userValue.toString()}),fn.target.value=sn.userValue},formattedValue(fn){const{formattedValue:Gn}=fn.detail;sn.formattedValue=Gn,Gn!=null&&fn.target!==document.activeElement&&(fn.target.value=Gn),wt.setValue(Lt,{formattedValue:Gn})},selRange(fn){fn.target.setSelectionRange(...fn.detail.selRange)}};this._dispatchEventFromSandbox(un,xn)}),Ot.addEventListener("keydown",xn=>{var Gn;let un=-1;if(xn.key==="Escape"?un=0:xn.key==="Enter"?un=2:xn.key==="Tab"&&(un=3),un===-1)return;const{value:fn}=xn.target;sn.valueOnFocus!==fn&&(sn.userValue=fn,(Gn=this.linkService.eventBus)==null||Gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:fn,willCommit:!0,commitKey:un,selStart:xn.target.selectionStart,selEnd:xn.target.selectionEnd}}))});const ln=hn;hn=null,Ot.addEventListener("blur",xn=>{var fn;const{value:un}=xn.target;sn.userValue=un,this._mouseState.isDown&&sn.valueOnFocus!==un&&((fn=this.linkService.eventBus)==null||fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:un,willCommit:!0,commitKey:1,selStart:xn.target.selectionStart,selEnd:xn.target.selectionEnd}})),ln(xn)}),($t=this.data.actions)!=null&&$t.Keystroke&&Ot.addEventListener("beforeinput",xn=>{var cn;const{data:un,target:fn}=xn,{value:Gn,selectionStart:Xn,selectionEnd:nn}=fn;let jt=Xn,Mn=nn;switch(xn.inputType){case"deleteWordBackward":{const _n=Gn.substring(0,Xn).match(/\w*[^\w]*$/);_n&&(jt-=_n[0].length);break}case"deleteWordForward":{const _n=Gn.substring(Xn).match(/^[^\w]*\w*/);_n&&(Mn+=_n[0].length);break}case"deleteContentBackward":Xn===nn&&(jt-=1);break;case"deleteContentForward":Xn===nn&&(Mn+=1);break}xn.preventDefault(),(cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:Gn,change:un||"",willCommit:!1,selStart:jt,selEnd:Mn}})}),this._setEventListeners(Ot,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xn=>xn.target.value)}if(hn&&Ot.addEventListener("blur",hn),this.data.maxLen!==null&&(Ot.maxLength=this.data.maxLen),this.data.comb){const xn=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;Ot.classList.add("comb"),Ot.style.letterSpacing=`calc(${xn}px * var(--scale-factor) - 1ch)`}}else Ot=document.createElement("div"),Ot.textContent=this.data.fieldValue,Ot.style.verticalAlign="middle",Ot.style.display="table-cell";return this._setTextStyle(Ot),this._setBackgroundColor(Ot),this._setDefaultPropertiesFromJS(Ot),this.container.append(Ot),this.container}}class _t extends gt{constructor(wt){super(wt,{isRenderable:wt.renderForms})}render(){const wt=this.annotationStorage,Lt=this.data,Ot=Lt.id;let $t=wt.getValue(Ot,{value:Lt.exportValue===Lt.fieldValue}).value;typeof $t=="string"&&($t=$t!=="Off",wt.setValue(Ot,{value:$t})),this.container.className="buttonWidgetAnnotation checkBox";const Vt=document.createElement("input");return lt.add(Vt),Vt.setAttribute("data-element-id",Ot),Vt.disabled=Lt.readOnly,this._setRequired(Vt,this.data.required),Vt.type="checkbox",Vt.name=Lt.fieldName,$t&&Vt.setAttribute("checked",!0),Vt.setAttribute("exportValue",Lt.exportValue),Vt.tabIndex=ot,Vt.addEventListener("change",Zt=>{const{name:sn,checked:hn}=Zt.target;for(const ln of this._getElementsByName(sn,Ot)){const xn=hn&&ln.exportValue===Lt.exportValue;ln.domElement&&(ln.domElement.checked=xn),wt.setValue(ln.id,{value:xn})}wt.setValue(Ot,{value:hn})}),Vt.addEventListener("resetform",Zt=>{const sn=Lt.defaultFieldValue||"Off";Zt.target.checked=sn===Lt.exportValue}),this.enableScripting&&this.hasJSActions&&(Vt.addEventListener("updatefromsandbox",Zt=>{const sn={value(hn){hn.target.checked=hn.detail.value!=="Off",wt.setValue(Ot,{value:hn.target.checked})}};this._dispatchEventFromSandbox(sn,Zt)}),this._setEventListeners(Vt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zt=>Zt.target.checked)),this._setBackgroundColor(Vt),this._setDefaultPropertiesFromJS(Vt),this.container.append(Vt),this.container}}class yt extends gt{constructor(wt){super(wt,{isRenderable:wt.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const wt=this.annotationStorage,Lt=this.data,Ot=Lt.id;let $t=wt.getValue(Ot,{value:Lt.fieldValue===Lt.buttonValue}).value;typeof $t=="string"&&($t=$t!==Lt.buttonValue,wt.setValue(Ot,{value:$t}));const Vt=document.createElement("input");if(lt.add(Vt),Vt.setAttribute("data-element-id",Ot),Vt.disabled=Lt.readOnly,this._setRequired(Vt,this.data.required),Vt.type="radio",Vt.name=Lt.fieldName,$t&&Vt.setAttribute("checked",!0),Vt.tabIndex=ot,Vt.addEventListener("change",Zt=>{const{name:sn,checked:hn}=Zt.target;for(const ln of this._getElementsByName(sn,Ot))wt.setValue(ln.id,{value:!1});wt.setValue(Ot,{value:hn})}),Vt.addEventListener("resetform",Zt=>{const sn=Lt.defaultFieldValue;Zt.target.checked=sn!=null&&sn===Lt.buttonValue}),this.enableScripting&&this.hasJSActions){const Zt=Lt.buttonValue;Vt.addEventListener("updatefromsandbox",sn=>{const hn={value:ln=>{const xn=Zt===ln.detail.value;for(const un of this._getElementsByName(ln.target.name)){const fn=xn&&un.id===Ot;un.domElement&&(un.domElement.checked=fn),wt.setValue(un.id,{value:fn})}}};this._dispatchEventFromSandbox(hn,sn)}),this._setEventListeners(Vt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],sn=>sn.target.checked)}return this._setBackgroundColor(Vt),this._setDefaultPropertiesFromJS(Vt),this.container.append(Vt),this.container}}class xt extends mt{constructor(wt){super(wt,{ignoreBorder:wt.data.hasAppearance})}render(){const wt=super.render();wt.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(wt.title=this.data.alternativeText);const Lt=wt.lastChild;return this.enableScripting&&this.hasJSActions&&Lt&&(this._setDefaultPropertiesFromJS(Lt),Lt.addEventListener("updatefromsandbox",Ot=>{this._dispatchEventFromSandbox({},Ot)})),wt}}class At extends gt{constructor(wt){super(wt,{isRenderable:wt.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const wt=this.annotationStorage,Lt=this.data.id,Ot=wt.getValue(Lt,{value:this.data.fieldValue}),$t=document.createElement("select");lt.add($t),$t.setAttribute("data-element-id",Lt),$t.disabled=this.data.readOnly,this._setRequired($t,this.data.required),$t.name=this.data.fieldName,$t.tabIndex=ot;let Vt=this.data.combo&&this.data.options.length>0;this.data.combo||($t.size=this.data.options.length,this.data.multiSelect&&($t.multiple=!0)),$t.addEventListener("resetform",ln=>{const xn=this.data.defaultFieldValue;for(const un of $t.options)un.selected=un.value===xn});for(const ln of this.data.options){const xn=document.createElement("option");xn.textContent=ln.displayValue,xn.value=ln.exportValue,Ot.value.includes(ln.exportValue)&&(xn.setAttribute("selected",!0),Vt=!1),$t.append(xn)}let Zt=null;if(Vt){const ln=document.createElement("option");ln.value=" ",ln.setAttribute("hidden",!0),ln.setAttribute("selected",!0),$t.prepend(ln),Zt=()=>{ln.remove(),$t.removeEventListener("input",Zt),Zt=null},$t.addEventListener("input",Zt)}const sn=(ln,xn)=>{const un=xn?"value":"textContent",fn=ln.target.options;return ln.target.multiple?Array.prototype.filter.call(fn,Gn=>Gn.selected).map(Gn=>Gn[un]):fn.selectedIndex===-1?null:fn[fn.selectedIndex][un]},hn=ln=>{const xn=ln.target.options;return Array.prototype.map.call(xn,un=>({displayValue:un.textContent,exportValue:un.value}))};return this.enableScripting&&this.hasJSActions?($t.addEventListener("updatefromsandbox",ln=>{const xn={value(un){Zt==null||Zt();const fn=un.detail.value,Gn=new Set(Array.isArray(fn)?fn:[fn]);for(const Xn of $t.options)Xn.selected=Gn.has(Xn.value);wt.setValue(Lt,{value:sn(un,!0)})},multipleSelection(un){$t.multiple=!0},remove(un){const fn=$t.options,Gn=un.detail.remove;fn[Gn].selected=!1,$t.remove(Gn),fn.length>0&&Array.prototype.findIndex.call(fn,nn=>nn.selected)===-1&&(fn[0].selected=!0),wt.setValue(Lt,{value:sn(un,!0),items:hn(un)})},clear(un){for(;$t.length!==0;)$t.remove(0);wt.setValue(Lt,{value:null,items:[]})},insert(un){const{index:fn,displayValue:Gn,exportValue:Xn}=un.detail.insert,nn=$t.children[fn],jt=document.createElement("option");jt.textContent=Gn,jt.value=Xn,nn?nn.before(jt):$t.append(jt),wt.setValue(Lt,{value:sn(un,!0),items:hn(un)})},items(un){const{items:fn}=un.detail;for(;$t.length!==0;)$t.remove(0);for(const Gn of fn){const{displayValue:Xn,exportValue:nn}=Gn,jt=document.createElement("option");jt.textContent=Xn,jt.value=nn,$t.append(jt)}$t.options.length>0&&($t.options[0].selected=!0),wt.setValue(Lt,{value:sn(un,!0),items:hn(un)})},indices(un){const fn=new Set(un.detail.indices);for(const Gn of un.target.options)Gn.selected=fn.has(Gn.index);wt.setValue(Lt,{value:sn(un,!0)})},editable(un){un.target.disabled=!un.detail.editable}};this._dispatchEventFromSandbox(xn,ln)}),$t.addEventListener("input",ln=>{var fn;const xn=sn(ln,!0),un=sn(ln,!1);wt.setValue(Lt,{value:xn}),(fn=this.linkService.eventBus)==null||fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:un,changeEx:xn,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners($t,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ln=>ln.target.checked)):$t.addEventListener("input",function(ln){wt.setValue(Lt,{value:sn(ln,!0)})}),this.data.combo&&this._setTextStyle($t),this._setBackgroundColor($t),this._setDefaultPropertiesFromJS($t),this.container.append($t),this.container}}class Ct extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!((Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt})}render(){const wt=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",wt.includes(this.data.parentType))return this.container;const Lt=`[data-annotation-id="${this.data.parentId}"]`,Ot=this.layer.querySelectorAll(Lt);if(Ot.length===0)return this.container;const $t=new Pt({container:this.container,trigger:Array.from(Ot),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Vt=this.page,Zt=tt.Util.normalizeRect([this.data.parentRect[0],Vt.view[3]-this.data.parentRect[1]+Vt.view[1],this.data.parentRect[2],Vt.view[3]-this.data.parentRect[3]+Vt.view[1]]),sn=Zt[0]+this.data.parentRect[2]-this.data.parentRect[0],hn=Zt[1],[ln,xn,un,fn]=this.viewport.viewBox,Gn=un-ln,Xn=fn-xn;return this.container.style.left=`${100*(sn-ln)/Gn}%`,this.container.style.top=`${100*(hn-xn)/Xn}%`,this.container.append($t.render()),this.container}}class Pt{constructor(wt){this.container=wt.container,this.trigger=wt.trigger,this.color=wt.color,this.titleObj=wt.titleObj,this.modificationDate=wt.modificationDate,this.contentsObj=wt.contentsObj,this.richText=wt.richText,this.hideWrapper=wt.hideWrapper||!1,this.pinned=!1}render(){var sn,hn;const Lt=document.createElement("div");Lt.className="popupWrapper",this.hideElement=this.hideWrapper?Lt:this.container,this.hideElement.hidden=!0;const Ot=document.createElement("div");Ot.className="popup";const $t=this.color;if($t){const ln=.7*(255-$t[0])+$t[0],xn=.7*(255-$t[1])+$t[1],un=.7*(255-$t[2])+$t[2];Ot.style.backgroundColor=tt.Util.makeHexColor(ln|0,xn|0,un|0)}const Vt=document.createElement("h1");Vt.dir=this.titleObj.dir,Vt.textContent=this.titleObj.str,Ot.append(Vt);const Zt=nt.PDFDateString.toDateObject(this.modificationDate);if(Zt){const ln=document.createElement("span");ln.className="popupDate",ln.textContent="{{date}}, {{time}}",ln.dataset.l10nId="annotation_date_string",ln.dataset.l10nArgs=JSON.stringify({date:Zt.toLocaleDateString(),time:Zt.toLocaleTimeString()}),Ot.append(ln)}if((sn=this.richText)!=null&&sn.str&&(!((hn=this.contentsObj)!=null&&hn.str)||this.contentsObj.str===this.richText.str))st.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Ot}),Ot.lastChild.className="richText popupContent";else{const ln=this._formatContents(this.contentsObj);Ot.append(ln)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const ln of this.trigger)ln.addEventListener("click",this._toggle.bind(this)),ln.addEventListener("mouseover",this._show.bind(this,!1)),ln.addEventListener("mouseout",this._hide.bind(this,!1));return Ot.addEventListener("click",this._hide.bind(this,!0)),Lt.append(Ot),Lt}_formatContents({str:wt,dir:Lt}){const Ot=document.createElement("p");Ot.className="popupContent",Ot.dir=Lt;const $t=wt.split(/(?:\r\n?|\n)/);for(let Vt=0,Zt=$t.length;Vt<Zt;++Vt){const sn=$t[Vt];Ot.append(document.createTextNode(sn)),Vt<Zt-1&&Ot.append(document.createElement("br"))}return Ot}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(wt=!1){wt&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(wt=!0){wt&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class bt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Mt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const wt=this.data,{width:Lt,height:Ot}=dt(wt.rect),$t=this.svgFactory.create(Lt,Ot,!0),Vt=this.svgFactory.createElement("svg:line");return Vt.setAttribute("x1",wt.rect[2]-wt.lineCoordinates[0]),Vt.setAttribute("y1",wt.rect[3]-wt.lineCoordinates[1]),Vt.setAttribute("x2",wt.rect[2]-wt.lineCoordinates[2]),Vt.setAttribute("y2",wt.rect[3]-wt.lineCoordinates[3]),Vt.setAttribute("stroke-width",wt.borderStyle.width||1),Vt.setAttribute("stroke","transparent"),Vt.setAttribute("fill","transparent"),$t.append(Vt),this.container.append($t),this._createPopup(Vt,wt),this.container}}class Tt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const wt=this.data,{width:Lt,height:Ot}=dt(wt.rect),$t=this.svgFactory.create(Lt,Ot,!0),Vt=wt.borderStyle.width,Zt=this.svgFactory.createElement("svg:rect");return Zt.setAttribute("x",Vt/2),Zt.setAttribute("y",Vt/2),Zt.setAttribute("width",Lt-Vt),Zt.setAttribute("height",Ot-Vt),Zt.setAttribute("stroke-width",Vt||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),$t.append(Zt),this.container.append($t),this._createPopup(Zt,wt),this.container}}class Ft extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const wt=this.data,{width:Lt,height:Ot}=dt(wt.rect),$t=this.svgFactory.create(Lt,Ot,!0),Vt=wt.borderStyle.width,Zt=this.svgFactory.createElement("svg:ellipse");return Zt.setAttribute("cx",Lt/2),Zt.setAttribute("cy",Ot/2),Zt.setAttribute("rx",Lt/2-Vt/2),Zt.setAttribute("ry",Ot/2-Vt/2),Zt.setAttribute("stroke-width",Vt||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),$t.append(Zt),this.container.append($t),this._createPopup(Zt,wt),this.container}}class Gt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const wt=this.data,{width:Lt,height:Ot}=dt(wt.rect),$t=this.svgFactory.create(Lt,Ot,!0);let Vt=[];for(const sn of wt.vertices){const hn=sn.x-wt.rect[0],ln=wt.rect[3]-sn.y;Vt.push(hn+","+ln)}Vt=Vt.join(" ");const Zt=this.svgFactory.createElement(this.svgElementName);return Zt.setAttribute("points",Vt),Zt.setAttribute("stroke-width",wt.borderStyle.width||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),$t.append(Zt),this.container.append($t),this._createPopup(Zt,wt),this.container}}class Wt extends Gt{constructor(wt){super(wt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class It extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Kt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const wt=this.data,{width:Lt,height:Ot}=dt(wt.rect),$t=this.svgFactory.create(Lt,Ot,!0);for(const Vt of wt.inkLists){let Zt=[];for(const hn of Vt){const ln=hn.x-wt.rect[0],xn=wt.rect[3]-hn.y;Zt.push(`${ln},${xn}`)}Zt=Zt.join(" ");const sn=this.svgFactory.createElement(this.svgElementName);sn.setAttribute("points",Zt),sn.setAttribute("stroke-width",wt.borderStyle.width||1),sn.setAttribute("stroke","transparent"),sn.setAttribute("fill","transparent"),this._createPopup(sn,wt),$t.append(sn)}return this.container.append($t),this.container}}class Ut extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Qt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Dt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class qt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Jt extends pt{constructor(wt){var Ot,$t,Vt;const Lt=!!(wt.data.hasPopup||(Ot=wt.data.titleObj)!=null&&Ot.str||($t=wt.data.contentsObj)!=null&&$t.str||(Vt=wt.data.richText)!=null&&Vt.str);super(wt,{isRenderable:Lt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class on extends pt{constructor(wt){var $t;super(wt,{isRenderable:!0});const{filename:Lt,content:Ot}=this.data.file;this.filename=(0,nt.getFilenameFromUrl)(Lt),this.content=Ot,($t=this.linkService.eventBus)==null||$t.dispatch("fileattachmentannotation",{source:this,filename:Lt,content:Ot})}render(){var Lt,Ot;this.container.className="fileAttachmentAnnotation";const wt=document.createElement("div");return wt.className="popupTriggerArea",wt.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((Lt=this.data.titleObj)!=null&&Lt.str||(Ot=this.data.contentsObj)!=null&&Ot.str||this.data.richText)&&this._createPopup(wt,this.data),this.container.append(wt),this.container}_download(){var wt;(wt=this.downloadManager)==null||wt.openOrDownloadData(this.container,this.content,this.filename)}}class tn{static render(wt){const{annotations:Lt,div:Ot,viewport:$t}=wt;nr(this,yn,dm).call(this,Ot,$t);const Vt=[],Zt=[];for(const sn of Lt){if(!sn)continue;if(sn.annotationType===tt.AnnotationType.POPUP){Zt.push(sn);continue}const{width:hn,height:ln}=dt(sn.rect);hn<=0||ln<=0||Vt.push(sn)}Zt.length&&Vt.push(...Zt);for(const sn of Vt){const hn=ct.create({data:sn,layer:Ot,page:wt.page,viewport:$t,linkService:wt.linkService,downloadManager:wt.downloadManager,imageResourcesPath:wt.imageResourcesPath||"",renderForms:wt.renderForms!==!1,svgFactory:new nt.DOMSVGFactory,annotationStorage:wt.annotationStorage||new rt.AnnotationStorage,enableScripting:wt.enableScripting,hasJSActions:wt.hasJSActions,fieldObjects:wt.fieldObjects,mouseState:wt.mouseState||{isDown:!1}});if(hn.isRenderable){const ln=hn.render();if(sn.hidden&&(ln.style.visibility="hidden"),Array.isArray(ln))for(const xn of ln)Ot.append(xn);else hn instanceof Ct?Ot.prepend(ln):Ot.append(ln)}}nr(this,kt,hm).call(this,Ot,wt.annotationCanvasMap)}static update(wt){const{annotationCanvasMap:Lt,div:Ot,viewport:$t}=wt;nr(this,yn,dm).call(this,Ot,$t),nr(this,kt,hm).call(this,Ot,Lt),Ot.hidden=!1}}yn=new WeakSet,dm=function(wt,{width:Lt,height:Ot,rotation:$t}){const{style:Vt}=wt,Zt=$t%180!==0,sn=Math.floor(Lt)+"px",hn=Math.floor(Ot)+"px";Vt.width=Zt?hn:sn,Vt.height=Zt?sn:hn,wt.setAttribute("data-main-rotation",$t)},kt=new WeakSet,hm=function(wt,Lt){if(Lt){for(const[Ot,$t]of Lt){const Vt=wt.querySelector(`[data-annotation-id="${Ot}"]`);if(!Vt)continue;const{firstChild:Zt}=Vt;Zt?Zt.nodeName==="CANVAS"?Zt.replaceWith($t):Zt.before($t):Vt.append($t)}Lt.clear()}},Zn(tn,yn),Zn(tn,kt),$.AnnotationLayer=tn},(et,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function _e(nt){return Math.floor(Math.max(0,Math.min(1,nt))*255).toString(16).padStart(2,"0")}class tt{static CMYK_G([rt,it,st,ot]){return["G",1-Math.min(1,.3*rt+.59*st+.11*it+ot)]}static G_CMYK([rt]){return["CMYK",0,0,0,1-rt]}static G_RGB([rt]){return["RGB",rt,rt,rt]}static G_HTML([rt]){const it=_e(rt);return`#${it}${it}${it}`}static RGB_G([rt,it,st]){return["G",.3*rt+.59*it+.11*st]}static RGB_HTML([rt,it,st]){const ot=_e(rt),at=_e(it),lt=_e(st);return`#${ot}${at}${lt}`}static T_HTML(){return"#00000000"}static CMYK_RGB([rt,it,st,ot]){return["RGB",1-Math.min(1,rt+ot),1-Math.min(1,st+ot),1-Math.min(1,it+ot)]}static CMYK_HTML(rt){const it=this.CMYK_RGB(rt).slice(1);return this.RGB_HTML(it)}static RGB_CMYK([rt,it,st]){const ot=1-rt,at=1-it,lt=1-st,dt=Math.min(ot,at,lt);return["CMYK",ot,at,lt,dt]}}$.ColorConverters=tt},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var tt=_e(20);class nt{static setupStorage(it,st,ot,at,lt){const dt=at.getValue(st,{value:null});switch(ot.name){case"textarea":if(dt.value!==null&&(it.textContent=dt.value),lt==="print")break;it.addEventListener("input",ct=>{at.setValue(st,{value:ct.target.value})});break;case"input":if(ot.attributes.type==="radio"||ot.attributes.type==="checkbox"){if(dt.value===ot.attributes.xfaOn?it.setAttribute("checked",!0):dt.value===ot.attributes.xfaOff&&it.removeAttribute("checked"),lt==="print")break;it.addEventListener("change",ct=>{at.setValue(st,{value:ct.target.checked?ct.target.getAttribute("xfaOn"):ct.target.getAttribute("xfaOff")})})}else{if(dt.value!==null&&it.setAttribute("value",dt.value),lt==="print")break;it.addEventListener("input",ct=>{at.setValue(st,{value:ct.target.value})})}break;case"select":if(dt.value!==null)for(const ct of ot.children)ct.attributes.value===dt.value&&(ct.attributes.selected=!0);it.addEventListener("input",ct=>{const pt=ct.target.options,mt=pt.selectedIndex===-1?"":pt[pt.selectedIndex].value;at.setValue(st,{value:mt})});break}}static setAttributes({html:it,element:st,storage:ot=null,intent:at,linkService:lt}){const{attributes:dt}=st,ct=it instanceof HTMLAnchorElement;dt.type==="radio"&&(dt.name=`${dt.name}-${at}`);for(const[pt,mt]of Object.entries(dt))if(mt!=null)switch(pt){case"class":mt.length&&it.setAttribute(pt,mt.join(" "));break;case"dataId":break;case"id":it.setAttribute("data-element-id",mt);break;case"style":Object.assign(it.style,mt);break;case"textContent":it.textContent=mt;break;default:(!ct||pt!=="href"&&pt!=="newWindow")&&it.setAttribute(pt,mt)}ct&&lt.addLinkAttributes(it,dt.href,dt.newWindow),ot&&dt.dataId&&this.setupStorage(it,dt.dataId,st,ot)}static render(it){var ht;const st=it.annotationStorage,ot=it.linkService,at=it.xfaHtml,lt=it.intent||"display",dt=document.createElement(at.name);at.attributes&&this.setAttributes({html:dt,element:at,intent:lt,linkService:ot});const ct=[[at,-1,dt]],pt=it.div;if(pt.append(dt),it.viewport){const gt=`matrix(${it.viewport.transform.join(",")})`;pt.style.transform=gt}lt!=="richText"&&pt.setAttribute("class","xfaLayer xfaFont");const mt=[];for(;ct.length>0;){const[gt,vt,_t]=ct.at(-1);if(vt+1===gt.children.length){ct.pop();continue}const yt=gt.children[++ct.at(-1)[1]];if(yt===null)continue;const{name:xt}=yt;if(xt==="#text"){const Ct=document.createTextNode(yt.value);mt.push(Ct),_t.append(Ct);continue}let At;if((ht=yt==null?void 0:yt.attributes)!=null&&ht.xmlns?At=document.createElementNS(yt.attributes.xmlns,xt):At=document.createElement(xt),_t.append(At),yt.attributes&&this.setAttributes({html:At,element:yt,storage:st,intent:lt,linkService:ot}),yt.children&&yt.children.length>0)ct.push([yt,-1,At]);else if(yt.value){const Ct=document.createTextNode(yt.value);tt.XfaText.shouldBuildText(xt)&&mt.push(Ct),At.append(Ct)}}for(const gt of pt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))gt.setAttribute("readOnly",!0);return{textDivs:mt}}static update(it){const st=`matrix(${it.viewport.transform.join(",")})`;it.div.style.transform=st,it.div.hidden=!1}}$.XfaLayer=nt},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=_t;var tt=_e(1),nt=_e(4);const rt=1e5,it=30,st=.8,ot=new Map,at=/^\s+$/g;function lt(yt,xt){const At=ot.get(yt);if(At)return At;xt.save(),xt.font=`${it}px ${yt}`;const Ct=xt.measureText("");let Pt=Ct.fontBoundingBoxAscent,bt=Math.abs(Ct.fontBoundingBoxDescent);if(Pt){xt.restore();const Tt=Pt/(Pt+bt);return ot.set(yt,Tt),Tt}xt.strokeStyle="red",xt.clearRect(0,0,it,it),xt.strokeText("g",0,0);let Mt=xt.getImageData(0,0,it,it).data;bt=0;for(let Tt=Mt.length-1-3;Tt>=0;Tt-=4)if(Mt[Tt]>0){bt=Math.ceil(Tt/4/it);break}xt.clearRect(0,0,it,it),xt.strokeText("A",0,it),Mt=xt.getImageData(0,0,it,it).data,Pt=0;for(let Tt=0,Ft=Mt.length;Tt<Ft;Tt+=4)if(Mt[Tt]>0){Pt=it-Math.floor(Tt/4/it);break}if(xt.restore(),Pt){const Tt=Pt/(Pt+bt);return ot.set(yt,Tt),Tt}return ot.set(yt,st),st}function dt(yt,xt,At,Ct){const Pt=document.createElement("span"),bt=yt._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:xt.str!=="",hasEOL:xt.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:xt.str!=="",hasEOL:xt.hasEOL,fontSize:0};yt._textDivs.push(Pt);const Mt=tt.Util.transform(yt._viewport.transform,xt.transform);let Tt=Math.atan2(Mt[1],Mt[0]);const Ft=At[xt.fontName];Ft.vertical&&(Tt+=Math.PI/2);const Gt=Math.hypot(Mt[2],Mt[3]),Wt=Gt*lt(Ft.fontFamily,Ct);let It,Kt;Tt===0?(It=Mt[4],Kt=Mt[5]-Wt):(It=Mt[4]+Wt*Math.sin(Tt),Kt=Mt[5]-Wt*Math.cos(Tt)),Pt.style.left=`${It}px`,Pt.style.top=`${Kt}px`,Pt.style.fontSize=`${Gt}px`,Pt.style.fontFamily=Ft.fontFamily,bt.fontSize=Gt,Pt.setAttribute("role","presentation"),Pt.textContent=xt.str,Pt.dir=xt.dir,yt._fontInspectorEnabled&&(Pt.dataset.fontName=xt.fontName),Tt!==0&&(bt.angle=Tt*(180/Math.PI));let Ut=!1;if(xt.str.length>1||yt._enhanceTextSelection&&at.test(xt.str))Ut=!0;else if(xt.str!==" "&&xt.transform[0]!==xt.transform[3]){const Qt=Math.abs(xt.transform[0]),Dt=Math.abs(xt.transform[3]);Qt!==Dt&&Math.max(Qt,Dt)/Math.min(Qt,Dt)>1.5&&(Ut=!0)}if(Ut&&(Ft.vertical?bt.canvasWidth=xt.height*yt._viewport.scale:bt.canvasWidth=xt.width*yt._viewport.scale),yt._textDivProperties.set(Pt,bt),yt._textContentStream&&yt._layoutText(Pt),yt._enhanceTextSelection&&bt.hasText){let Qt=1,Dt=0;Tt!==0&&(Qt=Math.cos(Tt),Dt=Math.sin(Tt));const qt=(Ft.vertical?xt.height:xt.width)*yt._viewport.scale,Jt=Gt;let on,tn;Tt!==0?(on=[Qt,Dt,-Dt,Qt,It,Kt],tn=tt.Util.getAxialAlignedBoundingBox([0,0,qt,Jt],on)):tn=[It,Kt,It+qt,Kt+Jt],yt._bounds.push({left:tn[0],top:tn[1],right:tn[2],bottom:tn[3],div:Pt,size:[qt,Jt],m:on})}}function ct(yt){if(yt._canceled)return;const xt=yt._textDivs,At=yt._capability,Ct=xt.length;if(Ct>rt){yt._renderingDone=!0,At.resolve();return}if(!yt._textContentStream)for(let Pt=0;Pt<Ct;Pt++)yt._layoutText(xt[Pt]);yt._renderingDone=!0,At.resolve()}function pt(yt,xt,At){let Ct=0;for(let Pt=0;Pt<At;Pt++){const bt=yt[xt++];bt>0&&(Ct=Ct?Math.min(bt,Ct):bt)}return Ct}function mt(yt){const xt=yt._bounds,At=yt._viewport,Ct=ht(At.width,At.height,xt);for(let Pt=0;Pt<Ct.length;Pt++){const bt=xt[Pt].div,Mt=yt._textDivProperties.get(bt);if(Mt.angle===0){Mt.paddingLeft=xt[Pt].left-Ct[Pt].left,Mt.paddingTop=xt[Pt].top-Ct[Pt].top,Mt.paddingRight=Ct[Pt].right-xt[Pt].right,Mt.paddingBottom=Ct[Pt].bottom-xt[Pt].bottom,yt._textDivProperties.set(bt,Mt);continue}const Tt=Ct[Pt],Ft=xt[Pt],Gt=Ft.m,Wt=Gt[0],It=Gt[1],Kt=[[0,0],[0,Ft.size[1]],[Ft.size[0],0],Ft.size],Ut=new Float64Array(64);for(let Dt=0,qt=Kt.length;Dt<qt;Dt++){const Jt=tt.Util.applyTransform(Kt[Dt],Gt);Ut[Dt+0]=Wt&&(Tt.left-Jt[0])/Wt,Ut[Dt+4]=It&&(Tt.top-Jt[1])/It,Ut[Dt+8]=Wt&&(Tt.right-Jt[0])/Wt,Ut[Dt+12]=It&&(Tt.bottom-Jt[1])/It,Ut[Dt+16]=It&&(Tt.left-Jt[0])/-It,Ut[Dt+20]=Wt&&(Tt.top-Jt[1])/Wt,Ut[Dt+24]=It&&(Tt.right-Jt[0])/-It,Ut[Dt+28]=Wt&&(Tt.bottom-Jt[1])/Wt,Ut[Dt+32]=Wt&&(Tt.left-Jt[0])/-Wt,Ut[Dt+36]=It&&(Tt.top-Jt[1])/-It,Ut[Dt+40]=Wt&&(Tt.right-Jt[0])/-Wt,Ut[Dt+44]=It&&(Tt.bottom-Jt[1])/-It,Ut[Dt+48]=It&&(Tt.left-Jt[0])/It,Ut[Dt+52]=Wt&&(Tt.top-Jt[1])/-Wt,Ut[Dt+56]=It&&(Tt.right-Jt[0])/It,Ut[Dt+60]=Wt&&(Tt.bottom-Jt[1])/-Wt}const Qt=1+Math.min(Math.abs(Wt),Math.abs(It));Mt.paddingLeft=pt(Ut,32,16)/Qt,Mt.paddingTop=pt(Ut,48,16)/Qt,Mt.paddingRight=pt(Ut,0,16)/Qt,Mt.paddingBottom=pt(Ut,16,16)/Qt,yt._textDivProperties.set(bt,Mt)}}function ht(yt,xt,At){const Ct=At.map(function(bt,Mt){return{x1:bt.left,y1:bt.top,x2:bt.right,y2:bt.bottom,index:Mt,x1New:void 0,x2New:void 0}});gt(yt,Ct);const Pt=new Array(At.length);for(const bt of Ct){const Mt=bt.index;Pt[Mt]={left:bt.x1New,top:0,right:bt.x2New,bottom:0}}At.map(function(bt,Mt){const Tt=Pt[Mt],Ft=Ct[Mt];Ft.x1=bt.top,Ft.y1=yt-Tt.right,Ft.x2=bt.bottom,Ft.y2=yt-Tt.left,Ft.index=Mt,Ft.x1New=void 0,Ft.x2New=void 0}),gt(xt,Ct);for(const bt of Ct){const Mt=bt.index;Pt[Mt].top=bt.x1New,Pt[Mt].bottom=bt.x2New}return Pt}function gt(yt,xt){xt.sort(function(Pt,bt){return Pt.x1-bt.x1||Pt.index-bt.index});const Ct=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const Pt of xt){let bt=0;for(;bt<Ct.length&&Ct[bt].end<=Pt.y1;)bt++;let Mt=Ct.length-1;for(;Mt>=0&&Ct[Mt].start>=Pt.y2;)Mt--;let Tt,Ft,Gt,Wt,It=-1/0;for(Gt=bt;Gt<=Mt;Gt++){Tt=Ct[Gt],Ft=Tt.boundary;let Qt;Ft.x2>Pt.x1?Qt=Ft.index>Pt.index?Ft.x1New:Pt.x1:Ft.x2New===void 0?Qt=(Ft.x2+Pt.x1)/2:Qt=Ft.x2New,Qt>It&&(It=Qt)}for(Pt.x1New=It,Gt=bt;Gt<=Mt;Gt++)Tt=Ct[Gt],Ft=Tt.boundary,Ft.x2New===void 0?Ft.x2>Pt.x1?Ft.index>Pt.index&&(Ft.x2New=Ft.x2):Ft.x2New=It:Ft.x2New>It&&(Ft.x2New=Math.max(It,Ft.x2));const Kt=[];let Ut=null;for(Gt=bt;Gt<=Mt;Gt++){Tt=Ct[Gt],Ft=Tt.boundary;const Qt=Ft.x2>Pt.x2?Ft:Pt;Ut===Qt?Kt.at(-1).end=Tt.end:(Kt.push({start:Tt.start,end:Tt.end,boundary:Qt}),Ut=Qt)}for(Ct[bt].start<Pt.y1&&(Kt[0].start=Pt.y1,Kt.unshift({start:Ct[bt].start,end:Pt.y1,boundary:Ct[bt].boundary})),Pt.y2<Ct[Mt].end&&(Kt.at(-1).end=Pt.y2,Kt.push({start:Pt.y2,end:Ct[Mt].end,boundary:Ct[Mt].boundary})),Gt=bt;Gt<=Mt;Gt++){if(Tt=Ct[Gt],Ft=Tt.boundary,Ft.x2New!==void 0)continue;let Qt=!1;for(Wt=bt-1;!Qt&&Wt>=0&&Ct[Wt].start>=Ft.y1;Wt--)Qt=Ct[Wt].boundary===Ft;for(Wt=Mt+1;!Qt&&Wt<Ct.length&&Ct[Wt].end<=Ft.y2;Wt++)Qt=Ct[Wt].boundary===Ft;for(Wt=0;!Qt&&Wt<Kt.length;Wt++)Qt=Kt[Wt].boundary===Ft;Qt||(Ft.x2New=It)}Array.prototype.splice.apply(Ct,[bt,Mt-bt+1,...Kt])}for(const Pt of Ct){const bt=Pt.boundary;bt.x2New===void 0&&(bt.x2New=Math.max(yt,bt.x2))}}class vt{constructor({textContent:xt,textContentStream:At,container:Ct,viewport:Pt,textDivs:bt,textContentItemsStr:Mt,enhanceTextSelection:Tt}){var Ft;Tt&&(0,nt.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=xt,this._textContentStream=At,this._container=Ct,this._document=Ct.ownerDocument,this._viewport=Pt,this._textDivs=bt||[],this._textContentItemsStr=Mt||[],this._enhanceTextSelection=!!Tt,this._fontInspectorEnabled=!!((Ft=globalThis.FontInspector)!=null&&Ft.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,tt.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new tt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(xt,At){for(let Ct=0,Pt=xt.length;Ct<Pt;Ct++){if(xt[Ct].str===void 0){if(xt[Ct].type==="beginMarkedContentProps"||xt[Ct].type==="beginMarkedContent"){const bt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),xt[Ct].id!==null&&this._container.setAttribute("id",`${xt[Ct].id}`),bt.append(this._container)}else xt[Ct].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(xt[Ct].str),dt(this,xt[Ct],At,this._layoutTextCtx)}}_layoutText(xt){const At=this._textDivProperties.get(xt);let Ct="";if(At.canvasWidth!==0&&At.hasText){const{fontFamily:Pt}=xt.style,{fontSize:bt}=At;(bt!==this._layoutTextLastFontSize||Pt!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${bt*this._devicePixelRatio}px ${Pt}`,this._layoutTextLastFontSize=bt,this._layoutTextLastFontFamily=Pt);const{width:Mt}=this._layoutTextCtx.measureText(xt.textContent);if(Mt>0){const Tt=this._devicePixelRatio*At.canvasWidth/Mt;this._enhanceTextSelection&&(At.scale=Tt),Ct=`scaleX(${Tt})`}}if(At.angle!==0&&(Ct=`rotate(${At.angle}deg) ${Ct}`),Ct.length>0&&(this._enhanceTextSelection&&(At.originalTransform=Ct),xt.style.transform=Ct),At.hasText&&this._container.append(xt),At.hasEOL){const Pt=document.createElement("br");Pt.setAttribute("role","presentation"),this._container.append(Pt)}}_render(xt=0){const At=(0,tt.createPromiseCapability)();let Ct=Object.create(null);const Pt=this._document.createElement("canvas");if(Pt.height=Pt.width=it,this._layoutTextCtx=Pt.getContext("2d",{alpha:!1}),this._textContent){const bt=this._textContent.items,Mt=this._textContent.styles;this._processItems(bt,Mt),At.resolve()}else if(this._textContentStream){const bt=()=>{this._reader.read().then(({value:Mt,done:Tt})=>{if(Tt){At.resolve();return}Object.assign(Ct,Mt.styles),this._processItems(Mt.items,Ct),bt()},At.reject)};this._reader=this._textContentStream.getReader(),bt()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');At.promise.then(()=>{Ct=null,xt?this._renderTimer=setTimeout(()=>{ct(this),this._renderTimer=null},xt):ct(this)},this._capability.reject)}expandTextDivs(xt=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(mt(this),this._bounds=null);const At=[],Ct=[];for(let Pt=0,bt=this._textDivs.length;Pt<bt;Pt++){const Mt=this._textDivs[Pt],Tt=this._textDivProperties.get(Mt);Tt.hasText&&(xt?(At.length=0,Ct.length=0,Tt.originalTransform&&At.push(Tt.originalTransform),Tt.paddingTop>0?(Ct.push(`${Tt.paddingTop}px`),At.push(`translateY(${-Tt.paddingTop}px)`)):Ct.push(0),Tt.paddingRight>0?Ct.push(`${Tt.paddingRight/Tt.scale}px`):Ct.push(0),Tt.paddingBottom>0?Ct.push(`${Tt.paddingBottom}px`):Ct.push(0),Tt.paddingLeft>0?(Ct.push(`${Tt.paddingLeft/Tt.scale}px`),At.push(`translateX(${-Tt.paddingLeft/Tt.scale}px)`)):Ct.push(0),Mt.style.padding=Ct.join(" "),At.length&&(Mt.style.transform=At.join(" "))):(Mt.style.padding=null,Mt.style.transform=Tt.originalTransform))}}}$.TextLayerRenderTask=vt;function _t(yt){const xt=new vt({textContent:yt.textContent,textContentStream:yt.textContentStream,container:yt.container,viewport:yt.viewport,textDivs:yt.textDivs,textContentItemsStr:yt.textContentItemsStr,enhanceTextSelection:yt.enhanceTextSelection});return xt._render(yt.timeout),xt}},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var tt=_e(4),nt=_e(1),rt=_e(3);let it=class{constructor(){(0,nt.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=it;{let _t=function(bt){let Mt=[];const Tt=[];for(const Ft of bt){if(Ft.fn==="save"){Mt.push({fnId:92,fn:"group",items:[]}),Tt.push(Mt),Mt=Mt.at(-1).items;continue}Ft.fn==="restore"?Mt=Tt.pop():Mt.push(Ft)}return Mt},yt=function(bt){if(Number.isInteger(bt))return bt.toString();const Mt=bt.toFixed(10);let Tt=Mt.length-1;if(Mt[Tt]!=="0")return Mt;do Tt--;while(Mt[Tt]==="0");return Mt.substring(0,Mt[Tt]==="."?Tt:Tt+1)},xt=function(bt){if(bt[4]===0&&bt[5]===0){if(bt[1]===0&&bt[2]===0)return bt[0]===1&&bt[3]===1?"":`scale(${yt(bt[0])} ${yt(bt[3])})`;if(bt[0]===bt[3]&&bt[1]===-bt[2]){const Mt=Math.acos(bt[0])*180/Math.PI;return`rotate(${yt(Mt)})`}}else if(bt[0]===1&&bt[1]===0&&bt[2]===0&&bt[3]===1)return`translate(${yt(bt[4])} ${yt(bt[5])})`;return`matrix(${yt(bt[0])} ${yt(bt[1])} ${yt(bt[2])} ${yt(bt[3])} ${yt(bt[4])} ${yt(bt[5])})`};var st=_t,ot=yt,at=xt;const lt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},dt="http://www.w3.org/XML/1998/namespace",ct="http://www.w3.org/1999/xlink",pt=["butt","round","square"],mt=["miter","round","bevel"],ht=function(bt,Mt="",Tt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Tt)return URL.createObjectURL(new Blob([bt],{type:Mt}));const Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Gt=`data:${Mt};base64,`;for(let Wt=0,It=bt.length;Wt<It;Wt+=3){const Kt=bt[Wt]&255,Ut=bt[Wt+1]&255,Qt=bt[Wt+2]&255,Dt=Kt>>2,qt=(Kt&3)<<4|Ut>>4,Jt=Wt+1<It?(Ut&15)<<2|Qt>>6:64,on=Wt+2<It?Qt&63:64;Gt+=Ft[Dt]+Ft[qt]+Ft[Jt]+Ft[on]}return Gt},gt=function(){const bt=new Uint8Array([137,80,78,71,13,10,26,10]),Mt=12,Tt=new Int32Array(256);for(let Qt=0;Qt<256;Qt++){let Dt=Qt;for(let qt=0;qt<8;qt++)Dt&1?Dt=3988292384^Dt>>1&2147483647:Dt=Dt>>1&2147483647;Tt[Qt]=Dt}function Ft(Qt,Dt,qt){let Jt=-1;for(let on=Dt;on<qt;on++){const tn=(Jt^Qt[on])&255,yn=Tt[tn];Jt=Jt>>>8^yn}return Jt^-1}function Gt(Qt,Dt,qt,Jt){let on=Jt;const tn=Dt.length;qt[on]=tn>>24&255,qt[on+1]=tn>>16&255,qt[on+2]=tn>>8&255,qt[on+3]=tn&255,on+=4,qt[on]=Qt.charCodeAt(0)&255,qt[on+1]=Qt.charCodeAt(1)&255,qt[on+2]=Qt.charCodeAt(2)&255,qt[on+3]=Qt.charCodeAt(3)&255,on+=4,qt.set(Dt,on),on+=Dt.length;const yn=Ft(qt,Jt+4,on);qt[on]=yn>>24&255,qt[on+1]=yn>>16&255,qt[on+2]=yn>>8&255,qt[on+3]=yn&255}function Wt(Qt,Dt,qt){let Jt=1,on=0;for(let tn=Dt;tn<qt;++tn)Jt=(Jt+(Qt[tn]&255))%65521,on=(on+Jt)%65521;return on<<16|Jt}function It(Qt){if(!rt.isNodeJS)return Kt(Qt);try{let Dt;parseInt(process.versions.node)>=8?Dt=Qt:Dt=Buffer.from(Qt);const qt=require$$5.deflateSync(Dt,{level:9});return qt instanceof Uint8Array?qt:new Uint8Array(qt)}catch(Dt){(0,nt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Dt)}return Kt(Qt)}function Kt(Qt){let Dt=Qt.length;const qt=65535,Jt=Math.ceil(Dt/qt),on=new Uint8Array(2+Dt+Jt*5+4);let tn=0;on[tn++]=120,on[tn++]=156;let yn=0;for(;Dt>qt;)on[tn++]=0,on[tn++]=255,on[tn++]=255,on[tn++]=0,on[tn++]=0,on.set(Qt.subarray(yn,yn+qt),tn),tn+=qt,yn+=qt,Dt-=qt;on[tn++]=1,on[tn++]=Dt&255,on[tn++]=Dt>>8&255,on[tn++]=~Dt&65535&255,on[tn++]=(~Dt&65535)>>8&255,on.set(Qt.subarray(yn),tn),tn+=Qt.length-yn;const Yt=Wt(Qt,0,Qt.length);return on[tn++]=Yt>>24&255,on[tn++]=Yt>>16&255,on[tn++]=Yt>>8&255,on[tn++]=Yt&255,on}function Ut(Qt,Dt,qt,Jt){const on=Qt.width,tn=Qt.height;let yn,Yt,kt;const Bt=Qt.data;switch(Dt){case nt.ImageKind.GRAYSCALE_1BPP:Yt=0,yn=1,kt=on+7>>3;break;case nt.ImageKind.RGB_24BPP:Yt=2,yn=8,kt=on*3;break;case nt.ImageKind.RGBA_32BPP:Yt=6,yn=8,kt=on*4;break;default:throw new Error("invalid format")}const Ht=new Uint8Array((1+kt)*tn);let wt=0,Lt=0;for(let hn=0;hn<tn;++hn)Ht[wt++]=0,Ht.set(Bt.subarray(Lt,Lt+kt),wt),Lt+=kt,wt+=kt;if(Dt===nt.ImageKind.GRAYSCALE_1BPP&&Jt){wt=0;for(let hn=0;hn<tn;hn++){wt++;for(let ln=0;ln<kt;ln++)Ht[wt++]^=255}}const Ot=new Uint8Array([on>>24&255,on>>16&255,on>>8&255,on&255,tn>>24&255,tn>>16&255,tn>>8&255,tn&255,yn,Yt,0,0,0]),$t=It(Ht),Vt=bt.length+Mt*3+Ot.length+$t.length,Zt=new Uint8Array(Vt);let sn=0;return Zt.set(bt,sn),sn+=bt.length,Gt("IHDR",Ot,Zt,sn),sn+=Mt+Ot.length,Gt("IDATA",$t,Zt,sn),sn+=Mt+$t.length,Gt("IEND",new Uint8Array(0),Zt,sn),ht(Zt,"image/png",qt)}return function(Dt,qt,Jt){const on=Dt.kind===void 0?nt.ImageKind.GRAYSCALE_1BPP:Dt.kind;return Ut(Dt,on,qt,Jt)}}();class vt{constructor(){this.fontSizeScale=1,this.fontWeight=lt.fontWeight,this.fontSize=0,this.textMatrix=nt.IDENTITY_MATRIX,this.fontMatrix=nt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=lt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Mt,Tt){this.x=Mt,this.y=Tt}}let At=0,Ct=0,Pt=0;$.SVGGraphics=it=class{constructor(bt,Mt,Tt=!1){(0,tt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new tt.DOMSVGFactory,this.current=new vt,this.transformMatrix=nt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=bt,this.objs=Mt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Tt,this._operatorIdMapping=[];for(const Ft in nt.OPS)this._operatorIdMapping[nt.OPS[Ft]]=Ft}save(){this.transformStack.push(this.transformMatrix);const bt=this.current;this.extraStack.push(bt),this.current=bt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(bt){this.save(),this.executeOpTree(bt),this.restore()}loadDependencies(bt){const Mt=bt.fnArray,Tt=bt.argsArray;for(let Ft=0,Gt=Mt.length;Ft<Gt;Ft++)if(Mt[Ft]===nt.OPS.dependency)for(const Wt of Tt[Ft]){const It=Wt.startsWith("g_")?this.commonObjs:this.objs,Kt=new Promise(Ut=>{It.get(Wt,Ut)});this.current.dependencies.push(Kt)}return Promise.all(this.current.dependencies)}transform(bt,Mt,Tt,Ft,Gt,Wt){const It=[bt,Mt,Tt,Ft,Gt,Wt];this.transformMatrix=nt.Util.transform(this.transformMatrix,It),this.tgrp=null}getSVG(bt,Mt){this.viewport=Mt;const Tt=this._initialize(Mt);return this.loadDependencies(bt).then(()=>(this.transformMatrix=nt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(bt)),Tt))}convertOpList(bt){const Mt=this._operatorIdMapping,Tt=bt.argsArray,Ft=bt.fnArray,Gt=[];for(let Wt=0,It=Ft.length;Wt<It;Wt++){const Kt=Ft[Wt];Gt.push({fnId:Kt,fn:Mt[Kt],args:Tt[Wt]})}return _t(Gt)}executeOpTree(bt){for(const Mt of bt){const Tt=Mt.fn,Ft=Mt.fnId,Gt=Mt.args;switch(Ft|0){case nt.OPS.beginText:this.beginText();break;case nt.OPS.dependency:break;case nt.OPS.setLeading:this.setLeading(Gt);break;case nt.OPS.setLeadingMoveText:this.setLeadingMoveText(Gt[0],Gt[1]);break;case nt.OPS.setFont:this.setFont(Gt);break;case nt.OPS.showText:this.showText(Gt[0]);break;case nt.OPS.showSpacedText:this.showText(Gt[0]);break;case nt.OPS.endText:this.endText();break;case nt.OPS.moveText:this.moveText(Gt[0],Gt[1]);break;case nt.OPS.setCharSpacing:this.setCharSpacing(Gt[0]);break;case nt.OPS.setWordSpacing:this.setWordSpacing(Gt[0]);break;case nt.OPS.setHScale:this.setHScale(Gt[0]);break;case nt.OPS.setTextMatrix:this.setTextMatrix(Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5]);break;case nt.OPS.setTextRise:this.setTextRise(Gt[0]);break;case nt.OPS.setTextRenderingMode:this.setTextRenderingMode(Gt[0]);break;case nt.OPS.setLineWidth:this.setLineWidth(Gt[0]);break;case nt.OPS.setLineJoin:this.setLineJoin(Gt[0]);break;case nt.OPS.setLineCap:this.setLineCap(Gt[0]);break;case nt.OPS.setMiterLimit:this.setMiterLimit(Gt[0]);break;case nt.OPS.setFillRGBColor:this.setFillRGBColor(Gt[0],Gt[1],Gt[2]);break;case nt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Gt[0],Gt[1],Gt[2]);break;case nt.OPS.setStrokeColorN:this.setStrokeColorN(Gt);break;case nt.OPS.setFillColorN:this.setFillColorN(Gt);break;case nt.OPS.shadingFill:this.shadingFill(Gt[0]);break;case nt.OPS.setDash:this.setDash(Gt[0],Gt[1]);break;case nt.OPS.setRenderingIntent:this.setRenderingIntent(Gt[0]);break;case nt.OPS.setFlatness:this.setFlatness(Gt[0]);break;case nt.OPS.setGState:this.setGState(Gt[0]);break;case nt.OPS.fill:this.fill();break;case nt.OPS.eoFill:this.eoFill();break;case nt.OPS.stroke:this.stroke();break;case nt.OPS.fillStroke:this.fillStroke();break;case nt.OPS.eoFillStroke:this.eoFillStroke();break;case nt.OPS.clip:this.clip("nonzero");break;case nt.OPS.eoClip:this.clip("evenodd");break;case nt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nt.OPS.paintImageXObject:this.paintImageXObject(Gt[0]);break;case nt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Gt[0]);break;case nt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Gt[0]);break;case nt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Gt[0],Gt[1]);break;case nt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nt.OPS.closePath:this.closePath();break;case nt.OPS.closeStroke:this.closeStroke();break;case nt.OPS.closeFillStroke:this.closeFillStroke();break;case nt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nt.OPS.nextLine:this.nextLine();break;case nt.OPS.transform:this.transform(Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5]);break;case nt.OPS.constructPath:this.constructPath(Gt[0],Gt[1]);break;case nt.OPS.endPath:this.endPath();break;case 92:this.group(Mt.items);break;default:(0,nt.warn)(`Unimplemented operator ${Tt}`);break}}}setWordSpacing(bt){this.current.wordSpacing=bt}setCharSpacing(bt){this.current.charSpacing=bt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(bt,Mt,Tt,Ft,Gt,Wt){const It=this.current;It.textMatrix=It.lineMatrix=[bt,Mt,Tt,Ft,Gt,Wt],It.textMatrixScale=Math.hypot(bt,Mt),It.x=It.lineX=0,It.y=It.lineY=0,It.xcoords=[],It.ycoords=[],It.tspan=this.svgFactory.createElement("svg:tspan"),It.tspan.setAttributeNS(null,"font-family",It.fontFamily),It.tspan.setAttributeNS(null,"font-size",`${yt(It.fontSize)}px`),It.tspan.setAttributeNS(null,"y",yt(-It.y)),It.txtElement=this.svgFactory.createElement("svg:text"),It.txtElement.append(It.tspan)}beginText(){const bt=this.current;bt.x=bt.lineX=0,bt.y=bt.lineY=0,bt.textMatrix=nt.IDENTITY_MATRIX,bt.lineMatrix=nt.IDENTITY_MATRIX,bt.textMatrixScale=1,bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.txtElement=this.svgFactory.createElement("svg:text"),bt.txtgrp=this.svgFactory.createElement("svg:g"),bt.xcoords=[],bt.ycoords=[]}moveText(bt,Mt){const Tt=this.current;Tt.x=Tt.lineX+=bt,Tt.y=Tt.lineY+=Mt,Tt.xcoords=[],Tt.ycoords=[],Tt.tspan=this.svgFactory.createElement("svg:tspan"),Tt.tspan.setAttributeNS(null,"font-family",Tt.fontFamily),Tt.tspan.setAttributeNS(null,"font-size",`${yt(Tt.fontSize)}px`),Tt.tspan.setAttributeNS(null,"y",yt(-Tt.y))}showText(bt){const Mt=this.current,Tt=Mt.font,Ft=Mt.fontSize;if(Ft===0)return;const Gt=Mt.fontSizeScale,Wt=Mt.charSpacing,It=Mt.wordSpacing,Kt=Mt.fontDirection,Ut=Mt.textHScale*Kt,Qt=Tt.vertical,Dt=Qt?1:-1,qt=Tt.defaultVMetrics,Jt=Ft*Mt.fontMatrix[0];let on=0;for(const Yt of bt){if(Yt===null){on+=Kt*It;continue}else if(typeof Yt=="number"){on+=Dt*Yt*Ft/1e3;continue}const kt=(Yt.isSpace?It:0)+Wt,Bt=Yt.fontChar;let Ht,wt,Lt=Yt.width;if(Qt){let $t;const Vt=Yt.vmetric||qt;$t=Yt.vmetric?Vt[1]:Lt*.5,$t=-$t*Jt;const Zt=Vt[2]*Jt;Lt=Vt?-Vt[0]:Lt,Ht=$t/Gt,wt=(on+Zt)/Gt}else Ht=on/Gt,wt=0;(Yt.isInFont||Tt.missingFile)&&(Mt.xcoords.push(Mt.x+Ht),Qt&&Mt.ycoords.push(-Mt.y+wt),Mt.tspan.textContent+=Bt);let Ot;Qt?Ot=Lt*Jt-kt*Kt:Ot=Lt*Jt+kt*Kt,on+=Ot}Mt.tspan.setAttributeNS(null,"x",Mt.xcoords.map(yt).join(" ")),Qt?Mt.tspan.setAttributeNS(null,"y",Mt.ycoords.map(yt).join(" ")):Mt.tspan.setAttributeNS(null,"y",yt(-Mt.y)),Qt?Mt.y-=on:Mt.x+=on*Ut,Mt.tspan.setAttributeNS(null,"font-family",Mt.fontFamily),Mt.tspan.setAttributeNS(null,"font-size",`${yt(Mt.fontSize)}px`),Mt.fontStyle!==lt.fontStyle&&Mt.tspan.setAttributeNS(null,"font-style",Mt.fontStyle),Mt.fontWeight!==lt.fontWeight&&Mt.tspan.setAttributeNS(null,"font-weight",Mt.fontWeight);const tn=Mt.textRenderingMode&nt.TextRenderingMode.FILL_STROKE_MASK;if(tn===nt.TextRenderingMode.FILL||tn===nt.TextRenderingMode.FILL_STROKE?(Mt.fillColor!==lt.fillColor&&Mt.tspan.setAttributeNS(null,"fill",Mt.fillColor),Mt.fillAlpha<1&&Mt.tspan.setAttributeNS(null,"fill-opacity",Mt.fillAlpha)):Mt.textRenderingMode===nt.TextRenderingMode.ADD_TO_PATH?Mt.tspan.setAttributeNS(null,"fill","transparent"):Mt.tspan.setAttributeNS(null,"fill","none"),tn===nt.TextRenderingMode.STROKE||tn===nt.TextRenderingMode.FILL_STROKE){const Yt=1/(Mt.textMatrixScale||1);this._setStrokeAttributes(Mt.tspan,Yt)}let yn=Mt.textMatrix;Mt.textRise!==0&&(yn=yn.slice(),yn[5]+=Mt.textRise),Mt.txtElement.setAttributeNS(null,"transform",`${xt(yn)} scale(${yt(Ut)}, -1)`),Mt.txtElement.setAttributeNS(dt,"xml:space","preserve"),Mt.txtElement.append(Mt.tspan),Mt.txtgrp.append(Mt.txtElement),this._ensureTransformGroup().append(Mt.txtElement)}setLeadingMoveText(bt,Mt){this.setLeading(-Mt),this.moveText(bt,Mt)}addFontStyle(bt){if(!bt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Mt=ht(bt.data,bt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${bt.loadedName}"; src: url(${Mt}); }
`}setFont(bt){const Mt=this.current,Tt=this.commonObjs.get(bt[0]);let Ft=bt[1];Mt.font=Tt,this.embedFonts&&!Tt.missingFile&&!this.embeddedFonts[Tt.loadedName]&&(this.addFontStyle(Tt),this.embeddedFonts[Tt.loadedName]=Tt),Mt.fontMatrix=Tt.fontMatrix||nt.FONT_IDENTITY_MATRIX;let Gt="normal";Tt.black?Gt="900":Tt.bold&&(Gt="bold");const Wt=Tt.italic?"italic":"normal";Ft<0?(Ft=-Ft,Mt.fontDirection=-1):Mt.fontDirection=1,Mt.fontSize=Ft,Mt.fontFamily=Tt.loadedName,Mt.fontWeight=Gt,Mt.fontStyle=Wt,Mt.tspan=this.svgFactory.createElement("svg:tspan"),Mt.tspan.setAttributeNS(null,"y",yt(-Mt.y)),Mt.xcoords=[],Mt.ycoords=[]}endText(){var Mt;const bt=this.current;bt.textRenderingMode&nt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Mt=bt.txtElement)!=null&&Mt.hasChildNodes())&&(bt.element=bt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(bt){bt>0&&(this.current.lineWidth=bt)}setLineCap(bt){this.current.lineCap=pt[bt]}setLineJoin(bt){this.current.lineJoin=mt[bt]}setMiterLimit(bt){this.current.miterLimit=bt}setStrokeAlpha(bt){this.current.strokeAlpha=bt}setStrokeRGBColor(bt,Mt,Tt){this.current.strokeColor=nt.Util.makeHexColor(bt,Mt,Tt)}setFillAlpha(bt){this.current.fillAlpha=bt}setFillRGBColor(bt,Mt,Tt){this.current.fillColor=nt.Util.makeHexColor(bt,Mt,Tt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(bt){this.current.strokeColor=this._makeColorN_Pattern(bt)}setFillColorN(bt){this.current.fillColor=this._makeColorN_Pattern(bt)}shadingFill(bt){const Mt=this.viewport.width,Tt=this.viewport.height,Ft=nt.Util.inverseTransform(this.transformMatrix),Gt=nt.Util.applyTransform([0,0],Ft),Wt=nt.Util.applyTransform([0,Tt],Ft),It=nt.Util.applyTransform([Mt,0],Ft),Kt=nt.Util.applyTransform([Mt,Tt],Ft),Ut=Math.min(Gt[0],Wt[0],It[0],Kt[0]),Qt=Math.min(Gt[1],Wt[1],It[1],Kt[1]),Dt=Math.max(Gt[0],Wt[0],It[0],Kt[0]),qt=Math.max(Gt[1],Wt[1],It[1],Kt[1]),Jt=this.svgFactory.createElement("svg:rect");Jt.setAttributeNS(null,"x",Ut),Jt.setAttributeNS(null,"y",Qt),Jt.setAttributeNS(null,"width",Dt-Ut),Jt.setAttributeNS(null,"height",qt-Qt),Jt.setAttributeNS(null,"fill",this._makeShadingPattern(bt)),this.current.fillAlpha<1&&Jt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Jt)}_makeColorN_Pattern(bt){return bt[0]==="TilingPattern"?this._makeTilingPattern(bt):this._makeShadingPattern(bt)}_makeTilingPattern(bt){const Mt=bt[1],Tt=bt[2],Ft=bt[3]||nt.IDENTITY_MATRIX,[Gt,Wt,It,Kt]=bt[4],Ut=bt[5],Qt=bt[6],Dt=bt[7],qt=`shading${Pt++}`,[Jt,on,tn,yn]=nt.Util.normalizeRect([...nt.Util.applyTransform([Gt,Wt],Ft),...nt.Util.applyTransform([It,Kt],Ft)]),[Yt,kt]=nt.Util.singularValueDecompose2dScale(Ft),Bt=Ut*Yt,Ht=Qt*kt,wt=this.svgFactory.createElement("svg:pattern");wt.setAttributeNS(null,"id",qt),wt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),wt.setAttributeNS(null,"width",Bt),wt.setAttributeNS(null,"height",Ht),wt.setAttributeNS(null,"x",`${Jt}`),wt.setAttributeNS(null,"y",`${on}`);const Lt=this.svg,Ot=this.transformMatrix,$t=this.current.fillColor,Vt=this.current.strokeColor,Zt=this.svgFactory.create(tn-Jt,yn-on);if(this.svg=Zt,this.transformMatrix=Ft,Dt===2){const sn=nt.Util.makeHexColor(...Mt);this.current.fillColor=sn,this.current.strokeColor=sn}return this.executeOpTree(this.convertOpList(Tt)),this.svg=Lt,this.transformMatrix=Ot,this.current.fillColor=$t,this.current.strokeColor=Vt,wt.append(Zt.childNodes[0]),this.defs.append(wt),`url(#${qt})`}_makeShadingPattern(bt){switch(typeof bt=="string"&&(bt=this.objs.get(bt)),bt[0]){case"RadialAxial":const Mt=`shading${Pt++}`,Tt=bt[3];let Ft;switch(bt[1]){case"axial":const Gt=bt[4],Wt=bt[5];Ft=this.svgFactory.createElement("svg:linearGradient"),Ft.setAttributeNS(null,"id",Mt),Ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ft.setAttributeNS(null,"x1",Gt[0]),Ft.setAttributeNS(null,"y1",Gt[1]),Ft.setAttributeNS(null,"x2",Wt[0]),Ft.setAttributeNS(null,"y2",Wt[1]);break;case"radial":const It=bt[4],Kt=bt[5],Ut=bt[6],Qt=bt[7];Ft=this.svgFactory.createElement("svg:radialGradient"),Ft.setAttributeNS(null,"id",Mt),Ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ft.setAttributeNS(null,"cx",Kt[0]),Ft.setAttributeNS(null,"cy",Kt[1]),Ft.setAttributeNS(null,"r",Qt),Ft.setAttributeNS(null,"fx",It[0]),Ft.setAttributeNS(null,"fy",It[1]),Ft.setAttributeNS(null,"fr",Ut);break;default:throw new Error(`Unknown RadialAxial type: ${bt[1]}`)}for(const Gt of Tt){const Wt=this.svgFactory.createElement("svg:stop");Wt.setAttributeNS(null,"offset",Gt[0]),Wt.setAttributeNS(null,"stop-color",Gt[1]),Ft.append(Wt)}return this.defs.append(Ft),`url(#${Mt})`;case"Mesh":return(0,nt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${bt[0]}`)}}setDash(bt,Mt){this.current.dashArray=bt,this.current.dashPhase=Mt}constructPath(bt,Mt){const Tt=this.current;let Ft=Tt.x,Gt=Tt.y,Wt=[],It=0;for(const Kt of bt)switch(Kt|0){case nt.OPS.rectangle:Ft=Mt[It++],Gt=Mt[It++];const Ut=Mt[It++],Qt=Mt[It++],Dt=Ft+Ut,qt=Gt+Qt;Wt.push("M",yt(Ft),yt(Gt),"L",yt(Dt),yt(Gt),"L",yt(Dt),yt(qt),"L",yt(Ft),yt(qt),"Z");break;case nt.OPS.moveTo:Ft=Mt[It++],Gt=Mt[It++],Wt.push("M",yt(Ft),yt(Gt));break;case nt.OPS.lineTo:Ft=Mt[It++],Gt=Mt[It++],Wt.push("L",yt(Ft),yt(Gt));break;case nt.OPS.curveTo:Ft=Mt[It+4],Gt=Mt[It+5],Wt.push("C",yt(Mt[It]),yt(Mt[It+1]),yt(Mt[It+2]),yt(Mt[It+3]),yt(Ft),yt(Gt)),It+=6;break;case nt.OPS.curveTo2:Wt.push("C",yt(Ft),yt(Gt),yt(Mt[It]),yt(Mt[It+1]),yt(Mt[It+2]),yt(Mt[It+3])),Ft=Mt[It+2],Gt=Mt[It+3],It+=4;break;case nt.OPS.curveTo3:Ft=Mt[It+2],Gt=Mt[It+3],Wt.push("C",yt(Mt[It]),yt(Mt[It+1]),yt(Ft),yt(Gt),yt(Ft),yt(Gt)),It+=4;break;case nt.OPS.closePath:Wt.push("Z");break}Wt=Wt.join(" "),Tt.path&&bt.length>0&&bt[0]!==nt.OPS.rectangle&&bt[0]!==nt.OPS.moveTo?Wt=Tt.path.getAttributeNS(null,"d")+Wt:(Tt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Tt.path)),Tt.path.setAttributeNS(null,"d",Wt),Tt.path.setAttributeNS(null,"fill","none"),Tt.element=Tt.path,Tt.setCurrentPoint(Ft,Gt)}endPath(){const bt=this.current;if(bt.path=null,!this.pendingClip)return;if(!bt.element){this.pendingClip=null;return}const Mt=`clippath${At++}`,Tt=this.svgFactory.createElement("svg:clipPath");Tt.setAttributeNS(null,"id",Mt),Tt.setAttributeNS(null,"transform",xt(this.transformMatrix));const Ft=bt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ft.setAttributeNS(null,"clip-rule","evenodd"):Ft.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Tt.append(Ft),this.defs.append(Tt),bt.activeClipUrl){bt.clipGroup=null;for(const Gt of this.extraStack)Gt.clipGroup=null;Tt.setAttributeNS(null,"clip-path",bt.activeClipUrl)}bt.activeClipUrl=`url(#${Mt})`,this.tgrp=null}clip(bt){this.pendingClip=bt}closePath(){const bt=this.current;if(bt.path){const Mt=`${bt.path.getAttributeNS(null,"d")}Z`;bt.path.setAttributeNS(null,"d",Mt)}}setLeading(bt){this.current.leading=-bt}setTextRise(bt){this.current.textRise=bt}setTextRenderingMode(bt){this.current.textRenderingMode=bt}setHScale(bt){this.current.textHScale=bt/100}setRenderingIntent(bt){}setFlatness(bt){}setGState(bt){for(const[Mt,Tt]of bt)switch(Mt){case"LW":this.setLineWidth(Tt);break;case"LC":this.setLineCap(Tt);break;case"LJ":this.setLineJoin(Tt);break;case"ML":this.setMiterLimit(Tt);break;case"D":this.setDash(Tt[0],Tt[1]);break;case"RI":this.setRenderingIntent(Tt);break;case"FL":this.setFlatness(Tt);break;case"Font":this.setFont(Tt);break;case"CA":this.setStrokeAlpha(Tt);break;case"ca":this.setFillAlpha(Tt);break;default:(0,nt.warn)(`Unimplemented graphic state operator ${Mt}`);break}}fill(){const bt=this.current;bt.element&&(bt.element.setAttributeNS(null,"fill",bt.fillColor),bt.element.setAttributeNS(null,"fill-opacity",bt.fillAlpha),this.endPath())}stroke(){const bt=this.current;bt.element&&(this._setStrokeAttributes(bt.element),bt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(bt,Mt=1){const Tt=this.current;let Ft=Tt.dashArray;Mt!==1&&Ft.length>0&&(Ft=Ft.map(function(Gt){return Mt*Gt})),bt.setAttributeNS(null,"stroke",Tt.strokeColor),bt.setAttributeNS(null,"stroke-opacity",Tt.strokeAlpha),bt.setAttributeNS(null,"stroke-miterlimit",yt(Tt.miterLimit)),bt.setAttributeNS(null,"stroke-linecap",Tt.lineCap),bt.setAttributeNS(null,"stroke-linejoin",Tt.lineJoin),bt.setAttributeNS(null,"stroke-width",yt(Mt*Tt.lineWidth)+"px"),bt.setAttributeNS(null,"stroke-dasharray",Ft.map(yt).join(" ")),bt.setAttributeNS(null,"stroke-dashoffset",yt(Mt*Tt.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width","1px"),bt.setAttributeNS(null,"height","1px"),bt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(bt)}paintImageXObject(bt){const Mt=bt.startsWith("g_")?this.commonObjs.get(bt):this.objs.get(bt);if(!Mt){(0,nt.warn)(`Dependent image with object ID ${bt} is not ready yet`);return}this.paintInlineImageXObject(Mt)}paintInlineImageXObject(bt,Mt){const Tt=bt.width,Ft=bt.height,Gt=gt(bt,this.forceDataSchema,!!Mt),Wt=this.svgFactory.createElement("svg:rect");Wt.setAttributeNS(null,"x","0"),Wt.setAttributeNS(null,"y","0"),Wt.setAttributeNS(null,"width",yt(Tt)),Wt.setAttributeNS(null,"height",yt(Ft)),this.current.element=Wt,this.clip("nonzero");const It=this.svgFactory.createElement("svg:image");It.setAttributeNS(ct,"xlink:href",Gt),It.setAttributeNS(null,"x","0"),It.setAttributeNS(null,"y",yt(-Ft)),It.setAttributeNS(null,"width",yt(Tt)+"px"),It.setAttributeNS(null,"height",yt(Ft)+"px"),It.setAttributeNS(null,"transform",`scale(${yt(1/Tt)} ${yt(-1/Ft)})`),Mt?Mt.append(It):this._ensureTransformGroup().append(It)}paintImageMaskXObject(bt){const Mt=this.current,Tt=bt.width,Ft=bt.height,Gt=Mt.fillColor;Mt.maskId=`mask${Ct++}`;const Wt=this.svgFactory.createElement("svg:mask");Wt.setAttributeNS(null,"id",Mt.maskId);const It=this.svgFactory.createElement("svg:rect");It.setAttributeNS(null,"x","0"),It.setAttributeNS(null,"y","0"),It.setAttributeNS(null,"width",yt(Tt)),It.setAttributeNS(null,"height",yt(Ft)),It.setAttributeNS(null,"fill",Gt),It.setAttributeNS(null,"mask",`url(#${Mt.maskId})`),this.defs.append(Wt),this._ensureTransformGroup().append(It),this.paintInlineImageXObject(bt,Wt)}paintFormXObjectBegin(bt,Mt){if(Array.isArray(bt)&&bt.length===6&&this.transform(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]),Mt){const Tt=Mt[2]-Mt[0],Ft=Mt[3]-Mt[1],Gt=this.svgFactory.createElement("svg:rect");Gt.setAttributeNS(null,"x",Mt[0]),Gt.setAttributeNS(null,"y",Mt[1]),Gt.setAttributeNS(null,"width",yt(Tt)),Gt.setAttributeNS(null,"height",yt(Ft)),this.current.element=Gt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(bt){const Mt=this.svgFactory.create(bt.width,bt.height),Tt=this.svgFactory.createElement("svg:defs");Mt.append(Tt),this.defs=Tt;const Ft=this.svgFactory.createElement("svg:g");return Ft.setAttributeNS(null,"transform",xt(bt.transform)),Mt.append(Ft),this.svg=Ft,Mt}_ensureClipGroup(){if(!this.current.clipGroup){const bt=this.svgFactory.createElement("svg:g");bt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(bt),this.current.clipGroup=bt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",xt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var tt=_e(1),nt=_e(33);const rt=require$$5,it=require$$5,st=require$$5,ot=require$$5,at=/^file:\/\/\/[a-zA-Z]:\//;function lt(yt){const xt=ot.parse(yt);return xt.protocol==="file:"||xt.host?xt:/^[a-z]:[/\\]/i.test(yt)?ot.parse(`file:///${yt}`):(xt.host||(xt.protocol="file:"),xt)}class dt{constructor(xt){this.source=xt,this.url=lt(xt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&xt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var xt;return((xt=this._fullRequestReader)==null?void 0:xt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vt(this):new ht(this),this._fullRequestReader}getRangeReader(xt,At){if(At<=this._progressiveDataLength)return null;const Ct=this.isFsUrl?new _t(this,xt,At):new gt(this,xt,At);return this._rangeRequestReaders.push(Ct),Ct}cancelAllRequests(xt){this._fullRequestReader&&this._fullRequestReader.cancel(xt);for(const At of this._rangeRequestReaders.slice(0))At.cancel(xt)}}$.PDFNodeStream=dt;class ct{constructor(xt){this._url=xt.url,this._done=!1,this._storedError=null,this.onProgress=null;const At=xt.source;this._contentLength=At.length,this._loaded=0,this._filename=null,this._disableRange=At.disableRange||!1,this._rangeChunkSize=At.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!At.disableStream,this._isRangeSupported=!At.disableRange,this._readableStream=null,this._readCapability=(0,tt.createPromiseCapability)(),this._headersCapability=(0,tt.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const xt=this._readableStream.read();return xt===null?(this._readCapability=(0,tt.createPromiseCapability)(),this.read()):(this._loaded+=xt.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(xt).buffer,done:!1})}cancel(xt){if(!this._readableStream){this._error(xt);return}this._readableStream.destroy(xt)}_error(xt){this._storedError=xt,this._readCapability.resolve()}_setReadableStream(xt){this._readableStream=xt,xt.on("readable",()=>{this._readCapability.resolve()}),xt.on("end",()=>{xt.destroy(),this._done=!0,this._readCapability.resolve()}),xt.on("error",At=>{this._error(At)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pt{constructor(xt){this._url=xt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,tt.createPromiseCapability)();const At=xt.source;this._isStreamingSupported=!At.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const xt=this._readableStream.read();return xt===null?(this._readCapability=(0,tt.createPromiseCapability)(),this.read()):(this._loaded+=xt.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(xt).buffer,done:!1})}cancel(xt){if(!this._readableStream){this._error(xt);return}this._readableStream.destroy(xt)}_error(xt){this._storedError=xt,this._readCapability.resolve()}_setReadableStream(xt){this._readableStream=xt,xt.on("readable",()=>{this._readCapability.resolve()}),xt.on("end",()=>{xt.destroy(),this._done=!0,this._readCapability.resolve()}),xt.on("error",At=>{this._error(At)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function mt(yt,xt){return{protocol:yt.protocol,auth:yt.auth,host:yt.hostname,port:yt.port,path:yt.path,method:"GET",headers:xt}}class ht extends ct{constructor(xt){super(xt);const At=Ct=>{if(Ct.statusCode===404){const Tt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Tt,this._headersCapability.reject(Tt);return}this._headersCapability.resolve(),this._setReadableStream(Ct);const Pt=Tt=>this._readableStream.headers[Tt.toLowerCase()],{allowRangeRequests:bt,suggestedLength:Mt}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:Pt,isHttp:xt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=bt,this._contentLength=Mt||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(Pt)};this._request=null,this._url.protocol==="http:"?this._request=it.request(mt(this._url,xt.httpHeaders),At):this._request=st.request(mt(this._url,xt.httpHeaders),At),this._request.on("error",Ct=>{this._storedError=Ct,this._headersCapability.reject(Ct)}),this._request.end()}}class gt extends pt{constructor(xt,At,Ct){super(xt),this._httpHeaders={};for(const bt in xt.httpHeaders){const Mt=xt.httpHeaders[bt];typeof Mt>"u"||(this._httpHeaders[bt]=Mt)}this._httpHeaders.Range=`bytes=${At}-${Ct-1}`;const Pt=bt=>{if(bt.statusCode===404){const Mt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Mt;return}this._setReadableStream(bt)};this._request=null,this._url.protocol==="http:"?this._request=it.request(mt(this._url,this._httpHeaders),Pt):this._request=st.request(mt(this._url,this._httpHeaders),Pt),this._request.on("error",bt=>{this._storedError=bt}),this._request.end()}}class vt extends ct{constructor(xt){super(xt);let At=decodeURIComponent(this._url.path);at.test(this._url.href)&&(At=At.replace(/^\//,"")),rt.lstat(At,(Ct,Pt)=>{if(Ct){Ct.code==="ENOENT"&&(Ct=new tt.MissingPDFException(`Missing PDF "${At}".`)),this._storedError=Ct,this._headersCapability.reject(Ct);return}this._contentLength=Pt.size,this._setReadableStream(rt.createReadStream(At)),this._headersCapability.resolve()})}}class _t extends pt{constructor(xt,At,Ct){super(xt);let Pt=decodeURIComponent(this._url.path);at.test(this._url.href)&&(Pt=Pt.replace(/^\//,"")),this._setReadableStream(rt.createReadStream(Pt,{start:At,end:Ct-1}))}}},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=ot,$.extractFilenameFromHeader=st,$.validateRangeRequestCapabilities=it,$.validateResponseStatus=at;var tt=_e(1),nt=_e(34),rt=_e(4);function it({getResponseHeader:lt,isHttp:dt,rangeChunkSize:ct,disableRange:pt}){const mt={allowRangeRequests:!1,suggestedLength:void 0},ht=parseInt(lt("Content-Length"),10);return!Number.isInteger(ht)||(mt.suggestedLength=ht,ht<=2*ct)||pt||!dt||lt("Accept-Ranges")!=="bytes"||(lt("Content-Encoding")||"identity")!=="identity"||(mt.allowRangeRequests=!0),mt}function st(lt){const dt=lt("Content-Disposition");if(dt){let ct=(0,nt.getFilenameFromContentDispositionHeader)(dt);if(ct.includes("%"))try{ct=decodeURIComponent(ct)}catch{}if((0,rt.isPdfFile)(ct))return ct}return null}function ot(lt,dt){return lt===404||lt===0&&dt.startsWith("file:")?new tt.MissingPDFException('Missing PDF "'+dt+'".'):new tt.UnexpectedResponseException(`Unexpected server response (${lt}) while retrieving PDF "${dt}".`,lt)}function at(lt){return lt===200||lt===206}},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=nt;var tt=_e(1);function nt(rt){let it=!0,st=ot("filename\\*","i").exec(rt);if(st){st=st[1];let ht=ct(st);return ht=unescape(ht),ht=pt(ht),ht=mt(ht),lt(ht)}if(st=dt(rt),st){const ht=mt(st);return lt(ht)}if(st=ot("filename","i").exec(rt),st){st=st[1];let ht=ct(st);return ht=mt(ht),lt(ht)}function ot(ht,gt){return new RegExp("(?:^|;)\\s*"+ht+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',gt)}function at(ht,gt){if(ht){if(!/^[\x00-\xFF]+$/.test(gt))return gt;try{const vt=new TextDecoder(ht,{fatal:!0}),_t=(0,tt.stringToBytes)(gt);gt=vt.decode(_t),it=!1}catch{}}return gt}function lt(ht){return it&&/[\x80-\xff]/.test(ht)&&(ht=at("utf-8",ht),it&&(ht=at("iso-8859-1",ht))),ht}function dt(ht){const gt=[];let vt;const _t=ot("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(vt=_t.exec(ht))!==null;){let[,xt,At,Ct]=vt;if(xt=parseInt(xt,10),xt in gt){if(xt===0)break;continue}gt[xt]=[At,Ct]}const yt=[];for(let xt=0;xt<gt.length&&xt in gt;++xt){let[At,Ct]=gt[xt];Ct=ct(Ct),At&&(Ct=unescape(Ct),xt===0&&(Ct=pt(Ct))),yt.push(Ct)}return yt.join("")}function ct(ht){if(ht.startsWith('"')){const gt=ht.slice(1).split('\\"');for(let vt=0;vt<gt.length;++vt){const _t=gt[vt].indexOf('"');_t!==-1&&(gt[vt]=gt[vt].slice(0,_t),gt.length=vt+1),gt[vt]=gt[vt].replace(/\\(.)/g,"$1")}ht=gt.join('"')}return ht}function pt(ht){const gt=ht.indexOf("'");if(gt===-1)return ht;const vt=ht.slice(0,gt),yt=ht.slice(gt+1).replace(/^[^']*'/,"");return at(vt,yt)}function mt(ht){return!ht.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ht)?ht:ht.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(gt,vt,_t,yt){if(_t==="q"||_t==="Q")return yt=yt.replace(/_/g," "),yt=yt.replace(/=([0-9a-fA-F]{2})/g,function(xt,At){return String.fromCharCode(parseInt(At,16))}),at(vt,yt);try{yt=atob(yt)}catch{}return at(vt,yt)})}return""}},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var tt=_e(1),nt=_e(33);const rt=200,it=206;function st(ct){const pt=ct.response;return typeof pt!="string"?pt:(0,tt.stringToBytes)(pt).buffer}class ot{constructor(pt,mt={}){this.url=pt,this.isHttp=/^https?:/i.test(pt),this.httpHeaders=this.isHttp&&mt.httpHeaders||Object.create(null),this.withCredentials=mt.withCredentials||!1,this.getXhr=mt.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(pt,mt,ht){const gt={begin:pt,end:mt};for(const vt in ht)gt[vt]=ht[vt];return this.request(gt)}requestFull(pt){return this.request(pt)}request(pt){const mt=this.getXhr(),ht=this.currXhrId++,gt=this.pendingRequests[ht]={xhr:mt};mt.open("GET",this.url),mt.withCredentials=this.withCredentials;for(const vt in this.httpHeaders){const _t=this.httpHeaders[vt];typeof _t>"u"||mt.setRequestHeader(vt,_t)}return this.isHttp&&"begin"in pt&&"end"in pt?(mt.setRequestHeader("Range",`bytes=${pt.begin}-${pt.end-1}`),gt.expectedStatus=it):gt.expectedStatus=rt,mt.responseType="arraybuffer",pt.onError&&(mt.onerror=function(vt){pt.onError(mt.status)}),mt.onreadystatechange=this.onStateChange.bind(this,ht),mt.onprogress=this.onProgress.bind(this,ht),gt.onHeadersReceived=pt.onHeadersReceived,gt.onDone=pt.onDone,gt.onError=pt.onError,gt.onProgress=pt.onProgress,mt.send(null),ht}onProgress(pt,mt){var gt;const ht=this.pendingRequests[pt];ht&&((gt=ht.onProgress)==null||gt.call(ht,mt))}onStateChange(pt,mt){var xt,At,Ct;const ht=this.pendingRequests[pt];if(!ht)return;const gt=ht.xhr;if(gt.readyState>=2&&ht.onHeadersReceived&&(ht.onHeadersReceived(),delete ht.onHeadersReceived),gt.readyState!==4||!(pt in this.pendingRequests))return;if(delete this.pendingRequests[pt],gt.status===0&&this.isHttp){(xt=ht.onError)==null||xt.call(ht,gt.status);return}const vt=gt.status||rt;if(!(vt===rt&&ht.expectedStatus===it)&&vt!==ht.expectedStatus){(At=ht.onError)==null||At.call(ht,gt.status);return}const yt=st(gt);if(vt===it){const Pt=gt.getResponseHeader("Content-Range"),bt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Pt);ht.onDone({begin:parseInt(bt[1],10),chunk:yt})}else yt?ht.onDone({begin:0,chunk:yt}):(Ct=ht.onError)==null||Ct.call(ht,gt.status)}getRequestXhr(pt){return this.pendingRequests[pt].xhr}isPendingRequest(pt){return pt in this.pendingRequests}abortRequest(pt){const mt=this.pendingRequests[pt].xhr;delete this.pendingRequests[pt],mt.abort()}}class at{constructor(pt){this._source=pt,this._manager=new ot(pt.url,{httpHeaders:pt.httpHeaders,withCredentials:pt.withCredentials}),this._rangeChunkSize=pt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(pt){const mt=this._rangeRequestReaders.indexOf(pt);mt>=0&&this._rangeRequestReaders.splice(mt,1)}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new lt(this._manager,this._source),this._fullRequestReader}getRangeReader(pt,mt){const ht=new dt(this._manager,pt,mt);return ht.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ht),ht}cancelAllRequests(pt){var mt;(mt=this._fullRequestReader)==null||mt.cancel(pt);for(const ht of this._rangeRequestReaders.slice(0))ht.cancel(pt)}}$.PDFNetworkStream=at;class lt{constructor(pt,mt){this._manager=pt;const ht={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=mt.url,this._fullRequestId=pt.requestFull(ht),this._headersReceivedCapability=(0,tt.createPromiseCapability)(),this._disableRange=mt.disableRange||!1,this._contentLength=mt.length,this._rangeChunkSize=mt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const pt=this._fullRequestId,mt=this._manager.getRequestXhr(pt),ht=_t=>mt.getResponseHeader(_t),{allowRangeRequests:gt,suggestedLength:vt}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:ht,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});gt&&(this._isRangeSupported=!0),this._contentLength=vt||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(ht),this._isRangeSupported&&this._manager.abortRequest(pt),this._headersReceivedCapability.resolve()}_onDone(pt){if(pt&&(this._requests.length>0?this._requests.shift().resolve({value:pt.chunk,done:!1}):this._cachedChunks.push(pt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(pt){this._storedError=(0,nt.createResponseStatusError)(pt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const mt of this._requests)mt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(pt){var mt;(mt=this.onProgress)==null||mt.call(this,{loaded:pt.loaded,total:pt.lengthComputable?pt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const pt=(0,tt.createPromiseCapability)();return this._requests.push(pt),pt.promise}cancel(pt){this._done=!0,this._headersReceivedCapability.reject(pt);for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dt{constructor(pt,mt,ht){this._manager=pt;const gt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=pt.url,this._requestId=pt.requestRange(mt,ht,gt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var pt;(pt=this.onClosed)==null||pt.call(this,this)}_onDone(pt){const mt=pt.chunk;this._requests.length>0?this._requests.shift().resolve({value:mt,done:!1}):this._queuedChunk=mt,this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(pt){this._storedError=(0,nt.createResponseStatusError)(pt,this._url);for(const mt of this._requests)mt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(pt){var mt;this.isStreamingSupported||(mt=this.onProgress)==null||mt.call(this,{loaded:pt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const mt=this._queuedChunk;return this._queuedChunk=null,{value:mt,done:!1}}if(this._done)return{value:void 0,done:!0};const pt=(0,tt.createPromiseCapability)();return this._requests.push(pt),pt.promise}cancel(pt){this._done=!0;for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(et,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var tt=_e(1),nt=_e(33);function rt(lt,dt,ct){return{method:"GET",headers:lt,signal:ct==null?void 0:ct.signal,mode:"cors",credentials:dt?"include":"same-origin",redirect:"follow"}}function it(lt){const dt=new Headers;for(const ct in lt){const pt=lt[ct];typeof pt>"u"||dt.append(ct,pt)}return dt}class st{constructor(dt){this.source=dt,this.isHttp=/^https?:/i.test(dt.url),this.httpHeaders=this.isHttp&&dt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var dt;return((dt=this._fullRequestReader)==null?void 0:dt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ot(this),this._fullRequestReader}getRangeReader(dt,ct){if(ct<=this._progressiveDataLength)return null;const pt=new at(this,dt,ct);return this._rangeRequestReaders.push(pt),pt}cancelAllRequests(dt){this._fullRequestReader&&this._fullRequestReader.cancel(dt);for(const ct of this._rangeRequestReaders.slice(0))ct.cancel(dt)}}$.PDFFetchStream=st;class ot{constructor(dt){this._stream=dt,this._reader=null,this._loaded=0,this._filename=null;const ct=dt.source;this._withCredentials=ct.withCredentials||!1,this._contentLength=ct.length,this._headersCapability=(0,tt.createPromiseCapability)(),this._disableRange=ct.disableRange||!1,this._rangeChunkSize=ct.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!ct.disableStream,this._isRangeSupported=!ct.disableRange,this._headers=it(this._stream.httpHeaders);const pt=ct.url;fetch(pt,rt(this._headers,this._withCredentials,this._abortController)).then(mt=>{if(!(0,nt.validateResponseStatus)(mt.status))throw(0,nt.createResponseStatusError)(mt.status,pt);this._reader=mt.body.getReader(),this._headersCapability.resolve();const ht=_t=>mt.headers.get(_t),{allowRangeRequests:gt,suggestedLength:vt}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:ht,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=gt,this._contentLength=vt||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(ht),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:dt,done:ct}=await this._reader.read();return ct?{value:dt,done:ct}:(this._loaded+=dt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(dt).buffer,done:!1})}cancel(dt){this._reader&&this._reader.cancel(dt),this._abortController&&this._abortController.abort()}}class at{constructor(dt,ct,pt){this._stream=dt,this._reader=null,this._loaded=0;const mt=dt.source;this._withCredentials=mt.withCredentials||!1,this._readCapability=(0,tt.createPromiseCapability)(),this._isStreamingSupported=!mt.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=it(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ct}-${pt-1}`);const ht=mt.url;fetch(ht,rt(this._headers,this._withCredentials,this._abortController)).then(gt=>{if(!(0,nt.validateResponseStatus)(gt.status))throw(0,nt.createResponseStatusError)(gt.status,ht);this._readCapability.resolve(),this._reader=gt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:dt,done:ct}=await this._reader.read();return ct?{value:dt,done:ct}:(this._loaded+=dt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(dt).buffer,done:!1})}cancel(dt){this._reader&&this._reader.cancel(dt),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(et){var $=__webpack_module_cache__[et];if($!==void 0)return $.exports;var _e=__webpack_module_cache__[et]={exports:{}};return __webpack_modules__[et](_e,_e.exports,__w_pdfjs_require__),_e.exports}var __webpack_exports__={};return(()=>{var et=__webpack_exports__;Object.defineProperty(et,"__esModule",{value:!0}),Object.defineProperty(et,"AnnotationEditorLayer",{enumerable:!0,get:function(){return nt.AnnotationEditorLayer}}),Object.defineProperty(et,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(et,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(et,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return rt.AnnotationEditorUIManager}}),Object.defineProperty(et,"AnnotationLayer",{enumerable:!0,get:function(){return it.AnnotationLayer}}),Object.defineProperty(et,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(et,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(et,"GlobalWorkerOptions",{enumerable:!0,get:function(){return st.GlobalWorkerOptions}}),Object.defineProperty(et,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(et,"LoopbackPort",{enumerable:!0,get:function(){return tt.LoopbackPort}}),Object.defineProperty(et,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(et,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(et,"PDFDataRangeTransport",{enumerable:!0,get:function(){return tt.PDFDataRangeTransport}}),Object.defineProperty(et,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty(et,"PDFWorker",{enumerable:!0,get:function(){return tt.PDFWorker}}),Object.defineProperty(et,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(et,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(et,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty(et,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty(et,"SVGGraphics",{enumerable:!0,get:function(){return lt.SVGGraphics}}),Object.defineProperty(et,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(et,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(et,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(et,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(et,"XfaLayer",{enumerable:!0,get:function(){return dt.XfaLayer}}),Object.defineProperty(et,"binarySearchFirstItem",{enumerable:!0,get:function(){return _e.binarySearchFirstItem}}),Object.defineProperty(et,"build",{enumerable:!0,get:function(){return tt.build}}),Object.defineProperty(et,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(et,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(et,"getDocument",{enumerable:!0,get:function(){return tt.getDocument}}),Object.defineProperty(et,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty(et,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty(et,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty(et,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty(et,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty(et,"renderTextLayer",{enumerable:!0,get:function(){return at.renderTextLayer}}),Object.defineProperty(et,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(et,"version",{enumerable:!0,get:function(){return tt.version}});var $=__w_pdfjs_require__(1),_e=__w_pdfjs_require__(4),tt=__w_pdfjs_require__(6),nt=__w_pdfjs_require__(22),rt=__w_pdfjs_require__(9),it=__w_pdfjs_require__(27),st=__w_pdfjs_require__(15),ot=__w_pdfjs_require__(3),at=__w_pdfjs_require__(30),lt=__w_pdfjs_require__(31),dt=__w_pdfjs_require__(29);if(ot.isNodeJS){const{PDFNodeStream:ct}=__w_pdfjs_require__(32);(0,tt.setPDFNetworkStreamFactory)(pt=>new ct(pt))}else{const{PDFNetworkStream:ct}=__w_pdfjs_require__(35),{PDFFetchStream:pt}=__w_pdfjs_require__(36);(0,tt.setPDFNetworkStreamFactory)(mt=>(0,_e.isValidFetchUrl)(mt.url)?new pt(mt):new ct(mt))}})(),__webpack_exports__})())})(pdf);(function(et){var $=reactExports,_e=pdfExports;function tt(Nt){var en=Object.create(null);return Nt&&Object.keys(Nt).forEach(function(pn){if(pn!=="default"){var vn=Object.getOwnPropertyDescriptor(Nt,pn);Object.defineProperty(en,pn,vn.get?vn:{enumerable:!0,get:function(){return Nt[pn]}})}}),en.default=Nt,Object.freeze(en)}var nt,rt=tt($),it=tt(_e);et.AnnotationType=void 0,(nt=et.AnnotationType||(et.AnnotationType={}))[nt.Text=1]="Text",nt[nt.Link=2]="Link",nt[nt.FreeText=3]="FreeText",nt[nt.Line=4]="Line",nt[nt.Square=5]="Square",nt[nt.Circle=6]="Circle",nt[nt.Polygon=7]="Polygon",nt[nt.Polyline=8]="Polyline",nt[nt.Highlight=9]="Highlight",nt[nt.Underline=10]="Underline",nt[nt.Squiggly=11]="Squiggly",nt[nt.StrikeOut=12]="StrikeOut",nt[nt.Stamp=13]="Stamp",nt[nt.Caret=14]="Caret",nt[nt.Ink=15]="Ink",nt[nt.Popup=16]="Popup",nt[nt.FileAttachment=17]="FileAttachment";var st=function(Nt,en){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pn,vn){pn.__proto__=vn}||function(pn,vn){for(var bn in vn)Object.prototype.hasOwnProperty.call(vn,bn)&&(pn[bn]=vn[bn])},st(Nt,en)};function ot(Nt,en){if(typeof en!="function"&&en!==null)throw new TypeError("Class extends value "+String(en)+" is not a constructor or null");function pn(){this.constructor=Nt}st(Nt,en),Nt.prototype=en===null?Object.create(en):(pn.prototype=en.prototype,new pn)}var at,lt=function(){return lt=Object.assign||function(Nt){for(var en,pn=1,vn=arguments.length;pn<vn;pn++)for(var bn in en=arguments[pn])Object.prototype.hasOwnProperty.call(en,bn)&&(Nt[bn]=en[bn]);return Nt},lt.apply(this,arguments)};et.TextDirection=void 0,(at=et.TextDirection||(et.TextDirection={})).RightToLeft="RTL",at.LeftToRight="LTR";var dt,ct=rt.createContext({currentTheme:"light",direction:et.TextDirection.LeftToRight,setCurrentTheme:function(){}}),pt=function(Nt){var en=[];return Object.keys(Nt).forEach(function(pn){pn&&Nt[pn]&&en.push(pn)}),en.join(" ")},mt=typeof window<"u"?rt.useLayoutEffect:rt.useEffect,ht=function(Nt){var en=rt.useRef(null),pn=Nt.once,vn=Nt.threshold,bn=Nt.onVisibilityChanged;return mt(function(){var An=en.current;if(An){var Ln=new IntersectionObserver(function(Cn){Cn.forEach(function(gn){var Rn=gn.isIntersecting,Pn=gn.intersectionRatio;bn({isVisible:Rn,ratio:Pn}),Rn&&pn&&(Ln.unobserve(An),Ln.disconnect())})},{threshold:vn||0});return Ln.observe(An),function(){Ln.unobserve(An),Ln.disconnect()}}},[]),en},gt=function(Nt){var en=Nt.children,pn=Nt.ignoreDirection,vn=pn!==void 0&&pn,bn=Nt.size,An=bn===void 0?24:bn,Ln=rt.useContext(ct).direction,Cn=!vn&&Ln===et.TextDirection.RightToLeft,gn="".concat(An||24,"px");return rt.createElement("svg",{"aria-hidden":"true",className:pt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Cn}),focusable:"false",height:gn,viewBox:"0 0 24 24",width:gn},en)},vt=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},_t=function(Nt){var en=Nt.children,pn=Nt.testId,vn=Nt.onClick,bn=rt.useContext(ct).direction===et.TextDirection.RightToLeft,An=pn?{"data-testid":pn}:{};return rt.createElement("button",lt({className:pt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":bn}),type:"button",onClick:vn},An),en)},yt=function(Nt){var en=Nt.size,pn=en===void 0?"4rem":en,vn=Nt.testId,bn=rt.useState(!1),An=bn[0],Ln=bn[1],Cn=vn?{"data-testid":vn}:{},gn=ht({onVisibilityChanged:function(Rn){Ln(Rn.isVisible)}});return rt.createElement("div",lt({},Cn,{className:pt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":An}),ref:gn,style:{height:pn,width:pn}}))},xt=function(Nt){var en=Nt.ariaLabel,pn=en===void 0?"":en,vn=Nt.autoFocus,bn=vn!==void 0&&vn,An=Nt.placeholder,Ln=An===void 0?"":An,Cn=Nt.testId,gn=Nt.type,Rn=gn===void 0?"text":gn,Pn=Nt.value,Qn=Pn===void 0?"":Pn,Jn=Nt.onChange,zn=Nt.onKeyDown,ar=zn===void 0?function(){}:zn,sr=rt.useContext(ct).direction,rr=rt.useRef(),Rr=sr===et.TextDirection.RightToLeft,br={ref:rr,"data-testid":"","aria-label":pn,className:pt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Rr}),placeholder:Ln,value:Qn,onChange:function(Ar){return Jn(Ar.target.value)},onKeyDown:ar};return Cn&&(br["data-testid"]=Cn),mt(function(){if(bn){var Ar=rr.current;if(Ar){var Mr=window.scrollX,mr=window.scrollY;Ar.focus(),window.scrollTo(Mr,mr)}}},[]),Rn==="text"?rt.createElement("input",lt({type:"text"},br)):rt.createElement("input",lt({type:"password"},br))};(function(Nt){Nt[Nt.ExitFullScreen=0]="ExitFullScreen",Nt[Nt.FullScreenChange=1]="FullScreenChange",Nt[Nt.FullScreenElement=2]="FullScreenElement",Nt[Nt.FullScreenEnabled=3]="FullScreenEnabled",Nt[Nt.RequestFullScreen=4]="RequestFullScreen"})(dt||(dt={}));var At,Ct={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Pt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},bt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Mt=typeof window<"u",Tt=Mt&&(dt.FullScreenEnabled in document&&Ct||Pt.FullScreenEnabled in document&&Pt||bt.FullScreenEnabled in document&&bt)||Ct,Ft=function(){return Mt&&Tt.FullScreenEnabled in document&&document[Tt.FullScreenEnabled]===!0},Gt=function(Nt){return Mt?Nt[Tt.ExitFullScreen]():Promise.resolve({})},Wt=function(){return Mt?document[Tt.FullScreenElement]:null},It=function(Nt,en){var pn=rt.useRef(),vn=function(){pn.current&&clearTimeout(pn.current)};return rt.useEffect(function(){return function(){return vn()}},[]),rt.useCallback(function(){for(var bn=[],An=0;An<arguments.length;An++)bn[An]=arguments[An];vn(),pn.current=setTimeout(function(){Nt.apply(void 0,bn)},en)},[Nt,en])},Kt=function(){var Nt=rt.useRef(!1);return rt.useEffect(function(){return Nt.current=!0,function(){Nt.current=!1}},[]),Nt},Ut=function(Nt){var en=rt.useRef(Nt);return rt.useEffect(function(){en.current=Nt},[Nt]),en.current};(function(Nt){Nt.NotRenderedYet="NotRenderedYet",Nt.Rendering="Rendering",Nt.Rendered="Rendered"})(At||(At={}));var Qt,Dt=-9999,qt=function(Nt){var en=Nt.doc,pn=en.numPages,vn=en.loadingTask.docId,bn=rt.useMemo(function(){return Array(pn).fill(null).map(function(Cn,gn){return{pageIndex:gn,renderStatus:At.NotRenderedYet,visibility:Dt}})},[vn]),An=rt.useRef({currentRenderingPage:-1,startRange:0,endRange:pn-1,visibilities:bn}),Ln=function(Cn,gn){An.current.visibilities[Cn].visibility=gn};return{getHighestPriorityPage:function(){var Cn=An.current.visibilities.slice(An.current.startRange,An.current.endRange+1).filter(function(Jn){return Jn.visibility>Dt});if(!Cn.length)return-1;for(var gn=Cn[0].pageIndex,Rn=Cn[Cn.length-1].pageIndex,Pn=Cn.length,Qn=0;Qn<Pn;Qn++){if(Cn[Qn].renderStatus===At.Rendering)return-1;if(Cn[Qn].renderStatus===At.NotRenderedYet)return Cn[Qn].pageIndex}return Rn+1<pn&&An.current.visibilities[Rn+1].renderStatus!==At.Rendered?Rn+1:gn-1>=0&&An.current.visibilities[gn-1].renderStatus!==At.Rendered?gn-1:-1},isInRange:function(Cn){return Cn>=An.current.startRange&&Cn<=An.current.endRange},markNotRendered:function(){for(var Cn=0;Cn<pn;Cn++)An.current.visibilities[Cn].renderStatus=At.NotRenderedYet},markRendered:function(Cn){An.current.visibilities[Cn].renderStatus=At.Rendered},markRendering:function(Cn){An.current.currentRenderingPage!==-1&&An.current.currentRenderingPage!==Cn&&An.current.visibilities[An.current.currentRenderingPage].renderStatus===At.Rendering&&(An.current.visibilities[An.current.currentRenderingPage].renderStatus=At.NotRenderedYet),An.current.visibilities[Cn].renderStatus=At.Rendering,An.current.currentRenderingPage=Cn},setOutOfRange:function(Cn){Ln(Cn,Dt)},setRange:function(Cn,gn){An.current.startRange=Cn,An.current.endRange=gn;for(var Rn=0;Rn<pn;Rn++)(Rn<Cn||Rn>gn)&&(An.current.visibilities[Rn].visibility=Dt,An.current.visibilities[Rn].renderStatus=At.NotRenderedYet)},setVisibility:Ln}},Jt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},on=rt.createContext({l10n:Jt,setL10n:function(){}}),tn=0,yn=function(){return tn++},Yt=function(Nt,en,pn){var vn=function(bn){var An=en.current;if(An){var Ln=bn.target;if(Ln instanceof Element&&Ln.shadowRoot){var Cn=bn.composedPath();Cn.length>0&&!An.contains(Cn[0])&&pn()}else An.contains(Ln)||pn()}};rt.useEffect(function(){if(Nt){var bn={capture:!0};return document.addEventListener("click",vn,bn),function(){document.removeEventListener("click",vn,bn)}}},[])},kt=function(Nt){var en=function(pn){pn.key==="Escape"&&Nt()};rt.useEffect(function(){return document.addEventListener("keyup",en),function(){document.removeEventListener("keyup",en)}},[])},Bt=function(Nt){var en=Nt.ariaControlsSuffix,pn=Nt.children,vn=Nt.closeOnClickOutside,bn=Nt.closeOnEscape,An=Nt.onToggle,Ln=rt.useRef(),Cn=rt.useContext(ct).direction===et.TextDirection.RightToLeft;return rt.useEffect(function(){var gn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=gn}},[]),kt(function(){Ln.current&&bn&&An()}),Yt(vn,Ln,An),mt(function(){var gn=Ln.current;if(gn){var Rn=.75*document.body.clientHeight;gn.getBoundingClientRect().height>=Rn&&(gn.style.overflow="auto",gn.style.maxHeight="".concat(Rn,"px"))}},[]),rt.createElement("div",{"aria-modal":"true",className:pt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Cn}),id:"rpv-core__modal-body-".concat(en),ref:Ln,role:"dialog",tabIndex:-1},pn)},Ht=function(Nt){var en=Nt.children;return rt.createElement("div",{className:"rpv-core__modal-overlay"},en)};et.ToggleStatus=void 0,(Qt=et.ToggleStatus||(et.ToggleStatus={})).Close="Close",Qt.Open="Open",Qt.Toggle="Toggle";var wt,Lt=function(Nt){var en=rt.useState(Nt),pn=en[0],vn=en[1];return{opened:pn,toggle:function(bn){switch(bn){case et.ToggleStatus.Close:vn(!1);break;case et.ToggleStatus.Open:vn(!0);break;case et.ToggleStatus.Toggle:default:vn(function(An){return!An})}}}},Ot=function(Nt){var en=Nt.content,pn=Nt.isOpened,vn=pn!==void 0&&pn,bn=Nt.target,An=Lt(vn),Ln=An.opened,Cn=An.toggle;return rt.createElement(rt.Fragment,null,bn&&bn(Cn,Ln),Ln&&en(Cn))};et.Position=void 0,(wt=et.Position||(et.Position={})).TopLeft="TOP_LEFT",wt.TopCenter="TOP_CENTER",wt.TopRight="TOP_RIGHT",wt.RightTop="RIGHT_TOP",wt.RightCenter="RIGHT_CENTER",wt.RightBottom="RIGHT_BOTTOM",wt.BottomLeft="BOTTOM_LEFT",wt.BottomCenter="BOTTOM_CENTER",wt.BottomRight="BOTTOM_RIGHT",wt.LeftTop="LEFT_TOP",wt.LeftCenter="LEFT_CENTER",wt.LeftBottom="LEFT_BOTTOM";var $t,Vt,Zt,sn,hn,ln,xn,un,fn=function(Nt,en,pn,vn,bn){mt(function(){var An=en.current,Ln=Nt.current,Cn=pn.current;if(Ln&&An&&Cn){var gn=Cn.getBoundingClientRect(),Rn=function(Jn,zn,ar,sr){var rr=zn.getBoundingClientRect(),Rr=Jn.getBoundingClientRect(),br=Rr.height,Ar=Rr.width,Mr=0,mr=0;switch(ar){case et.Position.TopLeft:Mr=rr.top-br,mr=rr.left;break;case et.Position.TopCenter:Mr=rr.top-br,mr=rr.left+rr.width/2-Ar/2;break;case et.Position.TopRight:Mr=rr.top-br,mr=rr.left+rr.width-Ar;break;case et.Position.RightTop:Mr=rr.top,mr=rr.left+rr.width;break;case et.Position.RightCenter:Mr=rr.top+rr.height/2-br/2,mr=rr.left+rr.width;break;case et.Position.RightBottom:Mr=rr.top+rr.height-br,mr=rr.left+rr.width;break;case et.Position.BottomLeft:Mr=rr.top+rr.height,mr=rr.left;break;case et.Position.BottomCenter:Mr=rr.top+rr.height,mr=rr.left+rr.width/2-Ar/2;break;case et.Position.BottomRight:Mr=rr.top+rr.height,mr=rr.left+rr.width-Ar;break;case et.Position.LeftTop:Mr=rr.top,mr=rr.left-Ar;break;case et.Position.LeftCenter:Mr=rr.top+rr.height/2-br/2,mr=rr.left-Ar;break;case et.Position.LeftBottom:Mr=rr.top+rr.height-br,mr=rr.left-Ar}return{left:mr+(sr.left||0),top:Mr+(sr.top||0)}}(Ln,An,vn,bn),Pn=Rn.top,Qn=Rn.left;Ln.style.top="".concat(Pn-gn.top,"px"),Ln.style.left="".concat(Qn-gn.left,"px")}},[])},Gn=function(Nt){var en,pn=Nt.customClassName,vn=Nt.position;return rt.createElement("div",{className:pt((en={"rpv-core__arrow":!0,"rpv-core__arrow--tl":vn===et.Position.TopLeft,"rpv-core__arrow--tc":vn===et.Position.TopCenter,"rpv-core__arrow--tr":vn===et.Position.TopRight,"rpv-core__arrow--rt":vn===et.Position.RightTop,"rpv-core__arrow--rc":vn===et.Position.RightCenter,"rpv-core__arrow--rb":vn===et.Position.RightBottom,"rpv-core__arrow--bl":vn===et.Position.BottomLeft,"rpv-core__arrow--bc":vn===et.Position.BottomCenter,"rpv-core__arrow--br":vn===et.Position.BottomRight,"rpv-core__arrow--lt":vn===et.Position.LeftTop,"rpv-core__arrow--lc":vn===et.Position.LeftCenter,"rpv-core__arrow--lb":vn===et.Position.LeftBottom},en["".concat(pn)]=pn!=="",en))})},Xn=function(Nt){var en=Nt.ariaControlsSuffix,pn=Nt.children,vn=Nt.closeOnClickOutside,bn=Nt.offset,An=Nt.position,Ln=Nt.targetRef,Cn=Nt.onClose,gn=rt.useRef(),Rn=rt.useRef(),Pn=rt.useRef(),Qn=rt.useContext(ct).direction===et.TextDirection.RightToLeft;Yt(vn,gn,Cn),fn(gn,Ln,Pn,An,bn),mt(function(){var zn=Rn.current;if(zn){var ar=.75*document.body.clientHeight;zn.getBoundingClientRect().height>=ar&&(zn.style.overflow="auto",zn.style.maxHeight="".concat(ar,"px"))}},[]);var Jn="rpv-core__popover-body-inner-".concat(en);return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:Pn,style:{left:0,position:"absolute",top:0}}),rt.createElement("div",{"aria-describedby":Jn,className:pt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Qn}),id:"rpv-core__popover-body-".concat(en),ref:gn,role:"dialog",tabIndex:-1},rt.createElement(Gn,{customClassName:"rpv-core__popover-body-arrow",position:An}),rt.createElement("div",{id:Jn,ref:Rn},pn)))},nn=function(Nt){var en=Nt.closeOnEscape,pn=Nt.onClose,vn=rt.useRef();return kt(function(){vn.current&&en&&pn()}),rt.createElement("div",{className:"rpv-core__popover-overlay",ref:vn})},jt=function(Nt){var en=Nt.ariaControlsSuffix,pn=Nt.children,vn=Nt.contentRef,bn=Nt.offset,An=Nt.position,Ln=Nt.targetRef,Cn=rt.useRef(),gn=rt.useContext(ct).direction===et.TextDirection.RightToLeft;return fn(vn,Ln,Cn,An,bn),rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:Cn,style:{left:0,position:"absolute",top:0}}),rt.createElement("div",{className:pt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":gn}),id:"rpv-core__tooltip-body-".concat(en),ref:vn,role:"tooltip"},rt.createElement(Gn,{customClassName:"rpv-core__tooltip-body-arrow",position:An}),rt.createElement("div",{className:"rpv-core__tooltip-body-content"},pn)))};et.FullScreenMode=void 0,($t=et.FullScreenMode||(et.FullScreenMode={})).Normal="Normal",$t.Entering="Entering",$t.Entered="Entered",$t.EnteredCompletely="EnteredCompletely",$t.Exitting="Exitting",$t.Exited="Exited",et.LayerRenderStatus=void 0,(Vt=et.LayerRenderStatus||(et.LayerRenderStatus={}))[Vt.PreRender=0]="PreRender",Vt[Vt.DidRender=1]="DidRender",et.PageMode=void 0,(Zt=et.PageMode||(et.PageMode={})).Attachments="UseAttachments",Zt.Bookmarks="UseOutlines",Zt.ContentGroup="UseOC",Zt.Default="UserNone",Zt.FullScreen="FullScreen",Zt.Thumbnails="UseThumbs",et.PasswordStatus=void 0,(sn=et.PasswordStatus||(et.PasswordStatus={})).RequiredPassword="RequiredPassword",sn.WrongPassword="WrongPassword",et.RotateDirection=void 0,(hn=et.RotateDirection||(et.RotateDirection={})).Backward="Backward",hn.Forward="Forward",et.ScrollMode=void 0,(ln=et.ScrollMode||(et.ScrollMode={})).Page="Page",ln.Horizontal="Horizontal",ln.Vertical="Vertical",ln.Wrapped="Wrapped",et.SpecialZoomLevel=void 0,(xn=et.SpecialZoomLevel||(et.SpecialZoomLevel={})).ActualSize="ActualSize",xn.PageFit="PageFit",xn.PageWidth="PageWidth",et.ViewMode=void 0,(un=et.ViewMode||(et.ViewMode={})).DualPage="DualPage",un.DualPageWithCover="DualPageWithCover",un.SinglePage="SinglePage";var Mn,cn=function(Nt,en){return Nt.reduce(function(pn,vn,bn){return bn%en?pn[pn.length-1].push(vn):pn.push([vn]),pn},[])},_n=function(Nt,en){switch(en[1].name){case"XYZ":return{bottomOffset:function(pn,vn){return en[3]===null?vn:en[3]},leftOffset:function(pn,vn){return en[2]===null?0:en[2]},pageIndex:Nt,scaleTo:en[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Nt,scaleTo:et.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:en[2],leftOffset:0,pageIndex:Nt,scaleTo:et.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Nt,scaleTo:1}}},Un=new Map,or=new Map,Kn=function(Nt,en){return"".concat(Nt.loadingTask.docId,"___").concat(en.num,"R").concat(en.gen===0?"":en.gen)},Vn=function(Nt,en,pn){Un.set(Kn(Nt,en),pn)},ur=function(Nt,en){if(!Nt)return Promise.reject("The document is not loaded yet");var pn="".concat(Nt.loadingTask.docId,"___").concat(en),vn=or.get(pn);return vn?Promise.resolve(vn):new Promise(function(bn,An){Nt.getPage(en+1).then(function(Ln){or.set(pn,Ln),Ln.ref&&Vn(Nt,Ln.ref,en),bn(Ln)})})},Sn=function(Nt,en){return new Promise(function(pn){new Promise(function(vn){typeof en=="string"?Nt.getDestination(en).then(function(bn){vn(bn)}):vn(en)}).then(function(vn){if(typeof vn[0]=="object"&&vn[0]!==null){var bn=vn[0],An=function(Cn,gn){var Rn=Kn(Cn,gn);return Un.has(Rn)?Un.get(Rn):null}(Nt,bn);An===null?Nt.getPageIndex(bn).then(function(Cn){Vn(Nt,bn,Cn),Sn(Nt,en).then(function(gn){return pn(gn)})}):pn(_n(An,vn))}else{var Ln=_n(vn[0],vn);pn(Ln)}})})};(function(Nt){Nt[Nt.Solid=1]="Solid",Nt[Nt.Dashed=2]="Dashed",Nt[Nt.Beveled=3]="Beveled",Nt[Nt.Inset=4]="Inset",Nt[Nt.Underline=5]="Underline"})(Mn||(Mn={}));var Bn,ir=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),er=function(Nt,en,pn,vn){var bn=parseInt(Nt,10);return bn>=en&&bn<=pn?bn:vn},En=function(Nt){return Nt.contentsObj?Nt.contentsObj.str:Nt.contents||""},On=function(Nt){return Nt.titleObj?Nt.titleObj.str:Nt.title||""},wn=function(Nt){var en=Nt.annotation,pn=rt.useContext(ct).direction,vn=On(en),bn=En(en),An=pn===et.TextDirection.RightToLeft,Ln=rt.useRef(),Cn="";if(en.modificationDate){var gn=function(Rn){var Pn=ir.exec(Rn);if(!Pn)return null;var Qn=parseInt(Pn[1],10),Jn=er(Pn[2],1,12,1)-1,zn=er(Pn[3],1,31,1),ar=er(Pn[4],0,23,0),sr=er(Pn[5],0,59,0),rr=er(Pn[6],0,59,0),Rr=Pn[7]||"Z",br=er(Pn[8],0,23,0),Ar=er(Pn[9],0,59,0);switch(Rr){case"-":ar+=br,sr+=Ar;break;case"+":ar-=br,sr-=Ar}return new Date(Date.UTC(Qn,Jn,zn,ar,sr,rr))}(en.modificationDate);Cn=gn?"".concat(gn.toLocaleDateString(),", ").concat(gn.toLocaleTimeString()):""}return rt.useLayoutEffect(function(){if(Ln.current){var Rn=document.querySelector('[data-annotation-id="'.concat(en.id,'"]'));if(Rn){var Pn=Rn;return Pn.style.zIndex+=1,function(){Pn.style.zIndex="".concat(parseInt(Pn.style.zIndex,10)-1)}}}},[]),rt.createElement("div",{ref:Ln,className:pt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":An}),style:{top:en.annotationType===et.AnnotationType.Popup?"":"100%"}},vn&&rt.createElement(rt.Fragment,null,rt.createElement("div",{className:pt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!An,"rpv-core__annotation-popup-title--rtl":An})},vn),rt.createElement("div",{className:"rpv-core__annotation-popup-date"},Cn)),bn&&rt.createElement("div",{className:"rpv-core__annotation-popup-content"},bn.split(`
`).map(function(Rn,Pn){return rt.createElement(rt.Fragment,{key:Pn},Rn,rt.createElement("br",null))})))};(function(Nt){Nt.Click="Click",Nt.Hover="Hover"})(Bn||(Bn={}));var Xt,rn=function(Nt){var en,pn=Nt.annotation,vn=Nt.children,bn=Nt.ignoreBorder,An=Nt.hasPopup,Ln=Nt.isRenderable,Cn=Nt.page,gn=Nt.viewport,Rn=pn.rect,Pn=function(){var Tr=Lt(!1),ls=Tr.opened,rs=Tr.toggle,Zr=rt.useState(Bn.Hover),Hr=Zr[0],Xr=Zr[1];return{opened:ls,closeOnHover:function(){Hr===Bn.Hover&&rs(et.ToggleStatus.Close)},openOnHover:function(){Hr===Bn.Hover&&rs(et.ToggleStatus.Open)},toggleOnClick:function(){switch(Hr){case Bn.Click:ls&&Xr(Bn.Hover),rs(et.ToggleStatus.Toggle);break;case Bn.Hover:Xr(Bn.Click),rs(et.ToggleStatus.Open)}}}}(),Qn=Pn.closeOnHover,Jn=Pn.opened,zn=Pn.openOnHover,ar=Pn.toggleOnClick,sr=(en=[Rn[0],Cn.view[3]+Cn.view[1]-Rn[1],Rn[2],Cn.view[3]+Cn.view[1]-Rn[3]],[Math.min(en[0],en[2]),Math.min(en[1],en[3]),Math.max(en[0],en[2]),Math.max(en[1],en[3])]),rr=Rn[2]-Rn[0],Rr=Rn[3]-Rn[1],br={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!bn&&pn.borderStyle.width>0){switch(pn.borderStyle.style){case Mn.Dashed:br.borderStyle="dashed";break;case Mn.Solid:br.borderStyle="solid";break;case Mn.Underline:br=Object.assign({borderBottomStyle:"solid"},br);case Mn.Beveled:case Mn.Inset:}var Ar=pn.borderStyle.width;br.borderWidth="".concat(Ar,"px"),pn.borderStyle.style!==Mn.Underline&&(rr-=2*Ar,Rr-=2*Ar);var Mr=pn.borderStyle,mr=Mr.horizontalCornerRadius,Ir=Mr.verticalCornerRadius;(mr>0||Ir>0)&&(br.borderRadius="".concat(mr,"px / ").concat(Ir,"px")),pn.color?br.borderColor="rgb(".concat(0|pn.color[0],", ").concat(0|pn.color[1],", ").concat(0|pn.color[2],")"):br.borderWidth="0"}return rt.createElement(rt.Fragment,null,Ln&&vn({popup:{opened:Jn,closeOnHover:Qn,openOnHover:zn,toggleOnClick:ar},slot:{attrs:{style:Object.assign({height:"".concat(Rr,"px"),left:"".concat(sr[0],"px"),top:"".concat(sr[1],"px"),transform:"matrix(".concat(gn.transform.join(","),")"),transformOrigin:"-".concat(sr[0],"px -").concat(sr[1],"px"),width:"".concat(rr,"px")},br)},children:rt.createElement(rt.Fragment,null,An&&Jn&&rt.createElement(wn,{annotation:pn}))}}))},Tn=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln);return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(gn){return rt.createElement("div",lt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":en.id,onClick:gn.popup.toggleOnClick,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),gn.slot.children)})},Nn=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln),gn=en.rect,Rn=gn[2]-gn[0],Pn=gn[3]-gn[1],Qn=en.borderStyle.width;return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(Jn){return rt.createElement("div",lt({},Jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":en.id,onClick:Jn.popup.toggleOnClick,onMouseEnter:Jn.popup.openOnHover,onMouseLeave:Jn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(Pn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Rn," ").concat(Pn),width:"".concat(Rn,"px")},rt.createElement("circle",{cy:Pn/2,fill:"none",rx:Rn/2-Qn/2,ry:Pn/2-Qn/2,stroke:"transparent",strokeWidth:Qn||1})),Jn.slot.children)})},Yn=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=On(en),An=En(en),Ln=!(en.hasPopup!==!1||!bn&&!An),Cn=function(){var gn,Rn,Pn,Qn,Jn=en.file;Jn&&(gn=Jn.filename,Rn=Jn.content,Pn=typeof Rn=="string"?"":URL.createObjectURL(new Blob([Rn],{type:""})),(Qn=document.createElement("a")).style.display="none",Qn.href=Pn||gn,Qn.setAttribute("download",function(zn){var ar=zn.split("/").pop();return ar?ar.split("#")[0].split("?")[0]:zn}(gn)),document.body.appendChild(Qn),Qn.click(),document.body.removeChild(Qn),Pn&&URL.revokeObjectURL(Pn))};return rt.createElement(rn,{annotation:en,hasPopup:Ln,ignoreBorder:!0,isRenderable:!0,page:pn,viewport:vn},function(gn){return rt.createElement("div",lt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":en.id,onClick:gn.popup.toggleOnClick,onDoubleClick:Cn,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),gn.slot.children)})},hr=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln);return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(gn){return rt.createElement("div",lt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":en.id,onClick:gn.popup.toggleOnClick,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),gn.slot.children)})},wr=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=On(en),An=En(en),Ln=!(!bn&&!An),Cn=!en.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(en.parentType)!==-1;return mt(function(){if(en.parentId){var gn=document.querySelector('[data-annotation-id="'.concat(en.parentId,'"]')),Rn=document.querySelector('[data-annotation-id="'.concat(en.id,'"]'));if(gn&&Rn){var Pn=parseFloat(gn.style.left),Qn=parseFloat(gn.style.top)+parseFloat(gn.style.height);Rn.style.left="".concat(Pn,"px"),Rn.style.top="".concat(Qn,"px"),Rn.style.transformOrigin="-".concat(Pn,"px -").concat(Qn,"px")}}},[]),rt.createElement(rn,{annotation:en,hasPopup:Cn,ignoreBorder:!1,isRenderable:Ln,page:pn,viewport:vn},function(gn){return rt.createElement("div",lt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":en.id}),rt.createElement(wn,{annotation:en}))})},ts=function(Nt){var en=Nt.annotation,pn=Nt.childAnnotation,vn=Nt.page,bn=Nt.viewport,An=en.hasPopup===!1,Ln=On(en),Cn=En(en),gn=!!(en.hasPopup||Ln||Cn);if(en.quadPoints&&en.quadPoints.length>0){var Rn=en.quadPoints.map(function(Pn){return Object.assign({},en,{rect:[Pn[2].x,Pn[2].y,Pn[1].x,Pn[1].y],quadPoints:[]})});return rt.createElement(rt.Fragment,null,Rn.map(function(Pn,Qn){return rt.createElement(ts,{key:Qn,annotation:Pn,childAnnotation:pn,page:vn,viewport:bn})}))}return rt.createElement(rn,{annotation:en,hasPopup:An,ignoreBorder:!0,isRenderable:gn,page:vn,viewport:bn},function(Pn){return rt.createElement(rt.Fragment,null,rt.createElement("div",lt({},Pn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":en.id,onClick:Pn.popup.toggleOnClick,onMouseEnter:Pn.popup.openOnHover,onMouseLeave:Pn.popup.closeOnHover}),Pn.slot.children),pn&&pn.annotationType===et.AnnotationType.Popup&&Pn.popup.opened&&rt.createElement(wr,{annotation:pn,page:vn,viewport:bn}))})},Wr=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln),gn=en.rect,Rn=gn[2]-gn[0],Pn=gn[3]-gn[1],Qn=en.borderStyle.width;return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(Jn){return rt.createElement("div",lt({},Jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":en.id,onClick:Jn.popup.toggleOnClick,onMouseEnter:Jn.popup.openOnHover,onMouseLeave:Jn.popup.closeOnHover}),en.inkLists&&en.inkLists.length&&rt.createElement("svg",{height:"".concat(Pn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Rn," ").concat(Pn),width:"".concat(Rn,"px")},en.inkLists.map(function(zn,ar){return rt.createElement("polyline",{key:ar,fill:"none",stroke:"transparent",strokeWidth:Qn||1,points:zn.map(function(sr){return"".concat(sr.x-gn[0],",").concat(gn[3]-sr.y)}).join(" ")})})),Jn.slot.children)})},xr=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln),gn=en.rect,Rn=gn[2]-gn[0],Pn=gn[3]-gn[1],Qn=en.borderStyle.width;return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(Jn){return rt.createElement("div",lt({},Jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":en.id,onClick:Jn.popup.toggleOnClick,onMouseEnter:Jn.popup.openOnHover,onMouseLeave:Jn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(Pn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Rn," ").concat(Pn),width:"".concat(Rn,"px")},rt.createElement("line",{stroke:"transparent",strokeWidth:Qn||1,x1:gn[2]-en.lineCoordinates[0],x2:gn[2]-en.lineCoordinates[2],y1:gn[3]-en.lineCoordinates[1],y2:gn[3]-en.lineCoordinates[3]})),Jn.slot.children)})},ps=/^([^\w]*)(javascript|data|vbscript)/im,vs=/&#(\w+)(^\w|;)?/g,Xs=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ys=/^([^:]+):/gm,Ls=function(Nt,en){en===void 0&&(en="about:blank");var pn,vn=(pn=Nt||"",pn.replace(vs,function(Cn,gn){return String.fromCharCode(gn)})).replace(Xs,"").trim();if(!vn)return en;var bn=vn[0];if(bn==="."||bn==="/")return vn;var An=vn.match(ys);if(!An)return vn;var Ln=An[0];return ps.test(Ln)?en:vn},dn=function(Nt){var en,pn=Nt.annotation,vn=Nt.annotationContainerRef,bn=Nt.doc,An=Nt.outlines,Ln=Nt.page,Cn=Nt.pageIndex,gn=Nt.scale,Rn=Nt.viewport,Pn=Nt.onExecuteNamedAction,Qn=Nt.onJumpFromLinkAnnotation,Jn=Nt.onJumpToDest,zn=rt.useRef(),ar=An&&An.length&&pn.dest&&typeof pn.dest=="string"?(en=An.find(function(br){return br.dest===pn.dest}))===null||en===void 0?void 0:en.title:"",sr=!!(pn.url||pn.dest||pn.action||pn.unsafeUrl),rr={};if(pn.url||pn.unsafeUrl){var Rr=Ls(pn.url||pn.unsafeUrl,"");Rr?rr={"data-target":"external",href:Rr,rel:"noopener noreferrer nofollow",target:pn.newWindow?"_blank":"",title:Rr}:sr=!1}else rr={href:"","data-annotation-link":pn.id,onClick:function(br){br.preventDefault(),pn.action?Pn(pn.action):Sn(bn,pn.dest).then(function(Ar){var Mr=zn.current,mr=vn.current;if(Mr&&mr){var Ir=Mr.getBoundingClientRect();mr.style.setProperty("height","100%"),mr.style.setProperty("width","100%");var Tr=mr.getBoundingClientRect();mr.style.removeProperty("height"),mr.style.removeProperty("width");var ls=(Ir.left-Tr.left)/gn,rs=(Tr.bottom-Ir.bottom+Ir.height)/gn;Qn({bottomOffset:rs,label:ar,leftOffset:ls,pageIndex:Cn})}Jn(Ar)})}};return ar&&(rr=Object.assign({},rr,{title:ar,"aria-label":ar})),rt.createElement(rn,{annotation:pn,hasPopup:!1,ignoreBorder:!1,isRenderable:sr,page:Ln,viewport:Rn},function(br){return rt.createElement("div",lt({},br.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":pn.id,"data-testid":"core__annotation--link-".concat(pn.id)}),rt.createElement("a",lt({ref:zn},rr)))})},Fn=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln),gn=en.rect,Rn=gn[2]-gn[0],Pn=gn[3]-gn[1],Qn=en.borderStyle.width;return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(Jn){return rt.createElement("div",lt({},Jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":en.id,onClick:Jn.popup.toggleOnClick,onMouseEnter:Jn.popup.openOnHover,onMouseLeave:Jn.popup.closeOnHover}),en.vertices&&en.vertices.length&&rt.createElement("svg",{height:"".concat(Pn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Rn," ").concat(Pn),width:"".concat(Rn,"px")},rt.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Qn||1,points:en.vertices.map(function(zn){return"".concat(zn.x-gn[0],",").concat(gn[3]-zn.y)}).join(" ")})),Jn.slot.children)})},jn=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln),gn=en.rect,Rn=gn[2]-gn[0],Pn=gn[3]-gn[1],Qn=en.borderStyle.width;return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(Jn){return rt.createElement("div",lt({},Jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":en.id,onClick:Jn.popup.toggleOnClick,onMouseEnter:Jn.popup.openOnHover,onMouseLeave:Jn.popup.closeOnHover}),en.vertices&&en.vertices.length&&rt.createElement("svg",{height:"".concat(Pn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Rn," ").concat(Pn),width:"".concat(Rn,"px")},rt.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Qn||1,points:en.vertices.map(function(zn){return"".concat(zn.x-gn[0],",").concat(gn[3]-zn.y)}).join(" ")})),Jn.slot.children)})},Dn=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln),gn=en.rect,Rn=gn[2]-gn[0],Pn=gn[3]-gn[1],Qn=en.borderStyle.width;return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(Jn){return rt.createElement("div",lt({},Jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":en.id,onClick:Jn.popup.toggleOnClick,onMouseEnter:Jn.popup.openOnHover,onMouseLeave:Jn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(Pn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Rn," ").concat(Pn),width:"".concat(Rn,"px")},rt.createElement("rect",{height:Pn-Qn,fill:"none",stroke:"transparent",strokeWidth:Qn||1,x:Qn/2,y:Qn/2,width:Rn-Qn})),Jn.slot.children)})},Hn=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln);return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(gn){return rt.createElement("div",lt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":en.id,onClick:gn.popup.toggleOnClick,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),gn.slot.children)})},Sr=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln);return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(gn){return rt.createElement("div",lt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":en.id,onClick:gn.popup.toggleOnClick,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),gn.slot.children)})},Or=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln);return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(gn){return rt.createElement("div",lt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":en.id,onClick:gn.popup.toggleOnClick,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),gn.slot.children)})},Qr=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),rt.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),rt.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),rt.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ns=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),rt.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),rt.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),rt.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),rt.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),rt.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),rt.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),rt.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),rt.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),rt.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ms=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),rt.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},as=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),rt.createElement("path",{d:"M6 4.5L6 0.5"}),rt.createElement("path",{d:"M18 4.5L18 0.5"}),rt.createElement("path",{d:"M10 4.5L10 0.5"}),rt.createElement("path",{d:"M14 4.5L14 0.5"}))},us=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),rt.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),rt.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ns=function(){return rt.createElement(gt,{size:16},rt.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},oo=function(Nt){var en=Nt.annotation,pn=Nt.childAnnotation,vn=Nt.page,bn=Nt.viewport,An=en.hasPopup===!1,Ln=On(en),Cn=En(en),gn=!!(en.hasPopup||Ln||Cn),Rn=en.name?en.name.toLowerCase():"";return rt.createElement(rn,{annotation:en,hasPopup:An,ignoreBorder:!1,isRenderable:gn,page:vn,viewport:bn},function(Pn){return rt.createElement(rt.Fragment,null,rt.createElement("div",lt({},Pn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":en.id,onClick:Pn.popup.toggleOnClick,onMouseEnter:Pn.popup.openOnHover,onMouseLeave:Pn.popup.closeOnHover}),Rn&&rt.createElement("div",{className:"rpv-core__annotation-text-icon"},Rn==="check"&&rt.createElement(vt,null),Rn==="comment"&&rt.createElement(Qr,null),Rn==="help"&&rt.createElement(ns,null),Rn==="insert"&&rt.createElement(Ns,null),Rn==="key"&&rt.createElement(ms,null),Rn==="note"&&rt.createElement(as,null),(Rn==="newparagraph"||Rn==="paragraph")&&rt.createElement(us,null)),Pn.slot.children),pn&&pn.annotationType===et.AnnotationType.Popup&&Pn.popup.opened&&rt.createElement(wr,{annotation:pn,page:vn,viewport:bn}))})},Ao=function(Nt){var en=Nt.annotation,pn=Nt.page,vn=Nt.viewport,bn=en.hasPopup===!1,An=On(en),Ln=En(en),Cn=!!(en.hasPopup||An||Ln);return rt.createElement(rn,{annotation:en,hasPopup:bn,ignoreBorder:!0,isRenderable:Cn,page:pn,viewport:vn},function(gn){return rt.createElement("div",lt({},gn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":en.id,onClick:gn.popup.toggleOnClick,onMouseEnter:gn.popup.openOnHover,onMouseLeave:gn.popup.closeOnHover}),gn.slot.children)})},$o=function(Nt){var en=Nt.annotations,pn=Nt.doc,vn=Nt.outlines,bn=Nt.page,An=Nt.pageIndex,Ln=Nt.plugins,Cn=Nt.rotation,gn=Nt.scale,Rn=Nt.onExecuteNamedAction,Pn=Nt.onJumpFromLinkAnnotation,Qn=Nt.onJumpToDest,Jn=rt.useRef(),zn=bn.getViewport({rotation:Cn,scale:gn}).clone({dontFlip:!0}),ar=en.filter(function(sr){return!sr.parentId});return mt(function(){var sr=Jn.current;sr&&Ln.forEach(function(rr){rr.onAnnotationLayerRender&&rr.onAnnotationLayerRender({annotations:ar,container:sr,pageIndex:An,rotation:Cn,scale:gn})})},[]),rt.createElement("div",{ref:Jn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(An)},ar.map(function(sr){var rr=en.find(function(Rr){return Rr.parentId===sr.id});switch(sr.annotationType){case et.AnnotationType.Caret:return rt.createElement(Tn,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Circle:return rt.createElement(Nn,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.FileAttachment:return rt.createElement(Yn,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.FreeText:return rt.createElement(hr,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Highlight:return rt.createElement(ts,{key:sr.id,annotation:sr,childAnnotation:rr,page:bn,viewport:zn});case et.AnnotationType.Ink:return rt.createElement(Wr,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Line:return rt.createElement(xr,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Link:return rt.createElement(dn,{key:sr.id,annotation:sr,annotationContainerRef:Jn,doc:pn,outlines:vn,page:bn,pageIndex:An,scale:gn,viewport:zn,onExecuteNamedAction:Rn,onJumpFromLinkAnnotation:Pn,onJumpToDest:Qn});case et.AnnotationType.Polygon:return rt.createElement(Fn,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Polyline:return rt.createElement(jn,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Popup:return rt.createElement(wr,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Square:return rt.createElement(Dn,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Squiggly:return rt.createElement(Hn,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Stamp:return rt.createElement(Sr,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.StrikeOut:return rt.createElement(Or,{key:sr.id,annotation:sr,page:bn,viewport:zn});case et.AnnotationType.Text:return rt.createElement(oo,{key:sr.id,annotation:sr,childAnnotation:rr,page:bn,viewport:zn});case et.AnnotationType.Underline:return rt.createElement(Ao,{key:sr.id,annotation:sr,page:bn,viewport:zn});default:return rt.createElement(rt.Fragment,{key:sr.id})}}))},$s=function(Nt){var en=Nt.page,pn=Nt.renderAnnotations,vn=Kt(),bn=rt.useState({loading:!0,annotations:[]}),An=bn[0],Ln=bn[1];return rt.useEffect(function(){en.getAnnotations({intent:"display"}).then(function(Cn){vn.current&&Ln({loading:!1,annotations:Cn})})},[]),An.loading?rt.createElement(rt.Fragment,null):pn(An.annotations)},ss=function(Nt){var en=Nt.doc,pn=Nt.outlines,vn=Nt.page,bn=Nt.pageIndex,An=Nt.plugins,Ln=Nt.rotation,Cn=Nt.scale,gn=Nt.onExecuteNamedAction,Rn=Nt.onJumpFromLinkAnnotation,Pn=Nt.onJumpToDest;return rt.createElement($s,{page:vn,renderAnnotations:function(Qn){return rt.createElement($o,{annotations:Qn,doc:en,outlines:pn,page:vn,pageIndex:bn,plugins:An,rotation:Ln,scale:Cn,onExecuteNamedAction:gn,onJumpFromLinkAnnotation:Rn,onJumpToDest:Pn})}})},vo=function(Nt,en){var pn=Nt%en;return pn===0?Nt:Math.floor(Nt-pn)},Vs=function(Nt){var en=Nt.canvasLayerRef,pn=Nt.height,vn=Nt.page,bn=Nt.pageIndex,An=Nt.plugins,Ln=Nt.rotation,Cn=Nt.scale,gn=Nt.width,Rn=Nt.onRenderCanvasCompleted,Pn=rt.useRef();return mt(function(){var Qn=Pn.current;Qn&&Qn.cancel();var Jn=en.current;Jn.removeAttribute("data-testid"),An.forEach(function(Tr){Tr.onCanvasLayerRender&&Tr.onCanvasLayerRender({ele:Jn,pageIndex:bn,rotation:Ln,scale:Cn,status:et.LayerRenderStatus.PreRender})});var zn=vn.getViewport({rotation:Ln,scale:Cn}),ar=window.devicePixelRatio||1,sr=Math.sqrt(16777216/(zn.width*zn.height)),rr=ar>sr;rr?Jn.style.transform="scale(1, 1)":Jn.style.removeProperty("transform");var Rr=Math.min(sr,ar),br=function(Tr,ls){var rs,Zr;if(Math.floor(Tr)===Tr)return[Tr,1];var Hr=1/Tr;if(Hr>ls)return[1,ls];if(Math.floor(Hr)===Hr)return[1,Hr];for(var Xr=Tr>1?Hr:Tr,Cs=0,ws=1,Us=1,_s=1;;){var bs=Cs+Us,Ts=ws+_s;if(Ts>ls)break;Xr<=bs/Ts?(Us=(rs=[bs,Ts])[0],_s=rs[1]):(Cs=(Zr=[bs,Ts])[0],ws=Zr[1])}return Xr<(Cs/ws+Us/_s)/2?Xr===Tr?[Cs,ws]:[ws,Cs]:Xr===Tr?[Us,_s]:[_s,Us]}(Rr,8),Ar=br[0],Mr=br[1];Jn.width=vo(zn.width*Rr,Ar),Jn.height=vo(zn.height*Rr,Ar),Jn.style.width="".concat(vo(zn.width,Mr),"px"),Jn.style.height="".concat(vo(zn.height,Mr),"px"),Jn.hidden=!0;var mr=Jn.getContext("2d",{alpha:!1}),Ir=rr||ar!==1?[Rr,0,0,Rr,0,0]:null;return Pn.current=vn.render({canvasContext:mr,transform:Ir,viewport:zn}),Pn.current.promise.then(function(){Jn.hidden=!1,Jn.setAttribute("data-testid","core__canvas-layer-".concat(bn)),An.forEach(function(Tr){Tr.onCanvasLayerRender&&Tr.onCanvasLayerRender({ele:Jn,pageIndex:bn,rotation:Ln,scale:Cn,status:et.LayerRenderStatus.DidRender})}),Rn()},function(){Rn()}),function(){Jn&&(Jn.width=0,Jn.height=0)}},[]),rt.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(pn,"px"),width:"".concat(gn,"px")}},rt.createElement("canvas",{ref:en}))},Eo=function(Nt){var en=Nt.height,pn=Nt.page,vn=Nt.rotation,bn=Nt.scale,An=Nt.width,Ln=rt.useRef();return mt(function(){var Cn=Ln.current,gn=pn.getViewport({rotation:vn,scale:bn});pn.getOperatorList().then(function(Rn){(function(){var Pn=Ln.current;Pn&&(Pn.innerHTML="")})(),new it.SVGGraphics(pn.commonObjs,pn.objs).getSVG(Rn,gn).then(function(Pn){Pn.style.height="".concat(en,"px"),Pn.style.width="".concat(An,"px"),Cn.appendChild(Pn)})})},[]),rt.createElement("div",{className:"rpv-core__svg-layer",ref:Ln})},Yl=function(Nt){var en=Nt.containerRef,pn=Nt.page,vn=Nt.pageIndex,bn=Nt.plugins,An=Nt.rotation,Ln=Nt.scale,Cn=Nt.onRenderTextCompleted,gn=rt.useRef(),Rn=function(){var Pn=en.current;Pn&&([].slice.call(Pn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Qn){return Pn.removeChild(Qn)}),[].slice.call(Pn.querySelectorAll('br[role="presentation"]')).forEach(function(Qn){return Pn.removeChild(Qn)}))};return mt(function(){var Pn=gn.current;Pn&&Pn.cancel();var Qn=en.current;if(Qn){Qn.removeAttribute("data-testid");var Jn=pn.getViewport({rotation:An,scale:Ln});return bn.forEach(function(zn){zn.onTextLayerRender&&zn.onTextLayerRender({ele:Qn,pageIndex:vn,scale:Ln,status:et.LayerRenderStatus.PreRender})}),pn.getTextContent().then(function(zn){Rn(),gn.current=it.renderTextLayer({container:Qn,textContent:zn,textContentSource:zn,viewport:Jn}),gn.current.promise.then(function(){Qn.setAttribute("data-testid","core__text-layer-".concat(vn)),[].slice.call(Qn.children).forEach(function(ar){ar.classList.contains("rpv-core__text-layer-text--not")||ar.classList.add("rpv-core__text-layer-text")}),bn.forEach(function(ar){ar.onTextLayerRender&&ar.onTextLayerRender({ele:Qn,pageIndex:vn,scale:Ln,status:et.LayerRenderStatus.DidRender})}),Cn()},function(){Qn.removeAttribute("data-testid"),Cn()})}),function(){var zn;Rn(),(zn=gn.current)===null||zn===void 0||zn.cancel()}}},[]),rt.createElement("div",{className:"rpv-core__text-layer",ref:en})},Vo=function(Nt){var en=Nt.doc,pn=Nt.measureRef,vn=Nt.outlines,bn=Nt.pageIndex,An=Nt.pageRotation,Ln=Nt.pageSize,Cn=Nt.plugins,gn=Nt.renderPage,Rn=Nt.renderQueueKey,Pn=Nt.rotation,Qn=Nt.scale,Jn=Nt.shouldRender,zn=Nt.viewMode,ar=Nt.onExecuteNamedAction,sr=Nt.onJumpFromLinkAnnotation,rr=Nt.onJumpToDest,Rr=Nt.onRenderCompleted,br=Nt.onRotatePage,Ar=Kt(),Mr=rt.useState(null),mr=Mr[0],Ir=Mr[1],Tr=rt.useState(!1),ls=Tr[0],rs=Tr[1],Zr=rt.useState(!1),Hr=Zr[0],Xr=Zr[1],Cs=rt.useRef(),ws=rt.useRef(),Us=Math.abs(Pn+An)%180==0,_s=Ln.pageWidth*Qn,bs=Ln.pageHeight*Qn,Ts=Us?_s:bs,Ps=Us?bs:_s,js=(Ln.rotation+Pn+An)%360,Co=rt.useRef(0),yo=gn||function(Gs){return rt.createElement(rt.Fragment,null,Gs.canvasLayer.children,Gs.textLayer.children,Gs.annotationLayer.children)};return rt.useEffect(function(){Ir(null),rs(!1),Xr(!1)},[An,Pn,Qn]),rt.useEffect(function(){Jn&&Ar.current&&!mr&&ur(en,bn).then(function(Gs){Ar.current&&(Co.current=Rn,Ir(Gs))})},[Jn,mr]),rt.useEffect(function(){ls&&Hr&&(Rn!==Co.current?(Ir(null),rs(!1),Xr(!1)):Rr(bn))},[ls,Hr]),rt.createElement("div",{className:pt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":zn===et.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":zn===et.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":zn===et.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(bn),ref:pn,style:{height:"".concat(Ps,"px"),width:"".concat(Ts,"px")}},mr?rt.createElement(rt.Fragment,null,yo({annotationLayer:{attrs:{},children:rt.createElement(ss,{doc:en,outlines:vn,page:mr,pageIndex:bn,plugins:Cn,rotation:js,scale:Qn,onExecuteNamedAction:ar,onJumpFromLinkAnnotation:sr,onJumpToDest:rr})},canvasLayer:{attrs:{},children:rt.createElement(Vs,{canvasLayerRef:Cs,height:Ps,page:mr,pageIndex:bn,plugins:Cn,rotation:js,scale:Qn,width:Ts,onRenderCanvasCompleted:function(){Ar.current&&rs(!0)}})},canvasLayerRendered:ls,doc:en,height:Ps,pageIndex:bn,rotation:js,scale:Qn,svgLayer:{attrs:{},children:rt.createElement(Eo,{height:Ps,page:mr,rotation:js,scale:Qn,width:Ts})},textLayer:{attrs:{},children:rt.createElement(Yl,{containerRef:ws,page:mr,pageIndex:bn,plugins:Cn,rotation:js,scale:Qn,onRenderTextCompleted:function(){Ar.current&&Xr(!0)}})},textLayerRendered:Hr,width:Ts,markRendered:Rr,onRotatePage:function(Gs){return br(bn,Gs)}}),Cn.map(function(Gs,to){return Gs.renderPageLayer?rt.createElement(rt.Fragment,{key:to},Gs.renderPageLayer({canvasLayerRef:Cs,canvasLayerRendered:ls,doc:en,height:Ps,pageIndex:bn,rotation:js,scale:Qn,textLayerRef:ws,textLayerRendered:Hr,width:Ts})):rt.createElement(rt.Fragment,{key:to})})):rt.createElement(yt,{testId:"core__page-layer-loading-".concat(bn)}))},Ro=function(Nt,en){var pn=en.rect;return Nt.height!==pn.height||Nt.width!==pn.width?pn:Nt};(function(Nt){Nt.Horizontal="Horizontal",Nt.Vertical="Vertical",Nt.Both="Both"})(Xt||(Xt={}));var ks=function(Nt){return 1-Math.pow(1-Nt,4)},ds=1e-4,Ss={left:0,top:0},Fs={capture:!1,passive:!0},zs=function(Nt){var en=Nt.elementRef,pn=Nt.enableSmoothScroll,vn=Nt.isRtl,bn=Nt.scrollDirection,An=Nt.onSmoothScroll,Ln=rt.useState(Ss),Cn=Ln[0],gn=Ln[1],Rn=rt.useState(en.current),Pn=Rn[0],Qn=Rn[1],Jn=vn?-1:1,zn=rt.useRef(bn);zn.current=bn;var ar=rt.useRef(Ss),sr=rt.useRef(!0),rr=rt.useCallback(function(){sr.current=!0,pn&&gn(ar.current),An(!1)},[]),Rr=rt.useCallback(function(){if(Pn){switch(zn.current){case Xt.Horizontal:ar.current={left:Jn*Pn.scrollLeft,top:0};break;case Xt.Both:ar.current={left:Jn*Pn.scrollLeft,top:Pn.scrollTop};break;case Xt.Vertical:default:ar.current={left:0,top:Pn.scrollTop}}pn&&!sr.current||gn(ar.current)}},[Pn]);mt(function(){Qn(en.current)}),mt(function(){if(Pn)return Pn.addEventListener("scroll",Rr,Fs),function(){Pn.removeEventListener("scroll",Rr,Fs)}},[Pn]);var br=rt.useCallback(function(Ar,Mr){var mr=en.current;if(!mr)return Promise.resolve();var Ir={left:0,top:0};switch(zn.current){case Xt.Horizontal:Ir.left=Jn*Ar.left;break;case Xt.Both:Ir.left=Jn*Ar.left,Ir.top=Ar.top;break;case Xt.Vertical:default:Ir.top=Ar.top}return Mr?(sr.current=!1,An(!0),new Promise(function(Tr,ls){(function(rs,Zr,Hr,Xr,Cs,ws){Cs===void 0&&(Cs=function(to){return to}),ws===void 0&&(ws=function(){});var Us=0,_s=0,bs=!1;switch(Zr){case Xt.Horizontal:_s=rs.scrollLeft,Us=0;case Xt.Both:_s=rs.scrollLeft,Us=rs.scrollTop;break;case Xt.Vertical:default:_s=0,Us=rs.scrollTop}var Ts=function(){bs||(bs=!0,rs.scrollLeft=Hr.left,rs.scrollTop=Hr.top,ws())};if(Math.abs(Us-Hr.top)<=ds&&Zr===Xt.Vertical)Ts();else if(Math.abs(_s-Hr.left)<=ds&&Zr===Xt.Horizontal)Ts();else{var Ps,js=-1,Co=_s-Hr.left,yo=Us-Hr.top,Gs=function(to){js===-1&&(js=to);var ko=to-js,Pr=Math.min(ko/Xr,1),Cr=Cs(Pr),vr={left:_s-Co*Cr,top:Us-yo*Cr};switch(Zr){case Xt.Horizontal:rs.scrollLeft=vr.left;break;case Xt.Both:rs.scrollLeft=vr.left,rs.scrollTop=vr.top;break;case Xt.Vertical:default:rs.scrollTop=vr.top}Math.abs(vr.top-Hr.top)<=ds&&Math.abs(vr.left-Hr.left)<=ds&&!bs&&(window.cancelAnimationFrame(Ps),Ts()),ko<Xr?Ps=window.requestAnimationFrame(Gs):window.cancelAnimationFrame(Ps)};Ps=window.requestAnimationFrame(Gs)}})(mr,zn.current,Ir,400,ks,function(){rr(),Tr()})})):new Promise(function(Tr,ls){switch(zn.current){case Xt.Horizontal:mr.scrollLeft=Ir.left;break;case Xt.Both:mr.scrollLeft=Ir.left,mr.scrollTop=Ir.top;break;case Xt.Vertical:default:mr.scrollTop=Ir.top}Tr()})},[en]);return{scrollOffset:Cn,scrollTo:br}},Hs=function(Nt,en,pn){return Math.max(Nt,Math.min(pn,en))},Lo=function(Nt,en){if(en!==et.ViewMode.DualPageWithCover)return 0;if(!function(bn){var An=bn.length;if(An===1)return!1;for(var Ln=1;Ln<An;Ln++)if(bn[Ln].height!==bn[0].height||bn[Ln].width!==bn[0].width)return!0;return!1}(Nt))return 2*Nt[0].width;var pn=cn(Nt.slice(1),2).map(function(bn){return bn.length===2?bn[0].width+bn[1].width:bn[0].width}),vn=[Nt[0].width].concat(pn);return Math.max.apply(Math,vn)},Qo={left:0,top:0},co={left:0,top:0},Zo={left:0,top:0},Tu={left:0,top:0},Pu={height:0,width:0},Ll={left:0,top:0},cu="data-virtual-index",Mo=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],up=function(Nt){var en=Nt.enableSmoothScroll,pn=Nt.isRtl,vn=Nt.numberOfItems,bn=Nt.parentRef,An=Nt.setRenderRange,Ln=Nt.sizes,Cn=Nt.scrollMode,gn=Nt.viewMode,Rn=rt.useState(!1),Pn=Rn[0],Qn=Rn[1],Jn=rt.useCallback(function(Pr){return Qn(Pr)},[]),zn=rt.useRef(Cn);zn.current=Cn;var ar=rt.useRef(gn);ar.current=gn;var sr=Cn===et.ScrollMode.Wrapped||gn===et.ViewMode.DualPageWithCover||gn===et.ViewMode.DualPage?Xt.Both:Cn===et.ScrollMode.Horizontal?Xt.Horizontal:Xt.Vertical,rr=zs({elementRef:bn,enableSmoothScroll:en,isRtl:pn,scrollDirection:sr,onSmoothScroll:Jn}),Rr=rr.scrollOffset,br=rr.scrollTo,Ar=function(Pr){var Cr=Pr.elementRef,vr=rt.useState(Cr.current),yr=vr[0],pr=vr[1],Lr=rt.useRef(!1),Fr=rt.useReducer(Ro,{height:0,width:0}),fr=Fr[0],lr=Fr[1];return mt(function(){Cr.current!==yr&&pr(Cr.current)}),mt(function(){if(yr&&!Lr.current){Lr.current=!0;var Dr=yr.getBoundingClientRect(),Nr=Dr.height,hs=Dr.width;lr({rect:{height:Nr,width:hs}})}},[yr]),rt.useEffect(function(){if(yr){var Dr=new ResizeObserver(function(Nr,hs){Nr.forEach(function(fs){if(fs.target===yr){var Ks=fs.contentRect,ao=Ks.height,Vr=Ks.width;lr({rect:{height:ao,width:Vr}})}})});return Dr.observe(yr),function(){Dr.unobserve(yr)}}},[yr]),fr}({elementRef:bn}),Mr=rt.useRef({scrollOffset:Ll,measurements:[]});Mr.current.scrollOffset=Rr;var mr=rt.useMemo(function(){return Array(vn).fill(-1)},[]),Ir=rt.useState(mr),Tr=Ir[0],ls=Ir[1],rs=rt.useMemo(function(){var Pr=new IntersectionObserver(function(Cr){Cr.forEach(function(vr){var yr=vr.isIntersecting?vr.intersectionRatio:-1,pr=vr.target.getAttribute(cu);if(pr){var Lr=parseInt(pr,10);0<=Lr&&Lr<vn&&ls(function(Fr){return Fr[Lr]=yr,function(fr,lr,Dr){if(Dr||arguments.length===2)for(var Nr,hs=0,fs=lr.length;hs<fs;hs++)!Nr&&hs in lr||(Nr||(Nr=Array.prototype.slice.call(lr,0,hs)),Nr[hs]=lr[hs]);return fr.concat(Nr||Array.prototype.slice.call(lr))}([],Fr,!0)})}})},{threshold:Mo});return Pr},[]),Zr=rt.useMemo(function(){return Cn===et.ScrollMode.Page&&gn===et.ViewMode.SinglePage?function(Pr,Cr,vr){for(var yr=[],pr=0;pr<Pr;pr++){var Lr={height:Math.max(Cr.height,vr[pr].height),width:Math.max(Cr.width,vr[pr].width)},Fr=pr===0?Tu:yr[pr-1].end,fr={left:Fr.left+Lr.width,top:Fr.top+Lr.height};yr[pr]={index:pr,start:Fr,size:Lr,end:fr,visibility:-1}}return yr}(vn,Ar,Ln):gn===et.ViewMode.DualPageWithCover?function(Pr,Cr,vr,yr){for(var pr=[],Lr=0,Fr=0,fr=Zo,lr=0;lr<Pr;lr++){var Dr=lr===0?{height:yr===et.ScrollMode.Page?Math.max(Cr.height,vr[lr].height):vr[lr].height,width:yr===et.ScrollMode.Page?Math.max(Cr.width,vr[lr].width):vr[lr].width}:{height:yr===et.ScrollMode.Page?Math.max(Cr.height,vr[lr].height):vr[lr].height,width:Math.max(Cr.width/2,vr[lr].width)};yr===et.ScrollMode.Page?fr=lr===0?Zo:{left:lr%2==0?Dr.width:0,top:Math.floor((lr-1)/2)*Dr.height+pr[0].end.top}:lr===0?(fr=Zo,Lr=vr[0].height,Fr=0):lr%2==1?(fr={left:0,top:Lr+=Fr},Fr=lr===Pr-1?vr[lr].height:Math.max(vr[lr].height,vr[lr+1].height)):fr={left:pr[lr-1].end.left,top:Lr};var Nr={left:fr.left+Dr.width,top:fr.top+Dr.height};pr[lr]={index:lr,start:fr,size:Dr,end:Nr,visibility:-1}}return pr}(vn,Ar,Ln,Cn):gn===et.ViewMode.DualPage?function(Pr,Cr,vr,yr){for(var pr=[],Lr=0,Fr=0,fr=co,lr=0;lr<Pr;lr++){var Dr={height:yr===et.ScrollMode.Page?Math.max(Cr.height,vr[lr].height):vr[lr].height,width:Math.max(Cr.width/2,vr[lr].width)};yr===et.ScrollMode.Page?fr={left:lr%2==0?0:Dr.width,top:Math.floor(lr/2)*Dr.height}:lr%2==0?(fr={left:0,top:Lr+=Fr},Fr=lr===Pr-1?vr[lr].height:Math.max(vr[lr].height,vr[lr+1].height)):fr={left:pr[lr-1].end.left,top:Lr};var Nr={left:fr.left+Dr.width,top:fr.top+Dr.height};pr[lr]={index:lr,start:fr,size:Dr,end:Nr,visibility:-1}}return pr}(vn,Ar,Ln,Cn):function(Pr,Cr,vr,yr){for(var pr=[],Lr=0,Fr={left:0,top:0},fr=0,lr=Qo,Dr=0;Dr<Pr;Dr++){var Nr=vr[Dr];if(Dr===0)Lr=Nr.width,Fr={left:0,top:0},fr=Nr.height;else switch(yr){case et.ScrollMode.Wrapped:(Lr+=Nr.width)<Cr.width?(lr={left:pr[Dr-1].end.left,top:Fr.top},fr=Math.max(fr,Nr.height)):(Lr=Nr.width,Fr={left:(lr={left:Fr.left,top:Fr.top+fr}).left,top:lr.top},fr=Nr.height);break;case et.ScrollMode.Horizontal:case et.ScrollMode.Vertical:default:lr=pr[Dr-1].end}var hs={left:lr.left+Nr.width,top:lr.top+Nr.height};pr[Dr]={index:Dr,start:lr,size:Nr,end:hs,visibility:-1}}return pr}(vn,Ar,Ln,Cn)},[Cn,Ln,gn,Ar]),Hr=Zr[vn-1]?{height:Zr[vn-1].end.top,width:Zr[vn-1].end.left}:Pu;Mr.current.measurements=Zr;var Xr=rt.useMemo(function(){var Pr=function(Dr,Nr,hs,fs){var Ks=0;switch(Dr){case Xt.Horizontal:Ks=fs.left;break;case Xt.Vertical:default:Ks=fs.top}var ao=Nr.length-1,Vr=function(Jr,Uo,Jo,xa){for(;Jr<=Uo;){var Go=(Jr+Uo)/2|0,ba=xa(Go);if(ba<Jo)Jr=Go+1;else{if(!(ba>Jo))return Go;Uo=Go-1}}return Jr>0?Jr-1:0}(0,ao,Ks,function(Jr){switch(Dr){case Xt.Horizontal:return Nr[Jr].start.left;case Xt.Both:case Xt.Vertical:default:return Nr[Jr].start.top}});if(Dr===Xt.Both)for(var As=Nr[Vr].start.top;Vr-1>=0&&Nr[Vr-1].start.top===As&&Nr[Vr-1].start.left>=fs.left;)Vr--;for(var _i=Vr;_i<=ao;){var Ur={top:Nr[_i].start.top-fs.top,left:Nr[_i].start.left-fs.left},Is={height:hs.height-Ur.top,width:hs.width-Ur.left};if(Dr===Xt.Horizontal&&Is.width<0||Dr===Xt.Vertical&&Is.height<0||Dr===Xt.Both&&(Is.width<0||Is.height<0))break;_i++}return{start:Vr,end:_i}}(sr,Zr,Ar,Rr),Cr=Pr.start,vr=Pr.end,yr=Tr.slice(Hs(0,vn,Cr),Hs(0,vn,vr)),pr=Cr+yr.reduce(function(Dr,Nr,hs,fs){return Nr>fs[Dr]?hs:Dr},0),Lr=pr=Hs(0,vn-1,pr),Fr=An({endPage:vr,numPages:vn,startPage:Cr}),fr=Fr.startPage,lr=Fr.endPage;switch(fr=Math.max(fr,0),lr=Math.min(lr,vn-1),gn){case et.ViewMode.DualPageWithCover:pr>0&&(Lr=pr%2==1?pr:pr-1),fr=fr===0?0:fr%2==1?fr:fr-1,vn-(lr=lr%2==1?lr-1:lr)<=2&&(lr=vn-1);break;case et.ViewMode.DualPage:Lr=pr%2==0?pr:pr-1,fr=fr%2==0?fr:fr-1,lr=lr%2==1?lr:lr-1;break;case et.ViewMode.SinglePage:default:Lr=pr}return{startPage:fr,endPage:lr,maxVisbilityIndex:Lr}},[Zr,Ar,Rr,gn,Tr]),Cs=Xr.startPage,ws=Xr.endPage,Us=Xr.maxVisbilityIndex,_s=rt.useMemo(function(){for(var Pr=[],Cr=function(yr){var pr=Zr[yr],Lr=lt(lt({},pr),{visibility:Tr[yr]!==void 0?Tr[yr]:-1,measureRef:function(Fr){Fr&&(Fr.setAttribute(cu,"".concat(yr)),rs.observe(Fr))}});Pr.push(Lr)},vr=Cs;vr<=ws;vr++)Cr(vr);return Pr},[Cs,ws,Tr,Zr]),bs=rt.useCallback(function(Pr,Cr){var vr=Mr.current.measurements[Hs(0,vn-1,Pr)],yr=zn.current===et.ScrollMode.Page?Ll:Cr;return vr?br({left:yr.left+vr.start.left,top:yr.top+vr.start.top},en):Promise.resolve()},[br,en]),Ts=rt.useCallback(function(Pr,Cr){var vr=Mr.current.measurements,yr=vr[Pr].start,pr=vr.find(function(Fr){return Fr.start.top-yr.top>1e-12});if(!pr)return Promise.resolve();var Lr=pr.index;switch(ar.current){case et.ViewMode.DualPage:Lr=Lr%2==0?Lr:Lr+1;break;case et.ViewMode.DualPageWithCover:Lr=Lr%2==1?Lr:Lr+1}return bs(Lr,Cr)},[]),Ps=rt.useCallback(function(Pr,Cr){for(var vr=Mr.current.measurements,yr=vr[Pr].start,pr=Pr,Lr=!1,Fr=vn-1;Fr>=0;Fr--)if(yr.top-vr[Fr].start.top>1e-12){Lr=!0,pr=vr[Fr].index;break}if(!Lr)return Promise.resolve();switch(ar.current){case et.ViewMode.DualPage:pr=pr%2==0?pr:pr-1;break;case et.ViewMode.DualPageWithCover:pr=pr%2==0?pr-1:pr}return pr===Pr&&(pr=Pr-1),bs(pr,Cr)},[]),js=rt.useCallback(function(Pr,Cr){if(ar.current===et.ViewMode.DualPageWithCover||ar.current===et.ViewMode.DualPage)return Ts(Pr,Cr);switch(zn.current){case et.ScrollMode.Wrapped:return Ts(Pr,Cr);case et.ScrollMode.Horizontal:case et.ScrollMode.Vertical:default:return bs(Pr+1,Cr)}},[]),Co=rt.useCallback(function(Pr,Cr){if(ar.current===et.ViewMode.DualPageWithCover||ar.current===et.ViewMode.DualPage)return Ps(Pr,Cr);switch(zn.current){case et.ScrollMode.Wrapped:return Ps(Pr,Cr);case et.ScrollMode.Horizontal:case et.ScrollMode.Vertical:default:return bs(Pr-1,Cr)}},[]),yo=rt.useCallback(function(){return function(Pr,Cr){switch(Cr){case et.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Pr.width,"px")};case et.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Pr.height,"px"),width:"100%"}}}(Hr,zn.current)},[Hr]),Gs=rt.useCallback(function(Pr){return function(Cr,vr,yr){return yr!==et.ScrollMode.Page?{}:{height:"".concat(vr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Cr.start.top,"px)")}}(Pr,Ar,zn.current)},[Ar]),to=rt.useCallback(function(Pr){return function(Cr,vr,yr,pr,Lr){var Fr,fr,lr,Dr,Nr,hs,fs,Ks=vr?"right":"left",ao=vr?-1:1,Vr=yr.length,As=Cr.start.left*ao,_i=Cr.size,Ur=_i.height,Is=_i.width;if(pr===et.ViewMode.DualPageWithCover){var Jr=Lr===et.ScrollMode.Page?0:Cr.start.top;return Cr.index===0||Vr%2==0&&Cr.index===Vr-1?((Fr={height:"".concat(Ur,"px"),minWidth:"".concat(Lo(yr,pr),"px"),width:"100%"})[Ks]=0,Fr.position="absolute",Fr.top=0,Fr.transform="translate(".concat(As,"px, ").concat(Jr,"px)"),Fr):((fr={height:"".concat(Ur,"px"),width:"".concat(Is,"px")})[Ks]=0,fr.position="absolute",fr.top=0,fr.transform="translate(".concat(As,"px, ").concat(Jr,"px)"),fr)}if(pr===et.ViewMode.DualPage)return(lr={height:"".concat(Ur,"px"),width:"".concat(Is,"px")})[Ks]=0,lr.position="absolute",lr.top=0,lr.transform="translate(".concat(As,"px, ").concat(Lr===et.ScrollMode.Page?0:Cr.start.top,"px)"),lr;switch(Lr){case et.ScrollMode.Horizontal:return(Dr={height:"100%",width:"".concat(Is,"px")})[Ks]=0,Dr.position="absolute",Dr.top=0,Dr.transform="translateX(".concat(As,"px)"),Dr;case et.ScrollMode.Page:return(Nr={height:"".concat(Ur,"px"),width:"".concat(Is,"px")})[Ks]=0,Nr.position="absolute",Nr.top=0,Nr;case et.ScrollMode.Wrapped:return(hs={height:"".concat(Ur,"px"),width:"".concat(Is,"px")})[Ks]=0,hs.position="absolute",hs.top=0,hs.transform="translate(".concat(As,"px, ").concat(Cr.start.top,"px)"),hs;case et.ScrollMode.Vertical:default:return(fs={height:"".concat(Ur,"px"),width:"100%"})[Ks]=0,fs.position="absolute",fs.top=0,fs.transform="translateY(".concat(Cr.start.top,"px)"),fs}}(Pr,pn,Ln,ar.current,zn.current)},[pn,Ln]),ko=rt.useCallback(function(Pr,Cr){var vr=Mr.current,yr=vr.measurements,pr=vr.scrollOffset,Lr=yr[Hs(0,vn-1,Cr)];if(Lr){var Fr=zn.current===et.ScrollMode.Page?{left:Lr.start.left,top:Lr.start.top}:{left:pr.left*Pr,top:pr.top*Pr};return br(Fr,!1)}return Promise.resolve()},[]);return rt.useEffect(function(){return function(){rs.disconnect()}},[]),{boundingClientRect:Ar,isSmoothScrolling:Pn,startPage:Cs,endPage:ws,maxVisbilityIndex:Us,virtualItems:_s,getContainerStyles:yo,getItemContainerStyles:Gs,getItemStyles:to,scrollToItem:bs,scrollToNextItem:js,scrollToPreviousItem:Co,zoom:ko}},uu=function(Nt,en,pn,vn,bn,An){var Ln=pn;switch(!0){case(bn===et.ViewMode.DualPageWithCover&&An>=3):case(bn===et.ViewMode.DualPage&&An>=3):Ln=2*pn;break;default:Ln=pn}switch(vn){case et.SpecialZoomLevel.ActualSize:return 1;case et.SpecialZoomLevel.PageFit:return Math.min((Nt.clientWidth-17)/Ln,(Nt.clientHeight-16)/en);case et.SpecialZoomLevel.PageWidth:return(Nt.clientWidth-17)/Ln}},dp=function(Nt){var en,pn,vn=Nt.getCurrentPage,bn=(en=50,pn=rt.useRef([]),rt.useEffect(function(){return function(){pn.current=[]}},[]),{push:function(Rn){var Pn=pn.current;Pn.length+1>en&&Pn.shift(),Pn.push(Rn),pn.current=Pn},map:function(Rn){return pn.current.map(function(Pn){return Rn(Pn)})},pop:function(){var Rn=pn.current;if(Rn.length===0)return null;var Pn=Rn.pop();return pn.current=Rn,Pn}}),An=function(Rn){var Pn=rt.useRef([]);return rt.useEffect(function(){return function(){Pn.current=[]}},[]),{dequeue:function(){var Qn=Pn.current;if(Qn.length===0)return null;var Jn=Qn.shift();return Pn.current=Qn,Jn||null},enqueue:function(Qn){var Jn=Pn.current;Jn.length+1>Rn&&Jn.pop(),Pn.current=[Qn].concat(Jn)},map:function(Qn){return Pn.current.map(function(Jn){return Qn(Jn)})}}}(50),Ln=function(){var Rn=An.dequeue();return Rn&&bn.push(Rn),Rn&&Rn.pageIndex===vn()?Ln():Rn},Cn=function(){var Rn=bn.pop();return Rn&&An.enqueue(Rn),Rn&&Rn.pageIndex===vn()?Cn():Rn},gn=rt.useCallback(function(Rn){bn.push(Rn)},[]);return{getNextDestination:Ln,getPreviousDestination:Cn,markVisitedDestination:gn}},Il=function(Nt){var en=[];return Nt.map(function(pn){en=en.concat(pn).concat(function(vn){var bn=[];return vn.items&&vn.items.length>0&&(bn=bn.concat(Il(vn.items))),bn}(pn))}),en},Dl={capture:!1,passive:!0},Bl={height:0,width:0},na={height:0,width:0},hp=function(Nt){var en=Nt.getCurrentPage,pn=Nt.getCurrentScrollMode,vn=Nt.jumpToPage,bn=Nt.targetRef,An=rt.useState(et.FullScreenMode.Normal),Ln=An[0],Cn=An[1],gn=function(){var Tr=rt.useState(Bl),ls=Tr[0],rs=Tr[1],Zr=It(function(){rs({height:window.innerHeight,width:window.innerWidth})},100);return mt(function(){return window.addEventListener("resize",Zr,Dl),function(){window.removeEventListener("resize",Zr,Dl)}},[]),ls}(),Rn=rt.useState(na),Pn=Rn[0],Qn=Rn[1],Jn=rt.useRef(na),zn=rt.useRef(en()),ar=rt.useRef(na),sr=rt.useState(bn.current),rr=sr[0],Rr=sr[1],br=rt.useRef();mt(function(){bn.current!==rr&&Rr(bn.current)},[]),mt(function(){if(rr){var Tr=new ResizeObserver(function(ls){ls.forEach(function(rs){var Zr=rs.target.getBoundingClientRect(),Hr=Zr.height,Xr=Zr.width;Qn({height:Hr,width:Xr})})});return Tr.observe(rr),function(){Tr.unobserve(rr),Tr.disconnect()}}},[rr]);var Ar=rt.useCallback(function(Tr){var ls=Wt();return ls&&ls!==Tr?(Cn(et.FullScreenMode.Normal),Gt(ls)):Promise.resolve()},[]),Mr=rt.useCallback(function(Tr){Tr&&Ft()&&(Rr(Tr),Ar(Tr).then(function(){br.current=Tr,Cn(et.FullScreenMode.Entering),function(ls){Mt&&ls[Tt.RequestFullScreen]()}(Tr)}))},[]),mr=rt.useCallback(function(){Wt()&&(Cn(et.FullScreenMode.Exitting),Gt(document))},[]),Ir=rt.useCallback(function(){rr&&Wt()!==rr&&Cn(et.FullScreenMode.Exitting)},[rr]);return rt.useEffect(function(){switch(Ln){case et.FullScreenMode.Entering:br.current&&(br.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),zn.current=en(),Jn.current={height:window.innerHeight,width:window.innerWidth};break;case et.FullScreenMode.Entered:pn()===et.ScrollMode.Page?vn(zn.current).then(function(){Cn(et.FullScreenMode.EnteredCompletely)}):Cn(et.FullScreenMode.EnteredCompletely);break;case et.FullScreenMode.Exitting:br.current&&(br.current.style.backgroundColor="",br.current=null),zn.current=en();break;case et.FullScreenMode.Exited:Cn(et.FullScreenMode.Normal),pn()===et.ScrollMode.Page&&vn(zn.current)}},[Ln]),rt.useEffect(function(){if(Ln!==et.FullScreenMode.Normal)return Ln===et.FullScreenMode.Entering&&gn.height===Pn.height&&gn.width===Pn.width&&gn.height>0&&gn.width>0&&(ar.current.height===0||gn.height==ar.current.height)?(ar.current={height:window.innerHeight,width:window.innerWidth},void Cn(et.FullScreenMode.Entered)):void(Ln===et.FullScreenMode.Exitting&&Jn.current.height===gn.height&&Jn.current.width===gn.width&&gn.height>0&&gn.width>0&&Cn(et.FullScreenMode.Exited))},[Ln,gn,Pn]),rt.useEffect(function(){var Tr;return Tr=Ir,Mt&&document.addEventListener(Tt.FullScreenChange,Tr),function(){(function(ls){Mt&&document.removeEventListener(Tt.FullScreenChange,ls)})(Ir)}},[rr]),{enterFullScreenMode:Mr,exitFullScreenMode:mr,fullScreenMode:Ln}},fp={buildPageStyles:function(){return{}},transformSize:function(Nt){return Nt.size}},Wo={left:0,top:0},du=function(Nt){var en=Nt.currentFile,pn=Nt.defaultScale,vn=Nt.doc,bn=Nt.enableSmoothScroll,An=Nt.initialPage,Ln=Nt.initialRotation,Cn=Nt.initialScale,gn=Nt.pageLayout,Rn=Nt.pageSizes,Pn=Nt.plugins,Qn=Nt.renderPage,Jn=Nt.scrollMode,zn=Nt.setRenderRange,ar=Nt.viewMode,sr=Nt.viewerState,rr=Nt.onDocumentLoad,Rr=Nt.onOpenFile,br=Nt.onPageChange,Ar=Nt.onRotate,Mr=Nt.onRotatePage,mr=Nt.onZoom,Ir=vn.numPages,Tr=vn.loadingTask.docId,ls=rt.useContext(on).l10n,rs=rt.useContext(ct),Zr=rs.direction===et.TextDirection.RightToLeft,Hr=rt.useRef(),Xr=rt.useRef(),Cs=rt.useState(An),ws=Cs[0],Us=Cs[1],_s=rt.useRef(null),bs=dp({getCurrentPage:function(){return Vr.current.pageIndex}}),Ts=rt.useState(Ln),Ps=Ts[0],js=Ts[1],Co=Ut(Ps),yo=rt.useState(!1),Gs=yo[0],to=yo[1],ko=rt.useState(new Map),Pr=ko[0],Cr=ko[1],vr=rt.useState(Jn),yr=vr[0],pr=vr[1],Lr=Ut(yr),Fr=rt.useState(ar),fr=Fr[0],lr=Fr[1],Dr=Ut(fr),Nr=function(tr){var $r=Kt(),zr=rt.useState([]),Kr=zr[0],es=zr[1];return rt.useEffect(function(){tr.getOutline().then(function(jr){if($r.current&&jr!==null){var Os=Il(jr);es(Os)}})},[]),Kr}(vn),hs=rt.useState(Cn),fs=hs[0],Ks=hs[1],ao=Ut(fs),Vr=rt.useRef(sr),As=rt.useRef(typeof pn=="string"?pn:null),_i=rt.useRef(-1),Ur=rt.useRef(-1),Is=rt.useRef(An),Jr=hp({getCurrentPage:function(){return Vr.current.pageIndex},getCurrentScrollMode:function(){return Vr.current.scrollMode},jumpToPage:function(tr){return po(tr)},targetRef:Xr}),Uo=rt.useState(-1),Jo=Uo[0],xa=Uo[1],Go=rt.useState(0),ba=Go[0],Fl=Go[1],Ys=qt({doc:vn});rt.useEffect(function(){return function(){Un.clear(),or.clear()}},[Tr]);var Zl=rt.useMemo(function(){return Object.assign({},fp,gn)},[]),Ol=rt.useMemo(function(){return Array(Ir).fill(0).map(function(tr,$r){var zr=[Rn[$r].pageHeight,Rn[$r].pageWidth],Kr=Math.abs(Ps)%180==0?{height:zr[0],width:zr[1]}:{height:zr[1],width:zr[0]},es={height:Kr.height*fs,width:Kr.width*fs};return Zl.transformSize({numPages:Ir,pageIndex:$r,size:es})})},[Ps,fs]),xs=up({enableSmoothScroll:bn,isRtl:Zr,numberOfItems:Ir,parentRef:Xr,scrollMode:yr,setRenderRange:zn,sizes:Ol,viewMode:fr}),Lu=It(function(){!As.current||Vr.current.fullScreenMode!==et.FullScreenMode.Normal||An>0&&Is.current===An||Do(As.current)},200);(function(tr){var $r=tr.targetRef,zr=tr.onResize;mt(function(){var Kr=new ResizeObserver(function(jr){jr.forEach(function(Os){zr(Os.target)})}),es=$r.current;if(es)return Kr.observe(es),function(){Kr.unobserve(es)}},[])})({targetRef:Xr,onResize:Lu});var zo=function(tr){var $r=tr;Pn.forEach(function(zr){zr.onViewerStateChange&&($r=zr.onViewerStateChange($r))}),Vr.current=$r},$a=function(){return Xr.current},ku=function(){return Vr.current},Nl=rt.useCallback(function(tr){bs.markVisitedDestination(tr)},[]),uo=rt.useCallback(function(tr){var $r=tr.pageIndex,zr=tr.bottomOffset,Kr=tr.leftOffset,es=tr.scaleTo,jr=Xr.current,Os=Vr.current;return jr&&Os?new Promise(function(Ho,ru){ur(vn,$r).then(function(Ul){var jo=Ul.getViewport({scale:1}),Gl=0,gu=(typeof zr=="function"?zr(jo.width,jo.height):zr)||0,Al=(typeof Kr=="function"?Kr(jo.width,jo.height):Kr)||0,Bo=Os.scale;switch(es){case et.SpecialZoomLevel.PageFit:Gl=0,Al=0,Do(et.SpecialZoomLevel.PageFit);break;case et.SpecialZoomLevel.PageWidth:Bo=uu(jr,Rn[$r].pageHeight,Rn[$r].pageWidth,et.SpecialZoomLevel.PageWidth,ar,Ir),Gl=(jo.height-gu)*Bo,Al*=Bo,Do(Bo);break;default:Gl=(jo.height-gu)*Bo,Al*=Bo}switch(Os.scrollMode){case et.ScrollMode.Horizontal:xs.scrollToItem($r,{left:Al,top:0}).then(function(){Ho()});break;case et.ScrollMode.Vertical:default:xs.scrollToItem($r,{left:0,top:Gl}).then(function(){Ho()})}})}):Promise.resolve()},[]),yl=rt.useCallback(function(tr){return bs.markVisitedDestination(tr),uo(tr)},[]),_l=rt.useCallback(function(){var tr=bs.getNextDestination();return tr?uo(tr):Promise.resolve()},[]),Io=rt.useCallback(function(){var tr=bs.getPreviousDestination();return tr?uo(tr):Promise.resolve()},[]),mu=rt.useCallback(function(){return xs.scrollToNextItem(Vr.current.pageIndex,Wo)},[]),po=rt.useCallback(function(tr){return 0<=tr&&tr<Ir?xs.scrollToItem(tr,Wo):Promise.resolve()},[]),Iu=rt.useCallback(function(){return xs.scrollToPreviousItem(Vr.current.pageIndex,Wo)},[]),_c=rt.useCallback(function(tr){var $r,zr;($r=tr.name,zr=$r.split(/\./).pop(),zr?zr.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Kr){var es=new FileReader;es.readAsArrayBuffer(tr),es.onload=function(){var jr=new Uint8Array(es.result);Kr(jr)}}).then(function(Kr){Rr(tr.name,Kr)})},[Rr]),Ds=rt.useCallback(function(tr){var $r=tr===et.RotateDirection.Backward?-90:90,zr=Vr.current.rotation,Kr=zr===360||zr===-360?$r:zr+$r;Ys.markNotRendered(),js(Kr),zo(lt(lt({},Vr.current),{rotation:Kr})),Ar({direction:tr,doc:vn,rotation:Kr})},[]),xl=rt.useCallback(function(tr,$r){var zr=$r===et.RotateDirection.Backward?-90:90,Kr=Vr.current.pagesRotation,es=(Kr.has(tr)?Kr.get(tr):Ln)+zr,jr=Kr.set(tr,es);Cr(jr),to(function(Os){return!Os}),zo(lt(lt({},Vr.current),{pagesRotation:jr,rotatedPage:tr})),Mr({direction:$r,doc:vn,pageIndex:tr,rotation:es}),Ys.markRendering(tr),xa(tr)},[]),eu=rt.useCallback(function(tr){zo(lt(lt({},Vr.current),{scrollMode:tr})),pr(tr)},[]),tu=rt.useCallback(function(tr){zo(lt(lt({},Vr.current),{viewMode:tr})),lr(tr)},[]),Do=rt.useCallback(function(tr){var $r=Xr.current,zr=Vr.current.pageIndex;if(!(zr<0||zr>=Ir)){var Kr=Rn[zr].pageHeight,es=Rn[zr].pageWidth,jr=$r?typeof tr=="string"?uu($r,Kr,es,tr,Vr.current.viewMode,Ir):tr:1;As.current=typeof tr=="string"?tr:null,jr!==Vr.current.scale&&(Fl(function(Os){return Os+1}),Ys.markNotRendered(),Ks(jr),mr({doc:vn,scale:jr}),zo(lt(lt({},Vr.current),{scale:jr})))}},[]),_o=rt.useCallback(function(tr){Jr.enterFullScreenMode(tr)},[]),Sl=rt.useCallback(function(){Jr.exitFullScreenMode()},[]);rt.useEffect(function(){zo(lt(lt({},Vr.current),{fullScreenMode:Jr.fullScreenMode}))},[Jr.fullScreenMode]),rt.useEffect(function(){var tr={enterFullScreenMode:_o,exitFullScreenMode:Sl,getPagesContainer:$a,getViewerState:ku,jumpToDestination:yl,jumpToNextDestination:_l,jumpToPreviousDestination:Io,jumpToNextPage:mu,jumpToPreviousPage:Iu,jumpToPage:po,openFile:_c,rotate:Ds,rotatePage:xl,setViewerState:zo,switchScrollMode:eu,switchViewMode:tu,zoom:Do};return Pn.forEach(function($r){$r.install&&$r.install(tr)}),function(){Pn.forEach(function($r){$r.uninstall&&$r.uninstall(tr)})}},[Tr]),rt.useEffect(function(){rr({doc:vn,file:en}),Pn.forEach(function(tr){tr.onDocumentLoad&&tr.onDocumentLoad({doc:vn,file:en})})},[Tr]);var Bs,Qs,Ws,$l=xs.boundingClientRect;Bs=function(){An&&po(An)},Qs=$l.height>0&&$l.width>0,Ws=rt.useRef(!1),mt(function(){Qs&&!Ws.current&&(Ws.current=!0,Bs())},[Bs,Qs]),mt(function(){var tr=Vr.current.pageIndex;tr>-1&&Lr!==yr&&xs.scrollToItem(tr,Wo).then(function(){Jr.fullScreenMode===et.FullScreenMode.EnteredCompletely&&(bn||Ys.markNotRendered(),_i.current=-1)})},[yr]),mt(function(){var tr=Vr.current.pageIndex;tr>-1&&Co!==Ps&&xs.scrollToItem(tr,Wo)},[Ps]),mt(function(){ao!=0&&ao!=Vr.current.scale&&xs.zoom(Vr.current.scale/ao,Vr.current.pageIndex).then(function(){Jr.fullScreenMode===et.FullScreenMode.EnteredCompletely&&(Ur.current=-1)})},[fs]),mt(function(){if(Dr!==Vr.current.viewMode){var tr=xs.startPage,$r=xs.endPage,zr=xs.virtualItems;Ys.markNotRendered(),Ys.setRange(tr,$r);for(var Kr=function(jr){var Os=zr.find(function(Ho){return Ho.index===jr});Os&&Ys.setVisibility(jr,Os.visibility)},es=tr;es<=$r;es++)Kr(es);qo()}},[fr]),mt(function(){var tr=Vr.current.pageIndex;tr>-1&&Dr!==fr&&xs.scrollToItem(tr,Wo)},[fr]),mt(function(){var tr=Vr.current.pageIndex;tr>0&&tr===An&&Is.current===An&&As.current&&(Is.current=-1,Do(As.current))},[ws]),rt.useEffect(function(){xs.isSmoothScrolling||_s.current!==null&&_s.current===ws||(_s.current=ws,br({currentPage:ws,doc:vn}))},[ws,xs.isSmoothScrolling]),rt.useEffect(function(){Jr.fullScreenMode===et.FullScreenMode.Entering&&Vr.current.scrollMode===et.ScrollMode.Page&&(_i.current=Vr.current.pageIndex),Jr.fullScreenMode===et.FullScreenMode.EnteredCompletely&&Vr.current.scrollMode===et.ScrollMode.Page&&bn&&(_i.current=-1),Jr.fullScreenMode===et.FullScreenMode.EnteredCompletely&&As.current&&(Ur.current=Vr.current.pageIndex,Do(As.current))},[Jr.fullScreenMode]),rt.useEffect(function(){if(Jr.fullScreenMode!==et.FullScreenMode.Entering&&Jr.fullScreenMode!==et.FullScreenMode.Exitting&&!xs.isSmoothScrolling){var tr=xs.startPage,$r=xs.endPage,zr=xs.maxVisbilityIndex,Kr=xs.virtualItems,es=zr,jr=Jr.fullScreenMode===et.FullScreenMode.Entered||Jr.fullScreenMode===et.FullScreenMode.EnteredCompletely;if(!(jr&&es!==_i.current&&_i.current>-1||jr&&es!==Ur.current&&Ur.current>-1)){Us(es),zo(lt(lt({},Vr.current),{pageIndex:es})),Ys.setRange(tr,$r);for(var Os=function(ru){var Ul=Kr.find(function(jo){return jo.index===ru});Ul&&Ys.setVisibility(ru,Ul.visibility)},Ho=tr;Ho<=$r;Ho++)Os(Ho);qo()}}},[xs.startPage,xs.endPage,xs.isSmoothScrolling,xs.maxVisbilityIndex,Jr.fullScreenMode,Gs,Ps,fs]);var Vl=rt.useCallback(function(tr){Ys.markRendered(tr),qo()},[ba]),qo=function(){var tr=Ys.getHighestPriorityPage();tr>-1&&Ys.isInRange(tr)&&(Ys.markRendering(tr),xa(tr))},gp=function(tr){var $r=ws-1,zr=ws+1;switch(tr){case"FirstPage":po(0);break;case"LastPage":po(Ir-1);break;case"NextPage":zr<Ir&&po(zr);break;case"PrevPage":$r>=0&&po($r)}},io=rt.useCallback(function(){var tr=xs.virtualItems,$r=[];switch(fr){case et.ViewMode.DualPage:$r=cn(tr,2);break;case et.ViewMode.DualPageWithCover:tr.length&&($r=tr[0].index===0?[[tr[0]]].concat(cn(tr.slice(1),2)):cn(tr,2));break;case et.ViewMode.SinglePage:default:$r=cn(tr,1)}var zr=ls&&ls.core?ls.core.pageLabel:"Page {{pageIndex}}",Kr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Hr,style:{height:"100%"}},children:rt.createElement(rt.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:pt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":yr===et.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Zr,"rpv-core__inner-pages--single":yr===et.ScrollMode.Page,"rpv-core__inner-pages--vertical":yr===et.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":yr===et.ScrollMode.Wrapped}),ref:Xr,style:{height:"100%",position:"relative"}},children:rt.createElement("div",{"data-testid":"core__inner-current-page-".concat(ws),style:Object.assign({"--scale-factor":fs},xs.getContainerStyles())},$r.map(function(es){return rt.createElement("div",{className:pt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":yr===et.ScrollMode.Page}),style:xs.getItemContainerStyles(es[0]),key:"".concat(es[0].index,"-").concat(fr)},es.map(function(jr){var Os=fr===et.ViewMode.DualPageWithCover&&(jr.index===0||Ir%2==0&&jr.index===Ir-1);return rt.createElement("div",{"aria-label":zr.replace("{{pageIndex}}","".concat(jr.index+1)),className:pt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":fr===et.ViewMode.DualPage&&jr.index%2==0,"rpv-core__inner-page--dual-odd":fr===et.ViewMode.DualPage&&jr.index%2==1,"rpv-core__inner-page--dual-cover":Os,"rpv-core__inner-page--dual-cover-even":fr===et.ViewMode.DualPageWithCover&&!Os&&jr.index%2==0,"rpv-core__inner-page--dual-cover-odd":fr===et.ViewMode.DualPageWithCover&&!Os&&jr.index%2==1,"rpv-core__inner-page--single":fr===et.ViewMode.SinglePage&&yr===et.ScrollMode.Page}),role:"region",key:"".concat(jr.index,"-").concat(fr),style:Object.assign({},xs.getItemStyles(jr),Zl.buildPageStyles({numPages:Ir,pageIndex:jr.index,scrollMode:yr,viewMode:fr}))},rt.createElement(Vo,{doc:vn,measureRef:jr.measureRef,outlines:Nr,pageIndex:jr.index,pageRotation:Pr.has(jr.index)?Pr.get(jr.index):0,pageSize:Rn[jr.index],plugins:Pn,renderPage:Qn,renderQueueKey:ba,rotation:Ps,scale:fs,shouldRender:Jo===jr.index,viewMode:fr,onExecuteNamedAction:gp,onJumpFromLinkAnnotation:Nl,onJumpToDest:yl,onRenderCompleted:Vl,onRotatePage:xl}))}))}))}};return Pn.forEach(function(es){es.renderViewer&&(Kr=es.renderViewer({containerRef:Hr,doc:vn,pagesContainerRef:Xr,pagesRotation:Pr,pageSizes:Rn,rotation:Ps,slot:Kr,themeContext:rs,jumpToPage:po,openFile:_c,rotate:Ds,rotatePage:xl,switchScrollMode:eu,switchViewMode:tu,zoom:Do}))}),Kr},[Pn,xs]),nu=rt.useCallback(function(tr){return rt.createElement("div",lt({},tr.attrs,{style:tr.attrs&&tr.attrs.style?tr.attrs.style:{}}),tr.children,tr.subSlot&&nu(tr.subSlot))},[]);return nu(io())},ga=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],pp=function(Nt){var en=Nt.defaultScale,pn=Nt.doc,vn=Nt.render,bn=Nt.scrollMode,An=Nt.viewMode,Ln=rt.useRef(),Cn=rt.useState({pageSizes:[],scale:0}),gn=Cn[0],Rn=Cn[1];return rt.useLayoutEffect(function(){var Pn=Array(pn.numPages).fill(0).map(function(Qn,Jn){return new Promise(function(zn,ar){ur(pn,Jn).then(function(sr){var rr=sr.getViewport({scale:1});zn({pageHeight:rr.height,pageWidth:rr.width,rotation:rr.rotation})})})});Promise.all(Pn).then(function(Qn){var Jn=Ln.current;if(Jn&&Qn.length!==0){var zn=Qn[0].pageWidth,ar=Qn[0].pageHeight,sr=Jn.parentElement,rr=(sr.clientWidth-45)/zn,Rr=(sr.clientHeight-45)/ar,br=rr;switch(bn){case et.ScrollMode.Horizontal:br=Math.min(rr,Rr);break;case et.ScrollMode.Vertical:default:br=rr}var Ar,Mr,mr=en?typeof en=="string"?uu(sr,ar,zn,en,An,pn.numPages):en:(Ar=br,(Mr=ga.findIndex(function(Ir){return Ir>=Ar}))===-1||Mr===0?Ar:ga[Mr-1]);Rn({pageSizes:Qn,scale:mr})}})},[pn.loadingTask.docId]),gn.pageSizes.length===0||gn.scale===0?rt.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Ln},rt.createElement(yt,null)):vn(gn.pageSizes,gn.scale)},_a=function(){},gs=function(Nt){function en(pn,vn){var bn=Nt.call(this)||this;return bn.verifyPassword=pn,bn.passwordStatus=vn,bn}return ot(en,Nt),en}(_a),Ru=function(Nt){var en=Nt.passwordStatus,pn=Nt.renderProtectedView,vn=Nt.verifyPassword,bn=Nt.onDocumentAskPassword,An=rt.useContext(on).l10n,Ln=rt.useState(""),Cn=Ln[0],gn=Ln[1],Rn=rt.useContext(ct).direction===et.TextDirection.RightToLeft,Pn=function(){return vn(Cn)};return rt.useEffect(function(){bn&&bn({verifyPassword:vn})},[]),pn?pn({passwordStatus:en,verifyPassword:vn}):rt.createElement("div",{className:"rpv-core__asking-password-wrapper"},rt.createElement("div",{className:pt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Rn})},rt.createElement("div",{className:"rpv-core__asking-password-message"},en===et.PasswordStatus.RequiredPassword&&An.core.askingPassword.requirePasswordToOpen,en===et.PasswordStatus.WrongPassword&&An.core.wrongPassword.tryAgain),rt.createElement("div",{className:"rpv-core__asking-password-body"},rt.createElement("div",{className:pt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Rn,"rpv-core__asking-password-input--rtl":Rn})},rt.createElement(xt,{testId:"core__asking-password-input",type:"password",value:Cn,onChange:gn,onKeyDown:function(Qn){Qn.key==="Enter"&&Pn()}})),rt.createElement(_t,{onClick:Pn},An.core.askingPassword.submit))))},Ql=function(Nt){function en(pn){var vn=Nt.call(this)||this;return vn.doc=pn,vn}return ot(en,Nt),en}(_a),hu=function(Nt){function en(pn){var vn=Nt.call(this)||this;return vn.error=pn,vn}return ot(en,Nt),en}(_a),fu=function(Nt){function en(pn){var vn=Nt.call(this)||this;return vn.percentages=pn,vn}return ot(en,Nt),en}(_a),mp=function(Nt){var en=Nt.characterMap,pn=Nt.file,vn=Nt.httpHeaders,bn=Nt.render,An=Nt.renderError,Ln=Nt.renderLoader,Cn=Nt.renderProtectedView,gn=Nt.transformGetDocumentParams,Rn=Nt.withCredentials,Pn=Nt.onDocumentAskPassword,Qn=rt.useContext(ct).direction===et.TextDirection.RightToLeft,Jn=rt.useState(new fu(0)),zn=Jn[0],ar=Jn[1],sr=rt.useRef(""),rr=Kt();return rt.useEffect(function(){sr.current="",ar(new fu(0));var Rr=new it.PDFWorker({name:"PDFWorker_".concat(Date.now())}),br=Object.assign({httpHeaders:vn,withCredentials:Rn,worker:Rr},typeof pn=="string"?{url:pn}:{data:pn},en?{cMapUrl:en.url,cMapPacked:en.isCompressed}:{}),Ar=gn?gn(br):br,Mr=it.getDocument(Ar);return Mr.onPassword=function(mr,Ir){switch(Ir){case it.PasswordResponses.NEED_PASSWORD:rr.current&&ar(new gs(mr,et.PasswordStatus.RequiredPassword));break;case it.PasswordResponses.INCORRECT_PASSWORD:rr.current&&ar(new gs(mr,et.PasswordStatus.WrongPassword))}},Mr.onProgress=function(mr){var Ir=mr.total>0?Math.min(100,100*mr.loaded/mr.total):100;rr.current&&sr.current===""&&ar(new fu(Ir))},Mr.promise.then(function(mr){sr.current=mr.loadingTask.docId,rr.current&&ar(new Ql(mr))},function(mr){return rr.current&&!Rr.destroyed&&ar(new hu({message:mr.message||"Cannot load document",name:mr.name}))}),function(){Mr.destroy(),Rr.destroy()}},[pn]),zn instanceof gs?rt.createElement(Ru,{passwordStatus:zn.passwordStatus,renderProtectedView:Cn,verifyPassword:zn.verifyPassword,onDocumentAskPassword:Pn}):zn instanceof Ql?bn(zn.doc):zn instanceof hu?An?An(zn.error):rt.createElement("div",{className:pt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Qn})},rt.createElement("div",{className:"rpv-core__doc-error-text"},zn.error.message)):rt.createElement("div",{"data-testid":"core__doc-loading",className:pt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Qn})},Ln?Ln(zn.percentages):rt.createElement(yt,null))},qs=function(Nt,en){var pn=rt.useMemo(function(){return Nt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Nt},[]),vn=rt.useState(pn),bn=vn[0],An=vn[1],Ln=Ut(bn);return rt.useEffect(function(){if(Nt==="auto"){var Cn=window.matchMedia("(prefers-color-scheme: dark)"),gn=function(Rn){An(Rn.matches?"dark":"light")};return Cn.addEventListener("change",gn),function(){return Cn.removeEventListener("change",gn)}}},[]),rt.useEffect(function(){bn!==Ln&&en&&en(bn)},[bn]),rt.useEffect(function(){Nt!==bn&&An(Nt)},[Nt]),{currentTheme:bn,setCurrentTheme:An}},pu=function(Nt){return{startPage:Nt.startPage-3,endPage:Nt.endPage+3}};et.Button=function(Nt){var en=Nt.children,pn=Nt.testId,vn=Nt.onClick,bn=rt.useContext(ct).direction===et.TextDirection.RightToLeft,An=pn?{"data-testid":pn}:{};return rt.createElement("button",lt({className:pt({"rpv-core__button":!0,"rpv-core__button--rtl":bn}),type:"button",onClick:vn},An),en)},et.Icon=gt,et.LazyRender=function(Nt){var en=Nt.attrs,pn=Nt.children,vn=Nt.testId,bn=rt.useState(!1),An=bn[0],Ln=bn[1],Cn=vn?lt(lt({},en),{"data-testid":vn}):en,gn=ht({once:!0,onVisibilityChanged:function(Rn){Rn.isVisible&&Ln(!0)}});return rt.createElement("div",lt({ref:gn},Cn),An&&pn)},et.LocalizationContext=on,et.Menu=function(Nt){var en=Nt.children,pn=rt.useRef(),vn=rt.useRef([]),bn=rt.useContext(ct).direction===et.TextDirection.RightToLeft,An=function(Cn){if(pn.current)switch(Cn.key){case"Tab":Cn.preventDefault();break;case"ArrowDown":Cn.preventDefault(),Ln(function(gn,Rn){return Rn+1});break;case"ArrowUp":Cn.preventDefault(),Ln(function(gn,Rn){return Rn-1});break;case"End":Cn.preventDefault(),Ln(function(gn,Rn){return gn.length-1});break;case"Home":Cn.preventDefault(),Ln(function(gn,Rn){return 0})}},Ln=function(Cn){if(pn.current){var gn=vn.current,Rn=gn.findIndex(function(Qn){return Qn.getAttribute("tabindex")==="0"}),Pn=Math.min(gn.length-1,Math.max(0,Cn(gn,Rn)));Rn>=0&&Rn<=gn.length-1&&gn[Rn].setAttribute("tabindex","-1"),gn[Pn].setAttribute("tabindex","0"),gn[Pn].focus()}};return mt(function(){var Cn=pn.current;if(Cn){var gn=function(Rn){var Pn=[];return Rn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Qn){if(Qn instanceof HTMLElement){var Jn=Qn.parentElement;(Jn===Rn||window.getComputedStyle(Jn).display!=="none")&&Pn.push(Qn)}}),Pn}(Cn);vn.current=gn}},[]),mt(function(){return document.addEventListener("keydown",An),function(){document.removeEventListener("keydown",An)}},[]),rt.createElement("div",{ref:pn,"aria-orientation":"vertical",className:pt({"rpv-core__menu":!0,"rpv-core__menu--rtl":bn}),role:"menu",tabIndex:0},en)},et.MenuDivider=function(){return rt.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},et.MenuItem=function(Nt){var en=Nt.checked,pn=en!==void 0&&en,vn=Nt.children,bn=Nt.icon,An=bn===void 0?null:bn,Ln=Nt.isDisabled,Cn=Ln!==void 0&&Ln,gn=Nt.testId,Rn=Nt.onClick,Pn=rt.useContext(ct).direction===et.TextDirection.RightToLeft,Qn=gn?{"data-testid":gn}:{};return rt.createElement("button",lt({className:pt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Cn,"rpv-core__menu-item--ltr":!Pn,"rpv-core__menu-item--rtl":Pn}),role:"menuitem",tabIndex:-1,type:"button",onClick:Rn},Qn),rt.createElement("div",{className:pt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Pn,"rpv-core__menu-item-icon--rtl":Pn})},An),rt.createElement("div",{className:pt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Pn,"rpv-core__menu-item-label--rtl":Pn})},vn),rt.createElement("div",{className:pt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Pn,"rpv-core__menu-item-check--rtl":Pn})},pn&&rt.createElement(vt,null)))},et.MinimalButton=function(Nt){var en=Nt.ariaLabel,pn=en===void 0?"":en,vn=Nt.ariaKeyShortcuts,bn=vn===void 0?"":vn,An=Nt.children,Ln=Nt.isDisabled,Cn=Ln!==void 0&&Ln,gn=Nt.isSelected,Rn=gn!==void 0&&gn,Pn=Nt.testId,Qn=Nt.onClick,Jn=rt.useContext(ct).direction===et.TextDirection.RightToLeft,zn=Pn?{"data-testid":Pn}:{};return rt.createElement("button",lt({"aria-label":pn},bn&&{"aria-keyshortcuts":bn},Cn&&{"aria-disabled":!0},{className:pt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Cn,"rpv-core__minimal-button--rtl":Jn,"rpv-core__minimal-button--selected":Rn}),type:"button",onClick:Qn},zn),An)},et.Modal=function(Nt){var en=Nt.ariaControlsSuffix,pn=Nt.closeOnClickOutside,vn=Nt.closeOnEscape,bn=Nt.content,An=Nt.isOpened,Ln=An!==void 0&&An,Cn=Nt.target,gn=en||"".concat(yn());return rt.createElement(Ot,{target:Cn?function(Rn,Pn){return rt.createElement("div",{"aria-expanded":Pn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(gn)},Cn(Rn,Pn))}:null,content:function(Rn){return rt.createElement(Ht,null,rt.createElement(Bt,{ariaControlsSuffix:gn,closeOnClickOutside:pn,closeOnEscape:vn,onToggle:Rn},bn(Rn)))},isOpened:Ln})},et.Popover=function(Nt){var en=Nt.ariaHasPopup,pn=en===void 0?"dialog":en,vn=Nt.ariaControlsSuffix,bn=Nt.closeOnClickOutside,An=Nt.closeOnEscape,Ln=Nt.content,Cn=Nt.lockScroll,gn=Cn===void 0||Cn,Rn=Nt.offset,Pn=Nt.position,Qn=Nt.target,Jn=Lt(!1),zn=Jn.opened,ar=Jn.toggle,sr=rt.useRef(),rr=rt.useMemo(function(){return vn||"".concat(yn())},[]);return rt.createElement("div",{ref:sr,"aria-expanded":zn?"true":"false","aria-haspopup":pn,"aria-controls":"rpv-core__popver-body-".concat(rr)},Qn(ar,zn),zn&&rt.createElement(rt.Fragment,null,gn&&rt.createElement(nn,{closeOnEscape:An,onClose:ar}),rt.createElement(Xn,{ariaControlsSuffix:rr,closeOnClickOutside:bn,offset:Rn,position:Pn,targetRef:sr,onClose:ar},Ln(ar))))},et.PrimaryButton=_t,et.ProgressBar=function(Nt){var en=Nt.progress,pn=rt.useContext(ct).direction===et.TextDirection.RightToLeft;return rt.createElement("div",{className:pt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":pn})},rt.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(en,"%")}},en,"%"))},et.Separator=function(){return rt.createElement("div",{className:"rpv-core__separator"})},et.Spinner=yt,et.Splitter=function(Nt){var en=Nt.constrain,pn=rt.useContext(ct).direction===et.TextDirection.RightToLeft,vn=rt.useRef(),bn=rt.useRef(),An=rt.useRef(),Ln=rt.useRef(0),Cn=rt.useRef(0),gn=rt.useRef(0),Rn=rt.useRef(0),Pn={capture:!0},Qn=function(zn){var ar=vn.current,sr=bn.current,rr=An.current;if(ar&&sr&&rr){var Rr=Rn.current,br=zn.clientX-Ln.current,Ar=gn.current+(pn?-br:br),Mr=ar.parentElement.getBoundingClientRect().width,mr=100*Ar/Mr;if(ar.classList.add("rpv-core__splitter--resizing"),en){var Ir=Mr-Ar-Rr;if(!en({firstHalfPercentage:mr,firstHalfSize:Ar,secondHalfPercentage:100*Ir/Mr,secondHalfSize:Ir}))return}sr.style.width="".concat(mr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),sr.classList.add("rpv-core__splitter-sibling--resizing"),rr.classList.add("rpv-core__splitter-sibling--resizing")}},Jn=function(zn){var ar=vn.current,sr=bn.current,rr=An.current;ar&&sr&&rr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),ar.classList.remove("rpv-core__splitter--resizing"),sr.classList.remove("rpv-core__splitter-sibling--resizing"),rr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Qn,Pn),document.removeEventListener("mouseup",Jn,Pn))};return rt.useEffect(function(){var zn=vn.current;zn&&(Rn.current=zn.getBoundingClientRect().width,bn.current=zn.previousElementSibling,An.current=zn.nextElementSibling)},[]),rt.createElement("div",{ref:vn,className:"rpv-core__splitter",onMouseDown:function(zn){var ar=bn.current;ar&&(Ln.current=zn.clientX,Cn.current=zn.clientY,gn.current=ar.getBoundingClientRect().width,document.addEventListener("mousemove",Qn,Pn),document.addEventListener("mouseup",Jn,Pn))}})},et.TextBox=xt,et.ThemeContext=ct,et.Tooltip=function(Nt){var en=Nt.ariaControlsSuffix,pn=Nt.content,vn=Nt.offset,bn=Nt.position,An=Nt.target,Ln=Lt(!1),Cn=Ln.opened,gn=Ln.toggle,Rn=rt.useRef(),Pn=rt.useRef(),Qn=rt.useMemo(function(){return en||"".concat(yn())},[]);kt(function(){Rn.current&&document.activeElement&&Rn.current.contains(document.activeElement)&&zn()});var Jn=function(){gn(et.ToggleStatus.Open)},zn=function(){gn(et.ToggleStatus.Close)};return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:Rn,"aria-describedby":"rpv-core__tooltip-body-".concat(Qn),onBlur:function(ar){ar.relatedTarget instanceof HTMLElement&&ar.currentTarget.parentElement&&ar.currentTarget.parentElement.contains(ar.relatedTarget)?Pn.current&&(Pn.current.style.display="none"):zn()},onFocus:Jn,onMouseEnter:Jn,onMouseLeave:zn},An),Cn&&rt.createElement(jt,{ariaControlsSuffix:Qn,contentRef:Pn,offset:vn,position:bn,targetRef:Rn},pn()))},et.Viewer=function(Nt){var en=Nt.characterMap,pn=Nt.defaultScale,vn=Nt.enableSmoothScroll,bn=vn===void 0||vn,An=Nt.fileUrl,Ln=Nt.httpHeaders,Cn=Ln===void 0?{}:Ln,gn=Nt.initialPage,Rn=gn===void 0?0:gn,Pn=Nt.pageLayout,Qn=Nt.initialRotation,Jn=Qn===void 0?0:Qn,zn=Nt.localization,ar=Nt.plugins,sr=ar===void 0?[]:ar,rr=Nt.renderError,Rr=Nt.renderLoader,br=Nt.renderPage,Ar=Nt.renderProtectedView,Mr=Nt.scrollMode,mr=Mr===void 0?et.ScrollMode.Vertical:Mr,Ir=Nt.setRenderRange,Tr=Ir===void 0?pu:Ir,ls=Nt.transformGetDocumentParams,rs=Nt.theme,Zr=rs===void 0?{direction:et.TextDirection.LeftToRight,theme:"light"}:rs,Hr=Nt.viewMode,Xr=Hr===void 0?et.ViewMode.SinglePage:Hr,Cs=Nt.withCredentials,ws=Cs!==void 0&&Cs,Us=Nt.onDocumentAskPassword,_s=Nt.onDocumentLoad,bs=_s===void 0?function(){}:_s,Ts=Nt.onPageChange,Ps=Ts===void 0?function(){}:Ts,js=Nt.onRotate,Co=js===void 0?function(){}:js,yo=Nt.onRotatePage,Gs=yo===void 0?function(){}:yo,to=Nt.onSwitchTheme,ko=to===void 0?function(){}:to,Pr=Nt.onZoom,Cr=Pr===void 0?function(){}:Pr,vr=rt.useState({data:An,name:typeof An=="string"?An:"",shouldLoad:!1}),yr=vr[0],pr=vr[1],Lr=function(_i,Ur){pr({data:Ur,name:_i,shouldLoad:!0})},Fr=rt.useState(!1),fr=Fr[0],lr=Fr[1],Dr=Ut(yr);rt.useEffect(function(){var _i,Ur,Is,Jr;_i=Dr.data,Jr=typeof(Ur=An),(Is=typeof _i)=="string"&&Jr==="string"&&_i===Ur||Is==="object"&&Jr==="object"&&_i.length===Ur.length&&_i.every(function(Uo,Jo){return Uo===Ur[Jo]})||pr({data:An,name:typeof An=="string"?An:"",shouldLoad:fr})},[An,fr]);var Nr=ht({onVisibilityChanged:function(_i){lr(_i.isVisible),_i.isVisible&&pr(function(Ur){return Object.assign({},Ur,{shouldLoad:!0})})}}),hs=typeof Zr=="string"?{direction:et.TextDirection.LeftToRight,theme:Zr}:Zr,fs=rt.useState(zn||Jt),Ks=fs[0],ao=fs[1],Vr={l10n:Ks,setL10n:ao},As=Object.assign({},{direction:hs.direction},qs(hs.theme||"light",ko));return rt.useEffect(function(){zn&&ao(zn)},[zn]),rt.createElement(on.Provider,{value:Vr},rt.createElement(ct.Provider,{value:As},rt.createElement("div",{ref:Nr,className:"rpv-core__viewer rpv-core__viewer--".concat(As.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},yr.shouldLoad&&rt.createElement(mp,{characterMap:en,file:yr.data,httpHeaders:Cn,render:function(_i){return rt.createElement(pp,{defaultScale:pn,doc:_i,render:function(Ur,Is){return rt.createElement(du,{currentFile:{data:yr.data,name:yr.name},defaultScale:pn,doc:_i,enableSmoothScroll:bn,initialPage:Rn,initialRotation:Jn,initialScale:Is,pageLayout:Pn,pageSizes:Ur,plugins:sr,renderPage:br,scrollMode:mr,setRenderRange:Tr,viewMode:Xr,viewerState:{file:yr,fullScreenMode:et.FullScreenMode.Normal,pageIndex:-1,pageHeight:Ur[0].pageHeight,pageWidth:Ur[0].pageWidth,pagesRotation:new Map,rotation:Jn,scale:Is,scrollMode:mr,viewMode:Xr},onDocumentLoad:bs,onOpenFile:Lr,onPageChange:Ps,onRotate:Co,onRotatePage:Gs,onZoom:Cr})},scrollMode:mr,viewMode:Xr})},renderError:rr,renderLoader:Rr,renderProtectedView:Ar,transformGetDocumentParams:ls,withCredentials:ws,onDocumentAskPassword:Us}))))},et.Worker=function(Nt){var en=Nt.children,pn=Nt.workerUrl;return it.GlobalWorkerOptions.workerSrc=pn,rt.createElement(rt.Fragment,null,en)},et.chunk=cn,et.classNames=pt,et.createStore=function(Nt){var en=Nt||{},pn={},vn=function(An,Ln){var Cn;en=lt(lt({},en),((Cn={})[An]=Ln,Cn)),(pn[An]||[]).forEach(function(gn){return gn(en[An])})},bn=function(An){return en[An]};return{subscribe:function(An,Ln){pn[An]=(pn[An]||[]).concat(Ln)},unsubscribe:function(An,Ln){pn[An]=(pn[An]||[]).filter(function(Cn){return Cn!==Ln})},update:function(An,Ln){vn(An,Ln)},updateCurrentValue:function(An,Ln){var Cn=bn(An);Cn!==void 0&&vn(An,Ln(Cn))},get:function(An){return bn(An)}}},et.getDestination=Sn,et.getPage=ur,et.isFullScreenEnabled=Ft,et.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},et.useDebounceCallback=It,et.useIntersectionObserver=ht,et.useIsMounted=Kt,et.useIsomorphicLayoutEffect=mt,et.usePrevious=Ut,et.useRenderQueue=qt})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=core_min})(lib$h);var libExports$g={},lib$g={get exports(){return libExports$g},set exports(et){libExports$g=et}},defaultLayout_min={},libExports$f={},lib$f={get exports(){return libExports$f},set exports(et){libExports$f=et}},attachment_min={},e$e=libExports$h;function t$e(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(et){var $=et.files,_e=n$e.useRef(),tt=n$e.useContext(e$e.LocalizationContext).l10n,nt=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,rt=n$e.useRef([]),it=tt&&tt.attachment?tt.attachment.clickToDownload:"Click to download",st=function(ot){var at=_e.current,lt=[].slice.call(at.getElementsByClassName("rpv-attachment__item"));if(lt.length!==0){lt.forEach(function(pt){return pt.setAttribute("tabindex","-1")});var dt=document.activeElement,ct=lt[Math.min(lt.length-1,Math.max(0,ot(lt,dt)))];ct.setAttribute("tabindex","0"),ct.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var ot=_e.current;if(ot){var at=[].slice.call(ot.getElementsByClassName("rpv-attachment__item"));if(rt.current=at,at.length>0){var lt=at[0];lt.focus(),lt.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":nt}),ref:_e,tabIndex:-1,onKeyDown:function(ot){switch(ot.key){case"ArrowDown":ot.preventDefault(),st(function(at,lt){return at.indexOf(lt)+1});break;case"ArrowUp":ot.preventDefault(),st(function(at,lt){return at.indexOf(lt)-1});break;case"End":ot.preventDefault(),st(function(at,lt){return at.length-1});break;case"Home":ot.preventDefault(),st(function(at,lt){return 0})}}},$.map(function(ot){return n$e.createElement("button",{className:"rpv-attachment__item",key:ot.fileName,tabIndex:-1,title:it,type:"button",onClick:function(){return at=ot.fileName,lt=ot.data,dt=typeof lt=="string"?"":URL.createObjectURL(new Blob([lt],{type:""})),(ct=document.createElement("a")).style.display="none",ct.href=dt||at,ct.setAttribute("download",function(pt){var mt=pt.split("/").pop();return mt?mt.split("#")[0].split("?")[0]:pt}(at)),document.body.appendChild(ct),ct.click(),document.body.removeChild(ct),void(dt&&URL.revokeObjectURL(dt));var at,lt,dt,ct}},ot.fileName)}))},r$e=function(et){var $=et.doc,_e=n$e.useContext(e$e.LocalizationContext).l10n,tt=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,nt=_e&&_e.attachment?_e.attachment.noAttachment:"There is no attachment",rt=n$e.useState({files:[],isLoaded:!1}),it=rt[0],st=rt[1];return n$e.useEffect(function(){$.getAttachments().then(function(ot){var at=ot?Object.keys(ot).map(function(lt){return{data:ot[lt].content,fileName:ot[lt].filename}}):[];st({files:at,isLoaded:!0})})},[$]),it.isLoaded?it.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":tt})},nt):n$e.createElement(a$e,{files:it.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(et){var $=et.store,_e=n$e.useState($.get("doc")),tt=_e[0],nt=_e[1],rt=function(it){nt(it)};return n$e.useEffect(function(){return $.subscribe("doc",rt),function(){$.unsubscribe("doc",rt)}},[]),tt?n$e.createElement(r$e,{doc:tt}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var et=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){et.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:et})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=attachment_min})(lib$f);var libExports$e={},lib$e={get exports(){return libExports$e},set exports(et){libExports$e=et}},bookmark_min={},e$d=libExports$h;function t$d(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(et){var $=et.bookmark,_e=et.depth,tt=et.doc,nt=et.index,rt=et.isBookmarkExpanded,it=et.numberOfSiblings,st=et.pathFromRoot,ot=et.renderBookmarkItem,at=et.store,lt=st?"".concat(st,".").concat(nt):"".concat(nt),dt=o$d.useMemo(function(){return function(Mt){var Tt=Mt.count,Ft=Mt.items;if(Tt>=0)return!1;var Gt=Ft.length;if(Gt===0)return!1;for(var Wt=Ft.concat([]);Wt.length>0;){var It=Wt.shift(),Kt=It.items;It.count&&Kt&&It.count>0&&Kt.length>0&&(Gt+=Kt.length,Wt=Wt.concat(Kt))}return Math.abs(Tt)===Gt}($)},[$]),ct=at.get("bookmarkExpandedMap"),pt=rt?rt({bookmark:$,doc:tt,depth:_e,index:nt}):ct.has(lt)?ct.get(lt):!dt,mt=o$d.useState(pt),ht=mt[0],gt=mt[1],vt=$.items&&$.items.length>0,_t=function(){var Mt=!ht;at.updateCurrentValue("bookmarkExpandedMap",function(Tt){return Tt.set(lt,Mt)}),gt(Mt)},yt=function(){var Mt=$.dest,Tt=at.get("jumpToDestination");e$d.getDestination(tt,Mt).then(function(Ft){Tt&&Tt(n$d({label:$.title},Ft))})},xt=function(){vt&&$.dest&&yt()},At=function(){!vt&&$.dest&&yt()},Ct=function(Mt,Tt){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*_e,"rem")},onClick:Mt},Tt)},Pt=function(Mt,Tt){return vt?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(_e,"-").concat(nt),onClick:_t},ht?Mt:Tt):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},bt=function(Mt){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:Mt},$.title)};return o$d.createElement("li",{"aria-expanded":ht?"true":"false","aria-label":$.title,"aria-level":_e+1,"aria-posinset":nt+1,"aria-setsize":it,role:"treeitem",tabIndex:-1},ot?ot({bookmark:$,depth:_e,hasSubItems:vt,index:nt,isExpanded:ht,path:lt,defaultRenderItem:Ct,defaultRenderTitle:bt,defaultRenderToggle:Pt,onClickItem:At,onClickTitle:xt,onToggleSubItems:_t}):Ct(At,o$d.createElement(o$d.Fragment,null,Pt(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),bt(xt))),vt&&ht&&o$d.createElement(m$9,{bookmarks:$.items,depth:_e+1,doc:tt,isBookmarkExpanded:rt,isRoot:!1,pathFromRoot:lt,renderBookmarkItem:ot,store:at}))},m$9=function(et){var $=et.bookmarks,_e=et.depth,tt=_e===void 0?0:_e,nt=et.doc,rt=et.isBookmarkExpanded,it=et.isRoot,st=et.pathFromRoot,ot=et.renderBookmarkItem,at=et.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:it?"tree":"group",tabIndex:-1},$.map(function(lt,dt){return o$d.createElement(c$d,{bookmark:lt,depth:tt,doc:nt,index:dt,isBookmarkExpanded:rt,key:dt,numberOfSiblings:$.length,pathFromRoot:st,renderBookmarkItem:ot,store:at})}))};(function(et){et[et.Collapse=0]="Collapse",et[et.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(et){var $=et.bookmarks,_e=et.doc,tt=et.isBookmarkExpanded,nt=et.renderBookmarkItem,rt=et.store,it=o$d.useRef(),st=function(dt){var ct=it.current;if(ct&&dt.target instanceof HTMLElement&&ct.contains(dt.target))switch(dt.key){case"ArrowDown":dt.preventDefault(),at(function(pt,mt){return pt.indexOf(mt)+1});break;case"ArrowLeft":dt.preventDefault(),lt(r$d.Collapse);break;case"ArrowRight":dt.preventDefault(),lt(r$d.Expand);break;case"ArrowUp":dt.preventDefault,at(function(pt,mt){return pt.indexOf(mt)-1});break;case"End":dt.preventDefault(),at(function(pt,mt){return pt.length-1});break;case" ":case"Enter":case"Space":dt.preventDefault(),ot();break;case"Home":dt.preventDefault(),at(function(pt,mt){return 0})}},ot=function(){var dt=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");dt&&dt.click()},at=function(dt){var ct=it.current,pt=[].slice.call(ct.getElementsByClassName("rpv-bookmark__item"));if(pt.length!==0){var mt=document.activeElement,ht=pt[Math.min(pt.length-1,Math.max(0,dt(pt,mt)))];mt.setAttribute("tabindex","-1"),ht.setAttribute("tabindex","0"),ht.focus()}},lt=function(dt){var ct=it.current;if([].slice.call(ct.getElementsByClassName("rpv-bookmark__item")).length!==0){var pt=document.activeElement.closest(".rpv-bookmark__item"),mt=dt===r$d.Collapse?"true":"false";if(pt&&pt.parentElement.getAttribute("aria-expanded")===mt){var ht=pt.querySelector(".rpv-bookmark__toggle");ht&&ht.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",st),function(){document.removeEventListener("keydown",st)}},[]),o$d.useEffect(function(){var dt=it.current;if(dt){var ct=[].slice.call(dt.getElementsByClassName("rpv-bookmark__item"));ct.length>0&&(ct[0].focus(),ct[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:it},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:_e,isBookmarkExpanded:tt,isRoot:!0,pathFromRoot:"",renderBookmarkItem:nt,store:rt}))},s$9=function(et){var $=et.doc,_e=et.isBookmarkExpanded,tt=et.renderBookmarkItem,nt=et.store,rt=o$d.useContext(e$d.LocalizationContext).l10n,it=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,st=o$d.useState({isLoaded:!1,items:[]}),ot=st[0],at=st[1];return o$d.useEffect(function(){at({isLoaded:!1,items:[]}),$.getOutline().then(function(lt){at({isLoaded:!0,items:lt||[]})})},[$]),ot.isLoaded?ot.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":it})},rt&&rt.bookmark?rt.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":it})},o$d.createElement(l$d,{bookmarks:ot.items,doc:$,isBookmarkExpanded:_e,renderBookmarkItem:tt,store:nt})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(et){var $=et.isBookmarkExpanded,_e=et.renderBookmarkItem,tt=et.store,nt=o$d.useState(tt.get("doc")),rt=nt[0],it=nt[1],st=function(ot){it(ot)};return o$d.useEffect(function(){return tt.subscribe("doc",st),function(){tt.unsubscribe("doc",st)}},[]),rt?o$d.createElement(s$9,{doc:rt,isBookmarkExpanded:$,renderBookmarkItem:_e,store:tt}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var et=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){et.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){et.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:et})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=bookmark_min})(lib$e);var libExports$d={},lib$d={get exports(){return libExports$d},set exports(et){libExports$d=et}},thumbnail_min={};(function(et){var $=libExports$h;function _e(ht){var gt=Object.create(null);return ht&&Object.keys(ht).forEach(function(vt){if(vt!=="default"){var _t=Object.getOwnPropertyDescriptor(ht,vt);Object.defineProperty(gt,vt,_t.get?_t:{enumerable:!0,get:function(){return ht[vt]}})}}),gt.default=ht,Object.freeze(gt)}var tt,nt=_e(reactExports);et.ThumbnailDirection=void 0,(tt=et.ThumbnailDirection||(et.ThumbnailDirection={})).Horizontal="Horizontal",tt.Vertical="Vertical";var rt=function(){return rt=Object.assign||function(ht){for(var gt,vt=1,_t=arguments.length;vt<_t;vt++)for(var yt in gt=arguments[vt])Object.prototype.hasOwnProperty.call(gt,yt)&&(ht[yt]=gt[yt]);return ht},rt.apply(this,arguments)},it=function(ht){var gt=ht.doc,vt=ht.getPageIndex,_t=ht.renderSpinner,yt=ht.store,xt=ht.width,At=gt.numPages,Ct=vt?vt({numPages:At}):0,Pt=Math.max(0,Math.min(Ct,At-1)),bt=yt.get("pagesRotation")||new Map,Mt=bt.has(Pt)?bt.get(Pt):0,Tt=nt.useState(""),Ft=Tt[0],Gt=Tt[1],Wt=$.useIsMounted(),It=nt.useRef(),Kt=nt.useState(yt.get("rotation")||0),Ut=Kt[0],Qt=Kt[1],Dt=nt.useState(Mt),qt=Dt[0],Jt=Dt[1],on=nt.useState(!1),tn=on[0],yn=on[1],Yt=function(Ht){var wt=Ht.has(Pt)?Ht.get(Pt):0;Jt(wt)},kt=function(Ht){Qt(Ht)},Bt=$.useIntersectionObserver({onVisibilityChanged:function(Ht){yn(Ht.isVisible)}});return nt.useEffect(function(){if(tn){var Ht=Bt.current;Ht&&(Gt(""),$.getPage(gt,Pt).then(function(wt){var Lt=wt.getViewport({scale:1}),Ot=(Lt.rotation+Ut+qt)%360,$t=Math.abs(Ut+qt)%180==0,Vt=$t?Lt.width:Lt.height,Zt=$t?Lt.height:Lt.width,sn=document.createElement("canvas"),hn=sn.getContext("2d",{alpha:!1}),ln=Ht.clientWidth,xn=Ht.clientHeight,un=xt?xt/Vt:Math.min(ln/Vt,xn/Zt),fn=un*Vt,Gn=un*Zt;sn.height=Gn,sn.width=fn,sn.style.opacity="0";var Xn=wt.getViewport({rotation:Ot,scale:un});It.current=wt.render({canvasContext:hn,viewport:Xn}),It.current.promise.then(function(){Wt.current&&Gt(sn.toDataURL()),sn.width=0,sn.height=0},function(){})}))}},[qt,tn]),nt.useEffect(function(){return yt.subscribe("pagesRotation",Yt),yt.subscribe("rotation",kt),function(){yt.unsubscribe("pagesRotation",Yt),yt.unsubscribe("rotation",kt)}},[]),nt.useEffect(function(){return function(){var Ht;(Ht=It.current)===null||Ht===void 0||Ht.cancel()}},[]),nt.createElement("div",{ref:Bt,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},Ft?nt.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:Ft}):nt.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},_t?_t():nt.createElement($.Spinner,null)))},st=function(ht){var gt=ht.getPageIndex,vt=ht.renderSpinner,_t=ht.store,yt=ht.width,xt=nt.useState(_t.get("doc")),At=xt[0],Ct=xt[1],Pt=function(bt){Ct(bt)};return nt.useEffect(function(){return _t.subscribe("doc",Pt),function(){_t.unsubscribe("doc",Pt)}},[]),nt.createElement("div",{className:"rpv-thumbnail__cover"},At?nt.createElement(it,{doc:At,getPageIndex:gt,renderSpinner:vt,store:_t,width:yt}):nt.createElement("div",{className:"rpv-thumbnail__cover-loader"},vt?vt():nt.createElement($.Spinner,null)))},ot=function(){return nt.createElement($.Spinner,null)},at=nt.createContext({renderSpinner:ot}),lt=function(ht){var gt=ht.children,vt=ht.doc,_t=$.useIsMounted(),yt=nt.useState({loading:!0,labels:[]}),xt=yt[0],At=yt[1];return nt.useEffect(function(){vt.getPageLabels().then(function(Ct){_t.current&&At({loading:!1,labels:Ct||[]})})},[vt.loadingTask.docId]),xt.loading?nt.createElement(nt.Fragment,null):gt(xt.labels)},dt=function(ht){var gt=ht.page,vt=ht.pageHeight,_t=ht.pageIndex,yt=ht.pageWidth,xt=ht.rotation,At=ht.thumbnailHeight,Ct=ht.thumbnailWidth,Pt=ht.onRenderCompleted,bt=nt.useContext($.LocalizationContext).l10n,Mt=nt.useRef(),Tt=nt.useState(""),Ft=Tt[0],Gt=Tt[1],Wt=bt&&bt.thumbnail?bt.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return nt.useEffect(function(){var It=Mt.current;It&&It.cancel();var Kt=document.createElement("canvas"),Ut=Kt.getContext("2d",{alpha:!1}),Qt=Ct,Dt=Qt/(yt/vt),qt=Qt/yt;Kt.height=Dt,Kt.width=Qt,Kt.style.height="".concat(Dt,"px"),Kt.style.width="".concat(Qt,"px");var Jt=gt.getViewport({rotation:xt,scale:qt});return Mt.current=gt.render({canvasContext:Ut,viewport:Jt}),Mt.current.promise.then(function(){Gt(Kt.toDataURL()),Pt(_t)},function(){Pt(_t)}),function(){var on;(on=Mt.current)===null||on===void 0||on.cancel()}},[xt]),Ft?nt.createElement("img",{"aria-label":Wt.replace("{{pageIndex}}","".concat(_t+1)),src:Ft,height:"".concat(At,"px"),width:"".concat(Ct,"px")}):nt.useContext(at).renderSpinner()},ct=function(ht){var gt=ht.doc,vt=ht.pageHeight,_t=ht.pageIndex,yt=ht.pageRotation,xt=ht.pageWidth,At=ht.rotation,Ct=ht.shouldRender,Pt=ht.thumbnailWidth,bt=ht.onRenderCompleted,Mt=ht.onVisibilityChanged,Tt=$.useIsMounted(),Ft=nt.useState({height:vt,page:null,viewportRotation:0,width:xt}),Gt=Ft[0],Wt=Ft[1],It=Gt.page,Kt=Gt.height,Ut=Gt.width,Qt=Ut/Kt,Dt=Math.abs(At+yt)%180==0,qt=Dt?Pt:Pt/Qt,Jt=Dt?Pt/Qt:Pt;nt.useEffect(function(){Ct&&$.getPage(gt,_t).then(function(yn){var Yt=yn.getViewport({scale:1});Tt.current&&Wt({height:Yt.height,page:yn,viewportRotation:Yt.rotation,width:Yt.width})})},[Ct]);var on=(Gt.viewportRotation+At+yt)%360,tn=$.useIntersectionObserver({onVisibilityChanged:function(yn){Mt(_t,yn)}});return nt.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(_t),ref:tn,style:{height:"".concat(Jt,"px"),width:"".concat(qt,"px")}},It?nt.createElement(dt,{page:It,pageHeight:Dt?Kt:Ut,pageIndex:_t,pageWidth:Dt?Ut:Kt,rotation:on,thumbnailHeight:Jt,thumbnailWidth:qt,onRenderCompleted:bt}):nt.useContext(at).renderSpinner())},pt=function(ht){var gt=ht.currentPage,vt=ht.doc,_t=ht.labels,yt=ht.pagesRotation,xt=ht.pageHeight,At=ht.pageWidth,Ct=ht.renderCurrentPageLabel,Pt=ht.renderThumbnailItem,bt=ht.rotatedPage,Mt=ht.rotation,Tt=ht.thumbnailDirection,Ft=ht.thumbnailWidth,Gt=ht.viewMode,Wt=ht.onJumpToPage,It=ht.onRotatePage,Kt=vt.numPages,Ut=vt.loadingTask.docId,Qt=nt.useRef(null),Dt=nt.useRef([]),qt=nt.useState(gt),Jt=qt[0],on=qt[1],tn=nt.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,yn=nt.useState(-1),Yt=yn[0],kt=yn[1],Bt=$.useIsMounted(),Ht=$.usePrevious(Gt),wt=nt.useRef(!1),Lt=$.useRenderQueue({doc:vt}),Ot=nt.useMemo(function(){return Array(Kt).fill(0).map(function(un,fn){return fn})},[Ut]),$t=nt.useMemo(function(){switch(Gt){case $.ViewMode.DualPage:return $.chunk(Ot,2);case $.ViewMode.DualPageWithCover:return[[Ot[0]]].concat($.chunk(Ot.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(Ot,1)}},[Ut,Gt]),Vt=function(){if(Qt.current){var un=Dt.current,fn=Jt+1;fn<un.length&&(Jt>=0&&un[Jt].setAttribute("tabindex","-1"),on(fn))}},Zt=function(){if(Qt.current){var un=Dt.current,fn=Jt-1;fn>=0&&(Jt>=0&&un[Jt].setAttribute("tabindex","-1"),on(fn))}},sn=function(){Jt>=0&&Jt<Kt&&Wt(Jt)};$.useIsomorphicLayoutEffect(function(){var un=Qt.current;un&&(Dt.current=Array.from(un.querySelectorAll(".rpv-thumbnail__item")))},[Gt]),nt.useEffect(function(){var un=Dt.current;if(!(un.length===0||Jt<0||Jt>un.length)){var fn=un[Jt];fn.setAttribute("tabindex","0"),fn.focus()}},[Jt]),$.useIsomorphicLayoutEffect(function(){var un=Qt.current,fn=Dt.current;if(!(!un||fn.length===0||gt<0||gt>fn.length)){var Gn=fn[gt].closest(".rpv-thumbnail__items");Gn&&(Tt===et.ThumbnailDirection.Vertical?function(Xn,nn){var jt=Xn.getBoundingClientRect().top-nn.getBoundingClientRect().top,Mn=Xn.clientHeight,cn=nn.clientHeight;jt<0?nn.scrollTop+=jt:jt+Mn<=cn||(nn.scrollTop+=jt+Mn-cn)}(Gn,un):function(Xn,nn){var jt=Xn.getBoundingClientRect().left-nn.getBoundingClientRect().left,Mn=Xn.clientWidth,cn=nn.clientWidth;jt<0?nn.scrollLeft+=jt:jt+Mn<=cn||(nn.scrollLeft+=jt+Mn-cn)}(Gn,un))}},[gt,Tt]);var hn=nt.useCallback(function(un){Bt.current&&(Lt.markRendered(un),wt.current=!1,xn())},[Ut]),ln=nt.useCallback(function(un,fn){fn.isVisible?Lt.setVisibility(un,fn.ratio):Lt.setOutOfRange(un),xn()},[Ut]),xn=nt.useCallback(function(){if(!wt.current){var un=Lt.getHighestPriorityPage();un>-1&&(Lt.markRendering(un),wt.current=!0,kt(un))}},[Ut]);return nt.useEffect(function(){bt>=0&&(Lt.markRendering(bt),wt.current=!0,kt(bt))},[Ut,bt]),$.useIsomorphicLayoutEffect(function(){Ht!==Gt&&(Lt.markNotRendered(),xn())},[Gt]),nt.createElement("div",{ref:Qt,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Tt===et.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":tn,"rpv-thumbnail__list--vertical":Tt===et.ThumbnailDirection.Vertical}),onKeyDown:function(un){switch(un.key){case"ArrowDown":Vt();break;case"ArrowUp":Zt();break;case"Enter":sn()}}},$t.map(function(un,fn){var Gn=!1;switch(Gt){case $.ViewMode.DualPage:Gn=gt===2*fn||gt===2*fn+1;break;case $.ViewMode.DualPageWithCover:Gn=gt===0&&fn===0||fn>0&&gt===2*fn-1||fn>0&&gt===2*fn;break;case $.ViewMode.SinglePage:default:Gn=gt===fn}return nt.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":Gt===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":Gt===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":Gt===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Gn}),key:"".concat(fn,"___").concat(Gt)},un.map(function(Xn){return function(nn){var jt=Gt===$.ViewMode.DualPageWithCover&&(nn===0||Kt%2==0&&nn===Kt-1),Mn="".concat(vt.loadingTask.docId,"___").concat(nn),cn=_t.length===Kt?_t[nn]:"".concat(nn+1),_n=Ct?Ct({currentPage:gt,pageIndex:nn,numPages:Kt,pageLabel:cn}):cn,Un=yt.has(nn)?yt.get(nn):0,or=nt.createElement(ct,{doc:vt,pageHeight:xt,pageIndex:nn,pageRotation:Un,pageWidth:At,rotation:Mt,shouldRender:Yt===nn,thumbnailWidth:Ft,onRenderCompleted:hn,onVisibilityChanged:ln});return Pt?Pt({currentPage:gt,key:Mn,numPages:Kt,pageIndex:nn,renderPageLabel:nt.createElement(nt.Fragment,null,_n),renderPageThumbnail:or,onJumpToPage:function(){return Wt(nn)},onRotatePage:function(Kn){return It(nn,Kn)}}):nt.createElement("div",{key:Mn},nt.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":Gt===$.ViewMode.DualPage&&nn%2==0,"rpv-thumbnail__item--dual-odd":Gt===$.ViewMode.DualPage&&nn%2==1,"rpv-thumbnail__item--dual-cover":jt,"rpv-thumbnail__item--dual-cover-even":Gt===$.ViewMode.DualPageWithCover&&!jt&&nn%2==0,"rpv-thumbnail__item--dual-cover-odd":Gt===$.ViewMode.DualPageWithCover&&!jt&&nn%2==1,"rpv-thumbnail__item--single":Gt===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":gt===nn}),role:"button",tabIndex:gt===nn?0:-1,onClick:function(){return Wt(nn)}},or),nt.createElement("div",{"data-testid":"thumbnail__label-".concat(nn),className:"rpv-thumbnail__label"},_n))}(Xn)}))}))},mt=function(ht){var gt=ht.renderCurrentPageLabel,vt=ht.renderThumbnailItem,_t=ht.store,yt=ht.thumbnailDirection,xt=ht.thumbnailWidth,At=nt.useState(_t.get("doc")),Ct=At[0],Pt=At[1],bt=nt.useState(_t.get("currentPage")||0),Mt=bt[0],Tt=bt[1],Ft=nt.useState(_t.get("pageHeight")||0),Gt=Ft[0],Wt=Ft[1],It=nt.useState(_t.get("pageWidth")||0),Kt=It[0],Ut=It[1],Qt=nt.useState(_t.get("rotation")||0),Dt=Qt[0],qt=Qt[1],Jt=nt.useState(_t.get("pagesRotation")||new Map),on=Jt[0],tn=Jt[1],yn=nt.useState(_t.get("rotatedPage")||-1),Yt=yn[0],kt=yn[1],Bt=nt.useState(_t.get("viewMode")),Ht=Bt[0],wt=Bt[1],Lt=function(fn){Tt(fn)},Ot=function(fn){Pt(fn)},$t=function(fn){Wt(fn)},Vt=function(fn){Ut(fn)},Zt=function(fn){qt(fn)},sn=function(fn){tn(fn)},hn=function(fn){kt(fn)},ln=function(fn){wt(fn)},xn=function(fn){var Gn=_t.get("jumpToPage");Gn&&Gn(fn)},un=function(fn,Gn){_t.get("rotatePage")(fn,Gn)};return nt.useEffect(function(){return _t.subscribe("doc",Ot),_t.subscribe("pageHeight",$t),_t.subscribe("pageWidth",Vt),_t.subscribe("rotatedPage",hn),_t.subscribe("rotation",Zt),_t.subscribe("pagesRotation",sn),_t.subscribe("viewMode",ln),function(){_t.unsubscribe("doc",Ot),_t.unsubscribe("pageHeight",$t),_t.unsubscribe("pageWidth",Vt),_t.unsubscribe("rotatedPage",hn),_t.unsubscribe("rotation",Zt),_t.unsubscribe("pagesRotation",sn),_t.unsubscribe("viewMode",ln)}},[]),$.useIsomorphicLayoutEffect(function(){return _t.subscribe("currentPage",Lt),function(){_t.unsubscribe("currentPage",Lt)}},[]),Ct?nt.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},nt.createElement(lt,{doc:Ct},function(fn){return nt.createElement(pt,{currentPage:Mt,doc:Ct,labels:fn,pagesRotation:on,pageHeight:Gt,pageWidth:Kt,renderCurrentPageLabel:gt,renderThumbnailItem:vt,rotatedPage:Yt,rotation:Dt,thumbnailDirection:yt,thumbnailWidth:xt,viewMode:Ht,onJumpToPage:xn,onRotatePage:un})})):nt.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},nt.useContext(at).renderSpinner())};et.thumbnailPlugin=function(ht){var gt=nt.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),vt=nt.useState(""),_t=vt[0],yt=vt[1];return{install:function(xt){gt.update("jumpToPage",xt.jumpToPage),gt.update("rotatePage",xt.rotatePage)},onDocumentLoad:function(xt){yt(xt.doc.loadingTask.docId),gt.update("doc",xt.doc)},onViewerStateChange:function(xt){return gt.update("currentPage",xt.pageIndex),gt.update("pagesRotation",xt.pagesRotation),gt.update("pageHeight",xt.pageHeight),gt.update("pageWidth",xt.pageWidth),gt.update("rotation",xt.rotation),gt.update("rotatedPage",xt.rotatedPage),gt.update("viewMode",xt.viewMode),xt},Cover:function(xt){return nt.createElement(st,rt({},xt,{renderSpinner:ht==null?void 0:ht.renderSpinner,store:gt}))},Thumbnails:nt.useCallback(function(xt){return nt.createElement(at.Provider,{value:{renderSpinner:(ht==null?void 0:ht.renderSpinner)||ot}},nt.createElement(mt,{renderCurrentPageLabel:ht==null?void 0:ht.renderCurrentPageLabel,renderThumbnailItem:xt==null?void 0:xt.renderThumbnailItem,store:gt,thumbnailDirection:(xt==null?void 0:xt.thumbnailDirection)||et.ThumbnailDirection.Vertical,thumbnailWidth:(ht==null?void 0:ht.thumbnailWidth)||100}))},[_t])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=thumbnail_min})(lib$d);var libExports$c={},lib$c={get exports(){return libExports$c},set exports(et){libExports$c=et}},toolbar_min={},libExports$b={},lib$b={get exports(){return libExports$b},set exports(et){libExports$b=et}},selectionMode_min={};(function(et){var $=libExports$h;function _e(mt){var ht=Object.create(null);return mt&&Object.keys(mt).forEach(function(gt){if(gt!=="default"){var vt=Object.getOwnPropertyDescriptor(mt,gt);Object.defineProperty(ht,gt,vt.get?vt:{enumerable:!0,get:function(){return mt[gt]}})}}),ht.default=mt,Object.freeze(ht)}var tt,nt=_e(reactExports),rt=function(){return nt.createElement($.Icon,{size:16},nt.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},it=function(){return it=Object.assign||function(mt){for(var ht,gt=1,vt=arguments.length;gt<vt;gt++)for(var _t in ht=arguments[gt])Object.prototype.hasOwnProperty.call(ht,_t)&&(mt[_t]=ht[_t]);return mt},it.apply(this,arguments)};et.SelectionMode=void 0,(tt=et.SelectionMode||(et.SelectionMode={})).Hand="Hand",tt.Text="Text";var st=function(){return nt.createElement($.Icon,{size:16},nt.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},ot=function(mt){var ht=mt.children,gt=mt.mode,vt=mt.onClick,_t=nt.useContext($.LocalizationContext).l10n,yt="",xt=nt.createElement(st,null);switch(gt){case et.SelectionMode.Hand:yt=_t&&_t.selectionMode?_t.selectionMode.handTool:"Hand tool",xt=nt.createElement(rt,null);break;case et.SelectionMode.Text:default:yt=_t&&_t.selectionMode?_t.selectionMode.textSelectionTool:"Text selection tool",xt=nt.createElement(st,null)}return ht({icon:xt,label:yt,onClick:vt})},at={left:0,top:8},lt=function(mt){var ht=mt.isSelected,gt=mt.mode,vt=mt.onClick,_t="";switch(gt){case et.SelectionMode.Hand:_t="selection-mode__hand-button";break;case et.SelectionMode.Text:default:_t="selection-mode__text-button"}return nt.createElement(ot,{mode:gt,onClick:vt},function(yt){return nt.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:nt.createElement($.MinimalButton,{ariaLabel:yt.label,isSelected:ht,testId:_t,onClick:yt.onClick},yt.icon),content:function(){return yt.label},offset:at})})},dt=function(mt){var ht=mt.children,gt=mt.mode,vt=mt.store,_t=gt===vt.get("selectionMode");return(ht||function(yt){return nt.createElement(lt,{isSelected:_t,mode:yt.mode,onClick:yt.onClick})})({isSelected:_t,mode:gt,onClick:function(){return vt.update("selectionMode",gt)}})},ct=function(mt){var ht=mt.isSelected,gt=mt.mode,vt=mt.onClick,_t="";switch(gt){case et.SelectionMode.Hand:_t="selection-mode__hand-menu";break;case et.SelectionMode.Text:default:_t="selection-mode__text-menu"}return nt.createElement(ot,{mode:gt,onClick:vt},function(yt){return nt.createElement($.MenuItem,{checked:ht,icon:yt.icon,testId:_t,onClick:yt.onClick},yt.label)})},pt=function(mt){var ht=mt.store,gt=nt.useRef(null),vt=nt.useState(et.SelectionMode.Text),_t=vt[0],yt=vt[1],xt=nt.useRef({top:0,left:0,x:0,y:0}),At=function(Tt){var Ft=gt.current;Ft&&(Ft.scrollTop=xt.current.top-(Tt.clientY-xt.current.y),Ft.scrollLeft=xt.current.left-(Tt.clientX-xt.current.x))},Ct=function(){var Tt=gt.current;Tt&&(Tt.classList.add("rpv-selection-mode__grab"),Tt.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",At),document.removeEventListener("mouseup",Ct))},Pt=function(Tt){var Ft=gt.current;Ft&&_t!==et.SelectionMode.Text&&(Ft.classList.remove("rpv-selection-mode__grab"),Ft.classList.add("rpv-selection-mode__grabbing"),Tt.preventDefault(),Tt.stopPropagation(),xt.current={left:Ft.scrollLeft,top:Ft.scrollTop,x:Tt.clientX,y:Tt.clientY},document.addEventListener("mousemove",At),document.addEventListener("mouseup",Ct))},bt=function(Tt){gt.current=Tt()},Mt=function(Tt){yt(Tt)};return nt.useEffect(function(){var Tt=gt.current;if(Tt)return _t===et.SelectionMode.Hand?Tt.classList.add("rpv-selection-mode__grab"):Tt.classList.remove("rpv-selection-mode__grab"),Tt.addEventListener("mousedown",Pt),function(){Tt.removeEventListener("mousedown",Pt)}},[_t]),nt.useEffect(function(){return ht.subscribe("getPagesContainer",bt),ht.subscribe("selectionMode",Mt),function(){ht.unsubscribe("getPagesContainer",bt),ht.unsubscribe("selectionMode",Mt)}},[]),nt.createElement(nt.Fragment,null)};et.HandToolIcon=rt,et.TextSelectionIcon=st,et.selectionModePlugin=function(mt){var ht=nt.useMemo(function(){return $.createStore()},[]),gt=function(vt){return nt.createElement(dt,it({},vt,{store:ht}))};return{install:function(vt){ht.update("selectionMode",mt&&mt.selectionMode?mt.selectionMode:et.SelectionMode.Text),ht.update("getPagesContainer",vt.getPagesContainer)},renderViewer:function(vt){var _t=vt.slot;return _t.subSlot&&_t.subSlot.children&&(_t.subSlot.children=nt.createElement(nt.Fragment,null,nt.createElement(pt,{store:ht}),_t.subSlot.children)),_t},SwitchSelectionMode:gt,SwitchSelectionModeButton:function(vt){return nt.createElement(gt,{mode:vt.mode},function(_t){return nt.createElement(lt,{isSelected:_t.isSelected,mode:_t.mode,onClick:function(){_t.onClick()}})})},SwitchSelectionModeMenuItem:function(vt){return nt.createElement(gt,{mode:vt.mode},function(_t){return nt.createElement(ct,{isSelected:_t.isSelected,mode:_t.mode,onClick:function(){_t.onClick(),vt.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=selectionMode_min})(lib$b);var libExports$a={},lib$a={get exports(){return libExports$a},set exports(et){libExports$a=et}},fullScreen_min={},e$c=libExports$h;function t$c(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(et){var $=et.enableShortcuts,_e=et.onClick,tt=n$c.useContext(e$c.LocalizationContext).l10n,nt=tt&&tt.fullScreen?tt.fullScreen.enterFullScreen:"Full screen",rt=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:_e},n$c.createElement(l$c,null)),content:function(){return nt},offset:u$c})},i$c={left:0,top:8},a$c=function(et){var $=et.onClick,_e=n$c.useContext(e$c.LocalizationContext).l10n,tt=_e&&_e.fullScreen?_e.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:tt,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return tt},offset:i$c})},f$9=function(et,$){var _e=n$c.useState($.get("fullScreenMode")),tt=_e[0],nt=_e[1],rt=n$c.useCallback(function(it){nt(it)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",rt),function(){$.unsubscribe("fullScreenMode",rt)}},[]),{enterFullScreen:function(){var it=$.get("getPagesContainer");if(it){var st=et(it());$.get("enterFullScreenMode")(st)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:tt===e$c.FullScreenMode.Entering||tt===e$c.FullScreenMode.EnteredCompletely}},s$8=function(et){var $=et.children,_e=et.enableShortcuts,tt=et.getFullScreenTarget,nt=et.store,rt=f$9(tt,nt),it=rt.enterFullScreen,st=rt.exitFullScreen,ot=rt.isFullScreen;return($||function(at){return ot?n$c.createElement(a$c,{onClick:at.onClick}):n$c.createElement(o$c,{enableShortcuts:_e,onClick:at.onClick})})({onClick:ot?st:it})},S$4=function(et){var $=et.onClick,_e=n$c.useContext(e$c.LocalizationContext).l10n,tt=_e&&_e.fullScreen?_e.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},tt)},d$9=function(et){var $=et.onClick,_e=n$c.useContext(e$c.LocalizationContext).l10n,tt=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,nt=_e&&_e.fullScreen?_e.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!tt,"rpv-full-screen__exit-button--rtl":tt})},n$c.createElement(e$c.MinimalButton,{ariaLabel:nt,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(et){var $=et.children,_e=et.getFullScreenTarget,tt=et.store,nt=f$9(_e,tt),rt=nt.enterFullScreen,it=nt.exitFullScreen,st=nt.isFullScreen;return st&&($||function(ot){return n$c.createElement(d$9,{onClick:ot.onClick})})({onClick:st?it:rt})},E$5=function(et){var $=et.store,_e=et.onEnterFullScreen,tt=et.onExitFullScreen,nt=n$c.useState($.get("fullScreenMode")),rt=nt[0],it=nt[1],st=n$c.useCallback(function(ot){it(ot)},[]);return n$c.useEffect(function(){switch(rt){case e$c.FullScreenMode.EnteredCompletely:_e($.get("zoom"));break;case e$c.FullScreenMode.Exited:tt($.get("zoom"))}},[rt]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",st),function(){$.unsubscribe("fullScreenMode",st)}},[]),(rt===e$c.FullScreenMode.Entering||rt===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(et){var $=et.containerRef,_e=et.getFullScreenTarget,tt=et.store,nt=f$9(_e,tt).enterFullScreen,rt=function(it){if(!it.shiftKey&&!it.altKey&&(e$c.isMac()?it.metaKey&&it.ctrlKey&&it.key==="f":it.key==="F11")){var st=$.current;st&&document.activeElement&&st.contains(document.activeElement)&&(it.preventDefault(),nt())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",rt),function(){document.removeEventListener("keydown",rt)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(et){var $=(et==null?void 0:et.getFullScreenTarget)||function(it){return it},_e=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},et)},[]),tt=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),nt=function(it){return n$c.createElement(s$8,c$c({},it,{enableShortcuts:_e.enableShortcuts,getFullScreenTarget:$,store:tt}))},rt=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:tt},et==null?void 0:et.renderExitFullScreenButton)};return{install:function(it){tt.update("enterFullScreenMode",it.enterFullScreenMode),tt.update("exitFullScreenMode",it.exitFullScreenMode),tt.update("getPagesContainer",it.getPagesContainer),tt.update("zoom",it.zoom)},onViewerStateChange:function(it){return tt.update("fullScreenMode",it.fullScreenMode),it},renderViewer:function(it){var st=it.slot;return st.subSlot&&(st.subSlot.children=n$c.createElement(n$c.Fragment,null,_e.enableShortcuts&&n$c.createElement(F,{containerRef:it.containerRef,getFullScreenTarget:$,store:tt}),n$c.createElement(E$5,{store:tt,onEnterFullScreen:_e.onEnterFullScreen,onExitFullScreen:_e.onExitFullScreen}),n$c.createElement(rt,null),st.subSlot.children)),st},EnterFullScreen:nt,EnterFullScreenButton:function(){return n$c.createElement(nt,null,function(it){return n$c.createElement(o$c,c$c({enableShortcuts:_e.enableShortcuts},it))})},EnterFullScreenMenuItem:function(it){return n$c.createElement(nt,null,function(st){return n$c.createElement(S$4,{onClick:function(){st.onClick(),it.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=fullScreen_min})(lib$a);var libExports$9={},lib$9={get exports(){return libExports$9},set exports(et){libExports$9=et}},getFile_min={},e$b=libExports$h;function t$b(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(et){var $=et.onClick,_e=n$b.useContext(e$b.LocalizationContext).l10n,tt=_e&&_e.download?_e.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:tt,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return tt},offset:i$b})},c$b=function(et,$){var _e=document.createElement("a");_e.style.display="none",_e.href=et,_e.setAttribute("download",$),document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)},l$b=function(et,$,_e){var tt=URL.createObjectURL(new Blob([et],{type:_e}));c$b(tt,$),tt&&URL.revokeObjectURL(tt)},u$b=function(et,$){et.getData().then(function(_e){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(_e,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(tt){return btoa(Array(tt.length).fill("").map(function(nt,rt){return String.fromCharCode(tt[rt])}).join(""))}(_e)),$):l$b(_e,$,"application/pdf")})},f$8=function(et){var $=et.children,_e=et.fileNameGenerator,tt=et.store,nt=n$b.useState(tt.get("file")),rt=nt[0],it=nt[1],st=n$b.useState(tt.get("doc")),ot=st[0],at=st[1],lt=function(ct){at(ct)},dt=function(ct){it(ct)};return n$b.useEffect(function(){return tt.subscribe("doc",lt),tt.subscribe("file",dt),function(){tt.subscribe("doc",lt),tt.unsubscribe("file",dt)}},[]),($||function(ct){return n$b.createElement(a$b,{onClick:ct.onClick})})({onClick:function(){ot&&rt&&u$b(ot,_e(rt))}})},d$8=function(et){var $=et.onClick,_e=n$b.useContext(e$b.LocalizationContext).l10n,tt=_e&&_e.download?_e.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},tt)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(et){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),_e=function(nt){return nt.name?(rt=nt.name,(it=rt.split("/").pop())?it.split("#")[0].split("?")[0]:rt):"document.pdf";var rt,it},tt=function(nt){return n$b.createElement(f$8,r$b({},nt,{fileNameGenerator:et&&et.fileNameGenerator||_e,store:$}))};return{onDocumentLoad:function(nt){$.update("doc",nt.doc),$.update("file",nt.file)},Download:tt,DownloadButton:function(){return n$b.createElement(tt,null,function(nt){return n$b.createElement(a$b,r$b({},nt))})},DownloadMenuItem:function(nt){return n$b.createElement(tt,null,function(rt){return n$b.createElement(d$8,{onClick:function(){rt.onClick(),nt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=getFile_min})(lib$9);var libExports$8={},lib$8={get exports(){return libExports$8},set exports(et){libExports$8=et}},open_min={},e$a=libExports$h;function t$a(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},o$a.apply(this,arguments)},i$a=function(et){var $=n$a.useRef(),_e=function(){var nt=$.current;nt&&(nt.click(),et.get("triggerOpenFile")&&et.update("triggerOpenFile",!1))},tt=function(nt){nt&&_e()};return n$a.useEffect(function(){return et.subscribe("triggerOpenFile",tt),function(){et.unsubscribe("triggerOpenFile",tt)}},[]),{inputRef:$,openFile:_e}},c$a={left:0,top:8},u$a=function(et){var $=et.enableShortcuts,_e=et.store,tt=et.onClick,nt=n$a.useContext(e$a.LocalizationContext).l10n,rt=nt&&nt.open?nt.open.openFile:"Open file",it=i$a(_e),st=it.inputRef,ot=it.openFile,at=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:st,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:tt}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:at,ariaLabel:rt,testId:"open__button",onClick:ot},n$a.createElement(r$a,null))),content:function(){return rt},offset:c$a})},a$a=function(et){var $=et.children,_e=et.enableShortcuts,tt=et.store;return($||function(nt){return n$a.createElement(u$a,{enableShortcuts:_e,store:tt,onClick:nt.onClick})})({onClick:function(nt){var rt=nt.target.files;if(rt&&rt.length){var it=tt.get("openFile");it&&it(rt[0])}}})},l$a=function(et){var $=et.store,_e=et.onClick,tt=n$a.useContext(e$a.LocalizationContext).l10n,nt=tt&&tt.open?tt.open.openFile:"Open file",rt=i$a($),it=rt.inputRef,st=rt.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:st},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:it,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:_e}),nt))},p$7=function(et){var $=et.containerRef,_e=et.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&nt.key==="o"&&(e$a.isMac()?nt.metaKey:nt.ctrlKey)){var rt=$.current;rt&&document.activeElement&&rt.contains(document.activeElement)&&(nt.preventDefault(),_e.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(et){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},et)},[]),_e=n$a.useMemo(function(){return e$a.createStore({})},[]),tt=function(nt){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},nt,{store:_e}))};return{install:function(nt){_e.update("openFile",nt.openFile)},renderViewer:function(nt){var rt=nt.slot,it={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:nt.containerRef,store:_e}),rt.children)};return o$a(o$a({},rt),it)},Open:tt,OpenButton:function(){return n$a.createElement(tt,null)},OpenMenuItem:function(){return n$a.createElement(tt,null,function(nt){return n$a.createElement(l$a,{store:_e,onClick:nt.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=open_min})(lib$8);var libExports$7={},lib$7={get exports(){return libExports$7},set exports(et){libExports$7=et}},pageNavigation_min={},e$9=libExports$h;function t$9(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},o$9.apply(this,arguments)},i$9=function(et){var $=n$9.useState(et.get("currentPage")||0),_e=$[0],tt=$[1],nt=function(rt){tt(rt)};return e$9.useIsomorphicLayoutEffect(function(){return et.subscribe("currentPage",nt),function(){et.unsubscribe("currentPage",nt)}},[]),{currentPage:_e}},u$9=function(et){var $=n$9.useState(et.get("numberOfPages")||0),_e=$[0],tt=$[1],nt=function(rt){tt(rt)};return n$9.useEffect(function(){return et.subscribe("numberOfPages",nt),function(){et.unsubscribe("numberOfPages",nt)}},[]),{numberOfPages:_e}},c$9=function(et){var $=et.store,_e=n$9.useContext(e$9.LocalizationContext).l10n,tt=n$9.useState("1"),nt=tt[0],rt=tt[1],it=i$9($).currentPage,st=u$9($).numberOfPages;n$9.useEffect(function(){return rt("".concat(it+1))},[it]);var ot=function(lt){var dt=$.get("jumpToPage");dt&&dt(lt)},at=_e&&_e.pageNavigation?_e.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:at,testId:"page-navigation__current-page-input",type:"text",value:nt,onChange:rt,onKeyDown:function(lt){switch(lt.key){case"ArrowUp":(pt=it-1)>=0&&(rt("".concat(pt+1)),ot(pt));break;case"ArrowDown":(ct=it+1)<st&&(rt("".concat(ct+1)),ot(ct));break;case"Enter":dt=parseInt(nt,10),nt===""||dt<1||dt>st?rt("".concat(it+1)):ot(dt-1)}var dt,ct,pt}}))},l$9=function(et){var $=et.children,_e=et.doc,tt=e$9.useIsMounted(),nt=n$9.useState({loading:!0,labels:[]}),rt=nt[0],it=nt[1];return n$9.useEffect(function(){_e.getPageLabels().then(function(st){tt.current&&it({loading:!1,labels:st||[]})})},[_e.loadingTask.docId]),rt.loading?n$9.createElement(n$9.Fragment,null):$(rt.labels)},s$7=function(et){var $=et.children,_e=et.store,tt=function(st){var ot=n$9.useState(st.get("doc")),at=ot[0],lt=ot[1],dt=function(ct){lt(ct)};return n$9.useEffect(function(){return st.subscribe("doc",dt),function(){st.unsubscribe("doc",dt)}},[]),at}(_e),nt=i$9(_e).currentPage,rt=u$9(_e).numberOfPages,it=$||function(st){return n$9.createElement(n$9.Fragment,null,st.currentPage+1)};return tt?n$9.createElement(l$9,{doc:tt},function(st){var ot=st.length===rt&&rt>0?st[nt]:"";return it({currentPage:nt,numberOfPages:rt,pageLabel:ot})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(et){var $=et.isDisabled,_e=et.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:$,testId:"page-navigation__first-button",onClick:_e},n$9.createElement(g$5,null)),content:function(){return nt},offset:f$7})},p$6=function(et){var $=et.children,_e=et.store;return($||function(tt){return n$9.createElement(m$7,{isDisabled:tt.isDisabled,onClick:tt.onClick})})({isDisabled:i$9(_e).currentPage===0,onClick:function(){var tt=_e.get("jumpToPage");tt&&tt(0)}})},v$5=function(et){var $=et.isDisabled,_e=et.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:_e},nt)},d$7={left:0,top:8},P$2=function(et){var $=et.isDisabled,_e=et.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:$,testId:"page-navigation__last-button",onClick:_e},n$9.createElement(a$9,null)),content:function(){return nt},offset:d$7})},b$4=function(et){var $=et.children,_e=et.store,tt=i$9(_e).currentPage,nt=u$9(_e).numberOfPages;return($||function(rt){return n$9.createElement(P$2,{isDisabled:rt.isDisabled,onClick:rt.onClick})})({isDisabled:tt+1>=nt,onClick:function(){var rt=_e.get("jumpToPage");rt&&rt(nt-1)}})},E$4=function(et){var $=et.isDisabled,_e=et.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:_e},nt)},C$3={left:0,top:8},D=function(et){var $=et.isDisabled,_e=et.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:$,testId:"page-navigation__next-button",onClick:_e},n$9.createElement(r$9,null)),content:function(){return nt},offset:C$3})},k$3=function(et){var $=et.children,_e=et.store;return($||function(tt){return n$9.createElement(D,{onClick:tt.onClick,isDisabled:tt.isDisabled})})({isDisabled:i$9(_e).currentPage+1>=u$9(_e).numberOfPages,onClick:function(){var tt=_e.get("jumpToNextPage");tt&&tt()}})},T=function(et){var $=et.isDisabled,_e=et.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:_e},nt)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(et){var $=et.isDisabled,_e=et.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:$,testId:"page-navigation__previous-button",onClick:_e},n$9.createElement(x$1,null)),content:function(){return nt},offset:L})},j=function(et){var $=et.store;return(et.children||function(_e){return n$9.createElement(N,{isDisabled:_e.isDisabled,onClick:_e.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var _e=$.get("jumpToPreviousPage");_e&&_e()}})},I$2=function(et){var $=et.isDisabled,_e=et.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:_e},nt)},h$5=function(et){var $=et.children,_e=et.store,tt=u$9(_e).numberOfPages;return $?$({numberOfPages:tt}):n$9.createElement(n$9.Fragment,null,tt)},y$1=function(et){var $=et.containerRef,_e=et.numPages,tt=et.store,nt=i$9(tt).currentPage,rt=n$9.useRef(nt);rt.current=nt;var it=n$9.useRef(!1),st=function(){it.current=!0},ot=function(){it.current=!1},at=function(lt){var dt=$.current,ct=it.current||document.activeElement&&dt.contains(document.activeElement);if(dt&&ct){var pt,mt,ht=lt.altKey&&lt.key==="ArrowDown"||!lt.shiftKey&&!lt.altKey&&lt.key==="PageDown",gt=lt.altKey&&lt.key==="ArrowUp"||!lt.shiftKey&&!lt.altKey&&lt.key==="PageUp";if(ht)return lt.preventDefault(),pt=tt.get("jumpToPage"),mt=rt.current+1,void(pt&&mt<_e&&pt(mt));if(gt)return lt.preventDefault(),void function(){var vt=tt.get("jumpToPage"),_t=rt.current-1;vt&&_t>=0&&vt(_t)}();if(e$9.isMac()?lt.metaKey&&!lt.ctrlKey:lt.altKey)switch(lt.key){case"ArrowLeft":lt.preventDefault(),function(){var vt=tt.get("jumpToPreviousDestination");vt&&vt()}();break;case"ArrowRight":lt.preventDefault(),function(){var vt=tt.get("jumpToNextDestination");vt&&vt()}()}}};return n$9.useEffect(function(){var lt=$.current;if(lt)return document.addEventListener("keydown",at),lt.addEventListener("mouseenter",st),lt.addEventListener("mouseleave",ot),function(){document.removeEventListener("keydown",at),lt.removeEventListener("mouseenter",st),lt.removeEventListener("mouseleave",ot)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(et){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},et)},[]),_e=n$9.useMemo(function(){return e$9.createStore()},[]),tt=function(st){return n$9.createElement(p$6,o$9({},st,{store:_e}))},nt=function(st){return n$9.createElement(b$4,o$9({},st,{store:_e}))},rt=function(st){return n$9.createElement(k$3,o$9({},st,{store:_e}))},it=function(st){return n$9.createElement(j,o$9({},st,{store:_e}))};return{install:function(st){_e.update("jumpToDestination",st.jumpToDestination),_e.update("jumpToNextDestination",st.jumpToNextDestination),_e.update("jumpToNextPage",st.jumpToNextPage),_e.update("jumpToPage",st.jumpToPage),_e.update("jumpToPreviousDestination",st.jumpToPreviousDestination),_e.update("jumpToPreviousPage",st.jumpToPreviousPage)},renderViewer:function(st){var ot=st.slot;if(!$.enableShortcuts)return ot;var at={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:st.containerRef,numPages:st.doc.numPages,store:_e}),ot.children)};return o$9(o$9({},ot),at)},onDocumentLoad:function(st){_e.update("doc",st.doc),_e.update("numberOfPages",st.doc.numPages)},onViewerStateChange:function(st){return _e.update("currentPage",st.pageIndex),st},jumpToNextPage:function(){var st=_e.get("jumpToNextPage");st&&st()},jumpToPage:function(st){var ot=_e.get("jumpToPage");ot&&ot(st)},jumpToPreviousPage:function(){var st=_e.get("jumpToPreviousPage");st&&st()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:_e})},CurrentPageLabel:function(st){return n$9.createElement(s$7,o$9({},st,{store:_e}))},GoToFirstPage:tt,GoToFirstPageButton:function(){return n$9.createElement(tt,null,function(st){return n$9.createElement(m$7,o$9({},st))})},GoToFirstPageMenuItem:function(st){return n$9.createElement(tt,null,function(ot){return n$9.createElement(v$5,{isDisabled:ot.isDisabled,onClick:function(){ot.onClick(),st.onClick()}})})},GoToLastPage:nt,GoToLastPageButton:function(){return n$9.createElement(nt,null,function(st){return n$9.createElement(P$2,o$9({},st))})},GoToLastPageMenuItem:function(st){return n$9.createElement(nt,null,function(ot){return n$9.createElement(E$4,{isDisabled:ot.isDisabled,onClick:function(){ot.onClick(),st.onClick()}})})},GoToNextPage:rt,GoToNextPageButton:function(){return n$9.createElement(rt,null,function(st){return n$9.createElement(D,o$9({},st))})},GoToNextPageMenuItem:function(st){return n$9.createElement(rt,null,function(ot){return n$9.createElement(T,{isDisabled:ot.isDisabled,onClick:function(){ot.onClick(),st.onClick()}})})},GoToPreviousPage:it,GoToPreviousPageButton:function(){return n$9.createElement(it,null,function(st){return n$9.createElement(N,o$9({},st))})},GoToPreviousPageMenuItem:function(st){return n$9.createElement(it,null,function(ot){return n$9.createElement(I$2,{isDisabled:ot.isDisabled,onClick:function(){ot.onClick(),st.onClick()}})})},NumberOfPages:function(st){return n$9.createElement(h$5,o$9({},st,{store:_e}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=pageNavigation_min})(lib$7);var libExports$6={},lib$6={get exports(){return libExports$6},set exports(et){libExports$6=et}},print_min={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(et){var $=et.enableShortcuts,_e=et.onClick,tt=a$8.useContext(e$8.LocalizationContext).l10n,nt=tt&&tt.print?tt.print.print:"Print",rt=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"print__button",onClick:_e},a$8.createElement(i$8,null)),content:function(){return nt},offset:u$8})};(function(et){et.CheckingPermission="CheckingPermission",et.Inactive="Inactive",et.Preparing="Preparing",et.Cancelled="Cancelled",et.Ready="Ready"})(o$8||(o$8={}));var l$8=function(et){var $=et.children,_e=et.enableShortcuts,tt=et.store;return($||s$6)({enableShortcuts:_e,onClick:function(){tt.update("printStatus",o$8.CheckingPermission)}})},p$5=function(et){var $=et.doc,_e=et.store,tt=a$8.useContext(e$8.LocalizationContext).l10n,nt=a$8.useState(!0),rt=nt[0],it=nt[1];return a$8.useEffect(function(){$.getPermissions().then(function(st){st===null||st.includes(4)||st.includes(2048)?_e.update("printStatus",o$8.Preparing):it(!1)})},[]),rt?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(st){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},tt&&tt.print?tt.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){st(),_e.update("printStatus",o$8.Cancelled)}},tt&&tt.print?tt.print.close:"Close")))},isOpened:!0})},m$6=function(et){var $=et.numLoadedPages,_e=et.numPages,tt=et.onCancel,nt=a$8.useContext(e$8.LocalizationContext).l10n,rt=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,it=Math.floor(100*$/_e);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":rt})},a$8.createElement("div",{className:"rpv-print__progress-message"},nt&&nt.print?nt.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:it})),a$8.createElement(e$8.Button,{onClick:tt},nt&&nt.print?nt.print.cancel:"Cancel")))},d$6=function(et){var $=et.canvas,_e=et.page,tt=et.pageHeight,nt=et.pageIndex,rt=et.pageWidth,it=et.rotation,st=et.onLoad,ot=e$8.useIsMounted(),at=a$8.useRef(),lt=a$8.useState(""),dt=lt[0],ct=lt[1],pt=a$8.useMemo(function(){return typeof process<"u"&&{}.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var mt=at.current;mt&&mt.cancel();var ht=150/72;$.height=Math.floor(tt*ht),$.width=Math.floor(rt*ht);var gt=$.getContext("2d");gt.save(),gt.fillStyle="rgb(255, 255, 255)",gt.fillRect(0,0,$.width,$.height),gt.restore();var vt=_e.getViewport({rotation:it,scale:1});at.current=_e.render({canvasContext:gt,intent:"print",transform:[ht,0,0,ht,0,0],viewport:vt}),at.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(_t){ot.current&&ct(URL.createObjectURL(_t)),pt&&st()}):(ot.current&&ct($.toDataURL()),pt&&st())},function(){})},[]),dt&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(nt),src:dt,onLoad:function(){pt||st()}}))},f$6=function(et){var $=et.canvas,_e=et.doc,tt=et.pageIndex,nt=et.pageRotation,rt=et.pageSize,it=et.rotation,st=et.shouldRender,ot=et.onLoad,at=e$8.useIsMounted(),lt=a$8.useState(null),dt=lt[0],ct=lt[1],pt=Math.abs(it+nt)%180==0;a$8.useEffect(function(){st&&e$8.getPage(_e,tt).then(function(ht){at.current&&ct(ht)})},[st]);var mt=(rt.rotation+it+nt)%360;return dt&&a$8.createElement(d$6,{canvas:$,page:dt,pageHeight:pt?rt.pageHeight:rt.pageWidth,pageIndex:tt,pageWidth:pt?rt.pageWidth:rt.pageHeight,rotation:mt,onLoad:ot})},g$4=function(et){var $=et.doc,_e=et.numLoadedPages,tt=et.pagesRotation,nt=et.pageSizes,rt=et.printPages,it=et.printStatus,st=et.rotation,ot=et.onCancel,at=et.onLoad,lt=a$8.useMemo(function(){return document.createElement("canvas")},[]),dt=a$8.useMemo(function(){var mt=document.querySelector(".rpv-print__zone");if(mt)return mt;var ht=document.createElement("div");return ht.classList.add("rpv-print__zone"),ht.setAttribute("data-testid","print__zone"),document.body.appendChild(ht),ht},[]);a$8.useEffect(function(){it===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var mt=function(){if(it===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var ht=document.querySelectorAll(".rpv-print__zone");ht&&ht.forEach(function(gt){gt.parentElement.removeChild(gt)}),lt.height=0,lt.width=0,document.removeEventListener("mousemove",mt),ot()}};return document.addEventListener("mousemove",mt),function(){return document.removeEventListener("mousemove",mt)}},[it]);var ct=nt[0].pageHeight,pt=nt[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,rt.map(function(mt,ht){return a$8.createElement(f$6,{key:mt,canvas:lt,doc:$,pageIndex:mt,pageRotation:tt.has(mt)?tt.get(mt):0,pageSize:nt[mt],rotation:st,shouldRender:ht===_e,onLoad:at})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(pt,"pt ").concat(ct,"pt }")}})),dt)},v$4=function(et){var $=et.doc,_e=et.pagesRotation,tt=et.pageSizes,nt=et.renderProgressBar,rt=et.rotation,it=et.setPages,st=et.store,ot=a$8.useState(o$8.Inactive),at=ot[0],lt=ot[1],dt=a$8.useState(0),ct=dt[0],pt=dt[1],mt=a$8.useMemo(function(){var _t=$.numPages;return it($).filter(function(yt){return yt>=0&&yt<_t})},[$,it]),ht=mt.length,gt=function(){pt(0),lt(o$8.Inactive)},vt=function(_t){return lt(_t)};return a$8.useEffect(function(){return st.subscribe("printStatus",vt),function(){st.unsubscribe("printStatus",vt)}},[]),a$8.createElement(a$8.Fragment,null,at===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:st}),at===o$8.Preparing&&(nt?nt(ct,ht,gt):a$8.createElement(m$6,{numLoadedPages:ct,numPages:ht,onCancel:gt})),(at===o$8.Preparing||at===o$8.Ready)&&ct<=ht&&a$8.createElement(g$4,{doc:$,numLoadedPages:ct,pagesRotation:_e,pageSizes:tt,printPages:mt,printStatus:at,rotation:rt,onCancel:gt,onLoad:function(){var _t=ct+1;_t<=ht&&(pt(_t),_t===ht&&lt(o$8.Ready))}}))},h$4=function(et){var $=et.onClick,_e=a$8.useContext(e$8.LocalizationContext).l10n,tt=_e&&_e.print?_e.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},tt)},E$3=function(et){var $=et.containerRef,_e=et.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&nt.key==="p"&&(e$8.isMac()?nt.metaKey:nt.ctrlKey)){var rt=$.current;rt&&document.activeElement&&rt.contains(document.activeElement)&&(nt.preventDefault(),_e.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(et){return Array(et.numPages).fill(0).map(function($,_e){return _e})},print_min.getCustomPagesNumbers=function(et){return function($){var _e,tt=[];return et.replace(/\s+/g,"").split(",").forEach(function(nt){var rt,it,st=nt.split("-").map(function(ot){return parseInt(ot,10)}).filter(function(ot){return Number.isInteger(ot)});st.length===1?tt.push(st[0]-1):st.length===2&&tt.push.apply(tt,(rt=st[0]-1,it=st[1]-1,Array(it-rt+1).fill(0).map(function(ot,at){return rt+at})))}),(_e=tt,_e.filter(function(nt){return _e.indexOf(nt)===_e.lastIndexOf(nt)})).filter(function(nt){return nt>=0&&nt<$.numPages})}},print_min.getEvenPagesNumbers=function(et){return Array(et.numPages).fill(0).map(function($,_e){return _e}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(et){return Array(et.numPages).fill(0).map(function($,_e){return _e}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(et){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(nt){return Array(nt.numPages).fill(0).map(function(rt,it){return it})}},et)},[]),_e=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),tt=function(nt){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},nt,{store:_e}))};return{print:function(){_e.update("printStatus",o$8.CheckingPermission)},renderViewer:function(nt){var rt=nt.slot,it={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:nt.containerRef,store:_e}),a$8.createElement(v$4,{doc:nt.doc,pagesRotation:nt.pagesRotation,pageSizes:nt.pageSizes,renderProgressBar:et==null?void 0:et.renderProgressBar,rotation:nt.rotation,setPages:$.setPages,store:_e}),rt.children)};return c$8(c$8({},rt),it)},Print:tt,PrintButton:function(){return a$8.createElement(tt,null,function(nt){return a$8.createElement(s$6,c$8({},nt))})},PrintMenuItem:function(nt){return a$8.createElement(tt,null,function(rt){return a$8.createElement(h$4,{onClick:function(){rt.onClick(),nt.onClick()}})})},setPages:function(nt){$.setPages=nt}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=print_min})(lib$6);var libExports$5={},lib$5={get exports(){return libExports$5},set exports(et){libExports$5=et}},properties_min={},e$7=libExports$h;function t$7(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},o$7.apply(this,arguments)},a$7=function(et){var $=et.doc,_e=et.render,tt=r$7.useState(),nt=tt[0],rt=tt[1];return r$7.useEffect(function(){$.getMetadata().then(function(it){return Promise.resolve(it)}).then(function(it){return $.getDownloadInfo().then(function(st){return Promise.resolve({fileName:it.contentDispositionFilename||"",info:it.info,length:st.length})})}).then(function(it){rt(it)})},[]),nt?_e(nt):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(et){var $=et.label,_e=et.value,tt=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":tt})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},_e||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(et,$,_e,tt){var nt=parseInt(et,10);return nt>=$&&nt<=_e?nt:tt},p$4=function(et){var $=et.doc,_e=et.fileName,tt=et.onToggle,nt=r$7.useContext(e$7.LocalizationContext).l10n,rt=function(it){var st=function(ot){var at=l$7.exec(ot);if(!at)return null;var lt=parseInt(at[1],10),dt=c$7(at[2],1,12,1)-1,ct=c$7(at[3],1,31,1),pt=c$7(at[4],0,23,0),mt=c$7(at[5],0,59,0),ht=c$7(at[6],0,59,0),gt=at[7]||"Z",vt=c$7(at[8],0,23,0),_t=c$7(at[9],0,59,0);switch(gt){case"-":pt+=vt,mt+=_t;break;case"+":pt-=vt,mt-=_t}return new Date(Date.UTC(lt,dt,ct,pt,mt,ht))}(it);return st?"".concat(st.toLocaleDateString(),", ").concat(st.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(it){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.fileName:"File name",value:it.fileName||(at=_e,lt=at.split("/").pop(),lt?lt.split("#")[0].split("?")[0]:at)}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.fileSize:"File size",value:(st=it.length,ot=Math.floor(Math.log(st)/Math.log(1024)),"".concat((st/Math.pow(1024,ot)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][ot]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.title:"Title",value:it.info.Title}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.author:"Author",value:it.info.Author}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.subject:"Subject",value:it.info.Subject}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.keywords:"Keywords",value:it.info.Keywords}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.creator:"Creator",value:it.info.Creator}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.creationDate:"Creation date",value:rt(it.info.CreationDate)}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.modificationDate:"Modification date",value:rt(it.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.pdfProducer:"PDF producer",value:it.info.Producer}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.pdfVersion:"PDF version",value:it.info.PDFFormatVersion}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.pageCount:"Page count",value:"".concat($.numPages)})));var st,ot,at,lt}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:tt},nt&&nt.properties?nt.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(et){var $=et.onClick,_e=r$7.useContext(e$7.LocalizationContext).l10n,tt=_e&&_e.properties?_e.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:tt,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return tt},offset:s$5})},m$5=function(et){var $=et.children,_e=et.store,tt=function(it){var st=r$7.useState(it.get("doc")),ot=st[0],at=st[1],lt=function(dt){at(dt)};return r$7.useEffect(function(){return it.subscribe("doc",lt),function(){it.unsubscribe("doc",lt)}},[]),{currentDoc:ot}}(_e).currentDoc,nt=_e.get("fileName")||"",rt=$||function(it){return r$7.createElement(u$7,o$7({},it))};return tt?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(it){return rt({onClick:it})},content:function(it){return r$7.createElement(p$4,{doc:tt,fileName:nt,onToggle:it})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(et){var $=et.onClick,_e=r$7.useContext(e$7.LocalizationContext).l10n,tt=_e&&_e.properties?_e.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},tt)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var et=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(_e){return r$7.createElement(m$5,o$7({},_e,{store:et}))};return{onDocumentLoad:function(_e){et.update("doc",_e.doc)},onViewerStateChange:function(_e){return et.update("fileName",_e.file.name),_e},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:et})},ShowPropertiesMenuItem:function(_e){return r$7.createElement($,null,function(tt){return r$7.createElement(f$5,o$7({},tt))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=properties_min})(lib$5);var libExports$4={},lib$4={get exports(){return libExports$4},set exports(et){libExports$4=et}},rotate_min={},t$6=libExports$h;function e$6(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(et){var $=et.direction,_e=et.onClick,tt=r$6.useContext(t$6.LocalizationContext).l10n,nt=tt&&tt.rotate?tt.rotate.rotateBackward:"Rotate counterclockwise",rt=tt&&tt.rotate?tt.rotate.rotateForward:"Rotate clockwise",it=$===t$6.RotateDirection.Backward?nt:rt,st=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:it,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:_e},st),content:function(){return it},offset:a$6})},u$6=function(et){var $=et.children,_e=et.direction,tt=et.store;return($||function(nt){return r$6.createElement(i$6,{direction:nt.direction,onClick:nt.onClick})})({direction:_e,onClick:function(){var nt=tt.get("rotate");nt&&nt(_e)}})},l$6=function(et){var $=et.direction,_e=et.onClick,tt=r$6.useContext(t$6.LocalizationContext).l10n,nt=tt&&tt.rotate?tt.rotate.rotateBackward:"Rotate counterclockwise",rt=tt&&tt.rotate?tt.rotate.rotateForward:"Rotate clockwise",it=$===t$6.RotateDirection.Backward?nt:rt,st=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:st,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:_e},it)},d$5=function(et){var $=et.children,_e=et.store;return $({onRotatePage:function(tt,nt){var rt=_e.get("rotatePage");rt&&rt(tt,nt)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var et=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(_e){return r$6.createElement(u$6,c$6({},_e,{store:et}))};return{install:function(_e){et.update("rotate",_e.rotate),et.update("rotatePage",_e.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(_e){return r$6.createElement(i$6,c$6({},_e))})},RotateBackwardMenuItem:function(_e){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(tt){return r$6.createElement(l$6,{direction:tt.direction,onClick:function(){tt.onClick(),_e.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(_e){return r$6.createElement(i$6,c$6({},_e))})},RotateForwardMenuItem:function(_e){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(tt){return r$6.createElement(l$6,{direction:tt.direction,onClick:function(){tt.onClick(),_e.onClick()}})})},RotatePage:function(_e){return r$6.createElement(d$5,c$6({},_e,{store:et}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=rotate_min})(lib$4);var libExports$3={},lib$3={get exports(){return libExports$3},set exports(et){libExports$3=et}},scrollMode_min={},e$5=libExports$h;function o$5(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},i$5.apply(this,arguments)},a$5=function(et,$){et.get("switchScrollMode")($);var _e=et.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||_e===e$5.ViewMode.SinglePage||et.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(et){var $=et.children,_e=et.mode,tt=et.onClick,nt=t$5.useContext(e$5.LocalizationContext).l10n,rt="",it=t$5.createElement(d$4,null);switch(_e){case e$5.ScrollMode.Horizontal:rt=nt&&nt.scrollMode?nt.scrollMode.horizontalScrolling:"Horizontal scrolling",it=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:rt=nt&&nt.scrollMode?nt.scrollMode.pageScrolling:"Page scrolling",it=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:rt=nt&&nt.scrollMode?nt.scrollMode.wrappedScrolling:"Wrapped scrolling",it=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:rt=nt&&nt.scrollMode?nt.scrollMode.verticalScrolling:"Vertical scrolling",it=t$5.createElement(d$4,null)}return $({icon:it,label:rt,onClick:tt})},m$4={left:0,top:8},M$2=function(et){var $=et.isDisabled,_e=et.isSelected,tt=et.mode,nt=et.onClick,rt="";switch(tt){case e$5.ScrollMode.Horizontal:rt="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:rt="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:rt="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:rt="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:it.label,isDisabled:$,isSelected:_e,testId:rt,onClick:it.onClick},it.icon),content:function(){return it.label},offset:m$4})})},f$4=function(et){var $=t$5.useState(et.get("scrollMode")||e$5.ScrollMode.Vertical),_e=$[0],tt=$[1],nt=function(rt){tt(rt)};return t$5.useEffect(function(){return et.subscribe("scrollMode",nt),function(){et.unsubscribe("scrollMode",nt)}},[]),{scrollMode:_e}},w$1=function(et){var $=t$5.useState(et.get("viewMode")||e$5.ViewMode.SinglePage),_e=$[0],tt=$[1],nt=function(rt){tt(rt)};return t$5.useEffect(function(){return et.subscribe("viewMode",nt),function(){et.unsubscribe("viewMode",nt)}},[]),{viewMode:_e}},S$3=function(et){var $=et.children,_e=et.mode,tt=et.store,nt=w$1(tt).viewMode,rt=f$4(tt).scrollMode===_e,it=(_e===e$5.ScrollMode.Horizontal||_e===e$5.ScrollMode.Wrapped)&&nt!==e$5.ViewMode.SinglePage;return($||function(st){return t$5.createElement(M$2,{isDisabled:it,isSelected:rt,mode:st.mode,onClick:st.onClick})})({isDisabled:it,isSelected:rt,mode:_e,onClick:function(){a$5(tt,_e)}})},g$3=function(et){var $=et.isDisabled,_e=et.isSelected,tt=et.mode,nt=et.onClick,rt="";switch(tt){case e$5.ScrollMode.Horizontal:rt="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:rt="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:rt="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:rt="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.MenuItem,{checked:_e,icon:it.icon,isDisabled:$,testId:rt,onClick:it.onClick},it.label)})},h$3=function(et,$){et.get("switchViewMode")($);var _e=et.get("scrollMode");_e!==e$5.ScrollMode.Horizontal&&_e!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||et.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(et){var $=et.children,_e=et.mode,tt=et.onClick,nt=t$5.useContext(e$5.LocalizationContext).l10n,rt="",it=t$5.createElement(r$5,null);switch(_e){case e$5.ViewMode.DualPage:rt=nt&&nt.scrollMode?nt.scrollMode.dualPage:"Dual page",it=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:rt=nt&&nt.scrollMode?nt.scrollMode.dualPageCover:"Dual page with cover",it=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:rt=nt&&nt.scrollMode?nt.scrollMode.singlePage:"Single page",it=t$5.createElement(r$5,null)}return $({icon:it,label:rt,onClick:tt})},p$3={left:0,top:8},v$3=function(et){var $=et.isDisabled,_e=et.isSelected,tt=et.mode,nt=et.onClick,rt="";switch(tt){case e$5.ViewMode.DualPage:rt="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:rt="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:rt="view-mode__single-button"}return t$5.createElement(b$3,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:it.label,isDisabled:$,isSelected:_e,testId:rt,onClick:it.onClick},it.icon),content:function(){return it.label},offset:p$3})})},k$2=function(et){var $=et.children,_e=et.mode,tt=et.store,nt=w$1(tt).viewMode,rt=f$4(tt).scrollMode,it=nt===_e,st=(rt===e$5.ScrollMode.Horizontal||rt===e$5.ScrollMode.Wrapped)&&_e!==e$5.ViewMode.SinglePage;return($||function(ot){return t$5.createElement(v$3,{isDisabled:st,isSelected:it,mode:ot.mode,onClick:ot.onClick})})({isDisabled:st,isSelected:it,mode:_e,onClick:function(){h$3(tt,_e)}})},C$2=function(et){var $=et.isDisabled,_e=et.isSelected,tt=et.mode,nt=et.onClick,rt="";switch(tt){case e$5.ViewMode.DualPage:rt="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:rt="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:rt="view-mode__single-menu"}return t$5.createElement(b$3,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.MenuItem,{checked:_e,icon:it.icon,isDisabled:$,testId:rt,onClick:it.onClick},it.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var et=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(tt){return t$5.createElement(S$3,i$5({},tt,{store:et}))},_e=function(tt){return t$5.createElement(k$2,i$5({},tt,{store:et}))};return{install:function(tt){et.update("switchScrollMode",tt.switchScrollMode),et.update("switchViewMode",tt.switchViewMode)},onViewerStateChange:function(tt){return et.update("scrollMode",tt.scrollMode),et.update("viewMode",tt.viewMode),tt},switchScrollMode:function(tt){a$5(et,tt)},switchViewMode:function(tt){h$3(et,tt)},SwitchScrollMode:$,SwitchScrollModeButton:function(tt){return t$5.createElement($,{mode:tt.mode},function(nt){return t$5.createElement(M$2,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick()}})})},SwitchScrollModeMenuItem:function(tt){return t$5.createElement($,{mode:tt.mode},function(nt){return t$5.createElement(g$3,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick(),tt.onClick()}})})},SwitchViewMode:_e,SwitchViewModeButton:function(tt){return t$5.createElement(_e,{mode:tt.mode},function(nt){return t$5.createElement(v$3,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick()}})})},SwitchViewModeMenuItem:function(tt){return t$5.createElement(_e,{mode:tt.mode},function(nt){return t$5.createElement(C$2,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick(),tt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=scrollMode_min})(lib$3);var libExports$2={},lib$2={get exports(){return libExports$2},set exports(et){libExports$2=et}},search_min={},e$4=libExports$h;function t$4(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(et){return{left:"".concat(et.left,"%"),top:"".concat(et.top,"%"),height:"".concat(et.height,"%"),width:"".concat(et.width,"%")}},s$3=function(et){var $=et.index,_e=et.area,tt=et.onHighlightKeyword,nt=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var rt=nt.current;tt&&rt&&tt({highlightEle:rt,keyword:_e.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:nt,style:i$4(_e),title:_e.keywordStr.trim()})},l$4=function(et){var $=et.parentNode;$&&$.removeChild(et)},h$2=function(et){var $=et.parentNode;if($){var _e=document.createRange();_e.selectNodeContents(et),function(tt,nt){l$4(tt);var rt=nt.parentNode;rt&&rt.insertBefore(tt,nt),l$4(nt)}(_e.extractContents(),et),$.normalize()}},d$3=function(et,$){return et.top<$.top?-1:et.top>$.top?1:et.left<$.left?-1:et.left>$.left?1:0},f$3=function(et){var $=et.numPages,_e=et.pageIndex,tt=et.renderHighlights,nt=et.store,rt=et.onHighlightKeyword,it=r$4.useRef(),st=r$4.useCallback(function(It){return r$4.createElement(r$4.Fragment,null,It.highlightAreas.map(function(Kt,Ut){return r$4.createElement(s$3,{index:Ut,key:Ut,area:Kt,onHighlightKeyword:rt})}))},[]),ot=tt||st,at=r$4.useState(nt.get("matchPosition")),lt=at[0],dt=at[1],ct=r$4.useState(nt.get("keyword")||[u$4]),pt=ct[0],mt=ct[1],ht=r$4.useState({pageIndex:_e,scale:1,status:e$4.LayerRenderStatus.PreRender}),gt=ht[0],vt=ht[1],_t=r$4.useRef(null),yt=r$4.useRef([]),xt=r$4.useState([]),At=xt[0],Ct=xt[1],Pt=function(){return!0},bt=r$4.useCallback(function(){return nt.get("targetPageFilter")||Pt},[nt.get("targetPageFilter")]),Mt=function(It){var Kt=yt.current;if(Kt.length===0)return[];var Ut=[],Qt=[].slice.call(It.querySelectorAll(".rpv-core__text-layer-text")),Dt=Kt.map(function(qt){return qt.char}).join("");return pt.forEach(function(qt){var Jt=qt.keyword;if(Jt.trim()){for(var on,tn=qt.regExp.flags.indexOf("g")===-1?new RegExp(qt.regExp,"".concat(qt.regExp.flags,"g")):qt.regExp,yn=[];(on=tn.exec(Dt))!==null;)yn.push({keyword:tn,startIndex:on.index,endIndex:tn.lastIndex});yn.map(function(Yt){return{keyword:Yt.keyword,indexes:Kt.slice(Yt.startIndex,Yt.endIndex)}}).forEach(function(Yt){var kt=Yt.indexes.reduce(function(Bt,Ht){return Bt[Ht.spanIndex]=(Bt[Ht.spanIndex]||[]).concat([Ht]),Bt},{});Object.values(kt).forEach(function(Bt){if(Bt.length!==1||Bt[0].char.trim()!==""){var Ht=qt.wholeWords?Bt.slice(1,-1):Bt,wt=function(Lt,Ot,$t,Vt,Zt){var sn=document.createRange(),hn=Vt.firstChild;if(!hn||hn.nodeType!==Node.TEXT_NODE)return null;var ln=hn.textContent.length,xn=Zt[0].charIndexInSpan,un=Zt.length===1?xn:Zt[Zt.length-1].charIndexInSpan;if(xn>ln||un+1>ln)return null;sn.setStart(hn,xn),sn.setEnd(hn,un+1);var fn=document.createElement("span");sn.surroundContents(fn);var Gn=fn.getBoundingClientRect(),Xn=$t.getBoundingClientRect(),nn=Xn.height,jt=Xn.width,Mn=100*(Gn.left-Xn.left)/jt,cn=100*(Gn.top-Xn.top)/nn,_n=100*Gn.height/nn,Un=100*Gn.width/jt;return h$2(fn),{keyword:Ot,keywordStr:Lt,numPages:$,pageIndex:_e,left:Mn,top:cn,height:_n,width:Un,pageHeight:nn,pageWidth:jt}}(Jt,Yt.keyword,It,Qt[Ht[0].spanIndex],Ht);wt&&Ut.push(wt)}})})}}),Ut.sort(d$3)},Tt=function(It){It&&It.length>0&&mt(It)},Ft=function(It){return dt(It)},Gt=function(It){if(It.has(_e)){var Kt=It.get(_e);Kt&&vt({ele:Kt.ele,pageIndex:_e,scale:Kt.scale,status:Kt.status})}},Wt=function(){return pt.length===0||pt.length===1&&pt[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Wt()&&gt.status===e$4.LayerRenderStatus.DidRender&&!yt.current.length){var It=gt.ele,Kt=[].slice.call(It.querySelectorAll(".rpv-core__text-layer-text")).map(function(Ut){return Ut.textContent}).reduce(function(Ut,Qt,Dt){return Ut.concat(Qt.split("").map(function(qt,Jt){return{char:qt,charIndexInSpan:Jt,spanIndex:Dt}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);yt.current=Kt}},[pt,gt.status]),r$4.useEffect(function(){if(!Wt()&&gt.ele&&gt.status===e$4.LayerRenderStatus.DidRender&&bt()({pageIndex:_e,numPages:$})){var It=gt.ele,Kt=Mt(It);Ct(Kt)}},[pt,lt,gt.status,yt.current]),r$4.useEffect(function(){Wt()&&gt.ele&&gt.status===e$4.LayerRenderStatus.DidRender&&Ct([])},[pt,gt.status]),r$4.useEffect(function(){if(At.length!==0){var It=it.current;if(lt.pageIndex===_e&&It&&gt.status===e$4.LayerRenderStatus.DidRender){var Kt=It.querySelector('.rpv-search__highlight[data-index="'.concat(lt.matchIndex,'"]'));if(Kt){var Ut=function(Jt,on){for(var tn=Jt.offsetTop,yn=Jt.offsetLeft,Yt=Jt.parentElement;Yt&&Yt!==on;)tn+=Yt.offsetTop,yn+=Yt.offsetLeft,Yt=Yt.parentElement;return{left:yn,top:tn}}(Kt,It),Qt=Ut.left,Dt=Ut.top,qt=nt.get("jumpToDestination");qt&&(qt({pageIndex:_e,bottomOffset:(It.getBoundingClientRect().height-Dt)/gt.scale,leftOffset:Qt/gt.scale,scaleTo:gt.scale}),_t.current&&_t.current.classList.remove("rpv-search__highlight--current"),_t.current=Kt,Kt.classList.add("rpv-search__highlight--current"))}}}},[At,lt]),r$4.useEffect(function(){return nt.subscribe("keyword",Tt),nt.subscribe("matchPosition",Ft),nt.subscribe("renderStatus",Gt),function(){nt.unsubscribe("keyword",Tt),nt.unsubscribe("matchPosition",Ft),nt.unsubscribe("renderStatus",Gt)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(_e),ref:it},ot({getCssProperties:i$4,highlightAreas:At}))},p$2=function(et){var $,_e=et.wholeWords?" ".concat(et.keyword," "):et.keyword,tt=et.matchCase?"g":"gi";return{keyword:et.keyword,regExp:new RegExp(($=_e,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),tt),wholeWords:et.wholeWords||!1}},g$2=function(et,$,_e){return et instanceof RegExp?{keyword:et.source,regExp:et,wholeWords:_e||!1}:typeof et=="string"?et===""?u$4:p$2({keyword:et,matchCase:$||!1,wholeWords:_e||!1}):($!==void 0&&(et.matchCase=$),_e!==void 0&&(et.wholeWords=_e),p$2(et))},m$3=function(et){var $,_e=et.get("initialKeyword"),tt=r$4.useMemo(function(){if(_e&&_e.length===1){var Ft=g$2(_e[0]);return{matchCase:Ft.regExp.flags.indexOf("i")===-1,wholeWords:Ft.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),nt=function(Ft){var Gt=r$4.useRef(Ft.get("doc")),Wt=function(It){Gt.current=It};return r$4.useEffect(function(){return Ft.subscribe("doc",Wt),function(){Ft.unsubscribe("doc",Wt)}},[]),Gt}(et),rt=r$4.useState(_e),it=rt[0],st=rt[1],ot=r$4.useState([]),at=ot[0],lt=ot[1],dt=r$4.useState(0),ct=dt[0],pt=dt[1],mt=r$4.useState(tt.matchCase),ht=mt[0],gt=mt[1],vt=r$4.useRef([]),_t=r$4.useState(tt.wholeWords),yt=_t[0],xt=_t[1],At=function(){return!0},Ct=r$4.useCallback(function(){return et.get("targetPageFilter")||At},[et.get("targetPageFilter")]),Pt=function(Ft){var Gt=at.length;if(it.length===0||Gt===0)return null;var Wt=Ft===Gt+1?1:Math.max(1,Math.min(Gt,Ft));return pt(Wt),Mt(at[Wt-1])},bt=function(Ft){return st(Ft===""?[]:[Ft])},Mt=function(Ft){var Gt=et.get("jumpToPage");return Gt&&Gt(Ft.pageIndex),et.update("matchPosition",{matchIndex:Ft.matchIndex,pageIndex:Ft.pageIndex}),Ft},Tt=function(Ft,Gt,Wt){var It=nt.current;if(!It)return Promise.resolve([]);var Kt=It.numPages,Ut=Ft.map(function(Qt){return g$2(Qt,Gt,Wt)});return et.update("keyword",Ut),pt(0),lt([]),new Promise(function(Qt,Dt){var qt=vt.current.length===0?function(){var Jt=nt.current;if(!Jt)return Promise.resolve([]);var on=Array(Jt.numPages).fill(0).map(function(tn,yn){return e$4.getPage(Jt,yn).then(function(Yt){return Yt.getTextContent()}).then(function(Yt){var kt=Yt.items.map(function(Bt){return Bt.str||""}).join("");return Promise.resolve({pageContent:kt,pageIndex:yn})})});return Promise.all(on).then(function(tn){return tn.sort(function(yn,Yt){return yn.pageIndex-Yt.pageIndex}),Promise.resolve(tn.map(function(yn){return yn.pageContent}))})}().then(function(Jt){return vt.current=Jt,Promise.resolve(Jt)}):Promise.resolve(vt.current);qt.then(function(Jt){var on=[];Jt.forEach(function(tn,yn){Ct()({pageIndex:yn,numPages:Kt})&&Ut.forEach(function(Yt){for(var kt,Bt=0;(kt=Yt.regExp.exec(tn))!==null;)on.push({keyword:Yt.regExp,matchIndex:Bt,pageIndex:yn,pageText:tn,startIndex:kt.index,endIndex:Yt.regExp.lastIndex}),Bt++})}),lt(on),on.length>0&&(pt(1),Mt(on[0])),Qt(on)})})};return r$4.useEffect(function(){vt.current=[]},[nt.current]),{clearKeyword:function(){et.update("keyword",[u$4]),bt(""),pt(0),lt([]),gt(!1),xt(!1)},changeMatchCase:function(Ft){gt(Ft),it.length>0&&Tt(it,Ft,yt)},changeWholeWords:function(Ft){xt(Ft),it.length>0&&Tt(it,ht,Ft)},currentMatch:ct,jumpToMatch:Pt,jumpToNextMatch:function(){return Pt(ct+1)},jumpToPreviousMatch:function(){return Pt(ct-1)},keywords:it,matchCase:ht,numberOfMatches:at.length,wholeWords:yt,search:function(){return Tt(it,ht,yt)},searchFor:Tt,setKeywords:st,keyword:it.length===0?"":($=it[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:bt,setTargetPages:function(Ft){et.update("targetPageFilter",Ft)}}},v$2=function(et){var $=et.children,_e=et.store,tt=m$3(_e),nt=r$4.useState(!1),rt=nt[0],it=nt[1],st=function(ot){return it(!0)};return r$4.useEffect(function(){return _e.subscribe("doc",st),function(){_e.unsubscribe("doc",st)}},[]),$(c$4(c$4({},tt),{isDocumentLoaded:rt}))},x=function(et){var $=et.containerRef,_e=et.store,tt=r$4.useRef(!1),nt=function(){tt.current=!0},rt=function(){tt.current=!1},it=function(st){var ot=$.current;ot&&(st.shiftKey||st.altKey||st.key!=="f"||(e$4.isMac()?st.metaKey&&!st.ctrlKey:st.ctrlKey)&&(tt.current||document.activeElement&&ot.contains(document.activeElement))&&(st.preventDefault(),_e.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var st=$.current;if(st)return document.addEventListener("keydown",it),st.addEventListener("mouseenter",nt),st.addEventListener("mouseleave",rt),function(){document.removeEventListener("keydown",it),st.removeEventListener("mouseenter",nt),st.removeEventListener("mouseleave",rt)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(et){var $=et.store,_e=et.onToggle,tt=r$4.useContext(e$4.LocalizationContext).l10n,nt=r$4.useContext(e$4.ThemeContext).direction,rt=r$4.useState(!1),it=rt[0],st=rt[1],ot=r$4.useState(!1),at=ot[0],lt=ot[1],dt=nt===e$4.TextDirection.RightToLeft,ct=m$3($),pt=ct.clearKeyword,mt=ct.changeMatchCase,ht=ct.changeWholeWords,gt=ct.currentMatch,vt=ct.jumpToNextMatch,_t=ct.jumpToPreviousMatch,yt=ct.keyword,xt=ct.matchCase,At=ct.numberOfMatches,Ct=ct.wholeWords,Pt=ct.search,bt=ct.setKeyword,Mt=function(It){st(!0),Pt().then(function(Kt){st(!1),lt(!0),It&&It()})};r$4.useEffect(function(){var It=$.get("initialKeyword");It&&It.length===1&&yt&&Mt(function(){$.update("initialKeyword",[])})},[]);var Tt=tt&&tt.search?tt.search.enterToSearch:"Enter to search",Ft=tt&&tt.search?tt.search.previousMatch:"Previous match",Gt=tt&&tt.search?tt.search.nextMatch:"Next match",Wt=tt&&tt.search?tt.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:Tt,autoFocus:!0,placeholder:Tt,type:"text",value:yt,onChange:function(It){lt(!1),bt(It)},onKeyDown:function(It){It.key==="Enter"&&yt&&(at?vt():Mt())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!dt,"rpv-search__popover-counter--rtl":dt})},it&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!it&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},gt,"/",At))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:xt,type:"checkbox",onChange:function(It){lt(!1),mt(It.target.checked)}})," ",tt&&tt.search?tt.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:Ct,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(It){lt(!1),ht(It.target.checked)}})," ",tt&&tt.search?tt.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:dt?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Ft,isDisabled:gt<=1,onClick:_t},r$4.createElement(o$4,null)),content:function(){return Ft},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Gt,isDisabled:gt>At-1,onClick:vt},r$4.createElement(n$4,null)),content:function(){return Gt},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!dt,"rpv-search__popover-footer-button--rtl":dt})},r$4.createElement(e$4.Button,{onClick:function(){_e(),pt()}},Wt))))},w=function(et){var $=et.children,_e=et.onClick,tt=r$4.useContext(e$4.LocalizationContext).l10n,nt=tt&&tt.search?tt.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:nt,onClick:_e})},b$2={left:0,top:8},k$1=function(et){var $=et.enableShortcuts,_e=et.store,tt=et.onClick,nt=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",rt=function(it){it&&tt()};return r$4.useEffect(function(){return _e.subscribe("areShortcutsPressed",rt),function(){_e.unsubscribe("areShortcutsPressed",rt)}},[]),r$4.createElement(w,{onClick:tt},function(it){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:nt,ariaLabel:it.label,testId:"search__popover-button",onClick:tt},it.icon),content:function(){return it.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(et){var $=et.children,_e=et.enableShortcuts,tt=et.store,nt=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,rt=$||function(it){return r$4.createElement(k$1,c$4({enableShortcuts:_e,store:tt},it))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:nt,target:function(it){return rt({onClick:it})},content:function(it){return r$4.createElement(E$2,{store:tt,onToggle:it})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(et){return Array.isArray(et)?et.map(function($){return g$2($)}):[g$2(et)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(et){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},et)},[]),_e=r$4.useMemo(function(){return e$4.createStore({initialKeyword:et&&et.keyword?Array.isArray(et.keyword)?et.keyword:[et.keyword]:[],keyword:et&&et.keyword?P$1(et.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),tt=m$3(_e),nt=tt.clearKeyword,rt=tt.jumpToMatch,it=tt.jumpToNextMatch,st=tt.jumpToPreviousMatch,ot=tt.searchFor,at=tt.setKeywords,lt=tt.setTargetPages,dt=function(ct){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},ct,{store:_e}))};return{install:function(ct){var pt=et&&et.keyword?Array.isArray(et.keyword)?et.keyword:[et.keyword]:[],mt=et&&et.keyword?P$1(et.keyword):[u$4];_e.update("initialKeyword",pt),_e.update("jumpToDestination",ct.jumpToDestination),_e.update("jumpToPage",ct.jumpToPage),_e.update("keyword",mt)},renderPageLayer:function(ct){return r$4.createElement(f$3,{key:ct.pageIndex,numPages:ct.doc.numPages,pageIndex:ct.pageIndex,renderHighlights:et==null?void 0:et.renderHighlights,store:_e,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(ct){var pt=ct.slot;return pt.subSlot&&(pt.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:ct.containerRef,store:_e}),pt.subSlot.children)),pt},uninstall:function(ct){var pt=_e.get("renderStatus");pt&&pt.clear()},onDocumentLoad:function(ct){_e.update("doc",ct.doc)},onTextLayerRender:function(ct){var pt=_e.get("renderStatus");pt&&(pt=pt.set(ct.pageIndex,ct),_e.update("renderStatus",pt))},Search:function(ct){return r$4.createElement(v$2,c$4({},ct,{store:_e}))},ShowSearchPopover:dt,ShowSearchPopoverButton:function(){return r$4.createElement(dt,null,function(ct){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:_e},ct))})},clearHighlights:function(){nt()},highlight:function(ct){var pt=Array.isArray(ct)?ct:[ct];return at(pt),ot(pt)},jumpToMatch:rt,jumpToNextMatch:it,jumpToPreviousMatch:st,setTargetPages:lt}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=search_min})(lib$2);var libExports$1={},lib$1={get exports(){return libExports$1},set exports(et){libExports$1=et}},theme_min={},e$3=libExports$h;function t$3(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(et){var $=et.onClick,_e=n$3.useContext(e$3.ThemeContext),tt=n$3.useContext(e$3.LocalizationContext).l10n,nt=_e.currentTheme==="dark",rt=tt&&tt.theme?nt?tt.theme.switchLightTheme:tt.theme.switchDarkTheme:nt?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:rt,testId:"theme__switch-button",onClick:$},nt?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return rt},offset:a$3})},l$3=function(et){var $=et.children,_e=n$3.useContext(e$3.ThemeContext);return($||function(tt){return n$3.createElement(i$3,{onClick:tt.onClick})})({onClick:function(){return _e.setCurrentTheme(_e.currentTheme==="dark"?"light":"dark")}})},u$3=function(et){var $=et.onClick,_e=n$3.useContext(e$3.ThemeContext),tt=n$3.useContext(e$3.LocalizationContext).l10n,nt=_e.currentTheme==="dark",rt=tt&&tt.theme?nt?tt.theme.switchLightTheme:tt.theme.switchDarkTheme:nt?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:nt?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},rt)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var et=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:et,SwitchThemeButton:function(){return n$3.createElement(et,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(et,null,function(_e){return n$3.createElement(u$3,{onClick:function(){_e.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=theme_min})(lib$1);var libExports={},lib={get exports(){return libExports},set exports(et){libExports=et}},zoom_min={},e$2=libExports$h;function t$2(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},c$2.apply(this,arguments)},a$2=function(et){var $=n$2.useState(et.get("scale")||0),_e=$[0],tt=$[1],nt=function(rt){tt(rt)};return n$2.useEffect(function(){return et.subscribe("scale",nt),function(){et.unsubscribe("scale",nt)}},[]),{scale:_e}},u$2=function(et){var $=et.children,_e=et.store;return($||function(tt){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*tt.scale),"%"))})({scale:a$2(_e).scale})},l$2={passive:!1},i$2=null,s$2=function(et){var $=et.pagesContainerRef,_e=et.store,tt=e$2.useDebounceCallback(function(rt){var it=_e.get("zoom");it&&it(rt)},40),nt=function(rt){if(rt.ctrlKey){rt.preventDefault();var it=rt.target.getBoundingClientRect(),st=1-rt.deltaY/100,ot=rt.clientX-it.left,at=rt.clientY-it.top,lt=_e.get("scale"),dt=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(ot,at).scale(st).translate(-ot,-at).scale(lt);tt(dt.a)}};return e$2.useIsomorphicLayoutEffect(function(){var rt=$.current;if(rt)return rt.addEventListener("wheel",nt,l$2),function(){rt.removeEventListener("wheel",nt)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(et){return m$2.find(function($){return $>et})||et},v$1=function(et){var $=m$2.findIndex(function(_e){return _e>=et});return $===-1||$===0?et:m$2[$-1]},p$1=function(et){var $=et.containerRef,_e=et.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&(e$2.isMac()?nt.metaKey:nt.ctrlKey)){var rt=$.current;if(rt&&document.activeElement&&rt.contains(document.activeElement)){var it=_e.get("zoom");if(it){var st=_e.get("scale")||1,ot=1;switch(nt.key){case"-":ot=v$1(st);break;case"=":ot=f$2(st);break;case"0":ot=1;break;default:ot=st}ot!==st&&(nt.preventDefault(),it(ot))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(et){var $=et.levels,_e=$===void 0?z:$,tt=et.scale,nt=et.onZoom,rt=n$2.useContext(e$2.LocalizationContext).l10n,it=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,st=rt&&rt.zoom?rt.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(ot){return n$2.createElement(e$2.MinimalButton,{ariaLabel:st,testId:"zoom__popover-target",onClick:function(){ot()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!it,"rpv-zoom__popover-target-scale--rtl":it})},Math.round(100*tt),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(ot){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(at){var lt=at;return n$2.createElement(e$2.MenuItem,{key:lt,onClick:function(){ot(),nt(lt)}},function(dt){switch(dt){case e$2.SpecialZoomLevel.ActualSize:return rt&&rt.zoom?rt.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return rt&&rt.zoom?rt.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return rt&&rt.zoom?rt.zoom.pageWidth:"Page width"}}(lt))}),n$2.createElement(e$2.MenuDivider,null),_e.map(function(at){return n$2.createElement(e$2.MenuItem,{key:at,onClick:function(){ot(),nt(at)}},"".concat(Math.round(100*at),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(et){var $=et.children,_e=et.levels,tt=et.store;return($||function(nt){return n$2.createElement(d$2,{levels:_e,scale:nt.scale,onZoom:nt.onZoom})})({scale:a$2(tt).scale,onZoom:function(nt){var rt=tt.get("zoom");rt&&rt(nt)}})},C={left:0,top:8},h$1=function(et){var $=et.enableShortcuts,_e=et.onClick,tt=n$2.useContext(e$2.LocalizationContext).l10n,nt=tt&&tt.zoom?tt.zoom.zoomIn:"Zoom in",rt=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"zoom__in-button",onClick:_e},n$2.createElement(o$2,null)),content:function(){return nt},offset:C})},b$1=function(et){var $=et.children,_e=et.enableShortcuts,tt=et.store,nt=a$2(tt).scale;return($||h$1)({enableShortcuts:_e,onClick:function(){var rt=tt.get("zoom");rt&&rt(f$2(nt))}})},k=function(et){var $=et.onClick,_e=n$2.useContext(e$2.LocalizationContext).l10n,tt=_e&&_e.zoom?_e.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},tt)},S$1={left:0,top:8},M$1=function(et){var $=et.enableShortcuts,_e=et.onClick,tt=n$2.useContext(e$2.LocalizationContext).l10n,nt=tt&&tt.zoom?tt.zoom.zoomOut:"Zoom out",rt=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"zoom__out-button",onClick:_e},n$2.createElement(r$2,null)),content:function(){return nt},offset:S$1})},I$1=function(et){var $=et.children,_e=et.enableShortcuts,tt=et.store,nt=a$2(tt).scale;return($||M$1)({enableShortcuts:_e,onClick:function(){var rt=tt.get("zoom");rt&&rt(v$1(nt))}})},Z=function(et){var $=et.onClick,_e=n$2.useContext(e$2.LocalizationContext).l10n,tt=_e&&_e.zoom?_e.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},tt)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(et){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},et)},[]),_e=n$2.useMemo(function(){return e$2.createStore({})},[]),tt=function(it){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},it,{store:_e}))},nt=function(it){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},it,{store:_e}))},rt=function(it){return n$2.createElement(g$1,c$2({},it,{store:_e}))};return{renderViewer:function(it){var st=it.slot;if(!$.enableShortcuts)return st;var ot={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:it.containerRef,store:_e}),n$2.createElement(s$2,{pagesContainerRef:it.pagesContainerRef,store:_e}),st.children)};return c$2(c$2({},st),ot)},install:function(it){_e.update("zoom",it.zoom)},onViewerStateChange:function(it){return _e.update("scale",it.scale),it},zoomTo:function(it){var st=_e.get("zoom");st&&st(it)},CurrentScale:function(it){return n$2.createElement(u$2,c$2({},it,{store:_e}))},ZoomIn:tt,ZoomInButton:function(){return n$2.createElement(tt,null,function(it){return n$2.createElement(h$1,c$2({},it))})},ZoomInMenuItem:function(it){return n$2.createElement(tt,null,function(st){return n$2.createElement(k,{onClick:function(){st.onClick(),it.onClick()}})})},ZoomOut:nt,ZoomOutButton:function(){return n$2.createElement(nt,null,function(it){return n$2.createElement(M$1,c$2({},it))})},ZoomOutMenuItem:function(it){return n$2.createElement(nt,null,function(st){return n$2.createElement(Z,{onClick:function(){st.onClick(),it.onClick()}})})},Zoom:rt,ZoomPopover:function(it){return n$2.createElement(rt,null,function(st){return n$2.createElement(d$2,c$2({levels:it==null?void 0:it.levels},st))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=zoom_min})(lib);var e$1=libExports$h,t$1=libExports$b,r$1=reactExports,n$1=libExports$a,o$1=libExports$9,a$1=libExports$8,l$1=libExports$7,i$1=libExports$6,c$1=libExports$5,m$1=libExports$4,u$1=libExports$3,s$1=libExports$2,d$1=libExports$1,p=libExports;function v(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(et){var $=et.toolbarSlot,_e=_.useContext(e$1.LocalizationContext).l10n,tt=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,nt=$.DownloadMenuItem,rt=$.EnterFullScreenMenuItem,it=$.GoToFirstPageMenuItem,st=$.GoToLastPageMenuItem,ot=$.GoToNextPageMenuItem,at=$.GoToPreviousPageMenuItem,lt=$.OpenMenuItem,dt=$.PrintMenuItem,ct=$.RotateBackwardMenuItem,pt=$.RotateForwardMenuItem,mt=$.ShowPropertiesMenuItem,ht=$.SwitchScrollModeMenuItem,gt=$.SwitchSelectionModeMenuItem,vt=$.SwitchViewModeMenuItem,_t=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:tt,target:function(yt,xt){var At=_e&&_e.toolbar?_e.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:tt,target:_.createElement(e$1.MinimalButton,{ariaLabel:At,isSelected:xt,testId:"toolbar__more-actions-popover-target",onClick:yt},_.createElement(E,null)),content:function(){return At},offset:g})},content:function(yt){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(_t,{onClick:yt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(rt,{onClick:yt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(lt,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(dt,{onClick:yt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(nt,{onClick:yt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(it,{onClick:yt}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(at,{onClick:yt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ot,{onClick:yt})),_.createElement(st,{onClick:yt}),_.createElement(e$1.MenuDivider,null),_.createElement(pt,{onClick:yt}),_.createElement(ct,{onClick:yt}),_.createElement(e$1.MenuDivider,null),_.createElement(gt,{mode:t$1.SelectionMode.Text,onClick:yt}),_.createElement(gt,{mode:t$1.SelectionMode.Hand,onClick:yt}),_.createElement(e$1.MenuDivider,null),_.createElement(ht,{mode:e$1.ScrollMode.Page,onClick:yt}),_.createElement(ht,{mode:e$1.ScrollMode.Vertical,onClick:yt}),_.createElement(ht,{mode:e$1.ScrollMode.Horizontal,onClick:yt}),_.createElement(ht,{mode:e$1.ScrollMode.Wrapped,onClick:yt}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(vt,{mode:e$1.ViewMode.SinglePage,onClick:yt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(vt,{mode:e$1.ViewMode.DualPage,onClick:yt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(vt,{mode:e$1.ViewMode.DualPageWithCover,onClick:yt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(mt,{onClick:yt}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},M.apply(this,arguments)},h=function(et){return function($){var _e=_.useMemo(function(){return et($)},[]),tt=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,nt=_e.CurrentPageInput,rt=_e.Download,it=_e.EnterFullScreen,st=_e.GoToNextPage,ot=_e.GoToPreviousPage,at=_e.NumberOfPages,lt=_e.Open,dt=_e.Print,ct=_e.ShowSearchPopover,pt=_e.SwitchTheme,mt=_e.Zoom,ht=_e.ZoomIn,gt=_e.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":tt}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ct,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ot,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(nt,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(at,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(st,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(gt,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(mt,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ht,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pt,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(it,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(lt,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(rt,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(dt,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:_e}))))}},f$1=function(et){var $=et.NumberOfPages;return Object.assign({},et,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(et){return h(f$1)(et)},I=function(et){var $=et.children,_e=et.slot;return($||S)(_e)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(et){var $=n$1.fullScreenPlugin(et?et.fullScreenPlugin:{}),_e=o$1.getFilePlugin(et?et.getFilePlugin:{}),tt=a$1.openPlugin(et?et.openPlugin:{}),nt=l$1.pageNavigationPlugin(et?et.pageNavigationPlugin:{}),rt=i$1.printPlugin(et?et.printPlugin:{}),it=c$1.propertiesPlugin(),st=m$1.rotatePlugin(),ot=u$1.scrollModePlugin(),at=s$1.searchPlugin(et?et.searchPlugin:{}),lt=t$1.selectionModePlugin(et?et.selectionModePlugin:{}),dt=d$1.themePlugin(),ct=p.zoomPlugin(et?et.zoomPlugin:{}),pt=[$,_e,tt,nt,rt,it,st,ot,at,lt,dt,ct],mt=_.useCallback(function(ht){var gt=$.EnterFullScreen,vt=$.EnterFullScreenMenuItem,_t=_e.Download,yt=_e.DownloadMenuItem,xt=tt.Open,At=tt.OpenMenuItem,Ct=nt.CurrentPageInput,Pt=nt.CurrentPageLabel,bt=nt.GoToFirstPage,Mt=nt.GoToFirstPageMenuItem,Tt=nt.GoToLastPage,Ft=nt.GoToLastPageMenuItem,Gt=nt.GoToNextPage,Wt=nt.GoToNextPageMenuItem,It=nt.GoToPreviousPage,Kt=nt.GoToPreviousPageMenuItem,Ut=nt.NumberOfPages,Qt=rt.Print,Dt=rt.PrintMenuItem,qt=it.ShowProperties,Jt=it.ShowPropertiesMenuItem,on=st.Rotate,tn=st.RotateBackwardMenuItem,yn=st.RotateForwardMenuItem,Yt=ot.SwitchScrollMode,kt=ot.SwitchScrollModeMenuItem,Bt=ot.SwitchViewMode,Ht=ot.SwitchViewModeMenuItem,wt=at.Search,Lt=at.ShowSearchPopover,Ot=lt.SwitchSelectionMode,$t=lt.SwitchSelectionModeMenuItem,Vt=dt.SwitchTheme,Zt=dt.SwitchThemeMenuItem,sn=ct.CurrentScale,hn=ct.Zoom,ln=ct.ZoomIn,xn=ct.ZoomInMenuItem,un=ct.ZoomOut,fn=ct.ZoomOutMenuItem;return _.createElement(I,M({},ht,{slot:{CurrentPageInput:Ct,CurrentPageLabel:Pt,CurrentScale:sn,Download:_t,DownloadMenuItem:yt,EnterFullScreen:gt,EnterFullScreenMenuItem:vt,GoToFirstPage:bt,GoToFirstPageMenuItem:Mt,GoToLastPage:Tt,GoToLastPageMenuItem:Ft,GoToNextPage:Gt,GoToNextPageMenuItem:Wt,GoToPreviousPage:It,GoToPreviousPageMenuItem:Kt,NumberOfPages:Ut,Open:xt,OpenMenuItem:At,Print:Qt,PrintMenuItem:Dt,Rotate:on,RotateBackwardMenuItem:tn,RotateForwardMenuItem:yn,Search:wt,ShowProperties:qt,ShowPropertiesMenuItem:Jt,ShowSearchPopover:Lt,SwitchScrollMode:Yt,SwitchScrollModeMenuItem:kt,SwitchSelectionMode:Ot,SwitchSelectionModeMenuItem:$t,SwitchViewMode:Bt,SwitchViewModeMenuItem:Ht,SwitchTheme:Vt,SwitchThemeMenuItem:Zt,Zoom:hn,ZoomIn:ln,ZoomInMenuItem:xn,ZoomOut:un,ZoomOutMenuItem:fn}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:_e,openPluginInstance:tt,pageNavigationPluginInstance:nt,printPluginInstance:rt,propertiesPluginInstance:it,rotatePluginInstance:st,scrollModePluginInstance:ot,searchPluginInstance:at,selectionModePluginInstance:lt,themePluginInstance:dt,zoomPluginInstance:ct,install:function(ht){pt.forEach(function(gt){gt.install&&gt.install(ht)})},renderPageLayer:function(ht){return _.createElement(_.Fragment,null,pt.map(function(gt,vt){return gt.renderPageLayer?_.createElement(_.Fragment,{key:vt},gt.renderPageLayer(ht)):_.createElement(_.Fragment,{key:vt})}))},renderViewer:function(ht){var gt=ht.slot;return pt.forEach(function(vt){vt.renderViewer&&(gt=vt.renderViewer(M(M({},ht),{slot:gt})))}),gt},uninstall:function(ht){pt.forEach(function(gt){gt.uninstall&&gt.uninstall(ht)})},onDocumentLoad:function(ht){pt.forEach(function(gt){gt.onDocumentLoad&&gt.onDocumentLoad(ht)})},onAnnotationLayerRender:function(ht){pt.forEach(function(gt){gt.onAnnotationLayerRender&&gt.onAnnotationLayerRender(ht)})},onTextLayerRender:function(ht){pt.forEach(function(gt){gt.onTextLayerRender&&gt.onTextLayerRender(ht)})},onViewerStateChange:function(ht){var gt=ht;return pt.forEach(function(vt){vt.onViewerStateChange&&(gt=vt.onViewerStateChange(gt))}),gt},renderDefaultToolbar:h,Toolbar:mt}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=toolbar_min})(lib$c);var e=libExports$h,t=reactExports,n=libExports$f,a=libExports$e,r=libExports$d,o=libExports$c;function l(et){var $=Object.create(null);return et&&Object.keys(et).forEach(function(_e){if(_e!=="default"){var tt=Object.getOwnPropertyDescriptor(et,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return et[_e]}})}}),$.default=et,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(et){for(var $,_e=1,tt=arguments.length;_e<tt;_e++)for(var nt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,nt)&&(et[nt]=$[nt]);return et},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(et){var $=et.attachmentTabContent,_e=et.bookmarkTabContent,tt=et.store,nt=et.thumbnailTabContent,rt=et.tabs,it=u.useRef(),st=u.useContext(e.LocalizationContext).l10n,ot=u.useState(tt.get("isCurrentTabOpened")||!1),at=ot[0],lt=ot[1],dt=u.useState(Math.max(tt.get("currentTab")||0,0)),ct=dt[0],pt=dt[1],mt=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,ht=[{content:nt,icon:u.createElement(d,null),title:st&&st.defaultLayout?st.defaultLayout.thumbnail:"Thumbnail"},{content:_e,icon:u.createElement(c,null),title:st&&st.defaultLayout?st.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:st&&st.defaultLayout?st.defaultLayout.attachment:"Attachment"}],gt=rt?rt(ht):ht,vt=function(yt){yt>=0&&yt<=gt.length-1&&(tt.update("isCurrentTabOpened",!0),pt(yt))},_t=function(yt){lt(yt)};return u.useEffect(function(){return tt.subscribe("currentTab",vt),tt.subscribe("isCurrentTabOpened",_t),function(){tt.unsubscribe("currentTab",vt),tt.unsubscribe("isCurrentTabOpened",_t)}},[]),gt.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":at,"rpv-default-layout__sidebar--ltr":!mt,"rpv-default-layout__sidebar--rtl":mt}),ref:it},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},gt.map(function(yt,xt){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":ct===xt,key:xt,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(xt),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(xt),position:mt?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:yt.title,isSelected:ct===xt,onClick:function(){return function(At){if(ct===At){tt.update("isCurrentTabOpened",!tt.get("isCurrentTabOpened"));var Ct=it.current;Ct&&Ct.style.width&&Ct.style.removeProperty("width")}else tt.update("currentTab",At)}(xt)}},yt.icon),content:function(){return yt.title},offset:mt?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(ct),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":at,"rpv-default-layout__sidebar-content--ltr":!mt,"rpv-default-layout__sidebar-content--rtl":mt}),role:"tabpanel",tabIndex:-1},gt[ct].content))),at&&u.createElement(e.Splitter,{constrain:function(yt){return yt.firstHalfPercentage>=20&&yt.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(et){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),_e=n.attachmentPlugin(),tt=a.bookmarkPlugin(),nt=r.thumbnailPlugin(et?et.thumbnailPlugin:{}),rt=o.toolbarPlugin(et?et.toolbarPlugin:{}),it=_e.Attachments,st=tt.Bookmarks,ot=nt.Thumbnails,at=rt.Toolbar,lt=et?et.sidebarTabs:function(ct){return ct},dt=[_e,tt,nt,rt];return{attachmentPluginInstance:_e,bookmarkPluginInstance:tt,thumbnailPluginInstance:nt,toolbarPluginInstance:rt,activateTab:function(ct){$.update("currentTab",ct)},toggleTab:function(ct){var pt=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),pt!==ct&&$.update("currentTab",ct)},install:function(ct){dt.forEach(function(pt){pt.install&&pt.install(ct)})},renderPageLayer:function(ct){return u.createElement(u.Fragment,null,dt.map(function(pt,mt){return pt.renderPageLayer?u.createElement(u.Fragment,{key:mt},pt.renderPageLayer(ct)):u.createElement(u.Fragment,{key:mt},u.createElement(u.Fragment,null))}))},renderViewer:function(ct){var pt=ct.slot;dt.forEach(function(ht){ht.renderViewer&&(pt=ht.renderViewer(i(i({},ct),{slot:pt})))});var mt=pt.subSlot&&pt.subSlot.attrs?{className:pt.subSlot.attrs.className,"data-testid":pt.subSlot.attrs["data-testid"],ref:pt.subSlot.attrs.ref,style:pt.subSlot.attrs.style}:{};return pt.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":ct.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(it,null),bookmarkTabContent:u.createElement(st,null),store:$,thumbnailTabContent:u.createElement(ot,null),tabs:lt}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},et&&et.renderToolbar?et.renderToolbar(at):u.createElement(at,null)),u.createElement("div",i({},mt),pt.subSlot.children))),pt.children),pt.subSlot.attrs={},pt.subSlot.children=u.createElement(u.Fragment,null),pt},uninstall:function(ct){dt.forEach(function(pt){pt.uninstall&&pt.uninstall(ct)})},onDocumentLoad:function(ct){dt.forEach(function(pt){pt.onDocumentLoad&&pt.onDocumentLoad(ct)}),et&&et.setInitialTab&&et.setInitialTab(ct.doc).then(function(pt){$.update("currentTab",pt),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(ct){dt.forEach(function(pt){pt.onAnnotationLayerRender&&pt.onAnnotationLayerRender(ct)})},onTextLayerRender:function(ct){dt.forEach(function(pt){pt.onTextLayerRender&&pt.onTextLayerRender(ct)})},onViewerStateChange:function(ct){var pt=ct;return dt.forEach(function(mt){mt.onViewerStateChange&&(pt=mt.onViewerStateChange(pt))}),pt}}},defaultLayout_min.setInitialTabFromPageMode=function(et){return new Promise(function($,_e){et.getPageMode().then(function(tt){if(tt)switch(tt){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(et){et.exports=defaultLayout_min})(lib$g);const index$2="",index$1="";function CVp({open:et,onClose:$}){const _e=libExports$g.defaultLayoutPlugin();return et?jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-black bg-opacity-75 z-50",onClick:$,children:[jsx("div",{className:"flex justify-center items-center w-full h-full",children:jsx("div",{className:"relative w-full max-w-lg h-4/5 rounded-lg shadow-lg",onClick:tt=>tt.stopPropagation(),children:jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@2.15.349/build/pdf.worker.js",children:jsxs("div",{className:"relative",style:{height:"600px",width:"100%",bottom:"55px",maxWidth:"550px"},children:[jsx(libExports$h.Viewer,{fileUrl:CV,plugins:[_e]}),jsx("button",{onClick:$,className:"absolute top-5 right-0 mr-4 mt-4 text-white font-bold py-2 px-4 rounded",children:jsx(MdOutlineCancel,{size:24,color:"gray"})})]})})})}),jsx("style",{children:`
        @media only screen and (max-width: 800px) {
          .relative {
            width: 100%;
          }
        }
      `})]}):null}const Footer=()=>{const[et,$]=reactExports.useState(!1);return jsxs("div",{className:"relative p-0 m-0 gap-0",children:[jsx("div",{className:"flex flex-row flex-wrap justify-center gap-0 bg-black opacity-30 w-full h-full absolute top-0 left-0 bottom-0 z-10"}),jsxs("div",{className:"flex flex-row flex-wrap justify-center gap-1 w-full relative z-20",children:[socialMedia.map(_e=>jsx("div",{className:"w-28 h-28 py-5 z-50",children:jsx("a",{href:_e.link,target:"blank",children:jsx("img",{className:"h-8 w-8 hover:opacity-50 transition-all duration-300 cursor-pointer",src:_e.icon,alt:_e.name})})},_e.name)),jsxs("button",{onClick:()=>{$(!0)},className:"bottom-0 left-0 flex items-center bg-[#a93db3] hover:opacity-50 hover:scale-95 text-white rounded-md h-10 shadow-md m-4 z-30",children:[jsx(FaFilePdf,{className:"mr-2"})," CV"]})]}),jsx("div",{className:"flex justify-center items-center align-middle pb-5 pt-0 mt-0 ",children:jsx("p",{className:"text-bold text-white",children:"Copyright © 2023 Kalab Solomon"})}),jsx(CVp,{open:et,onClose:()=>$(!1)})]})},store={_origin:"https://api.emailjs.com"},init=(et,$="https://api.emailjs.com")=>{store._userID=et,store._origin=$},validateParams=(et,$,_e)=>{if(!et)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!$)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!_e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class EmailJSResponseStatus{constructor($){this.status=$?$.status:0,this.text=$?$.responseText:"Network Error"}}const sendPost=(et,$,_e={})=>new Promise((tt,nt)=>{const rt=new XMLHttpRequest;rt.addEventListener("load",({target:it})=>{const st=new EmailJSResponseStatus(it);st.status===200||st.text==="OK"?tt(st):nt(st)}),rt.addEventListener("error",({target:it})=>{nt(new EmailJSResponseStatus(it))}),rt.open("POST",store._origin+et,!0),Object.keys(_e).forEach(it=>{rt.setRequestHeader(it,_e[it])}),rt.send($)}),send=(et,$,_e,tt)=>{const nt=tt||store._userID;return validateParams(nt,et,$),sendPost("/api/v1.0/email/send",JSON.stringify({lib_version:"3.10.0",user_id:nt,service_id:et,template_id:$,template_params:_e}),{"Content-type":"application/json"})},findHTMLForm=et=>{let $;if(typeof et=="string"?$=document.querySelector(et):$=et,!$||$.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return $},sendForm=(et,$,_e,tt)=>{const nt=tt||store._userID,rt=findHTMLForm(_e);validateParams(nt,et,$);const it=new FormData(rt);return it.append("lib_version","3.10.0"),it.append("service_id",et),it.append("template_id",$),it.append("user_id",nt),sendPost("/api/v1.0/email/send-form",it)},emailjs={init,send,sendForm},Contact=()=>{const et=reactExports.useRef(),[$,_e]=reactExports.useState({name:"",email:"",message:""}),[tt,nt]=reactExports.useState(!1),rt=st=>{const{name:ot,value:at}=st.target;_e({...$,[ot]:at})},it=st=>{st.preventDefault(),nt(!0),emailjs.send({}.EMAILJS_SERVICE_ID,{}.EMAILJS_TEMPLATE_ID,{from_naem:$.name,to_name:"Kalab",from_email:$.email,to_email:"kalab27solomon@gmail.com",message:$.message},{}.EMAILJS_PUBLIC_KEY).then(()=>{nt(!1),alert("Thank you. I will get back to you as soon as possible."),_e({name:"",email:"",message:""})},ot=>{nt(!1),console.log(ot),alert("Something went wrong.")})};return jsxs("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex gap-10 overflow-hidden",children:[jsxs(motion.div,{variants:slideIn("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[jsx("p",{className:styles.sectionSubText,children:"Get in touch"}),jsx("h3",{className:styles.sectionHeadText,children:"Contact."}),jsxs("form",{ref:et,onSubmit:it,className:"mt-12 flex flex-col gap-8",children:[jsxs("lable",{className:"flex flex-col",children:[jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),jsx("input",{type:"text",name:"name",value:$.name,onChange:rt,placeholder:"Enter your name",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none"})]}),jsxs("lable",{className:"flex flex-col",children:[jsx("span",{className:"text-white font-medium mb-4",children:"Your Email"}),jsx("input",{type:"email",name:"email",value:$.email,onChange:rt,placeholder:"Enter your email",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none"})]}),jsxs("lable",{className:"flex flex-col",children:[jsx("span",{className:"text-white font-medium mb-4",children:"Your Message"}),jsx("textarea",{row:"7",name:"message",value:$.message,onChange:rt,placeholder:"Enter your message",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none"})]}),jsx("button",{className:"bg-tertiary py-3 px-8 outline-none w-fit text-white font-bold shadow-md shadow-primary rounded-xl",type:"submit",children:tt?"Sending...":"Send"})]})]}),jsx(motion.div,{variants:slideIn("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:jsx(EarthCanvas,{})})]})},Contact$1=SectionWrapper(Contact,"contact"),App=()=>jsx(BrowserRouter,{children:jsx("div",{className:"relative z-0 bg-primary",children:jsxs("div",{className:`bg-hero bg-gradient-to-r from-[#29002d] to-[#3d0046] via-[#0b020c] via-[#09000a]
                        bg-cover bg-no-repeat bg-center `,children:[jsx(Navbar,{}),jsx(Hero,{}),jsx(About$1,{}),jsx(Experience$1,{}),jsx(Tech$1,{}),jsx(Works$1,{}),jsx(Contact$1,{}),jsx(Footer,{})]})})}),index="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(App,{})}));
